cscope 15 $HOME/Downloads/myiFogSimVmMobile               0001220101
	@src/org/cloudbus/cloudsim/Cloudlet.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©
;

12 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

26 
public
 cÏs 
	cCloudËt
 {

32 
´iv©e
 
	mu£rId
;

37 
´iv©e
 
	mşoudËtL’gth
;

43 
´iv©e
 
fš®
 
	mşoudËtFeSize
;

46 
´iv©e
 
fš®
 
	mşoudËtOuutSize
;

49 
´iv©e
 
	mnumb”OfPes
;

52 
´iv©e
 
fš®
 
	mşoudËtId
;

55 
´iv©e
 
	m¡©us
;

58 
´iv©e
 
Decim®FÜm©
 
	mnum
;

61 
´iv©e
 
	mfšishTime
;

68 
´iv©e
 
	mexecS¹Time
;

71 
´iv©e
 
	m»£rv©iÚId
 = -1;

74 
´iv©e
 
fš®
 
boŞ—n
 
	m»cÜd
;

77 
´iv©e
 
SŒšg
 
	mÃwlše
;

80 
´iv©e
 
SŒšgBufãr
 
	mhi¡Üy
;

83 
´iv©e
 
fš®
 
	mLi¡
<
	mResourû
> 
	m»sLi¡
;

86 
´iv©e
 
	mšdex
;

89 
´iv©e
 
	mşassTy³
;

92 
´iv©e
 
	mÃtToS
;

97 
public
 
fš®
 
	mCREATED
 = 0;

100 
public
 
fš®
 
	mREADY
 = 1;

103 
public
 
fš®
 
	mQUEUED
 = 2;

106 
public
 
fš®
 
	mINEXEC
 = 3;

109 
public
 
fš®
 
	mSUCCESS
 = 4;

112 
public
 
fš®
 
	mFAILED
 = 5;

115 
public
 
fš®
 
	mCANCELED
 = 6;

120 
public
 
fš®
 
	mPAUSED
 = 7;

123 
public
 
fš®
 
	mRESUMED
 = 8;

126 
public
 
fš®
 
	mFAILED_RESOURCE_UNAVAILABLE
 = 9;

129 
´Ùeùed
 
	mvmId
;

132 
´Ùeùed
 
	mco¡P”Bw
;

135 
´Ùeùed
 
	maccumuÏ‹dBwCo¡
;

140 
´iv©e
 
Utiz©iÚMod–
 
	mutiz©iÚMod–Cpu
;

143 
´iv©e
 
Utiz©iÚMod–
 
	mutiz©iÚMod–Ram
;

146 
´iv©e
 
Utiz©iÚMod–
 
	mutiz©iÚMod–Bw
;

150 
´iv©e
 
	mLi¡
<
	mSŒšg
> 
	m»quœedFes
 = 
nuÎ
;

173 
public
 
	$CloudËt
(

174 
fš®
 
şoudËtId
,

175 
fš®
 
şoudËtL’gth
,

176 
fš®
 
³sNumb”
,

177 
fš®
 
şoudËtFeSize
,

178 
fš®
 
şoudËtOuutSize
,

179 
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Cpu
,

180 
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Ram
,

181 
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Bw
) {

182 
	`this
(

183 
şoudËtId
,

184 
şoudËtL’gth
,

185 
³sNumb”
,

186 
şoudËtFeSize
,

187 
şoudËtOuutSize
,

188 
utiz©iÚMod–Cpu
,

189 
utiz©iÚMod–Ram
,

190 
utiz©iÚMod–Bw
,

191 
çl£
);

192 
vmId
 = -1;

193 
accumuÏ‹dBwCo¡
 = 0.0;

194 
co¡P”Bw
 = 0.0;

196 
»quœedFes
 = 
Ãw
 
LškedLi¡
<
SŒšg
>();

222 
public
 
	`CloudËt
(

223 
fš®
 
şoudËtId
,

224 
fš®
 
şoudËtL’gth
,

225 
fš®
 
³sNumb”
,

226 
fš®
 
şoudËtFeSize
,

227 
fš®
 
şoudËtOuutSize
,

228 
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Cpu
,

229 
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Ram
,

230 
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Bw
,

231 
fš®
 
boŞ—n
 
»cÜd
,

232 
fš®
 
Li¡
<
SŒšg
> 
feLi¡
) {

233 
	`this
(

234 
şoudËtId
,

235 
şoudËtL’gth
,

236 
³sNumb”
,

237 
şoudËtFeSize
,

238 
şoudËtOuutSize
,

239 
utiz©iÚMod–Cpu
,

240 
utiz©iÚMod–Ram
,

241 
utiz©iÚMod–Bw
,

242 
»cÜd
);

243 
vmId
 = -1;

244 
accumuÏ‹dBwCo¡
 = 0.0;

245 
co¡P”Bw
 = 0.0;

247 
»quœedFes
 = 
feLi¡
;

248 
	}
}

272 
public
 
CloudËt
(

273 
fš®
 
şoudËtId
,

274 
fš®
 
şoudËtL’gth
,

275 
fš®
 
³sNumb”
,

276 
fš®
 
şoudËtFeSize
,

277 
fš®
 
şoudËtOuutSize
,

278 
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Cpu
,

279 
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Ram
,

280 
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Bw
,

281 
fš®
 
Li¡
<
SŒšg
> 
feLi¡
) {

282 
this
(

283 
şoudËtId
,

284 
şoudËtL’gth
,

285 
³sNumb”
,

286 
şoudËtFeSize
,

287 
şoudËtOuutSize
,

288 
utiz©iÚMod–Cpu
,

289 
utiz©iÚMod–Ram
,

290 
utiz©iÚMod–Bw
,

291 
çl£
);

292 
	gvmId
 = -1;

293 
	gaccumuÏ‹dBwCo¡
 = 0.0;

294 
	gco¡P”Bw
 = 0.0;

296 
	g»quœedFes
 = 
feLi¡
;

321 
public
 
	$CloudËt
(

322 
fš®
 
şoudËtId
,

323 
fš®
 
şoudËtL’gth
,

324 
fš®
 
³sNumb”
,

325 
fš®
 
şoudËtFeSize
,

326 
fš®
 
şoudËtOuutSize
,

327 
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Cpu
,

328 
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Ram
,

329 
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Bw
,

330 
fš®
 
boŞ—n
 
»cÜd
) {

331 
u£rId
 = -1;

332 
¡©us
 = 
CREATED
;

333 
this
.
şoudËtId
 = cloudletId;

334 
numb”OfPes
 = 
³sNumb”
;

335 
execS¹Time
 = 0.0;

336 
fšishTime
 = -1.0;

337 
şassTy³
 = 0;

338 
ÃtToS
 = 0;

341 
this
.
şoudËtL’gth
 = 
M©h
.
	`max
(1, cloudletLength);

342 
this
.
şoudËtFeSize
 = 
M©h
.
	`max
(1, cloudletFileSize);

343 
this
.
şoudËtOuutSize
 = 
M©h
.
	`max
(1, cloudletOutputSize);

348 
»sLi¡
 = 
Ãw
 
A¼ayLi¡
<
Resourû
>(2);

349 
šdex
 = -1;

350 
this
.
»cÜd
 =„ecord;

352 
vmId
 = -1;

353 
accumuÏ‹dBwCo¡
 = 0.0;

354 
co¡P”Bw
 = 0.0;

356 
»quœedFes
 = 
Ãw
 
LškedLi¡
<
SŒšg
>();

358 
	`£tUtiz©iÚMod–Cpu
(
utiz©iÚMod–Cpu
);

359 
	`£tUtiz©iÚMod–Ram
(
utiz©iÚMod–Ram
);

360 
	`£tUtiz©iÚMod–Bw
(
utiz©iÚMod–Bw
);

361 
	}
}

368 
public
 şas 
	cResourû
 {

371 
public
 
	gsubmissiÚTime
 = 0.0;

377 
public
 
	gw®lClockTime
 = 0.0;

380 
public
 
	gaùu®CPUTime
 = 0.0;

383 
public
 
	gco¡P”Sec
 = 0.0;

386 
public
 
	gfšishedSoF¬
 = 0;

389 
public
 
	g»sourûId
 = -1;

392 
public
 
SŒšg
 
	g»sourûName
 = 
nuÎ
;

404 
public
 
boŞ—n
 
	$£tRe£rv©iÚId
(
fš®
 
»sId
) {

405 ià(
»sId
 <= 0) {

406  
çl£
;

408 
»£rv©iÚId
 = 
»sId
;

409  
Œue
;

410 
	}
}

419 
public
 
	$g‘Re£rv©iÚId
() {

420  
»£rv©iÚId
;

421 
	}
}

428 
public
 
boŞ—n
 
	$hasRe£rved
() {

429 ià(
»£rv©iÚId
 == -1) {

430  
çl£
;

432  
Œue
;

433 
	}
}

445 
public
 
boŞ—n
 
	$£tCloudËtL’gth
(
fš®
 
şoudËtL’gth
) {

446 ià(
şoudËtL’gth
 <= 0) {

447  
çl£
;

450 
this
.
şoudËtL’gth
 = cloudletLength;

451  
Œue
;

452 
	}
}

463 
public
 
boŞ—n
 
	$£tN‘S”viûLev–
(
fš®
 
ÃtS”viûLev–
) {

464 
boŞ—n
 
sucûss
 = 
çl£
;

465 ià(
ÃtS”viûLev–
 > 0) {

466 
ÃtToS
 = 
ÃtS”viûLev–
;

467 
sucûss
 = 
Œue
;

470  
sucûss
;

471 
	}
}

480 
public
 
	$g‘N‘S”viûLev–
() {

481  
ÃtToS
;

482 
	}
}

491 
public
 
	$g‘Wa™šgTime
() {

492 ià(
šdex
 == -1) {

497 
fš®
 
subTime
 = 
»sLi¡
.
	`g‘
(
šdex
).
submissiÚTime
;

498  
execS¹Time
 - 
subTime
;

499 
	}
}

509 
public
 
boŞ—n
 
	$£tCÏssTy³
(
fš®
 
şassTy³
) {

510 
boŞ—n
 
sucûss
 = 
çl£
;

511 ià(
şassTy³
 > 0) {

512 
this
.
şassTy³
 = classType;

513 
sucûss
 = 
Œue
;

516  
sucûss
;

517 
	}
}

526 
public
 
	$g‘CÏssTy³
() {

527  
şassTy³
;

528 
	}
}

541 
public
 
boŞ—n
 
	$£tNumb”OfPes
(
fš®
 
numb”OfPes
) {

542 ià(
numb”OfPes
 > 0) {

543 
this
.
numb”OfPes
 =‚umberOfPes;

544  
Œue
;

546  
çl£
;

547 
	}
}

556 
public
 
	$g‘Numb”OfPes
() {

557  
numb”OfPes
;

558 
	}
}

568 
public
 
SŒšg
 
	$g‘CloudËtHi¡Üy
() {

569 
SŒšg
 
msg
 = 
nuÎ
;

570 ià(
hi¡Üy
 =ğ
nuÎ
) {

571 
msg
 = "NØhi¡Üy i »cÜded fÜ CloudËˆ#" + 
şoudËtId
;

573 
msg
 = 
hi¡Üy
.
	`toSŒšg
();

576  
msg
;

577 
	}
}

589 
public
 
	$g‘CloudËtFšishedSoF¬
() {

590 ià(
šdex
 == -1) {

591  
şoudËtL’gth
;

594 
fš®
 
fšish
 = 
»sLi¡
.
	`g‘
(
šdex
).
fšishedSoF¬
;

595 ià(
fšish
 > 
şoudËtL’gth
) {

596  
şoudËtL’gth
;

599  
fšish
;

600 
	}
}

609 
public
 
boŞ—n
 
	$isFšished
() {

610 ià(
šdex
 == -1) {

611  
çl£
;

614 
boŞ—n
 
com¶‘ed
 = 
çl£
;

617 
fš®
 
fšish
 = 
»sLi¡
.
	`g‘
(
šdex
).
fšishedSoF¬
;

618 
fš®
 
»suÉ
 = 
şoudËtL’gth
 - 
fšish
;

619 ià(
»suÉ
 <= 0.0) {

620 
com¶‘ed
 = 
Œue
;

622  
com¶‘ed
;

623 
	}
}

636 
public
 
	$£tCloudËtFšishedSoF¬
(
fš®
 
Ëngth
) {

638 ià(
Ëngth
 < 0.0 || 
šdex
 < 0) {

642 
fš®
 
Resourû
 
»s
 = 
»sLi¡
.
	`g‘
(
šdex
);

643 
»s
.
fšishedSoF¬
 = 
Ëngth
;

645 ià(
»cÜd
) {

646 
	`wr™e
("S‘ thËngth' fšished sØç¸tØ" + 
Ëngth
);

648 
	}
}

658 
public
 
	$£tU£rId
(
fš®
 
id
) {

659 
u£rId
 = 
id
;

660 ià(
»cÜd
) {

661 
	`wr™e
("Assign thCloudËˆtØ" + 
CloudSim
.
	`g‘EÁ™yName
(
id
) + " (ID #" + id + ")");

663 
	}
}

672 
public
 
	$g‘U£rId
() {

673  
u£rId
;

674 
	}
}

683 
public
 
	$g‘ResourûId
() {

684 ià(
šdex
 == -1) {

687  
»sLi¡
.
	`g‘
(
šdex
).
»sourûId
;

688 
	}
}

697 
public
 
	$g‘CloudËtFeSize
() {

698  
şoudËtFeSize
;

699 
	}
}

709 
public
 
	$g‘CloudËtOuutSize
() {

710  
şoudËtOuutSize
;

711 
	}
}

724 
public
 
	$£tResourûP¬am‘”
(
fš®
 
»sourûID
, fš® 
co¡
) {

725 
fš®
 
Resourû
 
»s
 = 
Ãw
 
	`Resourû
();

726 
»s
.
»sourûId
 = 
»sourûID
;

727 
»s
.
co¡P”Sec
 = 
co¡
;

728 
»s
.
»sourûName
 = 
CloudSim
.
	`g‘EÁ™yName
(
»sourûID
);

731 
»sLi¡
.
	`add
(
»s
);

733 ià(
šdex
 =ğ-1 && 
»cÜd
) {

734 
	`wr™e
("AÎoÿ‹ thi CloudËˆtØ" + 
»s
.
»sourûName
 + " (ID #" + 
»sourûID


735 + "èw™h co¡ = $" + 
co¡
 + "/sec");

736 } ià(
»cÜd
) {

737 
fš®
 
id
 = 
»sLi¡
.
	`g‘
(
šdex
).
»sourûId
;

738 
fš®
 
SŒšg
 
Çme
 = 
»sLi¡
.
	`g‘
(
šdex
).
»sourûName
;

739 
	`wr™e
("Move CloudËˆäom " + 
Çme
 + " (ID #" + 
id
 + "ètØ" + 
»s
.
»sourûName
 + " (ID #"

740 + 
»sourûID
 + "èw™h co¡ = $" + 
co¡
 + "/sec");

743 
šdex
++;

744 
	}
}

753 
public
 
	$£tSubmissiÚTime
(
fš®
 
şockTime
) {

754 ià(
şockTime
 < 0.0 || 
šdex
 < 0) {

758 
fš®
 
Resourû
 
»s
 = 
»sLi¡
.
	`g‘
(
šdex
);

759 
»s
.
submissiÚTime
 = 
şockTime
;

761 ià(
»cÜd
) {

762 
	`wr™e
("S‘ thsubmissiÚimtØ" + 
num
.
	`fÜm©
(
şockTime
));

764 
	}
}

773 
public
 
	$g‘SubmissiÚTime
() {

774 ià(
šdex
 == -1) {

777  
»sLi¡
.
	`g‘
(
šdex
).
submissiÚTime
;

778 
	}
}

790 
public
 
	$£tExecS¹Time
(
fš®
 
şockTime
) {

791 
execS¹Time
 = 
şockTime
;

792 ià(
»cÜd
) {

793 
	`wr™e
("S‘ thexecutiÚ s¹imtØ" + 
num
.
	`fÜm©
(
şockTime
));

795 
	}
}

804 
public
 
	$g‘ExecS¹Time
() {

805  
execS¹Time
;

806 
	}
}

819 
public
 
	$£tExecP¬am
(
fš®
 
w®lTime
, fš® 
aùu®Time
) {

820 ià(
w®lTime
 < 0.0 || 
aùu®Time
 < 0.0 || 
šdex
 < 0) {

824 
fš®
 
Resourû
 
»s
 = 
»sLi¡
.
	`g‘
(
šdex
);

825 
»s
.
w®lClockTime
 = 
w®lTime
;

826 
»s
.
aùu®CPUTime
 = 
aùu®Time
;

828 ià(
»cÜd
) {

829 
	`wr™e
("S‘ thw®ÈşockimtØ" + 
num
.
	`fÜm©
(
w®lTime
) + "‡ndhe‡ctual CPUimeo "

830 + 
num
.
	`fÜm©
(
aùu®Time
));

832 
	}
}

842 
public
 
	$£tCloudËtStus
(
fš®
 
ÃwStus
è
throws
 
Exû±iÚ
 {

844 ià(
¡©us
 =ğ
ÃwStus
) {

849 ià(
ÃwStus
 < 
CloudËt
.
CREATED
 ||‚ewStu > CloudËt.
FAILED_RESOURCE_UNAVAILABLE
) {

850 
throw
 
Ãw
 
	`Exû±iÚ
(

854 ià(
ÃwStus
 =ğ
CloudËt
.
SUCCESS
) {

855 
fšishTime
 = 
CloudSim
.
	`şock
();

858 ià(
»cÜd
) {

859 
	`wr™e
("S‘ CloudËˆ¡©u äom " + 
	`g‘CloudËtStusSŒšg
() + "o "

860 + 
CloudËt
.
	`g‘StusSŒšg
(
ÃwStus
));

863 
¡©us
 = 
ÃwStus
;

864 
	}
}

873 
public
 
	$g‘CloudËtStus
() {

874  
¡©us
;

875 
	}
}

884 
public
 
SŒšg
 
	$g‘CloudËtStusSŒšg
() {

885  
CloudËt
.
	`g‘StusSŒšg
(
¡©us
);

886 
	}
}

896 
public
 
SŒšg
 
	$g‘StusSŒšg
(
fš®
 
¡©us
) {

897 
SŒšg
 
¡©usSŒšg
 = 
nuÎ
;

898 
¡©us
) {

899 
CloudËt
.
CREATED
:

900 
¡©usSŒšg
 = "Created";

903 
CloudËt
.
READY
:

904 
¡©usSŒšg
 = "Ready";

907 
CloudËt
.
INEXEC
:

908 
¡©usSŒšg
 = "InExec";

911 
CloudËt
.
SUCCESS
:

912 
¡©usSŒšg
 = "Success";

915 
CloudËt
.
QUEUED
:

916 
¡©usSŒšg
 = "Queued";

919 
CloudËt
.
FAILED
:

920 
¡©usSŒšg
 = "Failed";

923 
CloudËt
.
CANCELED
:

924 
¡©usSŒšg
 = "Canceled";

927 
CloudËt
.
PAUSED
:

928 
¡©usSŒšg
 = "Paused";

931 
CloudËt
.
RESUMED
:

932 
¡©usSŒšg
 = "Resumed";

935 
CloudËt
.
FAILED_RESOURCE_UNAVAILABLE
:

936 
¡©usSŒšg
 = "Failed_resource_unavailable";

943  
¡©usSŒšg
;

944 
	}
}

953 
public
 
	$g‘CloudËtL’gth
() {

954  
şoudËtL’gth
;

955 
	}
}

964 
public
 
	$g‘CloudËtTÙ®L’gth
() {

965  
	`g‘CloudËtL’gth
(è* 
	`g‘Numb”OfPes
();

966 
	}
}

975 
public
 
	$g‘Co¡P”Sec
() {

976 ià(
šdex
 == -1) {

979  
»sLi¡
.
	`g‘
(
šdex
).
co¡P”Sec
;

980 
	}
}

990 
public
 
	$g‘W®lClockTime
() {

991 ià(
šdex
 == -1) {

994  
»sLi¡
.
	`g‘
(
šdex
).
w®lClockTime
;

995 
	}
}

1004 
public
 
	gSŒšg
[] 
	$g‘AÎResourûName
() {

1005 
fš®
 
size
 = 
»sLi¡
.
	`size
();

1006 
SŒšg
[] 
d©a
 = 
nuÎ
;

1008 ià(
size
 > 0) {

1009 
d©a
 = 
Ãw
 
SŒšg
[
size
];

1010 
i
 = 0; i < 
size
; i++) {

1011 
d©a
[
i
] = 
»sLi¡
.
	`g‘
(i).
»sourûName
;

1015  
d©a
;

1016 
	}
}

1025 
public
 [] 
	$g‘AÎResourûId
() {

1026 
fš®
 
size
 = 
»sLi¡
.
	`size
();

1027 [] 
d©a
 = 
nuÎ
;

1029 ià(
size
 > 0) {

1030 
d©a
 = 
Ãw
 [
size
];

1031 
i
 = 0; i < 
size
; i++) {

1032 
d©a
[
i
] = 
»sLi¡
.
	`g‘
(i).
»sourûId
;

1036  
d©a
;

1037 
	}
}

1048 
public
 
	$g‘Aùu®CPUTime
(
fš®
 
»sId
) {

1049 
Resourû
 
»sourû
 = 
	`g‘ResourûById
(
»sId
);

1050 ià(
»sourû
 !ğ
nuÎ
) {

1051  
»sourû
.
aùu®CPUTime
;

1054 
	}
}

1064 
public
 
	$g‘Co¡P”Sec
(
fš®
 
»sId
) {

1065 
Resourû
 
»sourû
 = 
	`g‘ResourûById
(
»sId
);

1066 ià(
»sourû
 !ğ
nuÎ
) {

1067  
»sourû
.
co¡P”Sec
;

1070 
	}
}

1083 
public
 
	$g‘CloudËtFšishedSoF¬
(
fš®
 
»sId
) {

1084 
Resourû
 
»sourû
 = 
	`g‘ResourûById
(
»sId
);

1085 ià(
»sourû
 !ğ
nuÎ
) {

1086  
»sourû
.
fšishedSoF¬
;

1089 
	}
}

1099 
public
 
	$g‘SubmissiÚTime
(
fš®
 
»sId
) {

1100 
Resourû
 
»sourû
 = 
	`g‘ResourûById
(
»sId
);

1101 ià(
»sourû
 !ğ
nuÎ
) {

1102  
»sourû
.
submissiÚTime
;

1105 
	}
}

1116 
public
 
	$g‘W®lClockTime
(
fš®
 
»sId
) {

1117 
Resourû
 
»sourû
 = 
	`g‘ResourûById
(
»sId
);

1118 ià(
»sourû
 !ğ
nuÎ
) {

1119  
»sourû
.
w®lClockTime
;

1122 
	}
}

1132 
public
 
SŒšg
 
	$g‘ResourûName
(
fš®
 
»sId
) {

1133 
Resourû
 
»sourû
 = 
	`g‘ResourûById
(
»sId
);

1134 ià(
»sourû
 !ğ
nuÎ
) {

1135  
»sourû
.
»sourûName
;

1137  
nuÎ
;

1138 
	}
}

1146 
public
 
Resourû
 
	$g‘ResourûById
(
fš®
 
»sourûId
) {

1147 
Resourû
 
»sourû
 : 
»sLi¡
) {

1148 ià(
»sourû
.
»sourûId
 ==„esourceId) {

1149  
»sourû
;

1152  
nuÎ
;

1153 
	}
}

1162 
public
 
	$g‘FšishTime
() {

1163  
fšishTime
;

1164 
	}
}

1175 
´Ùeùed
 
	$wr™e
(
fš®
 
SŒšg
 
¡r
) {

1176 ià(!
»cÜd
) {

1180 ià(
num
 =ğ
nuÎ
 || 
hi¡Üy
 ==‚ull) {

1182 
Ãwlše
 = 
Sy¡em
.
	`g‘Prİ”ty
("line.separator");

1183 
num
 = 
Ãw
 
	`Decim®FÜm©
("#0.00#");

1184 
hi¡Üy
 = 
Ãw
 
	`SŒšgBufãr
(1000);

1185 
hi¡Üy
.
	`­³nd
("Time below denoteshe simulationime.");

1186 
hi¡Üy
.
	`­³nd
(
Sy¡em
.
	`g‘Prİ”ty
("line.separator"));

1187 
hi¡Üy
.
	`­³nd
("Tim(£cè DesütiÚ CloudËˆ#" + 
şoudËtId
);

1188 
hi¡Üy
.
	`­³nd
(
Sy¡em
.
	`g‘Prİ”ty
("line.separator"));

1189 
hi¡Üy
.
	`­³nd
("------------------------------------------");

1190 
hi¡Üy
.
	`­³nd
(
Sy¡em
.
	`g‘Prİ”ty
("line.separator"));

1191 
hi¡Üy
.
	`­³nd
(
num
.
	`fÜm©
(
CloudSim
.
	`şock
()));

1192 
hi¡Üy
.
	`­³nd
(" C»©e CloudËˆID #" + 
şoudËtId
);

1193 
hi¡Üy
.
	`­³nd
(
Sy¡em
.
	`g‘Prİ”ty
("line.separator"));

1196 
hi¡Üy
.
	`­³nd
(
num
.
	`fÜm©
(
CloudSim
.
	`şock
()));

1197 
hi¡Üy
.
	`­³nd
(" " + 
¡r
 + 
Ãwlše
);

1198 
	}
}

1207 
public
 
	$g‘Stus
() {

1208  
	`g‘CloudËtStus
();

1209 
	}
}

1218 
public
 
	$g‘CloudËtId
() {

1219  
şoudËtId
;

1220 
	}
}

1229 
public
 
	$g‘VmId
() {

1230  
vmId
;

1231 
	}
}

1240 
public
 
	$£tVmId
(
fš®
 
vmId
) {

1241 
this
.
vmId
 = vmId;

1242 
	}
}

1251 
public
 
	$g‘Aùu®CPUTime
() {

1252  
	`g‘FšishTime
(è- 
	`g‘ExecS¹Time
();

1253 
	}
}

1267 
public
 
	$£tResourûP¬am‘”
(
fš®
 
»sourûID
, fš® 
co¡P”CPU
, fš® 
co¡P”Bw
) {

1268 
	`£tResourûP¬am‘”
(
»sourûID
, 
co¡P”CPU
);

1269 
this
.
co¡P”Bw
 = costPerBw;

1270 
accumuÏ‹dBwCo¡
 = 
co¡P”Bw
 * 
	`g‘CloudËtFeSize
();

1272 
	}
}

1282 
public
 
	$g‘ProûssšgCo¡
() {

1285 
co¡
 = 0;

1287 
co¡
 +ğ
accumuÏ‹dBwCo¡
;

1289 
co¡
 +ğ
co¡P”Bw
 * 
	`g‘CloudËtOuutSize
();

1290  
co¡
;

1291 
	}
}

1300 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘RequœedFes
() {

1301  
»quœedFes
;

1302 
	}
}

1309 
´Ùeùed
 
£tRequœedFes
(
fš®
 
Li¡
<
SŒšg
> 
»quœedFes
) {

1310 
	gthis
.
	g»quœedFes
 = 
»quœedFes
;

1319 
public
 
boŞ—n
 
	$addRequœedFe
(
fš®
 
SŒšg
 
feName
) {

1321 ià(
	`g‘RequœedFes
(è=ğ
nuÎ
) {

1322 
	`£tRequœedFes
(
Ãw
 
LškedLi¡
<
SŒšg
>());

1326 
boŞ—n
 
»suÉ
 = 
çl£
;

1327 
i
 = 0; i < 
	`g‘RequœedFes
().
	`size
(); i++) {

1328 
fš®
 
SŒšg
 
‹mp
 = 
	`g‘RequœedFes
().
	`g‘
(
i
);

1329 ià(
‹mp
.
	`equ®s
(
feName
)) {

1330 
»suÉ
 = 
Œue
;

1335 ià(!
»suÉ
) {

1336 
	`g‘RequœedFes
().
	`add
(
feName
);

1339  
»suÉ
;

1340 
	}
}

1348 
public
 
boŞ—n
 
	$d–‘eRequœedFe
(
fš®
 
SŒšg
 
f’ame
) {

1349 
boŞ—n
 
»suÉ
 = 
çl£
;

1350 ià(
	`g‘RequœedFes
(è=ğ
nuÎ
) {

1351  
»suÉ
;

1354 
i
 = 0; i < 
	`g‘RequœedFes
().
	`size
(); i++) {

1355 
fš®
 
SŒšg
 
‹mp
 = 
	`g‘RequœedFes
().
	`g‘
(
i
);

1357 ià(
‹mp
.
	`equ®s
(
f’ame
)) {

1358 
	`g‘RequœedFes
().
	`»move
(
i
);

1359 
»suÉ
 = 
Œue
;

1365  
»suÉ
;

1366 
	}
}

1373 
public
 
boŞ—n
 
	$»quœesFes
() {

1374 
boŞ—n
 
»suÉ
 = 
çl£
;

1375 ià(
	`g‘RequœedFes
(è!ğ
nuÎ
 && g‘RequœedFes().
	`size
() > 0) {

1376 
»suÉ
 = 
Œue
;

1379  
»suÉ
;

1380 
	}
}

1387 
public
 
Utiz©iÚMod–
 
	$g‘Utiz©iÚMod–Cpu
() {

1388  
utiz©iÚMod–Cpu
;

1389 
	}
}

1396 
public
 
	$£tUtiz©iÚMod–Cpu
(
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Cpu
) {

1397 
this
.
utiz©iÚMod–Cpu
 = utilizationModelCpu;

1398 
	}
}

1405 
public
 
Utiz©iÚMod–
 
	$g‘Utiz©iÚMod–Ram
() {

1406  
utiz©iÚMod–Ram
;

1407 
	}
}

1414 
public
 
	$£tUtiz©iÚMod–Ram
(
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Ram
) {

1415 
this
.
utiz©iÚMod–Ram
 = utilizationModelRam;

1416 
	}
}

1423 
public
 
Utiz©iÚMod–
 
	$g‘Utiz©iÚMod–Bw
() {

1424  
utiz©iÚMod–Bw
;

1425 
	}
}

1432 
public
 
	$£tUtiz©iÚMod–Bw
(
fš®
 
Utiz©iÚMod–
 
utiz©iÚMod–Bw
) {

1433 
this
.
utiz©iÚMod–Bw
 = utilizationModelBw;

1434 
	}
}

1442 
public
 
	$g‘Utiz©iÚOfCpu
(
fš®
 
time
) {

1443  
	`g‘Utiz©iÚMod–Cpu
().
	`g‘Utiz©iÚ
(
time
);

1444 
	}
}

1452 
public
 
	$g‘Utiz©iÚOfRam
(
fš®
 
time
) {

1453  
	`g‘Utiz©iÚMod–Ram
().
	`g‘Utiz©iÚ
(
time
);

1454 
	}
}

1462 
public
 
	$g‘Utiz©iÚOfBw
(
fš®
 
time
) {

1463  
	`g‘Utiz©iÚMod–Bw
().
	`g‘Utiz©iÚ
(
time
);

1464 
	}
}

	@src/org/cloudbus/cloudsim/CloudletScheduler.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

22 
public
 
ab¡¿ù
 cÏs 
	cCloudËtScheduËr
 {

25 
´iv©e
 
	m´eviousTime
;

28 
´iv©e
 
	mLi¡
<
	mDoubË
> 
	mcu¼’tMsSh¬e
;

37 
public
 
	$CloudËtScheduËr
() {

38 
	`£tP»viousTime
(0.0);

51 
public
 
ab¡¿ù
 
	`upd©eVmProûssšg
(
cu¼’tTime
, 
Li¡
<
DoubË
> 
msSh¬e
);

62 
public
 
ab¡¿ù
 
	`şoudËtSubm™
(
CloudËt
 
gl
, 
feT¿nsãrTime
);

72 
public
 
ab¡¿ù
 
	`şoudËtSubm™
(
CloudËt
 
gl
);

82 
public
 
ab¡¿ù
 
CloudËt
 
	`şoudËtCªûl
(
şId
);

92 
public
 
ab¡¿ù
 
boŞ—n
 
	`şoudËtPau£
(
şId
);

102 
public
 
ab¡¿ù
 
	`şoudËtResume
(
şId
);

111 
public
 
ab¡¿ù
 
	`şoudËtFšish
(
ResCloudËt
 
rş
);

121 
public
 
ab¡¿ù
 
	`g‘CloudËtStus
(
şId
);

130 
public
 
ab¡¿ù
 
boŞ—n
 
	`isFšishedCloudËts
();

139 
public
 
ab¡¿ù
 
CloudËt
 
	`g‘NextFšishedCloudËt
();

148 
public
 
ab¡¿ù
 
	`ruÂšgCloudËts
();

157 
public
 
ab¡¿ù
 
CloudËt
 
	`mig¿‹CloudËt
();

165 
public
 
ab¡¿ù
 
	`g‘TÙ®Utiz©iÚOfCpu
(
time
);

172 
public
 
ab¡¿ù
 
Li¡
<
DoubË
> 
	`g‘Cu¼’tReque¡edMs
();

181 
public
 
ab¡¿ù
 
	`g‘TÙ®Cu¼’tAvaabËMsFÜCloudËt
(
ResCloudËt
 
rş
, 
Li¡
<
DoubË
> 
msSh¬e
);

190 
public
 
ab¡¿ù
 
	`g‘TÙ®Cu¼’tReque¡edMsFÜCloudËt
(
ResCloudËt
 
rş
, 
time
);

199 
public
 
ab¡¿ù
 
	`g‘TÙ®Cu¼’tAÎoÿ‹dMsFÜCloudËt
(
ResCloudËt
 
rş
, 
time
);

206 
public
 
ab¡¿ù
 
	`g‘Cu¼’tReque¡edUtiz©iÚOfRam
();

213 
public
 
ab¡¿ù
 
	`g‘Cu¼’tReque¡edUtiz©iÚOfBw
();

220 
public
 
	$g‘P»viousTime
() {

221  
´eviousTime
;

222 
	}
}

229 
´Ùeùed
 
	$£tP»viousTime
(
´eviousTime
) {

230 
this
.
´eviousTime
 =…reviousTime;

231 
	}
}

238 
´Ùeùed
 
£tCu¼’tMsSh¬e
(
Li¡
<
DoubË
> 
cu¼’tMsSh¬e
) {

239 
	gthis
.
	gcu¼’tMsSh¬e
 = 
cu¼’tMsSh¬e
;

247 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘Cu¼’tMsSh¬e
() {

248  
cu¼’tMsSh¬e
;

249 
	}
}

	@src/org/cloudbus/cloudsim/CloudletSchedulerDynamicWorkload.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gM­
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

16 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gTu¶e
;

25 
public
 cÏs 
	cCloudËtScheduËrDyÇmicWÜklßd
 
ex‹nds
 
	mCloudËtScheduËrTimeSh¬ed
 {

28 
´iv©e
 
	mms
;

31 
´iv©e
 
	mnumb”OfPes
;

34 
´iv©e
 
	mtÙ®Ms
;

37 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mDoubË
> 
	mund”AÎoÿ‹dMs
;

40 
´iv©e
 
	mÿcheP»viousTime
;

43 
´iv©e
 
	mLi¡
<
	mDoubË
> 
	mÿcheCu¼’tReque¡edMs
;

51 
public
 
	$CloudËtScheduËrDyÇmicWÜklßd
(
ms
, 
numb”OfPes
) {

52 
	`su³r
();

53 
	`£tMs
(
ms
);

54 
	`£tNumb”OfPes
(
numb”OfPes
);

55 
	`£tTÙ®Ms
(
	`g‘Numb”OfPes
(è* 
	`g‘Ms
());

56 
	`£tUnd”AÎoÿ‹dMs
(
Ãw
 
HashM­
<
SŒšg
, 
DoubË
>());

57 
	`£tCacheP»viousTime
(-1);

70 @
Ov”ride


71 
public
 
	`upd©eVmProûssšg
(
cu¼’tTime
, 
Li¡
<
DoubË
> 
msSh¬e
) {

72 
	`£tCu¼’tMsSh¬e
(
msSh¬e
);

74 
timeS·n
 = 
cu¼’tTime
 - 
	`g‘P»viousTime
();

75 
ÃxtEv’t
 = 
DoubË
.
MAX_VALUE
;

76 
Li¡
<
ResCloudËt
> 
şoudËtsToFšish
 = 
Ãw
 
A¼ayLi¡
<ResCloudlet>();

78 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

79 
rş
.
	`upd©eCloudËtFšishedSoF¬
((è(
timeS·n


80 * 
	`g‘TÙ®Cu¼’tAÎoÿ‹dMsFÜCloudËt
(
rş
, 
	`g‘P»viousTime
()è* 
CÚ¡s
.
MILLION
));

82 ià(
rş
.
	`g‘RemaššgCloudËtL’gth
() == 0) {

84 
şoudËtsToFšish
.
	`add
(
rş
);

87 
e¡im©edFšishTime
 = 
	`g‘E¡im©edFšishTime
(
rş
, 
cu¼’tTime
);

88 ià(
e¡im©edFšishTime
 - 
cu¼’tTime
 < 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
()) {

89 
e¡im©edFšishTime
 = 
cu¼’tTime
 + 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
();

91 ià(
e¡im©edFšishTime
 < 
ÃxtEv’t
) {

92 
ÃxtEv’t
 = 
e¡im©edFšishTime
;

97 
ResCloudËt
 
rgl
 : 
şoudËtsToFšish
) {

98 
	`g‘CloudËtExecLi¡
().
	`»move
(
rgl
);

99 
	`şoudËtFšish
(
rgl
);

102 
	`£tP»viousTime
(
cu¼’tTime
);

104 ià(
	`g‘CloudËtExecLi¡
().
	`isEm±y
()) {

108  
ÃxtEv’t
;

109 
	}
}

119 @
Ov”ride


120 
public
 
	$şoudËtSubm™
(
CloudËt
 
ş
) {

121  
	`şoudËtSubm™
(
ş
, 0);

122 
	}
}

133 @
Ov”ride


134 
public
 
	$şoudËtSubm™
(
CloudËt
 
ş
, 
feT¿nsãrTime
) {

135 
ResCloudËt
 
rş
 = 
Ãw
 
	`ResCloudËt
(
ş
);

136 
rş
.
	`£tCloudËtStus
(
CloudËt
.
INEXEC
);

138 
i
 = 0; i < 
ş
.
	`g‘Numb”OfPes
(); i++) {

139 
rş
.
	`£tMachšeAndPeId
(0, 
i
);

142 
	`g‘CloudËtExecLi¡
().
	`add
(
rş
);

143  
	`g‘E¡im©edFšishTime
(
rş
, 
	`g‘P»viousTime
());

144 
	}
}

153 @
Ov”ride


154 
public
 
	$şoudËtFšish
(
ResCloudËt
 
rş
) {

155 
rş
.
	`£tCloudËtStus
(
CloudËt
.
SUCCESS
);

156 
rş
.
	`fš®izeCloudËt
();

157 
	`g‘CloudËtFšishedLi¡
().
	`add
(
rş
);

158 
	}
}

166 @
Ov”ride


167 
public
 
	$g‘TÙ®Utiz©iÚOfCpu
(
time
) {

168 
tÙ®Utiz©iÚ
 = 0;

169 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

170 
tÙ®Utiz©iÚ
 +ğ
rş
.
	`g‘CloudËt
().
	`g‘Utiz©iÚOfCpu
(
time
);

172  
tÙ®Utiz©iÚ
;

173 
	}
}

180 @
Ov”ride


181 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘Cu¼’tReque¡edMs
() {

183 ià(
	`g‘CacheP»viousTime
(è=ğ
	`g‘P»viousTime
()) {

184  
	`g‘CacheCu¼’tReque¡edMs
();

187 
Li¡
<
DoubË
> 
cu¼’tMs
 = 
Ãw
 
A¼ayLi¡
<Double>();

188 
tÙ®Ms
 = 
	`g‘TÙ®Utiz©iÚOfCpu
(
	`g‘P»viousTime
()è* 
	`g‘TÙ®Ms
();

189 
msFÜPe
 = 
tÙ®Ms
 / 
	`g‘Numb”OfPes
();

190 
i
 = 0; i < 
	`g‘Numb”OfPes
(); i++) {

191 
cu¼’tMs
.
	`add
(
msFÜPe
);

194 
	`£tCacheP»viousTime
(
	`g‘P»viousTime
());

195 
	`£tCacheCu¼’tReque¡edMs
(
cu¼’tMs
);

197  
cu¼’tMs
;

198 
	}
}

207 @
Ov”ride


208 
public
 
	$g‘TÙ®Cu¼’tReque¡edMsFÜCloudËt
(
ResCloudËt
 
rş
, 
time
) {

209  
rş
.
	`g‘CloudËt
().
	`g‘Utiz©iÚOfCpu
(
time
è* 
	`g‘TÙ®Ms
();

210 
	}
}

219 @
Ov”ride


220 
public
 
g‘TÙ®Cu¼’tAvaabËMsFÜCloudËt
(
ResCloudËt
 
rş
, 
Li¡
<
DoubË
> 
msSh¬e
) {

221 
	gtÙ®Cu¼’tMs
 = 0.0;

222 ià(
	gmsSh¬e
 !ğ
nuÎ
) {

223 
ÃededPEs
 = 
rş
.
g‘Numb”OfPes
();

224 
	gms
 : 
msSh¬e
) {

225 
tÙ®Cu¼’tMs
 +ğ
ms
;

226 
	gÃededPEs
--;

227 ià(
	gÃededPEs
 <= 0) {

232  
	gtÙ®Cu¼’tMs
;

242 @
Ov”ride


243 
public
 
	$g‘TÙ®Cu¼’tAÎoÿ‹dMsFÜCloudËt
(
ResCloudËt
 
rş
, 
time
) {

244 
tÙ®Cu¼’tReque¡edMs
 = 
	`g‘TÙ®Cu¼’tReque¡edMsFÜCloudËt
(
rş
, 
time
);

245 
tÙ®Cu¼’tAvaabËMs
 = 
	`g‘TÙ®Cu¼’tAvaabËMsFÜCloudËt
(
rş
, 
	`g‘Cu¼’tMsSh¬e
());

246 ià(
tÙ®Cu¼’tReque¡edMs
 > 
tÙ®Cu¼’tAvaabËMs
) {

247  
tÙ®Cu¼’tAvaabËMs
;

249  
tÙ®Cu¼’tReque¡edMs
;

250 
	}
}

258 
public
 
	$upd©eUnd”AÎoÿ‹dMsFÜCloudËt
(
ResCloudËt
 
rş
, 
ms
) {

259 ià(
	`g‘Und”AÎoÿ‹dMs
().
	`cÚšsKey
(
rş
.
	`g‘Uid
())) {

260 
ms
 +ğ
	`g‘Und”AÎoÿ‹dMs
().
	`g‘
(
rş
.
	`g‘Uid
());

262 
	`g‘Und”AÎoÿ‹dMs
().
	`put
(
rş
.
	`g‘Uid
(), 
ms
);

263 
	}
}

272 
public
 
	$g‘E¡im©edFšishTime
(
ResCloudËt
 
rş
, 
time
) {

273  
time


274 + ((
rş
.
	`g‘RemaššgCloudËtL’gth
()è/ 
	`g‘TÙ®Cu¼’tAÎoÿ‹dMsFÜCloudËt
Ôş, 
time
));

275 
	}
}

282 
public
 
	$g‘TÙ®Cu¼’tMs
() {

283 
tÙ®Cu¼’tMs
 = 0;

284 
ms
 : 
	`g‘Cu¼’tMsSh¬e
()) {

285 
tÙ®Cu¼’tMs
 +ğ
ms
;

287  
tÙ®Cu¼’tMs
;

288 
	}
}

295 
public
 
	$£tTÙ®Ms
(
ms
) {

296 
tÙ®Ms
 = 
ms
;

297 
	}
}

304 
public
 
	$g‘TÙ®Ms
() {

305  
tÙ®Ms
;

306 
	}
}

313 
public
 
	$£tNumb”OfPes
(
³sNumb”
) {

314 
numb”OfPes
 = 
³sNumb”
;

315 
	}
}

322 
public
 
	$g‘Numb”OfPes
() {

323  
numb”OfPes
;

324 
	}
}

331 
public
 
	$£tMs
(
ms
) {

332 
this
.
ms
 = mips;

333 
	}
}

340 
public
 
	$g‘Ms
() {

341  
ms
;

342 
	}
}

349 
public
 
£tUnd”AÎoÿ‹dMs
(
M­
<
SŒšg
, 
DoubË
> 
und”AÎoÿ‹dMs
) {

350 
	gthis
.
	gund”AÎoÿ‹dMs
 = 
und”AÎoÿ‹dMs
;

358 
public
 
	gM­
<
	gSŒšg
, 
	gDoubË
> 
	$g‘Und”AÎoÿ‹dMs
() {

359  
und”AÎoÿ‹dMs
;

360 
	}
}

367 
´Ùeùed
 
	$g‘CacheP»viousTime
() {

368  
ÿcheP»viousTime
;

369 
	}
}

376 
´Ùeùed
 
	$£tCacheP»viousTime
(
ÿcheP»viousTime
) {

377 
this
.
ÿcheP»viousTime
 = cachePreviousTime;

378 
	}
}

385 
´Ùeùed
 
	gLi¡
<
	gDoubË
> 
	$g‘CacheCu¼’tReque¡edMs
() {

386  
ÿcheCu¼’tReque¡edMs
;

387 
	}
}

394 
´Ùeùed
 
£tCacheCu¼’tReque¡edMs
(
Li¡
<
DoubË
> 
ÿcheCu¼’tReque¡edMs
) {

395 
	gthis
.
	gÿcheCu¼’tReque¡edMs
 = 
ÿcheCu¼’tReque¡edMs
;

	@src/org/cloudbus/cloudsim/CloudletSchedulerSpaceShared.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

27 
public
 cÏs 
	cCloudËtScheduËrS·ûSh¬ed
 
ex‹nds
 
	mCloudËtScheduËr
 {

30 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mResCloudËt
> 
	mşoudËtWa™šgLi¡
;

33 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mResCloudËt
> 
	mşoudËtExecLi¡
;

36 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mResCloudËt
> 
	mşoudËtPau£dLi¡
;

39 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mResCloudËt
> 
	mşoudËtFšishedLi¡
;

42 
´Ùeùed
 
	mcu¼’tCpus
;

45 
´Ùeùed
 
	mu£dPes
;

54 
public
 
	$CloudËtScheduËrS·ûSh¬ed
() {

55 
	`su³r
();

56 
şoudËtWa™šgLi¡
 = 
Ãw
 
A¼ayLi¡
<
ResCloudËt
>();

57 
şoudËtExecLi¡
 = 
Ãw
 
A¼ayLi¡
<
ResCloudËt
>();

58 
şoudËtPau£dLi¡
 = 
Ãw
 
A¼ayLi¡
<
ResCloudËt
>();

59 
şoudËtFšishedLi¡
 = 
Ãw
 
A¼ayLi¡
<
ResCloudËt
>();

60 
u£dPes
 = 0;

61 
cu¼’tCpus
 = 0;

74 @
Ov”ride


75 
public
 
	`upd©eVmProûssšg
(
cu¼’tTime
, 
Li¡
<
DoubË
> 
msSh¬e
) {

76 
	`£tCu¼’tMsSh¬e
(
msSh¬e
);

77 
timeS·m
 = 
cu¼’tTime
 - 
	`g‘P»viousTime
();

78 
ÿ·c™y
 = 0.0;

79 
ıus
 = 0;

81 
DoubË
 
ms
 : 
msSh¬e
) {

82 
ÿ·c™y
 +ğ
ms
;

83 ià(
ms
 > 0) {

84 
ıus
++;

87 
cu¼’tCpus
 = 
ıus
;

88 
ÿ·c™y
 /ğ
ıus
;

91 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

92 
rş
.
	`upd©eCloudËtFšishedSoF¬
((è(
ÿ·c™y
 * 
timeS·m
 *„ş.
	`g‘Numb”OfPes
(è* 
CÚ¡s
.
MILLION
));

96 ià(
	`g‘CloudËtExecLi¡
().
	`size
(è=ğ0 && 
	`g‘CloudËtWa™šgLi¡
().size() == 0) {

97 
	`£tP»viousTime
(
cu¼’tTime
);

102 
fšished
 = 0;

103 
Li¡
<
ResCloudËt
> 
toRemove
 = 
Ãw
 
A¼ayLi¡
<ResCloudlet>();

104 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

106 ià(
rş
.
	`g‘RemaššgCloudËtL’gth
() == 0) {

107 
toRemove
.
	`add
(
rş
);

108 
	`şoudËtFšish
(
rş
);

109 
fšished
++;

112 
	`g‘CloudËtExecLi¡
().
	`»moveAÎ
(
toRemove
);

115 ià(!
	`g‘CloudËtWa™šgLi¡
().
	`isEm±y
()) {

116 
i
 = 0; i < 
fšished
; i++) {

117 
toRemove
.
	`ş—r
();

118 
ResCloudËt
 
rş
 : 
	`g‘CloudËtWa™šgLi¡
()) {

119 ià((
cu¼’tCpus
 - 
u£dPes
è>ğ
rş
.
	`g‘Numb”OfPes
()) {

120 
rş
.
	`£tCloudËtStus
(
CloudËt
.
INEXEC
);

121 
k
 = 0; k < 
rş
.
	`g‘Numb”OfPes
(); k++) {

122 
rş
.
	`£tMachšeAndPeId
(0, 
i
);

124 
	`g‘CloudËtExecLi¡
().
	`add
(
rş
);

125 
u£dPes
 +ğ
rş
.
	`g‘Numb”OfPes
();

126 
toRemove
.
	`add
(
rş
);

130 
	`g‘CloudËtWa™šgLi¡
().
	`»moveAÎ
(
toRemove
);

135 
ÃxtEv’t
 = 
DoubË
.
MAX_VALUE
;

136 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

137 
»maššgL’gth
 = 
rş
.
	`g‘RemaššgCloudËtL’gth
();

138 
e¡im©edFšishTime
 = 
cu¼’tTime
 + (
»maššgL’gth
 / (
ÿ·c™y
 * 
rş
.
	`g‘Numb”OfPes
()));

139 ià(
e¡im©edFšishTime
 - 
cu¼’tTime
 < 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
()) {

140 
e¡im©edFšishTime
 = 
cu¼’tTime
 + 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
();

142 ià(
e¡im©edFšishTime
 < 
ÃxtEv’t
) {

143 
ÃxtEv’t
 = 
e¡im©edFšishTime
;

146 
	`£tP»viousTime
(
cu¼’tTime
);

147  
ÃxtEv’t
;

148 
	}
}

158 @
Ov”ride


159 
public
 
CloudËt
 
	$şoudËtCªûl
(
şoudËtId
) {

161 
ResCloudËt
 
rş
 : 
	`g‘CloudËtFšishedLi¡
()) {

162 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

163 
	`g‘CloudËtFšishedLi¡
().
	`»move
(
rş
);

164  
rş
.
	`g‘CloudËt
();

169 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

170 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

171 
	`g‘CloudËtExecLi¡
().
	`»move
(
rş
);

172 ià(
rş
.
	`g‘RemaššgCloudËtL’gth
() == 0) {

173 
	`şoudËtFšish
(
rş
);

175 
rş
.
	`£tCloudËtStus
(
CloudËt
.
CANCELED
);

177  
rş
.
	`g‘CloudËt
();

182 
ResCloudËt
 
rş
 : 
	`g‘CloudËtPau£dLi¡
()) {

183 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

184 
	`g‘CloudËtPau£dLi¡
().
	`»move
(
rş
);

185  
rş
.
	`g‘CloudËt
();

190 
ResCloudËt
 
rş
 : 
	`g‘CloudËtWa™šgLi¡
()) {

191 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

192 
rş
.
	`£tCloudËtStus
(
CloudËt
.
CANCELED
);

193 
	`g‘CloudËtWa™šgLi¡
().
	`»move
(
rş
);

194  
rş
.
	`g‘CloudËt
();

198  
nuÎ
;

200 
	}
}

210 @
Ov”ride


211 
public
 
boŞ—n
 
	$şoudËtPau£
(
şoudËtId
) {

212 
boŞ—n
 
found
 = 
çl£
;

213 
pos™iÚ
 = 0;

216 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

217 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

218 
found
 = 
Œue
;

221 
pos™iÚ
++;

224 ià(
found
) {

226 
ResCloudËt
 
rgl
 = 
	`g‘CloudËtExecLi¡
().
	`»move
(
pos™iÚ
);

227 ià(
rgl
.
	`g‘RemaššgCloudËtL’gth
() == 0) {

228 
	`şoudËtFšish
(
rgl
);

230 
rgl
.
	`£tCloudËtStus
(
CloudËt
.
PAUSED
);

231 
	`g‘CloudËtPau£dLi¡
().
	`add
(
rgl
);

233  
Œue
;

238 
pos™iÚ
 = 0;

239 
found
 = 
çl£
;

240 
ResCloudËt
 
rş
 : 
	`g‘CloudËtWa™šgLi¡
()) {

241 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

242 
found
 = 
Œue
;

245 
pos™iÚ
++;

248 ià(
found
) {

250 
ResCloudËt
 
rgl
 = 
	`g‘CloudËtWa™šgLi¡
().
	`»move
(
pos™iÚ
);

251 ià(
rgl
.
	`g‘RemaššgCloudËtL’gth
() == 0) {

252 
	`şoudËtFšish
(
rgl
);

254 
rgl
.
	`£tCloudËtStus
(
CloudËt
.
PAUSED
);

255 
	`g‘CloudËtPau£dLi¡
().
	`add
(
rgl
);

257  
Œue
;

261  
çl£
;

262 
	}
}

271 @
Ov”ride


272 
public
 
	$şoudËtFšish
(
ResCloudËt
 
rş
) {

273 
rş
.
	`£tCloudËtStus
(
CloudËt
.
SUCCESS
);

274 
rş
.
	`fš®izeCloudËt
();

275 
	`g‘CloudËtFšishedLi¡
().
	`add
(
rş
);

276 
u£dPes
 -ğ
rş
.
	`g‘Numb”OfPes
();

277 
	}
}

287 @
Ov”ride


288 
public
 
	$şoudËtResume
(
şoudËtId
) {

289 
boŞ—n
 
found
 = 
çl£
;

290 
pos™iÚ
 = 0;

293 
ResCloudËt
 
rş
 : 
	`g‘CloudËtPau£dLi¡
()) {

294 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

295 
found
 = 
Œue
;

298 
pos™iÚ
++;

301 ià(
found
) {

302 
ResCloudËt
 
rş
 = 
	`g‘CloudËtPau£dLi¡
().
	`»move
(
pos™iÚ
);

305 ià((
cu¼’tCpus
 - 
u£dPes
è>ğ
rş
.
	`g‘Numb”OfPes
()) {

306 
rş
.
	`£tCloudËtStus
(
CloudËt
.
INEXEC
);

307 
i
 = 0; i < 
rş
.
	`g‘Numb”OfPes
(); i++) {

308 
rş
.
	`£tMachšeAndPeId
(0, 
i
);

311 
size
 = 
rş
.
	`g‘RemaššgCloudËtL’gth
();

312 
size
 *ğ
rş
.
	`g‘Numb”OfPes
();

313 
rş
.
	`g‘CloudËt
().
	`£tCloudËtL’gth
(
size
);

315 
	`g‘CloudËtExecLi¡
().
	`add
(
rş
);

316 
u£dPes
 +ğ
rş
.
	`g‘Numb”OfPes
();

319 
ÿ·c™y
 = 0.0;

320 
ıus
 = 0;

321 
DoubË
 
ms
 : 
	`g‘Cu¼’tMsSh¬e
()) {

322 
ÿ·c™y
 +ğ
ms
;

323 ià(
ms
 > 0) {

324 
ıus
++;

327 
cu¼’tCpus
 = 
ıus
;

328 
ÿ·c™y
 /ğ
ıus
;

330 
»maššgL’gth
 = 
rş
.
	`g‘RemaššgCloudËtL’gth
();

331 
e¡im©edFšishTime
 = 
CloudSim
.
	`şock
()

332 + (
»maššgL’gth
 / (
ÿ·c™y
 * 
rş
.
	`g‘Numb”OfPes
()));

334  
e¡im©edFšishTime
;

336 
rş
.
	`£tCloudËtStus
(
CloudËt
.
QUEUED
);

338 
size
 = 
rş
.
	`g‘RemaššgCloudËtL’gth
();

339 
size
 *ğ
rş
.
	`g‘Numb”OfPes
();

340 
rş
.
	`g‘CloudËt
().
	`£tCloudËtL’gth
(
size
);

342 
	`g‘CloudËtWa™šgLi¡
().
	`add
(
rş
);

351 
	}
}

362 @
Ov”ride


363 
public
 
	$şoudËtSubm™
(
CloudËt
 
şoudËt
, 
feT¿nsãrTime
) {

365 ià((
cu¼’tCpus
 - 
u£dPes
è>ğ
şoudËt
.
	`g‘Numb”OfPes
()) {

366 
ResCloudËt
 
rş
 = 
Ãw
 
	`ResCloudËt
(
şoudËt
);

367 
rş
.
	`£tCloudËtStus
(
CloudËt
.
INEXEC
);

368 
i
 = 0; i < 
şoudËt
.
	`g‘Numb”OfPes
(); i++) {

369 
rş
.
	`£tMachšeAndPeId
(0, 
i
);

371 
	`g‘CloudËtExecLi¡
().
	`add
(
rş
);

372 
u£dPes
 +ğ
şoudËt
.
	`g‘Numb”OfPes
();

374 
ResCloudËt
 
rş
 = 
Ãw
 
	`ResCloudËt
(
şoudËt
);

375 
rş
.
	`£tCloudËtStus
(
CloudËt
.
QUEUED
);

376 
	`g‘CloudËtWa™šgLi¡
().
	`add
(
rş
);

381 
ÿ·c™y
 = 0.0;

382 
ıus
 = 0;

383 
DoubË
 
ms
 : 
	`g‘Cu¼’tMsSh¬e
()) {

384 
ÿ·c™y
 +ğ
ms
;

385 ià(
ms
 > 0) {

386 
ıus
++;

390 
cu¼’tCpus
 = 
ıus
;

391 
ÿ·c™y
 /ğ
ıus
;

395 
exŒaSize
 = 
ÿ·c™y
 * 
feT¿nsãrTime
;

396 
Ëngth
 = 
şoudËt
.
	`g‘CloudËtL’gth
();

397 
Ëngth
 +ğ
exŒaSize
;

398 
şoudËt
.
	`£tCloudËtL’gth
(
Ëngth
);

399  
şoudËt
.
	`g‘CloudËtL’gth
(è/ 
ÿ·c™y
;

400 
	}
}

406 @
Ov”ride


407 
public
 
	$şoudËtSubm™
(
CloudËt
 
şoudËt
) {

408  
	`şoudËtSubm™
(
şoudËt
, 0.0);

409 
	}
}

419 @
Ov”ride


420 
public
 
	$g‘CloudËtStus
(
şoudËtId
) {

421 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

422 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

423  
rş
.
	`g‘CloudËtStus
();

427 
ResCloudËt
 
rş
 : 
	`g‘CloudËtPau£dLi¡
()) {

428 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

429  
rş
.
	`g‘CloudËtStus
();

433 
ResCloudËt
 
rş
 : 
	`g‘CloudËtWa™šgLi¡
()) {

434 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

435  
rş
.
	`g‘CloudËtStus
();

440 
	}
}

448 @
Ov”ride


449 
public
 
	$g‘TÙ®Utiz©iÚOfCpu
(
time
) {

450 
tÙ®Utiz©iÚ
 = 0;

451 
ResCloudËt
 
gl
 : 
	`g‘CloudËtExecLi¡
()) {

452 
tÙ®Utiz©iÚ
 +ğ
gl
.
	`g‘CloudËt
().
	`g‘Utiz©iÚOfCpu
(
time
);

454  
tÙ®Utiz©iÚ
;

455 
	}
}

464 @
Ov”ride


465 
public
 
boŞ—n
 
	$isFšishedCloudËts
() {

466  
	`g‘CloudËtFšishedLi¡
().
	`size
() > 0;

467 
	}
}

476 @
Ov”ride


477 
public
 
CloudËt
 
	$g‘NextFšishedCloudËt
() {

478 ià(
	`g‘CloudËtFšishedLi¡
().
	`size
() > 0) {

479  
	`g‘CloudËtFšishedLi¡
().
	`»move
(0).
	`g‘CloudËt
();

481  
nuÎ
;

482 
	}
}

491 @
Ov”ride


492 
public
 
	$ruÂšgCloudËts
() {

493  
	`g‘CloudËtExecLi¡
().
	`size
();

494 
	}
}

503 @
Ov”ride


504 
public
 
CloudËt
 
	$mig¿‹CloudËt
() {

505 
ResCloudËt
 
rş
 = 
	`g‘CloudËtExecLi¡
().
	`»move
(0);

506 
rş
.
	`fš®izeCloudËt
();

507 
CloudËt
 
ş
 = 
rş
.
	`g‘CloudËt
();

508 
u£dPes
 -ğ
ş
.
	`g‘Numb”OfPes
();

509  
ş
;

510 
	}
}

518 @
Suµ»ssW¬nšgs
("unchecked")

519 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtWa™šgLi¡
() {

520  (
Li¡
<
T
>è
şoudËtWa™šgLi¡
;

521 
	}
}

529 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
şoudËtWa™šgLi¡
(
Li¡
<T> cloudletWaitingList) {

530 
	gthis
.
	gşoudËtWa™šgLi¡
 = 
şoudËtWa™šgLi¡
;

539 @
Suµ»ssW¬nšgs
("unchecked")

540 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtExecLi¡
() {

541  (
Li¡
<
T
>è
şoudËtExecLi¡
;

542 
	}
}

550 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
£tCloudËtExecLi¡
(
Li¡
<T> 
şoudËtExecLi¡
) {

551 
	gthis
.
	gşoudËtExecLi¡
 = 
şoudËtExecLi¡
;

560 @
Suµ»ssW¬nšgs
("unchecked")

561 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtPau£dLi¡
() {

562  (
Li¡
<
T
>è
şoudËtPau£dLi¡
;

563 
	}
}

571 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
£tCloudËtPau£dLi¡
(
Li¡
<T> 
şoudËtPau£dLi¡
) {

572 
	gthis
.
	gşoudËtPau£dLi¡
 = 
şoudËtPau£dLi¡
;

581 @
Suµ»ssW¬nšgs
("unchecked")

582 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtFšishedLi¡
() {

583  (
Li¡
<
T
>è
şoudËtFšishedLi¡
;

584 
	}
}

592 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
£tCloudËtFšishedLi¡
(
Li¡
<T> 
şoudËtFšishedLi¡
) {

593 
	gthis
.
	gşoudËtFšishedLi¡
 = 
şoudËtFšishedLi¡
;

600 @
Ov”ride


601 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘Cu¼’tReque¡edMs
() {

602 
Li¡
<
DoubË
> 
msSh¬e
 = 
Ãw
 
A¼ayLi¡
<Double>();

603 ià(
	`g‘Cu¼’tMsSh¬e
(è!ğ
nuÎ
) {

604 
DoubË
 
ms
 : 
	`g‘Cu¼’tMsSh¬e
()) {

605 
msSh¬e
.
	`add
(
ms
);

608  
msSh¬e
;

609 
	}
}

617 @
Ov”ride


618 
public
 
g‘TÙ®Cu¼’tAvaabËMsFÜCloudËt
(
ResCloudËt
 
rş
, 
Li¡
<
DoubË
> 
msSh¬e
) {

619 
	gÿ·c™y
 = 0.0;

620 
	gıus
 = 0;

621 
DoubË
 
	gms
 : 
msSh¬e
) {

622 
ÿ·c™y
 +ğ
ms
;

623 ià(
	gms
 > 0) {

624 
	gıus
++;

627 
	gcu¼’tCpus
 = 
ıus
;

628 
	gÿ·c™y
 /ğ
ıus
;

629  
	gÿ·c™y
;

638 @
Ov”ride


639 
public
 
	$g‘TÙ®Cu¼’tAÎoÿ‹dMsFÜCloudËt
(
ResCloudËt
 
rş
, 
time
) {

642 
	}
}

650 @
Ov”ride


651 
public
 
	$g‘TÙ®Cu¼’tReque¡edMsFÜCloudËt
(
ResCloudËt
 
rş
, 
time
) {

654 
	}
}

656 @
Ov”ride


657 
public
 
	$g‘Cu¼’tReque¡edUtiz©iÚOfRam
() {

660 
	}
}

662 @
Ov”ride


663 
public
 
	$g‘Cu¼’tReque¡edUtiz©iÚOfBw
() {

666 
	}
}

	@src/org/cloudbus/cloudsim/CloudletSchedulerTimeShared.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

14 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gTu¶e
;

24 
public
 cÏs 
	cCloudËtScheduËrTimeSh¬ed
 
ex‹nds
 
	mCloudËtScheduËr
 {

27 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mResCloudËt
> 
	mşoudËtExecLi¡
;

30 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mResCloudËt
> 
	mşoudËtPau£dLi¡
;

33 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mResCloudËt
> 
	mşoudËtFšishedLi¡
;

36 
´Ùeùed
 
	mcu¼’tCPUs
;

45 
public
 
	$CloudËtScheduËrTimeSh¬ed
() {

46 
	`su³r
();

47 
şoudËtExecLi¡
 = 
Ãw
 
A¼ayLi¡
<
ResCloudËt
>();

48 
şoudËtPau£dLi¡
 = 
Ãw
 
A¼ayLi¡
<
ResCloudËt
>();

49 
şoudËtFšishedLi¡
 = 
Ãw
 
A¼ayLi¡
<
ResCloudËt
>();

50 
cu¼’tCPUs
 = 0;

63 @
Ov”ride


64 
public
 
	`upd©eVmProûssšg
(
cu¼’tTime
, 
Li¡
<
DoubË
> 
msSh¬e
) {

65 
	`£tCu¼’tMsSh¬e
(
msSh¬e
);

66 
timeS·m
 = 
cu¼’tTime
 - 
	`g‘P»viousTime
();

68 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

70 
rş
.
	`upd©eCloudËtFšishedSoF¬
((è(
	`g‘C­ac™y
(
msSh¬e
è* 
timeS·m
 *„ş.
	`g‘Numb”OfPes
(è* 
CÚ¡s
.
MILLION
));

76 ià(
	`g‘CloudËtExecLi¡
().
	`size
() == 0) {

77 
	`£tP»viousTime
(
cu¼’tTime
);

82 
ÃxtEv’t
 = 
DoubË
.
MAX_VALUE
;

83 
Li¡
<
ResCloudËt
> 
toRemove
 = 
Ãw
 
A¼ayLi¡
<ResCloudlet>();

84 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

85 
»maššgL’gth
 = 
rş
.
	`g‘RemaššgCloudËtL’gth
();

86 ià(
»maššgL’gth
 == 0) {

87 
toRemove
.
	`add
(
rş
);

88 
	`şoudËtFšish
(
rş
);

92 
	`g‘CloudËtExecLi¡
().
	`»moveAÎ
(
toRemove
);

95 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

96 
e¡im©edFšishTime
 = 
cu¼’tTime


97 + (
rş
.
	`g‘RemaššgCloudËtL’gth
(è/ (
	`g‘C­ac™y
(
msSh¬e
è*„ş.
	`g‘Numb”OfPes
()));

98 ià(
e¡im©edFšishTime
 - 
cu¼’tTime
 < 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
()) {

99 
e¡im©edFšishTime
 = 
cu¼’tTime
 + 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
();

102 ià(
e¡im©edFšishTime
 < 
ÃxtEv’t
) {

103 
ÃxtEv’t
 = 
e¡im©edFšishTime
;

107 
	`£tP»viousTime
(
cu¼’tTime
);

108  
ÃxtEv’t
;

109 
	}
}

117 
´Ùeùed
 
g‘C­ac™y
(
Li¡
<
DoubË
> 
msSh¬e
) {

118 
	gÿ·c™y
 = 0.0;

119 
	gıus
 = 0;

120 
DoubË
 
	gms
 : 
msSh¬e
) {

121 
ÿ·c™y
 +ğ
ms
;

122 ià(
	gms
 > 0.0) {

123 
	gıus
++;

126 
	gcu¼’tCPUs
 = 
ıus
;

128 
	g³sInU£
 = 0;

129 
ResCloudËt
 
	grş
 : 
g‘CloudËtExecLi¡
()) {

130 
³sInU£
 +ğ
rş
.
g‘Numb”OfPes
();

133 ià(
	g³sInU£
 > 
	gcu¼’tCPUs
) {

134 
	gÿ·c™y
 /ğ
³sInU£
;

136 
	gÿ·c™y
 /ğ
cu¼’tCPUs
;

138  
	gÿ·c™y
;

149 @
Ov”ride


150 
public
 
CloudËt
 
	$şoudËtCªûl
(
şoudËtId
) {

151 
boŞ—n
 
found
 = 
çl£
;

152 
pos™iÚ
 = 0;

155 
found
 = 
çl£
;

156 
ResCloudËt
 
rş
 : 
	`g‘CloudËtFšishedLi¡
()) {

157 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

158 
found
 = 
Œue
;

161 
pos™iÚ
++;

164 ià(
found
) {

165  
	`g‘CloudËtFšishedLi¡
().
	`»move
(
pos™iÚ
).
	`g‘CloudËt
();

169 
pos™iÚ
=0;

170 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

171 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

172 
found
 = 
Œue
;

175 
pos™iÚ
++;

178 ià(
found
) {

179 
ResCloudËt
 
rş
 = 
	`g‘CloudËtExecLi¡
().
	`»move
(
pos™iÚ
);

180 ià(
rş
.
	`g‘RemaššgCloudËtL’gth
() == 0) {

181 
	`şoudËtFšish
(
rş
);

183 
rş
.
	`£tCloudËtStus
(
CloudËt
.
CANCELED
);

185  
rş
.
	`g‘CloudËt
();

189 
found
 = 
çl£
;

190 
pos™iÚ
=0;

191 
ResCloudËt
 
rş
 : 
	`g‘CloudËtPau£dLi¡
()) {

192 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

193 
found
 = 
Œue
;

194 
rş
.
	`£tCloudËtStus
(
CloudËt
.
CANCELED
);

197 
pos™iÚ
++;

200 ià(
found
) {

201  
	`g‘CloudËtPau£dLi¡
().
	`»move
(
pos™iÚ
).
	`g‘CloudËt
();

204  
nuÎ
;

205 
	}
}

215 @
Ov”ride


216 
public
 
boŞ—n
 
	$şoudËtPau£
(
şoudËtId
) {

217 
boŞ—n
 
found
 = 
çl£
;

218 
pos™iÚ
 = 0;

220 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

221 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

222 
found
 = 
Œue
;

225 
pos™iÚ
++;

228 ià(
found
) {

230 
ResCloudËt
 
rş
 = 
	`g‘CloudËtExecLi¡
().
	`»move
(
pos™iÚ
);

231 ià(
rş
.
	`g‘RemaššgCloudËtL’gth
() == 0) {

232 
	`şoudËtFšish
(
rş
);

234 
rş
.
	`£tCloudËtStus
(
CloudËt
.
PAUSED
);

235 
	`g‘CloudËtPau£dLi¡
().
	`add
(
rş
);

237  
Œue
;

239  
çl£
;

240 
	}
}

249 @
Ov”ride


250 
public
 
	$şoudËtFšish
(
ResCloudËt
 
rş
) {

251 
rş
.
	`£tCloudËtStus
(
CloudËt
.
SUCCESS
);

252 
rş
.
	`fš®izeCloudËt
();

253 
	`g‘CloudËtFšishedLi¡
().
	`add
(
rş
);

254 
	}
}

264 @
Ov”ride


265 
public
 
	$şoudËtResume
(
şoudËtId
) {

266 
boŞ—n
 
found
 = 
çl£
;

267 
pos™iÚ
 = 0;

270 
ResCloudËt
 
rş
 : 
	`g‘CloudËtPau£dLi¡
()) {

271 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

272 
found
 = 
Œue
;

275 
pos™iÚ
++;

278 ià(
found
) {

279 
ResCloudËt
 
rgl
 = 
	`g‘CloudËtPau£dLi¡
().
	`»move
(
pos™iÚ
);

280 
rgl
.
	`£tCloudËtStus
(
CloudËt
.
INEXEC
);

281 
	`g‘CloudËtExecLi¡
().
	`add
(
rgl
);

286 
»maššgL’gth
 = 
rgl
.
	`g‘RemaššgCloudËtL’gth
();

287 
e¡im©edFšishTime
 = 
CloudSim
.
	`şock
()

288 + (
»maššgL’gth
 / (
	`g‘C­ac™y
(
	`g‘Cu¼’tMsSh¬e
()è* 
rgl
.
	`g‘Numb”OfPes
()));

290  
e¡im©edFšishTime
;

294 
	}
}

305 @
Ov”ride


306 
public
 
	$şoudËtSubm™
(
CloudËt
 
şoudËt
, 
feT¿nsãrTime
) {

307 
ResCloudËt
 
rş
 = 
Ãw
 
	`ResCloudËt
(
şoudËt
);

308 
rş
.
	`£tCloudËtStus
(
CloudËt
.
INEXEC
);

309 
i
 = 0; i < 
şoudËt
.
	`g‘Numb”OfPes
(); i++) {

310 
rş
.
	`£tMachšeAndPeId
(0, 
i
);

313 
	`g‘CloudËtExecLi¡
().
	`add
(
rş
);

317 
exŒaSize
 = 
	`g‘C­ac™y
(
	`g‘Cu¼’tMsSh¬e
()è* 
feT¿nsãrTime
;

318 
Ëngth
 = (è(
şoudËt
.
	`g‘CloudËtL’gth
(è+ 
exŒaSize
);

319 
şoudËt
.
	`£tCloudËtL’gth
(
Ëngth
);

320  
şoudËt
.
	`g‘CloudËtL’gth
(è/ 
	`g‘C­ac™y
(
	`g‘Cu¼’tMsSh¬e
());

321 
	}
}

327 @
Ov”ride


328 
public
 
	$şoudËtSubm™
(
CloudËt
 
şoudËt
) {

329  
	`şoudËtSubm™
(
şoudËt
, 0.0);

330 
	}
}

340 @
Ov”ride


341 
public
 
	$g‘CloudËtStus
(
şoudËtId
) {

342 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

343 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

344  
rş
.
	`g‘CloudËtStus
();

347 
ResCloudËt
 
rş
 : 
	`g‘CloudËtPau£dLi¡
()) {

348 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

349  
rş
.
	`g‘CloudËtStus
();

353 
	}
}

361 @
Ov”ride


362 
public
 
	$g‘TÙ®Utiz©iÚOfCpu
(
time
) {

363 
tÙ®Utiz©iÚ
 = 0;

364 
ResCloudËt
 
gl
 : 
	`g‘CloudËtExecLi¡
()) {

365 
tÙ®Utiz©iÚ
 +ğ
gl
.
	`g‘CloudËt
().
	`g‘Utiz©iÚOfCpu
(
time
);

367  
tÙ®Utiz©iÚ
;

368 
	}
}

377 @
Ov”ride


378 
public
 
boŞ—n
 
	$isFšishedCloudËts
() {

379  
	`g‘CloudËtFšishedLi¡
().
	`size
() > 0;

380 
	}
}

389 @
Ov”ride


390 
public
 
CloudËt
 
	$g‘NextFšishedCloudËt
() {

391 ià(
	`g‘CloudËtFšishedLi¡
().
	`size
() > 0) {

392  
	`g‘CloudËtFšishedLi¡
().
	`»move
(0).
	`g‘CloudËt
();

394  
nuÎ
;

395 
	}
}

404 @
Ov”ride


405 
public
 
	$ruÂšgCloudËts
() {

406  
	`g‘CloudËtExecLi¡
().
	`size
();

407 
	}
}

416 @
Ov”ride


417 
public
 
CloudËt
 
	$mig¿‹CloudËt
() {

418 
ResCloudËt
 
rgl
 = 
	`g‘CloudËtExecLi¡
().
	`»move
(0);

419 
rgl
.
	`fš®izeCloudËt
();

420  
rgl
.
	`g‘CloudËt
();

421 
	}
}

429 @
Suµ»ssW¬nšgs
("unchecked")

430 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtExecLi¡
() {

431  (
Li¡
<
T
>è
şoudËtExecLi¡
;

432 
	}
}

440 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
£tCloudËtExecLi¡
(
Li¡
<T> 
şoudËtExecLi¡
) {

441 
	gthis
.
	gşoudËtExecLi¡
 = 
şoudËtExecLi¡
;

450 @
Suµ»ssW¬nšgs
("unchecked")

451 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtPau£dLi¡
() {

452  (
Li¡
<
T
>è
şoudËtPau£dLi¡
;

453 
	}
}

461 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
£tCloudËtPau£dLi¡
(
Li¡
<T> 
şoudËtPau£dLi¡
) {

462 
	gthis
.
	gşoudËtPau£dLi¡
 = 
şoudËtPau£dLi¡
;

471 @
Suµ»ssW¬nšgs
("unchecked")

472 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtFšishedLi¡
() {

473  (
Li¡
<
T
>è
şoudËtFšishedLi¡
;

474 
	}
}

482 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
£tCloudËtFšishedLi¡
(
Li¡
<T> 
şoudËtFšishedLi¡
) {

483 
	gthis
.
	gşoudËtFšishedLi¡
 = 
şoudËtFšishedLi¡
;

490 @
Ov”ride


491 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘Cu¼’tReque¡edMs
() {

492 
Li¡
<
DoubË
> 
msSh¬e
 = 
Ãw
 
A¼ayLi¡
<Double>();

493  
msSh¬e
;

494 
	}
}

501 @
Ov”ride


502 
public
 
g‘TÙ®Cu¼’tAvaabËMsFÜCloudËt
(
ResCloudËt
 
rş
, 
Li¡
<
DoubË
> 
msSh¬e
) {

503  
g‘C­ac™y
(
g‘Cu¼’tMsSh¬e
());

511 @
Ov”ride


512 
public
 
	$g‘TÙ®Cu¼’tAÎoÿ‹dMsFÜCloudËt
(
ResCloudËt
 
rş
, 
time
) {

514 
	}
}

521 @
Ov”ride


522 
public
 
	$g‘TÙ®Cu¼’tReque¡edMsFÜCloudËt
(
ResCloudËt
 
rş
, 
time
) {

525 
	}
}

527 @
Ov”ride


528 
public
 
	$g‘Cu¼’tReque¡edUtiz©iÚOfRam
() {

529 
¿m
 = 0;

530 
ResCloudËt
 
şoudËt
 : 
şoudËtExecLi¡
) {

531 
¿m
 +ğ
şoudËt
.
	`g‘CloudËt
().
	`g‘Utiz©iÚOfRam
(
CloudSim
.
	`şock
());

533  
¿m
;

534 
	}
}

536 @
Ov”ride


537 
public
 
	$g‘Cu¼’tReque¡edUtiz©iÚOfBw
() {

538 
bw
 = 0;

539 
ResCloudËt
 
şoudËt
 : 
şoudËtExecLi¡
) {

540 
bw
 +ğ
şoudËt
.
	`g‘CloudËt
().
	`g‘Utiz©iÚOfBw
(
CloudSim
.
	`şock
());

542  
bw
;

543 
	}
}

	@src/org/cloudbus/cloudsim/Consts.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

10 
public
 
fš®
 cÏs 
	cCÚ¡s
 {

15 
´iv©e
 
	$CÚ¡s
(){}

17 
public
 
MILLION
 = 1000000;

18 
	}
}

	@src/org/cloudbus/cloudsim/DataCloudTags.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

19 
public
 
fš®
 cÏs 
	cD©aCloudTags
 {

22 
´iv©e
 
fš®
 
	mBASE
 = 400;

24 
´iv©e
 
fš®
 
	mRM_BASE
 = 500;

26 
´iv©e
 
fš®
 
	mCTLG_BASE
 = 600;

31 
public
 
fš®
 
	mDEFAULT_MTU
 = 1500;

34 
public
 
fš®
 
	mPKT_SIZE
 = 
DEFAULT_MTU
 * 100;

37 
public
 
fš®
 
	mDEFAULT_STORAGE_SIZE
 = 10000000;

40 
public
 
fš®
 
	mREGISTER_REPLICA_CTLG
 = 
BASE
 + 1;

46 
public
 
fš®
 
	mINQUIRY_LOCAL_RC_LIST
 = 
BASE
 + 2;

52 
public
 
fš®
 
	mINQUIRY_GLOBAL_RC_LIST
 = 
BASE
 + 3;

58 
public
 
fš®
 
	mINQUIRY_RC_LIST
 = 
BASE
 + 4;

64 
public
 
fš®
 
	mINQUIRY_RC_RESULT
 = 
BASE
 + 5;

70 
public
 
fš®
 
	mDATAşoudËt_SUBMIT
 = 
BASE
 + 6;

81 
public
 
fš®
 
	mFILE_REQUEST
 = 
RM_BASE
 + 1;

86 
public
 
fš®
 
	mFILE_DELIVERY
 = 
RM_BASE
 + 2;

95 
public
 
fš®
 
	mFILE_ADD_MASTER
 = 
RM_BASE
 + 10;

103 
public
 
fš®
 
	mFILE_ADD_MASTER_RESULT
 = 
RM_BASE
 + 11;

110 
public
 
fš®
 
	mFILE_ADD_REPLICA
 = 
RM_BASE
 + 12;

118 
public
 
fš®
 
	mFILE_ADD_REPLICA_RESULT
 = 
RM_BASE
 + 13;

121 
public
 
fš®
 
	mFILE_ADD_SUCCESSFUL
 = 
RM_BASE
 + 20;

124 
public
 
fš®
 
	mFILE_ADD_ERROR_STORAGE_FULL
 = 
RM_BASE
 + 21;

127 
public
 
fš®
 
	mFILE_ADD_ERROR_EMPTY
 = 
RM_BASE
 + 22;

133 
public
 
fš®
 
	mFILE_ADD_ERROR_EXIST_READ_ONLY
 = 
RM_BASE
 + 23;

136 
public
 
fš®
 
	mFILE_ADD_ERROR
 = 
RM_BASE
 + 24;

141 
public
 
fš®
 
	mFILE_ADD_ERROR_ACCESS_DENIED
 = 
RM_BASE
 + 25;

150 
public
 
fš®
 
	mFILE_DELETE_MASTER
 = 
RM_BASE
 + 30;

158 
public
 
fš®
 
	mFILE_DELETE_MASTER_RESULT
 = 
RM_BASE
 + 31;

165 
public
 
fš®
 
	mFILE_DELETE_REPLICA
 = 
RM_BASE
 + 32;

173 
public
 
fš®
 
	mFILE_DELETE_REPLICA_RESULT
 = 
RM_BASE
 + 33;

176 
public
 
fš®
 
	mFILE_DELETE_SUCCESSFUL
 = 
RM_BASE
 + 40;

179 
public
 
fš®
 
	mFILE_DELETE_ERROR
 = 
RM_BASE
 + 41;

182 
public
 
fš®
 
	mFILE_DELETE_ERROR_READ_ONLY
 = 
RM_BASE
 + 42;

188 
public
 
fš®
 
	mFILE_DELETE_ERROR_DOESNT_EXIST
 = 
RM_BASE
 + 43;

193 
public
 
fš®
 
	mFILE_DELETE_ERROR_IN_USE
 = 
RM_BASE
 + 44;

198 
public
 
fš®
 
	mFILE_DELETE_ERROR_ACCESS_DENIED
 = 
RM_BASE
 + 45;

207 
public
 
fš®
 
	mFILE_MODIFY
 = 
RM_BASE
 + 50;

215 
public
 
fš®
 
	mFILE_MODIFY_RESULT
 = 
RM_BASE
 + 51;

218 
public
 
fš®
 
	mFILE_MODIFY_SUCCESSFUL
 = 
RM_BASE
 + 60;

221 
public
 
fš®
 
	mFILE_MODIFY_ERROR
 = 
RM_BASE
 + 61;

226 
public
 
fš®
 
	mFILE_MODIFY_ERROR_READ_ONLY
 = 
RM_BASE
 + 62;

231 
public
 
fš®
 
	mFILE_MODIFY_ERROR_DOESNT_EXIST
 = 
RM_BASE
 + 63;

236 
public
 
fš®
 
	mFILE_MODIFY_ERROR_IN_USE
 = 
RM_BASE
 + 64;

241 
public
 
fš®
 
	mFILE_MODIFY_ERROR_ACCESS_DENIED
 = 
RM_BASE
 + 65;

253 
public
 
fš®
 
	mCTLG_GET_REPLICA
 = 
CTLG_BASE
 + 1;

260 
public
 
fš®
 
	mCTLG_REPLICA_DELIVERY
 = 
CTLG_BASE
 + 2;

267 
public
 
fš®
 
	mCTLG_GET_REPLICA_LIST
 = 
CTLG_BASE
 + 3;

274 
public
 
fš®
 
	mCTLG_REPLICA_LIST_DELIVERY
 = 
CTLG_BASE
 + 4;

281 
public
 
fš®
 
	mCTLG_GET_FILE_ATTR
 = 
CTLG_BASE
 + 5;

288 
public
 
fš®
 
	mCTLG_FILE_ATTR_DELIVERY
 = 
CTLG_BASE
 + 6;

295 
public
 
fš®
 
	mCTLG_FILTER
 = 
CTLG_BASE
 + 7;

302 
public
 
fš®
 
	mCTLG_FILTER_DELIVERY
 = 
CTLG_BASE
 + 8;

312 
public
 
fš®
 
	mCTLG_ADD_MASTER
 = 
CTLG_BASE
 + 10;

320 
public
 
fš®
 
	mCTLG_ADD_MASTER_RESULT
 = 
CTLG_BASE
 + 11;

323 
public
 
fš®
 
	mCTLG_ADD_MASTER_SUCCESSFUL
 = 
CTLG_BASE
 + 12;

326 
public
 
fš®
 
	mCTLG_ADD_MASTER_ERROR
 = 
CTLG_BASE
 + 13;

331 
public
 
fš®
 
	mCTLG_ADD_MASTER_ERROR_FULL
 = 
CTLG_BASE
 + 14;

340 
public
 
fš®
 
	mCTLG_DELETE_MASTER
 = 
CTLG_BASE
 + 20;

348 
public
 
fš®
 
	mCTLG_DELETE_MASTER_RESULT
 = 
CTLG_BASE
 + 21;

351 
public
 
fš®
 
	mCTLG_DELETE_MASTER_SUCCESSFUL
 = 
CTLG_BASE
 + 22;

354 
public
 
fš®
 
	mCTLG_DELETE_MASTER_ERROR
 = 
CTLG_BASE
 + 23;

359 
public
 
fš®
 
	mCTLG_DELETE_MASTER_DOESNT_EXIST
 = 
CTLG_BASE
 + 24;

365 
public
 
fš®
 
	mCTLG_DELETE_MASTER_REPLICAS_EXIST
 = 
CTLG_BASE
 + 25;

374 
public
 
fš®
 
	mCTLG_ADD_REPLICA
 = 
CTLG_BASE
 + 30;

382 
public
 
fš®
 
	mCTLG_ADD_REPLICA_RESULT
 = 
CTLG_BASE
 + 31;

385 
public
 
fš®
 
	mCTLG_ADD_REPLICA_SUCCESSFUL
 = 
CTLG_BASE
 + 32;

388 
public
 
fš®
 
	mCTLG_ADD_REPLICA_ERROR
 = 
CTLG_BASE
 + 33;

394 
public
 
fš®
 
	mCTLG_ADD_REPLICA_ERROR_DOESNT_EXIST
 = 
CTLG_BASE
 + 34;

399 
public
 
fš®
 
	mCTLG_ADD_REPLICA_ERROR_FULL
 = 
CTLG_BASE
 + 35;

408 
public
 
fš®
 
	mCTLG_DELETE_REPLICA
 = 
CTLG_BASE
 + 40;

416 
public
 
fš®
 
	mCTLG_DELETE_REPLICA_RESULT
 = 
CTLG_BASE
 + 41;

419 
public
 
fš®
 
	mCTLG_DELETE_REPLICA_SUCCESSFUL
 = 
CTLG_BASE
 + 42;

422 
public
 
fš®
 
	mCTLG_DELETE_REPLICA_ERROR
 = 
CTLG_BASE
 + 43;

427 
public
 
fš®
 
	mCTLG_DELETE_REPLICA_ERROR_DOESNT_EXIST
 = 
CTLG_BASE
 + 44;

438 
public
 
fš®
 
	mCTLG_MODIFY_MASTER
 = 
CTLG_BASE
 + 50;

446 
public
 
fš®
 
	mCTLG_MODIFY_MASTER_RESULT
 = 
CTLG_BASE
 + 51;

449 
public
 
fš®
 
	mCTLG_MODIFY_MASTER_SUCCESSFUL
 = 
CTLG_BASE
 + 52;

454 
public
 
fš®
 
	mCTLG_MODIFY_MASTER_ERROR
 = 
CTLG_BASE
 + 53;

460 
public
 
fš®
 
	mCTLG_MODIFY_MASTER_ERROR_DOESNT_EXIST
 = 
CTLG_BASE
 + 54;

466 
public
 
fš®
 
	mCTLG_MODIFY_MASTER_ERROR_READ_ONLY
 = 
CTLG_BASE
 + 55;

471 
´iv©e
 
	$D©aCloudTags
() {

472 
throw
 
Ãw
 
	`UnsuµÜ‹dO³¿tiÚExû±iÚ
("DataCloudTags cannot be instantiated");

475 
	}
}

	@src/org/cloudbus/cloudsim/Datacenter.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gM­
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEÁ™y
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

20 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gLogMobe
;

34 
public
 cÏs 
	cD©aûÁ”
 
ex‹nds
 
	mSimEÁ™y
 {

37 
´iv©e
 
D©aûÁ”Ch¬aù”i¡ics
 
	mch¬aù”i¡ics
;

40 
´iv©e
 
SŒšg
 
	m»giÚ®CisName
;

43 
´iv©e
 
VmAÎoÿtiÚPŞicy
 
	mvmAÎoÿtiÚPŞicy
;

46 
´iv©e
 
	mÏ¡ProûssTime
;

49 
´iv©e
 
	mLi¡
<
	mStÜage
> 
	m¡ÜageLi¡
;

52 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mVm
> 
	mvmLi¡
;

55 
´iv©e
 
	mschedulšgIÁ”v®
;

77 
public
 
	$D©aûÁ”
() {

80 
public
 
	$D©aûÁ”
(
SŒšg
 
Çme
){

81 
	`su³r
(
Çme
);

82 
	}
}

83 
public
 
D©aûÁ”
(

84 
SŒšg
 
Çme
,

85 
D©aûÁ”Ch¬aù”i¡ics
 
ch¬aù”i¡ics
,

86 
VmAÎoÿtiÚPŞicy
 
vmAÎoÿtiÚPŞicy
,

87 
Li¡
<
StÜage
> 
¡ÜageLi¡
,

88 
schedulšgIÁ”v®
è
throws
 
	gExû±iÚ
 {

89 
su³r
(
Çme
);

90 
£tCh¬aù”i¡ics
(
ch¬aù”i¡ics
);

91 
£tVmAÎoÿtiÚPŞicy
(
vmAÎoÿtiÚPŞicy
);

92 
£tLa¡ProûssTime
(0.0);

93 
£tStÜageLi¡
(
¡ÜageLi¡
);

94 
£tVmLi¡
(
Ãw
 
A¼ayLi¡
<
Vm
>());

95 
£tSchedulšgIÁ”v®
(
schedulšgIÁ”v®
);

97 
Ho¡
 
	gho¡
 : 
g‘Ch¬aù”i¡ics
().
g‘Ho¡Li¡
()) {

98 
ho¡
.
£tD©aûÁ”
(
this
);

102 ià(
g‘Ch¬aù”i¡ics
().
g‘Numb”OfPes
() == 0) {

103 
throw
 
Ãw
 
Exû±iÚ
(
su³r
.
g‘Name
()

108 
g‘Ch¬aù”i¡ics
().
£tId
(
su³r
.
g‘Id
());

118 
´Ùeùed
 
	$»gi¡”Oth”EÁ™y
() {

120 
	}
}

129 @
Ov”ride


130 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

131 
¤cId
 = -1;

132 
ev
.
	`g‘Tag
()) {

134 
CloudSimTags
.
RESOURCE_CHARACTERISTICS
:

135 
¤cId
 = ((
IÁeg”
è
ev
.
	`g‘D©a
()).
	`štV®ue
();

136 
	`£ndNow
(
¤cId
, 
ev
.
	`g‘Tag
(), 
	`g‘Ch¬aù”i¡ics
());

140 
CloudSimTags
.
RESOURCE_DYNAMICS
:

141 
¤cId
 = ((
IÁeg”
è
ev
.
	`g‘D©a
()).
	`štV®ue
();

142 
	`£ndNow
(
¤cId
, 
ev
.
	`g‘Tag
(), 0);

145 
CloudSimTags
.
RESOURCE_NUM_PE
:

146 
¤cId
 = ((
IÁeg”
è
ev
.
	`g‘D©a
()).
	`štV®ue
();

147 
numPE
 = 
	`g‘Ch¬aù”i¡ics
().
	`g‘Numb”OfPes
();

148 
	`£ndNow
(
¤cId
, 
ev
.
	`g‘Tag
(), 
numPE
);

151 
CloudSimTags
.
RESOURCE_NUM_FREE_PE
:

152 
¤cId
 = ((
IÁeg”
è
ev
.
	`g‘D©a
()).
	`štV®ue
();

153 
ä“PesNumb”
 = 
	`g‘Ch¬aù”i¡ics
().
	`g‘Numb”OfF»ePes
();

154 
	`£ndNow
(
¤cId
, 
ev
.
	`g‘Tag
(), 
ä“PesNumb”
);

158 
CloudSimTags
.
CLOUDLET_SUBMIT
:

159 
	`´oûssCloudËtSubm™
(
ev
, 
çl£
);

163 
CloudSimTags
.
CLOUDLET_SUBMIT_ACK
:

164 
	`´oûssCloudËtSubm™
(
ev
, 
Œue
);

168 
CloudSimTags
.
CLOUDLET_CANCEL
:

169 
	`´oûssCloudËt
(
ev
, 
CloudSimTags
.
CLOUDLET_CANCEL
);

173 
CloudSimTags
.
CLOUDLET_PAUSE
:

174 
	`´oûssCloudËt
(
ev
, 
CloudSimTags
.
CLOUDLET_PAUSE
);

179 
CloudSimTags
.
CLOUDLET_PAUSE_ACK
:

180 
	`´oûssCloudËt
(
ev
, 
CloudSimTags
.
CLOUDLET_PAUSE_ACK
);

184 
CloudSimTags
.
CLOUDLET_RESUME
:

185 
	`´oûssCloudËt
(
ev
, 
CloudSimTags
.
CLOUDLET_RESUME
);

190 
CloudSimTags
.
CLOUDLET_RESUME_ACK
:

191 
	`´oûssCloudËt
(
ev
, 
CloudSimTags
.
CLOUDLET_RESUME_ACK
);

195 
CloudSimTags
.
CLOUDLET_MOVE
:

196 
	`´oûssCloudËtMove
(([]è
ev
.
	`g‘D©a
(), 
CloudSimTags
.
CLOUDLET_MOVE
);

200 
CloudSimTags
.
CLOUDLET_MOVE_ACK
:

201 
	`´oûssCloudËtMove
(([]è
ev
.
	`g‘D©a
(), 
CloudSimTags
.
CLOUDLET_MOVE_ACK
);

205 
CloudSimTags
.
CLOUDLET_STATUS
:

206 
	`´oûssCloudËtStus
(
ev
);

210 
CloudSimTags
.
INFOPKT_SUBMIT
:

211 
	`´oûssPšgReque¡
(
ev
);

214 
CloudSimTags
.
VM_CREATE
:

215 
	`´oûssVmC»©e
(
ev
, 
çl£
);

218 
CloudSimTags
.
VM_CREATE_ACK
:

219 
	`´oûssVmC»©e
(
ev
, 
Œue
);

222 
CloudSimTags
.
VM_DESTROY
:

223 
	`´oûssVmDe¡roy
(
ev
, 
çl£
);

226 
CloudSimTags
.
VM_DESTROY_ACK
:

227 
	`´oûssVmDe¡roy
(
ev
, 
Œue
);

230 
CloudSimTags
.
VM_MIGRATE
:

231 
	`´oûssVmMig¿‹
(
ev
, 
çl£
);

234 
CloudSimTags
.
VM_MIGRATE_ACK
:

235 
	`´oûssVmMig¿‹
(
ev
, 
Œue
);

238 
CloudSimTags
.
VM_DATA_ADD
:

239 
	`´oûssD©aAdd
(
ev
, 
çl£
);

242 
CloudSimTags
.
VM_DATA_ADD_ACK
:

243 
	`´oûssD©aAdd
(
ev
, 
Œue
);

246 
CloudSimTags
.
VM_DATA_DEL
:

247 
	`´oûssD©aD–‘e
(
ev
, 
çl£
);

250 
CloudSimTags
.
VM_DATA_DEL_ACK
:

251 
	`´oûssD©aD–‘e
(
ev
, 
Œue
);

254 
CloudSimTags
.
VM_DATACENTER_EVENT
:

255 
	`upd©eCloudËtProûssšg
();

256 
	`checkCloudËtCom¶‘iÚ
();

261 
	`´oûssOth”Ev’t
(
ev
);

264 
	}
}

272 
´Ùeùed
 
	$´oûssD©aD–‘e
(
SimEv’t
 
ev
, 
boŞ—n
 
ack
) {

273 ià(
ev
 =ğ
nuÎ
) {

277 
Objeù
[] 
d©a
 = (Objeù[]è
ev
.
	`g‘D©a
();

278 ià(
d©a
 =ğ
nuÎ
) {

282 
SŒšg
 
f’ame
 = (SŒšgè
d©a
[0];

283 
»q_sourû
 = ((
IÁeg”
è
d©a
[1]).
	`štV®ue
();

284 
g
 = -1;

287 
msg
 = 
	`d–‘eFeFromStÜage
(
f’ame
);

288 ià(
msg
 =ğ
D©aCloudTags
.
FILE_DELETE_SUCCESSFUL
) {

289 
g
 = 
D©aCloudTags
.
CTLG_DELETE_MASTER
;

291 
g
 = 
D©aCloudTags
.
FILE_DELETE_MASTER_RESULT
;

294 ià(
ack
) {

296 
Objeù
 
·ck
[] = 
Ãw
 Object[2];

297 
·ck
[0] = 
f’ame
;

298 
·ck
[1] = 
IÁeg”
.
	`v®ueOf
(
msg
);

300 
	`£ndNow
(
»q_sourû
, 
g
, 
·ck
);

302 
	}
}

310 
´Ùeùed
 
	$´oûssD©aAdd
(
SimEv’t
 
ev
, 
boŞ—n
 
ack
) {

311 ià(
ev
 =ğ
nuÎ
) {

315 
Objeù
[] 
·ck
 = (Objeù[]è
ev
.
	`g‘D©a
();

316 ià(
·ck
 =ğ
nuÎ
) {

320 
Fe
 
fe
 = (Feè
·ck
[0];

321 
fe
.
	`£tMa¡”Cİy
(
Œue
);

322 
£ÁFrom
 = ((
IÁeg”
è
·ck
[1]).
	`štV®ue
();

329 
Objeù
[] 
d©a
 = 
Ãw
 Object[3];

330 
d©a
[0] = 
fe
.
	`g‘Name
();

332 
msg
 = 
	`addFe
(
fe
);

334 ià(
ack
) {

335 
d©a
[1] = 
IÁeg”
.
	`v®ueOf
(-1);

336 
d©a
[2] = 
IÁeg”
.
	`v®ueOf
(
msg
);

337 
	`£ndNow
(
£ÁFrom
, 
D©aCloudTags
.
FILE_ADD_MASTER_RESULT
, 
d©a
);

339 
	}
}

348 
´Ùeùed
 
	$´oûssPšgReque¡
(
SimEv’t
 
ev
) {

349 
InfoPack‘
 
pkt
 = (InfoPack‘è
ev
.
	`g‘D©a
();

350 
pkt
.
	`£tTag
(
CloudSimTags
.
INFOPKT_RETURN
);

351 
pkt
.
	`£tDe¡Id
Õkt.
	`g‘SrcId
());

354 
	`£ndNow
(
pkt
.
	`g‘SrcId
(), 
CloudSimTags
.
INFOPKT_RETURN
,…kt);

355 
	}
}

365 
´Ùeùed
 
	$´oûssCloudËtStus
(
SimEv’t
 
ev
) {

366 
şoudËtId
 = 0;

367 
u£rId
 = 0;

368 
vmId
 = 0;

369 
¡©us
 = -1;

371 
Œy
 {

373 
d©a
[] = ([]è
ev
.
	`g‘D©a
();

374 
şoudËtId
 = 
d©a
[0];

375 
u£rId
 = 
d©a
[1];

376 
vmId
 = 
d©a
[2];

378 
¡©us
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡
(
vmId
, 
u£rId
).
	`g‘Vm
(vmId,u£rId).
	`g‘CloudËtScheduËr
()

379 .
	`g‘CloudËtStus
(
şoudËtId
);

383 
	`ÿtch
 (
CÏssCa¡Exû±iÚ
 
c
) {

384 
Œy
 {

385 
CloudËt
 
ş
 = (CloudËtè
ev
.
	`g‘D©a
();

386 
şoudËtId
 = 
ş
.
	`g‘CloudËtId
();

387 
u£rId
 = 
ş
.
	`g‘U£rId
();

389 
¡©us
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡
(
vmId
, 
u£rId
).
	`g‘Vm
(vmId,userId)

390 .
	`g‘CloudËtScheduËr
().
	`g‘CloudËtStus
(
şoudËtId
);

391 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

392 
Log
.
	`´štLše
(
	`g‘Name
() + ": Error in…rocessing CloudSimTags.CLOUDLET_STATUS");

393 
Log
.
	`´štLše
(
e
.
	`g‘Mes§ge
());

396 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

397 
Log
.
	`´štLše
(
	`g‘Name
() + ": Error in…rocessing CloudSimTags.CLOUDLET_STATUS");

398 
Log
.
	`´štLše
(
e
.
	`g‘Mes§ge
());

402 [] 
¬¿y
 = 
Ãw
 [3];

403 
¬¿y
[0] = 
	`g‘Id
();

404 
¬¿y
[1] = 
şoudËtId
;

405 
¬¿y
[2] = 
¡©us
;

407 
g
 = 
CloudSimTags
.
CLOUDLET_STATUS
;

408 
	`£ndNow
(
u£rId
, 
g
, 
¬¿y
);

409 
	}
}

419 
´Ùeùed
 
	$´oûssOth”Ev’t
(
SimEv’t
 
ev
) {

420 ià(
ev
 =ğ
nuÎ
) {

421 
Log
.
	`´štLše
(
	`g‘Name
() + ".processOtherEvent(): Error -‡nƒvent is‚ull.");

423 
	}
}

434 
´Ùeùed
 
	$´oûssVmC»©e
(
SimEv’t
 
ev
, 
boŞ—n
 
ack
) {

435 
Vm
 
vm
 = (Vmè
ev
.
	`g‘D©a
();

437 
boŞ—n
 
»suÉ
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`®loÿ‹Ho¡FÜVm
(
vm
);

439 ià(
ack
) {

440 [] 
d©a
 = 
Ãw
 [3];

441 
d©a
[0] = 
	`g‘Id
();

442 
d©a
[1] = 
vm
.
	`g‘Id
();

444 ià(
»suÉ
) {

445 
d©a
[2] = 
CloudSimTags
.
TRUE
;

447 
d©a
[2] = 
CloudSimTags
.
FALSE
;

449 
	`£nd
(
vm
.
	`g‘U£rId
(), 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
(), 
CloudSimTags
.
VM_CREATE_ACK
, 
d©a
);

452 ià(
»suÉ
) {

453 
	`g‘VmLi¡
().
	`add
(
vm
);

455 ià(
vm
.
	`isBešgIn¡ªtŸ‹d
()) {

456 
vm
.
	`£tBešgIn¡ªtŸ‹d
(
çl£
);

458 
vm
.
	`upd©eVmProûssšg
(
CloudSim
.
	`şock
(), 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡
(vm).
	`g‘VmScheduËr
()

459 .
	`g‘AÎoÿ‹dMsFÜVm
(
vm
));

462 
	}
}

474 
´Ùeùed
 
	$´oûssVmDe¡roy
(
SimEv’t
 
ev
, 
boŞ—n
 
ack
) {

475 
Vm
 
vm
 = (Vmè
ev
.
	`g‘D©a
();

476 
	`g‘VmAÎoÿtiÚPŞicy
().
	`d—Îoÿ‹Ho¡FÜVm
(
vm
);

478 ià(
ack
) {

479 [] 
d©a
 = 
Ãw
 [3];

480 
d©a
[0] = 
	`g‘Id
();

481 
d©a
[1] = 
vm
.
	`g‘Id
();

482 
d©a
[2] = 
CloudSimTags
.
TRUE
;

484 
	`£ndNow
(
vm
.
	`g‘U£rId
(), 
CloudSimTags
.
VM_DESTROY_ACK
, 
d©a
);

487 
	`g‘VmLi¡
().
	`»move
(
vm
);

488 
	}
}

498 
´Ùeùed
 
	$´oûssVmMig¿‹
(
SimEv’t
 
ev
, 
boŞ—n
 
ack
) {

499 
Objeù
 
tmp
 = 
ev
.
	`g‘D©a
();

500 ià(!(
tmp
 
š¡ªûof
 
M­
<?, ?>)) {

501 
throw
 
Ãw
 
	`CÏssCa¡Exû±iÚ
("The data object must be Map<String, Object>");

504 @
	`Suµ»ssW¬nšgs
("unchecked")

505 
M­
<
SŒšg
, 
Objeù
> 
mig¿‹
 = (
HashM­
<SŒšg, Objeù>è
tmp
;

507 
Vm
 
vm
 = (Vmè
mig¿‹
.
	`g‘
("vm");

508 
Ho¡
 
ho¡
 = (Ho¡è
mig¿‹
.
	`g‘
("host");

510 
	`g‘VmAÎoÿtiÚPŞicy
().
	`d—Îoÿ‹Ho¡FÜVm
(
vm
);

511 
ho¡
.
	`»moveMig¿tšgInVm
(
vm
);

512 
boŞ—n
 
»suÉ
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`®loÿ‹Ho¡FÜVm
(
vm
, 
ho¡
);

513 ià(!
»suÉ
) {

514 
Log
.
	`´štLše
("[Datacenter.processVmMigrate] VM‡llocationohe destination host failed");

515 
Sy¡em
.
	`ex™
(0);

518 ià(
ack
) {

519 [] 
d©a
 = 
Ãw
 [3];

520 
d©a
[0] = 
	`g‘Id
();

521 
d©a
[1] = 
vm
.
	`g‘Id
();

523 ià(
»suÉ
) {

524 
d©a
[2] = 
CloudSimTags
.
TRUE
;

526 
d©a
[2] = 
CloudSimTags
.
FALSE
;

528 
	`£ndNow
(
ev
.
	`g‘Sourû
(), 
CloudSimTags
.
VM_CREATE_ACK
, 
d©a
);

531 
Log
.
	`fÜm©Lše
(

533 
CloudSim
.
	`şock
(),

534 
vm
.
	`g‘Id
(),

535 
ho¡
.
	`g‘Id
());

536 
LogMobe
.
	`debug
("D©aûÁ”.java","VM mig¿tiÚ i com¶‘ed: VM# "+
vm
.
	`g‘Id
()+" Ho¡# " +
ho¡
.g‘Id()+ " from "+
	`g‘Name
());

537 
vm
.
	`£tInMig¿tiÚ
(
çl£
);

538 
	}
}

549 
´Ùeùed
 
	$´oûssCloudËt
(
SimEv’t
 
ev
, 
ty³
) {

550 
şoudËtId
 = 0;

551 
u£rId
 = 0;

552 
vmId
 = 0;

554 
Œy
 {

555 
d©a
[] = ([]è
ev
.
	`g‘D©a
();

556 
şoudËtId
 = 
d©a
[0];

557 
u£rId
 = 
d©a
[1];

558 
vmId
 = 
d©a
[2];

562 
	`ÿtch
 (
CÏssCa¡Exû±iÚ
 
c
) {

563 
Œy
 {

564 
CloudËt
 
ş
 = (CloudËtè
ev
.
	`g‘D©a
();

565 
şoudËtId
 = 
ş
.
	`g‘CloudËtId
();

566 
u£rId
 = 
ş
.
	`g‘U£rId
();

567 
vmId
 = 
ş
.
	`g‘VmId
();

568 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

569 
Log
.
	`´štLše
(
su³r
.
	`g‘Name
() + ": Error in…rocessing Cloudlet");

570 
Log
.
	`´štLše
(
e
.
	`g‘Mes§ge
());

573 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

574 
Log
.
	`´štLše
(
su³r
.
	`g‘Name
() + ": Error in…rocessing‡ Cloudlet.");

575 
Log
.
	`´štLše
(
e
.
	`g‘Mes§ge
());

580 
ty³
) {

581 
CloudSimTags
.
CLOUDLET_CANCEL
:

582 
	`´oûssCloudËtCªûl
(
şoudËtId
, 
u£rId
, 
vmId
);

585 
CloudSimTags
.
CLOUDLET_PAUSE
:

586 
	`´oûssCloudËtPau£
(
şoudËtId
, 
u£rId
, 
vmId
, 
çl£
);

589 
CloudSimTags
.
CLOUDLET_PAUSE_ACK
:

590 
	`´oûssCloudËtPau£
(
şoudËtId
, 
u£rId
, 
vmId
, 
Œue
);

593 
CloudSimTags
.
CLOUDLET_RESUME
:

594 
	`´oûssCloudËtResume
(
şoudËtId
, 
u£rId
, 
vmId
, 
çl£
);

597 
CloudSimTags
.
CLOUDLET_RESUME_ACK
:

598 
	`´oûssCloudËtResume
(
şoudËtId
, 
u£rId
, 
vmId
, 
Œue
);

604 
	}
}

615 
´Ùeùed
 
	$´oûssCloudËtMove
([] 
»ûivedD©a
, 
ty³
) {

616 
	`upd©eCloudËtProûssšg
();

618 [] 
¬¿y
 = 
»ûivedD©a
;

619 
şoudËtId
 = 
¬¿y
[0];

620 
u£rId
 = 
¬¿y
[1];

621 
vmId
 = 
¬¿y
[2];

622 
vmDe¡Id
 = 
¬¿y
[3];

623 
de¡Id
 = 
¬¿y
[4];

626 
CloudËt
 
ş
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡
(
vmId
, 
u£rId
).
	`g‘Vm
(vmId,userId)

627 .
	`g‘CloudËtScheduËr
().
	`şoudËtCªûl
(
şoudËtId
);

629 
boŞ—n
 
çed
 = 
çl£
;

630 ià(
ş
 =ğ
nuÎ
) {

631 
çed
 = 
Œue
;

634 ià(
ş
.
	`g‘CloudËtStus
(è=ğ
CloudËt
.
SUCCESS
) {

635 [] 
d©a
 = 
Ãw
 [3];

636 
d©a
[0] = 
	`g‘Id
();

637 
d©a
[1] = 
şoudËtId
;

638 
d©a
[2] = 0;

639 
	`£ndNow
(
ş
.
	`g‘U£rId
(), 
CloudSimTags
.
CLOUDLET_SUBMIT_ACK
, 
d©a
);

640 
	`£ndNow
(
ş
.
	`g‘U£rId
(), 
CloudSimTags
.
CLOUDLET_RETURN
, cl);

644 
ş
.
	`£tVmId
(
vmDe¡Id
);

647 ià(
de¡Id
 =ğ
	`g‘Id
()) {

648 
Vm
 
vm
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡
(
vmDe¡Id
, 
u£rId
).
	`g‘Vm
(vmDestId,userId);

649 ià(
vm
 =ğ
nuÎ
) {

650 
çed
 = 
Œue
;

653 
feT¿nsãrTime
 = 
	`´ediùFeT¿nsãrTime
(
ş
.
	`g‘RequœedFes
());

654 
vm
.
	`g‘CloudËtScheduËr
().
	`şoudËtSubm™
(
ş
, 
feT¿nsãrTime
);

657 
g
 = ((
ty³
 =ğ
CloudSimTags
.
CLOUDLET_MOVE_ACK
è? CloudSimTags.
CLOUDLET_SUBMIT_ACK


658 : 
CloudSimTags
.
CLOUDLET_SUBMIT
);

659 
	`£ndNow
(
de¡Id
, 
g
, 
ş
);

663 ià(
ty³
 =ğ
CloudSimTags
.
CLOUDLET_MOVE_ACK
) {

664 [] 
d©a
 = 
Ãw
 [3];

665 
d©a
[0] = 
	`g‘Id
();

666 
d©a
[1] = 
şoudËtId
;

667 ià(
çed
) {

668 
d©a
[2] = 0;

670 
d©a
[2] = 1;

672 
	`£ndNow
(
ş
.
	`g‘U£rId
(), 
CloudSimTags
.
CLOUDLET_SUBMIT_ACK
, 
d©a
);

674 
	}
}

684 
´Ùeùed
 
	$´oûssCloudËtSubm™
(
SimEv’t
 
ev
, 
boŞ—n
 
ack
) {

685 
	`upd©eCloudËtProûssšg
();

686 
Œy
 {

688 
CloudËt
 
ş
 = (CloudËtè
ev
.
	`g‘D©a
();

690 ià(
ş
.
	`isFšished
()) {

691 
SŒšg
 
Çme
 = 
CloudSim
.
	`g‘EÁ™yName
(
ş
.
	`g‘U£rId
());

692 
Log
.
	`´štLše
(
	`g‘Name
(è+ ": W¬nšg - CloudËˆ#" + 
ş
.
	`g‘CloudËtId
(è+ " owÃd by " + 
Çme


694 
Log
.
	`´štLše
("Therefore, it is‚ot beingƒxecuted‡gain");

695 
Log
.
	`´štLše
();

702 ià(
ack
) {

703 [] 
d©a
 = 
Ãw
 [3];

704 
d©a
[0] = 
	`g‘Id
();

705 
d©a
[1] = 
ş
.
	`g‘CloudËtId
();

706 
d©a
[2] = 
CloudSimTags
.
FALSE
;

709 
g
 = 
CloudSimTags
.
CLOUDLET_SUBMIT_ACK
;

710 
	`£ndNow
(
ş
.
	`g‘U£rId
(), 
g
, 
d©a
);

713 
	`£ndNow
(
ş
.
	`g‘U£rId
(), 
CloudSimTags
.
CLOUDLET_RETURN
, cl);

719 
ş
.
	`£tResourûP¬am‘”
(
	`g‘Id
(), 
	`g‘Ch¬aù”i¡ics
().
	`g‘Co¡P”SecÚd
(), getCharacteristics()

720 .
	`g‘Co¡P”Bw
());

722 
u£rId
 = 
ş
.
	`g‘U£rId
();

723 
vmId
 = 
ş
.
	`g‘VmId
();

725 
feT¿nsãrTime
 = 
	`´ediùFeT¿nsãrTime
(
ş
.
	`g‘RequœedFes
());

726 
Ho¡
 
ho¡
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡
(
vmId
, 
u£rId
);

727 
Vm
 
vm
 = 
ho¡
.
	`g‘Vm
(
vmId
, 
u£rId
);

728 
CloudËtScheduËr
 
scheduËr
 = 
vm
.
	`g‘CloudËtScheduËr
();

729 
e¡im©edFšishTime
 = 
scheduËr
.
	`şoudËtSubm™
(
ş
, 
feT¿nsãrTime
);

732 ià(
e¡im©edFšishTime
 > 0.0 && !
DoubË
.
	`isInfš™e
(estimatedFinishTime)) {

733 
e¡im©edFšishTime
 +ğ
feT¿nsãrTime
;

737 
	`£nd
(
	`g‘Id
(), 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
()

738 +
e¡im©edFšishTime
, 
CloudSimTags
.
VM_DATACENTER_EVENT
);

742 ià(
ack
) {

743 [] 
d©a
 = 
Ãw
 [3];

744 
d©a
[0] = 
	`g‘Id
();

745 
d©a
[1] = 
ş
.
	`g‘CloudËtId
();

746 
d©a
[2] = 
CloudSimTags
.
TRUE
;

749 
g
 = 
CloudSimTags
.
CLOUDLET_SUBMIT_ACK
;

750 
	`£ndNow
(
ş
.
	`g‘U£rId
(), 
g
, 
d©a
);

752 } 
	`ÿtch
 (
CÏssCa¡Exû±iÚ
 
c
) {

753 
Log
.
	`´štLše
(
	`g‘Name
() + ".processCloudletSubmit(): " + "ClassCastExceptionƒrror.");

754 
c
.
	`´štSckT¿û
();

755 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

756 
Log
.
	`´štLše
(
	`g‘Name
() + ".processCloudletSubmit(): " + "Exceptionƒrror.");

757 
e
.
	`´štSckT¿û
();

760 
	`checkCloudËtCom¶‘iÚ
();

761 
	}
}

769 
´Ùeùed
 
´ediùFeT¿nsãrTime
(
Li¡
<
SŒšg
> 
»quœedFes
) {

770 
	gtime
 = 0.0;

772 
	gI‹¿tÜ
<
	gSŒšg
> 
	g™”
 = 
»quœedFes
.
™”©Ü
();

773 
	g™”
.
hasNext
()) {

774 
SŒšg
 
	gfeName
 = 
™”
.
Ãxt
();

775 
	gi
 = 0; i < 
g‘StÜageLi¡
().
size
(); i++) {

776 
StÜage
 
	g‹mpStÜage
 = 
g‘StÜageLi¡
().
g‘
(
i
);

777 
Fe
 
	g‹mpFe
 = 
‹mpStÜage
.
g‘Fe
(
feName
);

778 ià(
	g‹mpFe
 !ğ
nuÎ
) {

779 
time
 +ğ
‹mpFe
.
g‘Size
(è/ 
‹mpStÜage
.
g‘MaxT¿nsãrR©e
();

784  
	gtime
;

797 
´Ùeùed
 
	$´oûssCloudËtResume
(
şoudËtId
, 
u£rId
, 
vmId
, 
boŞ—n
 
ack
) {

798 
ev’tTime
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡
(
vmId
, 
u£rId
).
	`g‘Vm
(vmId,userId)

799 .
	`g‘CloudËtScheduËr
().
	`şoudËtResume
(
şoudËtId
);

801 
boŞ—n
 
¡©us
 = 
çl£
;

802 ià(
ev’tTime
 > 0.0) {

803 
¡©us
 = 
Œue
;

804 ià(
ev’tTime
 > 
CloudSim
.
	`şock
()) {

805 
	`scheduË
(
	`g‘Id
(), 
ev’tTime
, 
CloudSimTags
.
VM_DATACENTER_EVENT
);

809 ià(
ack
) {

810 [] 
d©a
 = 
Ãw
 [3];

811 
d©a
[0] = 
	`g‘Id
();

812 
d©a
[1] = 
şoudËtId
;

813 ià(
¡©us
) {

814 
d©a
[2] = 
CloudSimTags
.
TRUE
;

816 
d©a
[2] = 
CloudSimTags
.
FALSE
;

818 
	`£ndNow
(
u£rId
, 
CloudSimTags
.
CLOUDLET_RESUME_ACK
, 
d©a
);

820 
	}
}

832 
´Ùeùed
 
	$´oûssCloudËtPau£
(
şoudËtId
, 
u£rId
, 
vmId
, 
boŞ—n
 
ack
) {

833 
boŞ—n
 
¡©us
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡
(
vmId
, 
u£rId
).
	`g‘Vm
(vmId,userId)

834 .
	`g‘CloudËtScheduËr
().
	`şoudËtPau£
(
şoudËtId
);

836 ià(
ack
) {

837 [] 
d©a
 = 
Ãw
 [3];

838 
d©a
[0] = 
	`g‘Id
();

839 
d©a
[1] = 
şoudËtId
;

840 ià(
¡©us
) {

841 
d©a
[2] = 
CloudSimTags
.
TRUE
;

843 
d©a
[2] = 
CloudSimTags
.
FALSE
;

845 
	`£ndNow
(
u£rId
, 
CloudSimTags
.
CLOUDLET_PAUSE_ACK
, 
d©a
);

847 
	}
}

858 
´Ùeùed
 
	$´oûssCloudËtCªûl
(
şoudËtId
, 
u£rId
, 
vmId
) {

859 
CloudËt
 
ş
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡
(
vmId
, 
u£rId
).
	`g‘Vm
(vmId,userId)

860 .
	`g‘CloudËtScheduËr
().
	`şoudËtCªûl
(
şoudËtId
);

861 
	`£ndNow
(
u£rId
, 
CloudSimTags
.
CLOUDLET_CANCEL
, 
ş
);

862 
	}
}

872 
´Ùeùed
 
	$upd©eCloudËtProûssšg
() {

877 ià(
CloudSim
.
	`şock
(è< 0.111 || CloudSim.şock(è> 
	`g‘La¡ProûssTime
(è+ CloudSim.
	`g‘MšTimeB‘w“nEv’ts
()) {

878 
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡Li¡
();

879 
sm®ËrTime
 = 
DoubË
.
MAX_VALUE
;

881 
i
 = 0; i < 
li¡
.
	`size
(); i++) {

882 
Ho¡
 
ho¡
 = 
li¡
.
	`g‘
(
i
);

884 
time
 = 
ho¡
.
	`upd©eVmsProûssšg
(
CloudSim
.
	`şock
());

886 ià(
time
 < 
sm®ËrTime
) {

887 
sm®ËrTime
 = 
time
;

891 ià(
sm®ËrTime
 < 
CloudSim
.
	`şock
(è+ CloudSim.
	`g‘MšTimeB‘w“nEv’ts
() + 0.01) {

892 
sm®ËrTime
 = 
CloudSim
.
	`şock
(è+ CloudSim.
	`g‘MšTimeB‘w“nEv’ts
() + 0.01;

894 ià(
sm®ËrTime
 !ğ
DoubË
.
MAX_VALUE
) {

895 
	`scheduË
(
	`g‘Id
(), (
sm®ËrTime
 - 
CloudSim
.
	`şock
()), 
CloudSimTags
.
VM_DATACENTER_EVENT
);

897 
	`£tLa¡ProûssTime
(
CloudSim
.
	`şock
());

899 
	}
}

908 
´Ùeùed
 
	$checkCloudËtCom¶‘iÚ
() {

909 
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡Li¡
();

910 
i
 = 0; i < 
li¡
.
	`size
(); i++) {

911 
Ho¡
 
ho¡
 = 
li¡
.
	`g‘
(
i
);

912 
Vm
 
vm
 : 
ho¡
.
	`g‘VmLi¡
()) {

913 
vm
.
	`g‘CloudËtScheduËr
().
	`isFšishedCloudËts
()) {

914 
CloudËt
 
ş
 = 
vm
.
	`g‘CloudËtScheduËr
().
	`g‘NextFšishedCloudËt
();

915 ià(
ş
 !ğ
nuÎ
) {

916 
	`£ndNow
(
ş
.
	`g‘U£rId
(), 
CloudSimTags
.
CLOUDLET_RETURN
, cl);

921 
	}
}

930 
public
 
	$addFe
(
Fe
 
fe
) {

931 ià(
fe
 =ğ
nuÎ
) {

932  
D©aCloudTags
.
FILE_ADD_ERROR_EMPTY
;

935 ià(
	`cÚšs
(
fe
.
	`g‘Name
())) {

936  
D©aCloudTags
.
FILE_ADD_ERROR_EXIST_READ_ONLY
;

940 ià(
	`g‘StÜageLi¡
().
	`size
() <= 0) {

941  
D©aCloudTags
.
FILE_ADD_ERROR_STORAGE_FULL
;

944 
StÜage
 
‹mpStÜage
 = 
nuÎ
;

945 
msg
 = 
D©aCloudTags
.
FILE_ADD_ERROR_STORAGE_FULL
;

947 
i
 = 0; i < 
	`g‘StÜageLi¡
().
	`size
(); i++) {

948 
‹mpStÜage
 = 
	`g‘StÜageLi¡
().
	`g‘
(
i
);

949 ià(
‹mpStÜage
.
	`g‘AvaabËS·û
(è>ğ
fe
.
	`g‘Size
()) {

950 
‹mpStÜage
.
	`addFe
(
fe
);

951 
msg
 = 
D©aCloudTags
.
FILE_ADD_SUCCESSFUL
;

956  
msg
;

957 
	}
}

965 
´Ùeùed
 
boŞ—n
 
	$cÚšs
(
Fe
 
fe
) {

966 ià(
fe
 =ğ
nuÎ
) {

967  
çl£
;

969  
	`cÚšs
(
fe
.
	`g‘Name
());

970 
	}
}

978 
´Ùeùed
 
boŞ—n
 
	$cÚšs
(
SŒšg
 
feName
) {

979 ià(
feName
 =ğ
nuÎ
 || feName.
	`Ëngth
() == 0) {

980  
çl£
;

983 
I‹¿tÜ
<
StÜage
> 
™
 = 
	`g‘StÜageLi¡
().
	`™”©Ü
();

984 
StÜage
 
¡Üage
 = 
nuÎ
;

985 
boŞ—n
 
»suÉ
 = 
çl£
;

987 
™
.
	`hasNext
()) {

988 
¡Üage
 = 
™
.
	`Ãxt
();

989 ià(
¡Üage
.
	`cÚšs
(
feName
)) {

990 
»suÉ
 = 
Œue
;

995  
»suÉ
;

996 
	}
}

1005 
´iv©e
 
	$d–‘eFeFromStÜage
(
SŒšg
 
feName
) {

1006 
StÜage
 
‹mpStÜage
 = 
nuÎ
;

1007 
Fe
 
‹mpFe
 = 
nuÎ
;

1008 
msg
 = 
D©aCloudTags
.
FILE_DELETE_ERROR
;

1010 
i
 = 0; i < 
	`g‘StÜageLi¡
().
	`size
(); i++) {

1011 
‹mpStÜage
 = 
	`g‘StÜageLi¡
().
	`g‘
(
i
);

1012 
‹mpFe
 = 
‹mpStÜage
.
	`g‘Fe
(
feName
);

1013 
‹mpStÜage
.
	`d–‘eFe
(
feName
, 
‹mpFe
);

1014 
msg
 = 
D©aCloudTags
.
FILE_DELETE_SUCCESSFUL
;

1017  
msg
;

1018 
	}
}

1024 @
Ov”ride


1025 
public
 
	$shutdownEÁ™y
() {

1026 
Log
.
	`´štLše
(
	`g‘Name
() + " is shutting down...");

1027 
	}
}

1033 @
Ov”ride


1034 
public
 
	$¡¬tEÁ™y
() {

1035 
Log
.
	`´štLše
(
	`g‘Name
() + " is starting...");

1039 
gisID
 = 
CloudSim
.
	`g‘EÁ™yId
(
»giÚ®CisName
);

1040 ià(
gisID
 == -1) {

1041 
gisID
 = 
CloudSim
.
	`g‘CloudInfoS”viûEÁ™yId
();

1045 
	`£ndNow
(
gisID
, 
CloudSimTags
.
REGISTER_RESOURCE
, 
	`g‘Id
());

1047 
	`»gi¡”Oth”EÁ™y
();

1048 
	}
}

1055 @
Suµ»ssW¬nšgs
("unchecked")

1056 
	gpublic
 <
T
 
ex‹nds
 
	gHo¡
> 
	gLi¡
<
	gT
> 
	$g‘Ho¡Li¡
() {

1057  (
Li¡
<
T
>è
	`g‘Ch¬aù”i¡ics
().
	`g‘Ho¡Li¡
();

1058 
	}
}

1065 
public
 
D©aûÁ”Ch¬aù”i¡ics
 
	$g‘Ch¬aù”i¡ics
() {

1066  
ch¬aù”i¡ics
;

1067 
	}
}

1074 
´Ùeùed
 
	$£tCh¬aù”i¡ics
(
D©aûÁ”Ch¬aù”i¡ics
 
ch¬aù”i¡ics
) {

1075 
this
.
ch¬aù”i¡ics
 = characteristics;

1076 
	}
}

1083 
´Ùeùed
 
SŒšg
 
	$g‘RegiÚ®CisName
() {

1084  
»giÚ®CisName
;

1085 
	}
}

1092 
´Ùeùed
 
	$£tRegiÚ®CisName
(
SŒšg
 
»giÚ®CisName
) {

1093 
this
.
»giÚ®CisName
 =„egionalCisName;

1094 
	}
}

1101 
public
 
VmAÎoÿtiÚPŞicy
 
	$g‘VmAÎoÿtiÚPŞicy
() {

1102  
vmAÎoÿtiÚPŞicy
;

1103 
	}
}

1110 
´Ùeùed
 
	$£tVmAÎoÿtiÚPŞicy
(
VmAÎoÿtiÚPŞicy
 
vmAÎoÿtiÚPŞicy
) {

1111 
this
.
vmAÎoÿtiÚPŞicy
 = vmAllocationPolicy;

1112 
	}
}

1119 
´Ùeùed
 
	$g‘La¡ProûssTime
() {

1120  
Ï¡ProûssTime
;

1121 
	}
}

1128 
´Ùeùed
 
	$£tLa¡ProûssTime
(
Ï¡ProûssTime
) {

1129 
this
.
Ï¡ProûssTime
 =†astProcessTime;

1130 
	}
}

1137 
´Ùeùed
 
	gLi¡
<
	gStÜage
> 
	$g‘StÜageLi¡
() {

1138  
¡ÜageLi¡
;

1139 
	}
}

1146 
´Ùeùed
 
£tStÜageLi¡
(
Li¡
<
StÜage
> 
¡ÜageLi¡
) {

1147 
	gthis
.
	g¡ÜageLi¡
 = 
¡ÜageLi¡
;

1155 @
Suµ»ssW¬nšgs
("unchecked")

1156 
	gpublic
 <
T
 
ex‹nds
 
	gVm
> 
	gLi¡
<
	gT
> 
	$g‘VmLi¡
() {

1157  (
Li¡
<
T
>è
vmLi¡
;

1158 
	}
}

1165 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gVm
> 
£tVmLi¡
(
Li¡
<T> 
vmLi¡
) {

1166 
	gthis
.
	gvmLi¡
 = 
vmLi¡
;

1174 
´Ùeùed
 
	$g‘SchedulšgIÁ”v®
() {

1175  
schedulšgIÁ”v®
;

1176 
	}
}

1183 
´Ùeùed
 
	$£tSchedulšgIÁ”v®
(
schedulšgIÁ”v®
) {

1184 
this
.
schedulšgIÁ”v®
 = schedulingInterval;

1185 
	}
}

	@src/org/cloudbus/cloudsim/DatacenterBroker.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gjava
.
	gut
.
	gM­
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEÁ™y
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gCloudËtLi¡
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gVmLi¡
;

32 
public
 cÏs 
	cD©aûÁ”Brok”
 
ex‹nds
 
	mSimEÁ™y
 {

35 
´Ùeùed
 
	mLi¡
<? 
ex‹nds
 
	mVm
> 
	mvmLi¡
;

38 
´Ùeùed
 
	mLi¡
<? 
ex‹nds
 
	mVm
> 
	mvmsC»©edLi¡
;

41 
´Ùeùed
 
	mLi¡
<? 
ex‹nds
 
	mCloudËt
> 
	mşoudËtLi¡
;

44 
´Ùeùed
 
	mLi¡
<? 
ex‹nds
 
	mCloudËt
> 
	mşoudËtSubm™‹dLi¡
;

47 
´Ùeùed
 
	mLi¡
<? 
ex‹nds
 
	mCloudËt
> 
	mşoudËtReûivedLi¡
;

50 
´Ùeùed
 
	mşoudËtsSubm™‹d
;

53 
´Ùeùed
 
	mvmsReque¡ed
;

56 
´Ùeùed
 
	mvmsAcks
;

59 
´Ùeùed
 
	mvmsDe¡royed
;

62 
´Ùeùed
 
	mLi¡
<
	mIÁeg”
> 
	md©aûÁ”IdsLi¡
;

65 
´Ùeùed
 
	mLi¡
<
	mIÁeg”
> 
	md©aûÁ”Reque¡edIdsLi¡
;

68 
´Ùeùed
 
	mM­
<
	mIÁeg”
, IÁeg”> 
	mvmsToD©aûÁ”sM­
;

71 
´Ùeùed
 
	mM­
<
	mIÁeg”
, 
	mD©aûÁ”Ch¬aù”i¡ics
> 
	md©aûÁ”Ch¬aù”i¡icsLi¡
;

82 
public
 
	$D©aûÁ”Brok”
(
SŒšg
 
Çme
è
throws
 
Exû±iÚ
 {

83 
	`su³r
(
Çme
);

85 
	`£tVmLi¡
(
Ãw
 
A¼ayLi¡
<
Vm
>());

86 
	`£tVmsC»©edLi¡
(
Ãw
 
A¼ayLi¡
<
Vm
>());

87 
	`£tCloudËtLi¡
(
Ãw
 
A¼ayLi¡
<
CloudËt
>());

88 
	`£tCloudËtSubm™‹dLi¡
(
Ãw
 
A¼ayLi¡
<
CloudËt
>());

89 
	`£tCloudËtReûivedLi¡
(
Ãw
 
A¼ayLi¡
<
CloudËt
>());

91 
şoudËtsSubm™‹d
 = 0;

92 
	`£tVmsReque¡ed
(0);

93 
	`£tVmsAcks
(0);

94 
	`£tVmsDe¡royed
(0);

96 
	`£tD©aûÁ”IdsLi¡
(
Ãw
 
LškedLi¡
<
IÁeg”
>());

97 
	`£tD©aûÁ”Reque¡edIdsLi¡
(
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

98 
	`£tVmsToD©aûÁ”sM­
(
Ãw
 
HashM­
<
IÁeg”
, Integer>());

99 
	`£tD©aûÁ”Ch¬aù”i¡icsLi¡
(
Ãw
 
HashM­
<
IÁeg”
, 
D©aûÁ”Ch¬aù”i¡ics
>());

110 
public
 
	`subm™VmLi¡
(
Li¡
<? 
ex‹nds
 
Vm
> 
li¡
) {

111 
	`g‘VmLi¡
().
	`addAÎ
(
li¡
);

112 
	}
}

121 
public
 
subm™CloudËtLi¡
(
Li¡
<? 
ex‹nds
 
CloudËt
> 
li¡
) {

122 
g‘CloudËtLi¡
().
addAÎ
(
li¡
);

134 
public
 
	$bšdCloudËtToVm
(
şoudËtId
, 
vmId
) {

135 
CloudËtLi¡
.
	`g‘ById
(
	`g‘CloudËtLi¡
(), 
şoudËtId
).
	`£tVmId
(
vmId
);

136 
	}
}

145 @
Ov”ride


146 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

147 
ev
.
	`g‘Tag
()) {

149 
CloudSimTags
.
RESOURCE_CHARACTERISTICS_REQUEST
:

150 
	`´oûssResourûCh¬aù”i¡icsReque¡
(
ev
);

153 
CloudSimTags
.
RESOURCE_CHARACTERISTICS
:

154 
	`´oûssResourûCh¬aù”i¡ics
(
ev
);

157 
CloudSimTags
.
VM_CREATE_ACK
:

158 
	`´oûssVmC»©e
(
ev
);

161 
CloudSimTags
.
CLOUDLET_RETURN
:

162 
	`´oûssCloudËtR‘uº
(
ev
);

165 
CloudSimTags
.
END_OF_SIMULATION
:

166 
	`shutdownEÁ™y
();

170 
	`´oûssOth”Ev’t
(
ev
);

173 
	}
}

182 
´Ùeùed
 
	$´oûssResourûCh¬aù”i¡ics
(
SimEv’t
 
ev
) {

183 
D©aûÁ”Ch¬aù”i¡ics
 
ch¬aù”i¡ics
 = (D©aûÁ”Ch¬aù”i¡icsè
ev
.
	`g‘D©a
();

184 
	`g‘D©aûÁ”Ch¬aù”i¡icsLi¡
().
	`put
(
ch¬aù”i¡ics
.
	`g‘Id
(), characteristics);

186 ià(
	`g‘D©aûÁ”Ch¬aù”i¡icsLi¡
().
	`size
(è=ğ
	`g‘D©aûÁ”IdsLi¡
().size()) {

187 
	`£tD©aûÁ”Reque¡edIdsLi¡
(
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

188 
	`ü—‹VmsInD©aûÁ”
(
	`g‘D©aûÁ”IdsLi¡
().
	`g‘
(0));

190 
	}
}

199 
´Ùeùed
 
	$´oûssResourûCh¬aù”i¡icsReque¡
(
SimEv’t
 
ev
) {

200 
	`£tD©aûÁ”IdsLi¡
(
CloudSim
.
	`g‘CloudResourûLi¡
());

201 
	`£tD©aûÁ”Ch¬aù”i¡icsLi¡
(
Ãw
 
HashM­
<
IÁeg”
, 
D©aûÁ”Ch¬aù”i¡ics
>());

203 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
() + ": Cloud Resource List„eceived with "

204 + 
	`g‘D©aûÁ”IdsLi¡
().
	`size
() + "„esource(s)");

206 
IÁeg”
 
d©aûÁ”Id
 : 
	`g‘D©aûÁ”IdsLi¡
()) {

207 
	`£ndNow
(
d©aûÁ”Id
, 
CloudSimTags
.
RESOURCE_CHARACTERISTICS
, 
	`g‘Id
());

209 
	}
}

218 
´Ùeùed
 
	$´oûssVmC»©e
(
SimEv’t
 
ev
) {

219 [] 
d©a
 = ([]è
ev
.
	`g‘D©a
();

220 
d©aûÁ”Id
 = 
d©a
[0];

221 
vmId
 = 
d©a
[1];

222 
»suÉ
 = 
d©a
[2];

224 ià(
»suÉ
 =ğ
CloudSimTags
.
TRUE
) {

225 
	`g‘VmsToD©aûÁ”sM­
().
	`put
(
vmId
, 
d©aûÁ”Id
);

226 
	`g‘VmsC»©edLi¡
().
	`add
(
VmLi¡
.
	`g‘ById
(
	`g‘VmLi¡
(), 
vmId
));

227 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": VM #" + 
vmId


228 + " ha b“Àü—‹d iÀD©aûÁ” #" + 
d©aûÁ”Id
 + ", Host #"

229 + 
VmLi¡
.
	`g‘ById
(
	`g‘VmsC»©edLi¡
(), 
vmId
).
	`g‘Ho¡
().
	`g‘Id
());

231 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": C»©iÚ oàVM #" + 
vmId


232 + " faed iÀD©aûÁ” #" + 
d©aûÁ”Id
);

235 
	`šüem’tVmsAcks
();

238 ià(
	`g‘VmsC»©edLi¡
().
	`size
(è=ğ
	`g‘VmLi¡
().size(è- 
	`g‘VmsDe¡royed
()) {

239 
	`subm™CloudËts
();

242 ià(
	`g‘VmsReque¡ed
(è=ğ
	`g‘VmsAcks
()) {

244 
ÃxtD©aûÁ”Id
 : 
	`g‘D©aûÁ”IdsLi¡
()) {

245 ià(!
	`g‘D©aûÁ”Reque¡edIdsLi¡
().
	`cÚšs
(
ÃxtD©aûÁ”Id
)) {

246 
	`ü—‹VmsInD©aûÁ”
(
ÃxtD©aûÁ”Id
);

252 ià(
	`g‘VmsC»©edLi¡
().
	`size
() > 0) {

253 
	`subm™CloudËts
();

255 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
()

257 
	`fšishExecutiÚ
();

261 
	}
}

270 
´Ùeùed
 
	$´oûssCloudËtR‘uº
(
SimEv’t
 
ev
) {

271 
CloudËt
 
şoudËt
 = (CloudËtè
ev
.
	`g‘D©a
();

272 
	`g‘CloudËtReûivedLi¡
().
	`add
(
şoudËt
);

273 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": CloudËˆ" + 
şoudËt
.
	`g‘CloudËtId
()

275 
şoudËtsSubm™‹d
--;

276 ià(
	`g‘CloudËtLi¡
().
	`size
(è=ğ0 && 
şoudËtsSubm™‹d
 == 0) {

277 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
() + ": All Cloudletsƒxecuted. Finishing...");

278 
	`ş—rD©aûÁ”s
();

279 
	`fšishExecutiÚ
();

281 ià(
	`g‘CloudËtLi¡
().
	`size
(è> 0 && 
şoudËtsSubm™‹d
 == 0) {

284 
	`ş—rD©aûÁ”s
();

285 
	`ü—‹VmsInD©aûÁ”
(0);

289 
	}
}

299 
´Ùeùed
 
	$´oûssOth”Ev’t
(
SimEv’t
 
ev
) {

300 ià(
ev
 =ğ
nuÎ
) {

301 
Log
.
	`´štLše
(
	`g‘Name
() + ".processOtherEvent(): " + "Error -‡nƒvent is‚ull.");

305 
Log
.
	`´štLše
(
	`g‘Name
() + ".processOtherEvent(): "

307 
	}
}

316 
´Ùeùed
 
	$ü—‹VmsInD©aûÁ”
(
d©aûÁ”Id
) {

318 
»que¡edVms
 = 0;

319 
SŒšg
 
d©aûÁ”Name
 = 
CloudSim
.
	`g‘EÁ™yName
(
d©aûÁ”Id
);

320 
Vm
 
vm
 : 
	`g‘VmLi¡
()) {

321 ià(!
	`g‘VmsToD©aûÁ”sM­
().
	`cÚšsKey
(
vm
.
	`g‘Id
())) {

322 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": TryšgØC»©VM #" + 
vm
.
	`g‘Id
()

323 + " iÀ" + 
d©aûÁ”Name
);

324 
	`£ndNow
(
d©aûÁ”Id
, 
CloudSimTags
.
VM_CREATE_ACK
, 
vm
);

325 
»que¡edVms
++;

329 
	`g‘D©aûÁ”Reque¡edIdsLi¡
().
	`add
(
d©aûÁ”Id
);

331 
	`£tVmsReque¡ed
(
»que¡edVms
);

332 
	`£tVmsAcks
(0);

333 
	}
}

341 
´Ùeùed
 
	$subm™CloudËts
() {

342 
vmIndex
 = 0;

343 
CloudËt
 
şoudËt
 : 
	`g‘CloudËtLi¡
()) {

344 
Vm
 
vm
;

346 ià(
şoudËt
.
	`g‘VmId
() == -1) {

347 
vm
 = 
	`g‘VmsC»©edLi¡
().
	`g‘
(
vmIndex
);

349 
vm
 = 
VmLi¡
.
	`g‘ById
(
	`g‘VmsC»©edLi¡
(), 
şoudËt
.
	`g‘VmId
());

350 ià(
vm
 =ğ
nuÎ
) {

351 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
() + ": Postponingƒxecution of cloudlet "

352 + 
şoudËt
.
	`g‘CloudËtId
() + ": bount VM‚ot‡vailable");

357 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
() + ": Sending cloudlet "

358 + 
şoudËt
.
	`g‘CloudËtId
(è+ "ØVM #" + 
vm
.
	`g‘Id
());

359 
şoudËt
.
	`£tVmId
(
vm
.
	`g‘Id
());

360 
	`£ndNow
(
	`g‘VmsToD©aûÁ”sM­
().
	`g‘
(
vm
.
	`g‘Id
()), 
CloudSimTags
.
CLOUDLET_SUBMIT
, 
şoudËt
);

361 
şoudËtsSubm™‹d
++;

362 
vmIndex
 = (vmIndex + 1è% 
	`g‘VmsC»©edLi¡
().
	`size
();

363 
	`g‘CloudËtSubm™‹dLi¡
().
	`add
(
şoudËt
);

367 
CloudËt
 
şoudËt
 : 
	`g‘CloudËtSubm™‹dLi¡
()) {

368 
	`g‘CloudËtLi¡
().
	`»move
(
şoudËt
);

370 
	}
}

378 
´Ùeùed
 
	$ş—rD©aûÁ”s
() {

379 
Vm
 
vm
 : 
	`g‘VmsC»©edLi¡
()) {

380 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": De¡royšg VM #" + 
vm
.
	`g‘Id
());

381 
	`£ndNow
(
	`g‘VmsToD©aûÁ”sM­
().
	`g‘
(
vm
.
	`g‘Id
()), 
CloudSimTags
.
VM_DESTROY
, vm);

384 
	`g‘VmsC»©edLi¡
().
	`ş—r
();

385 
	}
}

393 
´Ùeùed
 
	$fšishExecutiÚ
() {

394 
	`£ndNow
(
	`g‘Id
(), 
CloudSimTags
.
END_OF_SIMULATION
);

395 
	}
}

401 @
Ov”ride


402 
public
 
	$shutdownEÁ™y
() {

403 
Log
.
	`´štLše
(
	`g‘Name
() + " is shutting down...");

404 
	}
}

410 @
Ov”ride


411 
public
 
	$¡¬tEÁ™y
() {

412 
Log
.
	`´štLše
(
	`g‘Name
() + " is starting...");

413 
	`scheduË
(
	`g‘Id
(), 0, 
CloudSimTags
.
RESOURCE_CHARACTERISTICS_REQUEST
);

414 
	}
}

422 @
Suµ»ssW¬nšgs
("unchecked")

423 
	gpublic
 <
T
 
ex‹nds
 
	gVm
> 
	gLi¡
<
	gT
> 
	$g‘VmLi¡
() {

424  (
Li¡
<
T
>è
vmLi¡
;

425 
	}
}

433 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gVm
> 
£tVmLi¡
(
Li¡
<T> 
vmLi¡
) {

434 
	gthis
.
	gvmLi¡
 = 
vmLi¡
;

443 @
Suµ»ssW¬nšgs
("unchecked")

444 
	gpublic
 <
T
 
ex‹nds
 
	gCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtLi¡
() {

445  (
Li¡
<
T
>è
şoudËtLi¡
;

446 
	}
}

454 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gCloudËt
> 
£tCloudËtLi¡
(
Li¡
<T> 
şoudËtLi¡
) {

455 
	gthis
.
	gşoudËtLi¡
 = 
şoudËtLi¡
;

464 @
Suµ»ssW¬nšgs
("unchecked")

465 
	gpublic
 <
T
 
ex‹nds
 
	gCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtSubm™‹dLi¡
() {

466  (
Li¡
<
T
>è
şoudËtSubm™‹dLi¡
;

467 
	}
}

475 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gCloudËt
> 
£tCloudËtSubm™‹dLi¡
(
Li¡
<T> 
şoudËtSubm™‹dLi¡
) {

476 
	gthis
.
	gşoudËtSubm™‹dLi¡
 = 
şoudËtSubm™‹dLi¡
;

485 @
Suµ»ssW¬nšgs
("unchecked")

486 
	gpublic
 <
T
 
ex‹nds
 
	gCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtReûivedLi¡
() {

487  (
Li¡
<
T
>è
şoudËtReûivedLi¡
;

488 
	}
}

496 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gCloudËt
> 
£tCloudËtReûivedLi¡
(
Li¡
<T> 
şoudËtReûivedLi¡
) {

497 
	gthis
.
	gşoudËtReûivedLi¡
 = 
şoudËtReûivedLi¡
;

506 @
Suµ»ssW¬nšgs
("unchecked")

507 
	gpublic
 <
T
 
ex‹nds
 
	gVm
> 
	gLi¡
<
	gT
> 
	$g‘VmsC»©edLi¡
() {

508  (
Li¡
<
T
>è
vmsC»©edLi¡
;

509 
	}
}

517 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gVm
> 
£tVmsC»©edLi¡
(
Li¡
<T> 
vmsC»©edLi¡
) {

518 
	gthis
.
	gvmsC»©edLi¡
 = 
vmsC»©edLi¡
;

526 
´Ùeùed
 
	$g‘VmsReque¡ed
() {

527  
vmsReque¡ed
;

528 
	}
}

535 
´Ùeùed
 
	$£tVmsReque¡ed
(
vmsReque¡ed
) {

536 
this
.
vmsReque¡ed
 = vmsRequested;

537 
	}
}

544 
´Ùeùed
 
	$g‘VmsAcks
() {

545  
vmsAcks
;

546 
	}
}

553 
´Ùeùed
 
	$£tVmsAcks
(
vmsAcks
) {

554 
this
.
vmsAcks
 = vmsAcks;

555 
	}
}

560 
´Ùeùed
 
	$šüem’tVmsAcks
() {

561 
vmsAcks
++;

562 
	}
}

569 
´Ùeùed
 
	$g‘VmsDe¡royed
() {

570  
vmsDe¡royed
;

571 
	}
}

578 
´Ùeùed
 
	$£tVmsDe¡royed
(
vmsDe¡royed
) {

579 
this
.
vmsDe¡royed
 = vmsDestroyed;

580 
	}
}

587 
´Ùeùed
 
	gLi¡
<
	gIÁeg”
> 
	$g‘D©aûÁ”IdsLi¡
() {

588  
d©aûÁ”IdsLi¡
;

589 
	}
}

596 
´Ùeùed
 
£tD©aûÁ”IdsLi¡
(
Li¡
<
IÁeg”
> 
d©aûÁ”IdsLi¡
) {

597 
	gthis
.
	gd©aûÁ”IdsLi¡
 = 
d©aûÁ”IdsLi¡
;

605 
´Ùeùed
 
	gM­
<
	gIÁeg”
, IÁeg”> 
	$g‘VmsToD©aûÁ”sM­
() {

606  
vmsToD©aûÁ”sM­
;

607 
	}
}

614 
´Ùeùed
 
£tVmsToD©aûÁ”sM­
(
M­
<
IÁeg”
, IÁeg”> 
vmsToD©aûÁ”sM­
) {

615 
	gthis
.
	gvmsToD©aûÁ”sM­
 = 
vmsToD©aûÁ”sM­
;

623 
´Ùeùed
 
	gM­
<
	gIÁeg”
, 
	gD©aûÁ”Ch¬aù”i¡ics
> 
	$g‘D©aûÁ”Ch¬aù”i¡icsLi¡
() {

624  
d©aûÁ”Ch¬aù”i¡icsLi¡
;

625 
	}
}

632 
´Ùeùed
 
£tD©aûÁ”Ch¬aù”i¡icsLi¡
(

633 
M­
<
IÁeg”
, 
D©aûÁ”Ch¬aù”i¡ics
> 
d©aûÁ”Ch¬aù”i¡icsLi¡
) {

634 
	gthis
.
	gd©aûÁ”Ch¬aù”i¡icsLi¡
 = 
d©aûÁ”Ch¬aù”i¡icsLi¡
;

642 
´Ùeùed
 
	gLi¡
<
	gIÁeg”
> 
	$g‘D©aûÁ”Reque¡edIdsLi¡
() {

643  
d©aûÁ”Reque¡edIdsLi¡
;

644 
	}
}

651 
´Ùeùed
 
£tD©aûÁ”Reque¡edIdsLi¡
(
Li¡
<
IÁeg”
> 
d©aûÁ”Reque¡edIdsLi¡
) {

652 
	gthis
.
	gd©aûÁ”Reque¡edIdsLi¡
 = 
d©aûÁ”Reque¡edIdsLi¡
;

	@src/org/cloudbus/cloudsim/DatacenterCharacteristics.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gHo¡Li¡
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gPeLi¡
;

28 
public
 cÏs 
	cD©aûÁ”Ch¬aù”i¡ics
 {

31 
´iv©e
 
	mid
;

34 
´iv©e
 
SŒšg
 
	m¬ch™eùu»
;

37 
´iv©e
 
SŒšg
 
	mos
;

40 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mHo¡
> 
	mho¡Li¡
;

43 
´iv©e
 
	mtimeZÚe
;

46 
´iv©e
 
	mco¡P”SecÚd
;

49 
´iv©e
 
	m®loÿtiÚPŞicy
;

52 
public
 
fš®
 
	mTIME_SHARED
 = 0;

55 
public
 
fš®
 
	mSPACE_SHARED
 = 1;

58 
public
 
fš®
 
	mOTHER_POLICY_SAME_RATING
 = 2;

64 
public
 
fš®
 
	mOTHER_POLICY_DIFFERENT_RATING
 = 3;

67 
public
 
fš®
 
	mADVANCE_RESERVATION
 = 4;

70 
´iv©e
 
SŒšg
 
	mvmm
;

73 
´iv©e
 
	mco¡P”Mem
;

76 
´iv©e
 
	mco¡P”StÜage
;

79 
´iv©e
 
	mco¡P”Bw
;

105 
public
 
D©aûÁ”Ch¬aù”i¡ics
(

106 
SŒšg
 
¬ch™eùu»
,

107 
SŒšg
 
os
,

108 
SŒšg
 
vmm
,

109 
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
,

110 
timeZÚe
,

111 
co¡P”Sec
,

112 
co¡P”Mem
,

113 
co¡P”StÜage
,

114 
co¡P”Bw
) {

115 
£tId
(-1);

116 
£tArch™eùu»
(
¬ch™eùu»
);

117 
£tOs
(
os
);

118 
£tHo¡Li¡
(
ho¡Li¡
);

119 
£tAÎoÿtiÚPŞicy
(
®loÿtiÚPŞicy
);

120 
£tCo¡P”SecÚd
(
co¡P”Sec
);

122 
£tTimeZÚe
(0.0);

124 
£tVmm
(
vmm
);

125 
£tCo¡P”Mem
(
co¡P”Mem
);

126 
£tCo¡P”StÜage
(
co¡P”StÜage
);

127 
£tCo¡P”Bw
(
co¡P”Bw
);

137 
public
 
SŒšg
 
	$g‘ResourûName
() {

138  
CloudSim
.
	`g‘EÁ™yName
(
	`g‘Id
());

139 
	}
}

148 
public
 
Ho¡
 
	$g‘Ho¡W™hF»ePe
() {

149  
Ho¡Li¡
.
	`g‘Ho¡W™hF»ePe
(
	`g‘Ho¡Li¡
());

150 
	}
}

160 
public
 
Ho¡
 
	$g‘Ho¡W™hF»ePe
(
³Numb”
) {

161  
Ho¡Li¡
.
	`g‘Ho¡W™hF»ePe
(
	`g‘Ho¡Li¡
(), 
³Numb”
);

162 
	}
}

172 
public
 
	$g‘MsOfOÃPe
() {

173 ià(
	`g‘Ho¡Li¡
().
	`size
() == 0) {

177  
PeLi¡
.
	`g‘Ms
(
	`g‘Ho¡Li¡
().
	`g‘
(0).
	`g‘PeLi¡
(), 0);

178 
	}
}

191 
public
 
	$g‘MsOfOÃPe
(
id
, 
³Id
) {

192 ià(
	`g‘Ho¡Li¡
().
	`size
() == 0) {

196  
PeLi¡
.
	`g‘Ms
(
Ho¡Li¡
.
	`g‘ById
(
	`g‘Ho¡Li¡
(), 
id
).
	`g‘PeLi¡
(), 
³Id
);

197 
	}
}

215 
public
 
	$g‘Ms
() {

216 
ms
 = 0;

217 
	`g‘AÎoÿtiÚPŞicy
()) {

219 
D©aûÁ”Ch¬aù”i¡ics
.
TIME_SHARED
:

220 
D©aûÁ”Ch¬aù”i¡ics
.
OTHER_POLICY_SAME_RATING
:

221 
ms
 = 
	`g‘MsOfOÃPe
(è* 
Ho¡Li¡
.
	`g‘Numb”OfPes
(
	`g‘Ho¡Li¡
());

226 
D©aûÁ”Ch¬aù”i¡ics
.
SPACE_SHARED
:

227 
D©aûÁ”Ch¬aù”i¡ics
.
OTHER_POLICY_DIFFERENT_RATING
:

228 
Ho¡
 
ho¡
 : 
	`g‘Ho¡Li¡
()) {

229 
ms
 +ğ
ho¡
.
	`g‘TÙ®Ms
();

237  
ms
;

238 
	}
}

251 
public
 
	$g‘CpuTime
(
şoudËtL’gth
, 
lßd
) {

252 
ıuTime
 = 0.0;

254 
	`g‘AÎoÿtiÚPŞicy
()) {

255 
D©aûÁ”Ch¬aù”i¡ics
.
TIME_SHARED
:

256 
ıuTime
 = 
şoudËtL’gth
 / (
	`g‘MsOfOÃPe
(è* (1.0 - 
lßd
));

263  
ıuTime
;

264 
	}
}

273 
public
 
	$g‘Numb”OfPes
() {

274  
Ho¡Li¡
.
	`g‘Numb”OfPes
(
	`g‘Ho¡Li¡
());

275 
	}
}

284 
public
 
	$g‘Numb”OfF»ePes
() {

285  
Ho¡Li¡
.
	`g‘Numb”OfF»ePes
(
	`g‘Ho¡Li¡
());

286 
	}
}

295 
public
 
	$g‘Numb”OfBusyPes
() {

296  
Ho¡Li¡
.
	`g‘Numb”OfBusyPes
(
	`g‘Ho¡Li¡
());

297 
	}
}

310 
public
 
boŞ—n
 
	$£tPeStus
(
¡©us
, 
ho¡Id
, 
³Id
) {

311  
Ho¡Li¡
.
	`£tPeStus
(
	`g‘Ho¡Li¡
(), 
¡©us
, 
ho¡Id
, 
³Id
);

312 
	}
}

321 
public
 
	$g‘Co¡P”Mi
() {

322  
	`g‘Co¡P”SecÚd
(è/ 
	`g‘MsOfOÃPe
();

323 
	}
}

330 
public
 
	$g‘Numb”OfHo¡s
() {

331  
	`g‘Ho¡Li¡
().
	`size
();

332 
	}
}

339 
public
 
	$g‘Numb”OfFaedHo¡s
() {

340 
numb”OfFaedHo¡s
 = 0;

341 
Ho¡
 
ho¡
 : 
	`g‘Ho¡Li¡
()) {

342 ià(
ho¡
.
	`isFaed
()) {

343 
numb”OfFaedHo¡s
++;

346  
numb”OfFaedHo¡s
;

347 
	}
}

354 
public
 
boŞ—n
 
	$isWÜkšg
() {

355 
boŞ—n
 
»suÉ
 = 
çl£
;

356 ià(
	`g‘Numb”OfFaedHo¡s
() == 0) {

357 
»suÉ
 = 
Œue
;

360  
»suÉ
;

361 
	}
}

368 
public
 
	$g‘Co¡P”Mem
() {

369  
co¡P”Mem
;

370 
	}
}

379 
public
 
	$£tCo¡P”Mem
(
co¡P”Mem
) {

380 
this
.
co¡P”Mem
 = costPerMem;

381 
	}
}

388 
public
 
	$g‘Co¡P”StÜage
() {

389  
co¡P”StÜage
;

390 
	}
}

399 
public
 
	$£tCo¡P”StÜage
(
co¡P”StÜage
) {

400 
this
.
co¡P”StÜage
 = costPerStorage;

401 
	}
}

408 
public
 
	$g‘Co¡P”Bw
() {

409  
co¡P”Bw
;

410 
	}
}

419 
public
 
	$£tCo¡P”Bw
(
co¡P”Bw
) {

420 
this
.
co¡P”Bw
 = costPerBw;

421 
	}
}

428 
public
 
SŒšg
 
	$g‘Vmm
() {

429  
vmm
;

430 
	}
}

437 
public
 
	$g‘Id
() {

438  
id
;

439 
	}
}

446 
public
 
	$£tId
(
id
) {

447 
this
.
id
 = id;

448 
	}
}

455 
´Ùeùed
 
SŒšg
 
	$g‘Arch™eùu»
() {

456  
¬ch™eùu»
;

457 
	}
}

464 
´Ùeùed
 
	$£tArch™eùu»
(
SŒšg
 
¬ch™eùu»
) {

465 
this
.
¬ch™eùu»
 =‡rchitecture;

466 
	}
}

473 
´Ùeùed
 
SŒšg
 
	$g‘Os
() {

474  
os
;

475 
	}
}

482 
´Ùeùed
 
	$£tOs
(
SŒšg
 
os
) {

483 
this
.
os
 = os;

484 
	}
}

492 @
Suµ»ssW¬nšgs
("unchecked")

493 
	gpublic
 <
T
 
ex‹nds
 
	gHo¡
> 
	gLi¡
<
	gT
> 
	$g‘Ho¡Li¡
() {

494  (
Li¡
<
T
>è
ho¡Li¡
;

495 
	}
}

503 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gHo¡
> 
£tHo¡Li¡
(
Li¡
<T> 
ho¡Li¡
) {

504 
	gthis
.
	gho¡Li¡
 = 
ho¡Li¡
;

512 
´Ùeùed
 
	$g‘TimeZÚe
() {

513  
timeZÚe
;

514 
	}
}

521 
´Ùeùed
 
	$£tTimeZÚe
(
timeZÚe
) {

522 
this
.
timeZÚe
 =imeZone;

523 
	}
}

530 
public
 
	$g‘Co¡P”SecÚd
() {

531  
co¡P”SecÚd
;

532 
	}
}

539 
´Ùeùed
 
	$£tCo¡P”SecÚd
(
co¡P”SecÚd
) {

540 
this
.
co¡P”SecÚd
 = costPerSecond;

541 
	}
}

548 
´Ùeùed
 
	$g‘AÎoÿtiÚPŞicy
() {

549  
®loÿtiÚPŞicy
;

550 
	}
}

557 
´Ùeùed
 
	$£tAÎoÿtiÚPŞicy
(
®loÿtiÚPŞicy
) {

558 
this
.
®loÿtiÚPŞicy
 =‡llocationPolicy;

559 
	}
}

566 
´Ùeùed
 
	$£tVmm
(
SŒšg
 
vmm
) {

567 
this
.
vmm
 = vmm;

568 
	}
}

	@src/org/cloudbus/cloudsim/File.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

18 
public
 cÏs 
	cFe
 {

20 
´iv©e
 
SŒšg
 
	mÇme
;

22 
´iv©e
 
FeA‰ribu‹
 
	m©Œibu‹
;

25 
´iv©e
 
	mŒª§ùiÚTime
;

28 
public
 
fš®
 
	mNOT_REGISTERED
 = -1;

31 
public
 
fš®
 
	mTYPE_UNKOWN
 = 0;

34 
public
 
fš®
 
	mTYPE_RAW_DATA
 = 1;

37 
public
 
fš®
 
	mTYPE_RECONSTRUCTED_DATA
 = 2;

40 
public
 
fš®
 
	mTYPE_TAG_DATA
 = 3;

54 
public
 
	$Fe
(
SŒšg
 
feName
, 
feSize
è
throws
 
P¬am‘”Exû±iÚ
 {

55 ià(
feName
 =ğ
nuÎ
 || feName.
	`Ëngth
() == 0) {

56 
throw
 
Ãw
 
	`P¬am‘”Exû±iÚ
("File(): Error - invalid file‚ame.");

59 ià(
feSize
 <= 0) {

60 
throw
 
Ãw
 
	`P¬am‘”Exû±iÚ
("File(): Error - size <= 0.");

63 
Çme
 = 
feName
;

64 
©Œibu‹
 = 
Ãw
 
	`FeA‰ribu‹
(
feName
, 
feSize
);

65 
Œª§ùiÚTime
 = 0;

75 
public
 
	$Fe
(
Fe
 
fe
è
throws
 
P¬am‘”Exû±iÚ
 {

76 ià(
fe
 =ğ
nuÎ
) {

77 
throw
 
Ãw
 
	`P¬am‘”Exû±iÚ
("File(): Error - file is‚ull.");

81 
FeA‰ribu‹
 
feA‰r
 = 
fe
.
	`g‘FeA‰ribu‹
();

82 
©Œibu‹
.
	`cİyV®ue
(
feA‰r
);

83 
feA‰r
.
	`£tMa¡”Cİy
(
çl£
);

84 
	}
}

91 
public
 
Fe
 
	$makeR•liÿ
() {

92  
	`makeCİy
();

93 
	}
}

100 
public
 
Fe
 
	$makeMa¡”Cİy
() {

101 
Fe
 
fe
 = 
	`makeCİy
();

102 ià(
fe
 !ğ
nuÎ
) {

103 
fe
.
	`£tMa¡”Cİy
(
Œue
);

106  
fe
;

107 
	}
}

114 
´iv©e
 
Fe
 
	$makeCİy
() {

115 
Fe
 
fe
 = 
nuÎ
;

116 
Œy
 {

117 
fe
 = 
Ãw
 
	`Fe
(
Çme
, 
©Œibu‹
.
	`g‘FeSize
());

118 
FeA‰ribu‹
 
feA‰r
 = 
fe
.
	`g‘FeA‰ribu‹
();

119 
©Œibu‹
.
	`cİyV®ue
(
feA‰r
);

120 
feA‰r
.
	`£tMa¡”Cİy
(
çl£
);

121 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

122 
fe
 = 
nuÎ
;

125  
fe
;

126 
	}
}

133 
public
 
FeA‰ribu‹
 
	$g‘FeA‰ribu‹
() {

134  
©Œibu‹
;

135 
	}
}

144 
public
 
	$g‘A‰ribu‹Size
() {

145  
©Œibu‹
.
	`g‘A‰ribu‹Size
();

146 
	}
}

154 
public
 
boŞ—n
 
	$£tResourûID
(
»sourûID
) {

155  
©Œibu‹
.
	`£tResourûID
(
»sourûID
);

156 
	}
}

163 
public
 
	$g‘ResourûID
() {

164  
©Œibu‹
.
	`g‘ResourûID
();

165 
	}
}

172 
public
 
SŒšg
 
	$g‘Name
() {

173  
©Œibu‹
.
	`g‘Name
();

174 
	}
}

181 
public
 
	$£tName
(
SŒšg
 
Çme
) {

182 
©Œibu‹
.
	`£tName
(
Çme
);

183 
	}
}

191 
public
 
boŞ—n
 
	$£tOwÃrName
(
SŒšg
 
Çme
) {

192  
©Œibu‹
.
	`£tOwÃrName
(
Çme
);

193 
	}
}

200 
public
 
SŒšg
 
	$g‘OwÃrName
() {

201  
©Œibu‹
.
	`g‘OwÃrName
();

202 
	}
}

209 
public
 
	$g‘Size
() {

210  
©Œibu‹
.
	`g‘FeSize
();

211 
	}
}

218 
public
 
	$g‘SizeInBy‹
() {

219  
©Œibu‹
.
	`g‘FeSizeInBy‹
();

220 
	}
}

228 
public
 
boŞ—n
 
	$£tFeSize
(
feSize
) {

229  
©Œibu‹
.
	`£tFeSize
(
feSize
);

230 
	}
}

240 
public
 
boŞ—n
 
	$£tUpd©eTime
(
time
) {

241  
©Œibu‹
.
	`£tUpd©eTime
(
time
);

242 
	}
}

249 
public
 
	$g‘La¡Upd©eTime
() {

250  
©Œibu‹
.
	`g‘La¡Upd©eTime
();

251 
	}
}

259 
public
 
boŞ—n
 
	$£tRegi¡¿tiÚID
(
id
) {

260  
©Œibu‹
.
	`£tRegi¡¿tiÚId
(
id
);

261 
	}
}

268 
public
 
	$g‘Regi¡¿tiÚID
() {

269  
©Œibu‹
.
	`g‘Regi¡¿tiÚID
();

270 
	}
}

278 
public
 
boŞ—n
 
	$£tTy³
(
ty³
) {

279  
©Œibu‹
.
	`£tTy³
(
ty³
);

280 
	}
}

287 
public
 
	$g‘Ty³
() {

288  
©Œibu‹
.
	`g‘Ty³
();

289 
	}
}

297 
public
 
boŞ—n
 
	$£tChecksum
(
checksum
) {

298  
©Œibu‹
.
	`£tChecksum
(
checksum
);

299 
	}
}

306 
public
 
	$g‘Checksum
() {

307  
©Œibu‹
.
	`g‘Checksum
();

308 
	}
}

316 
public
 
boŞ—n
 
	$£tCo¡
(
co¡
) {

317  
©Œibu‹
.
	`£tCo¡
(
co¡
);

318 
	}
}

325 
public
 
	$g‘Co¡
() {

326  
©Œibu‹
.
	`g‘Co¡
();

327 
	}
}

334 
public
 
	$g‘C»©iÚTime
() {

335  
©Œibu‹
.
	`g‘C»©iÚTime
();

336 
	}
}

343 
public
 
boŞ—n
 
	$isRegi¡”ed
() {

344  
©Œibu‹
.
	`isRegi¡”ed
();

345 
	}
}

353 
public
 
	$£tMa¡”Cİy
(
boŞ—n
 
ma¡”Cİy
) {

354 
©Œibu‹
.
	`£tMa¡”Cİy
(
ma¡”Cİy
);

355 
	}
}

362 
public
 
boŞ—n
 
	$isMa¡”Cİy
() {

363  
©Œibu‹
.
	`isMa¡”Cİy
();

364 
	}
}

371 
public
 
	$£tR—dOÆy
(
boŞ—n
 
»adOÆy
) {

372 
©Œibu‹
.
	`£tR—dOÆy
(
»adOÆy
);

373 
	}
}

380 
public
 
boŞ—n
 
	$isR—dOÆy
() {

381  
©Œibu‹
.
	`isR—dOÆy
();

382 
	}
}

399 
public
 
boŞ—n
 
	$£tT¿n§ùiÚTime
(
time
) {

400 ià(
time
 < 0) {

401  
çl£
;

404 
Œª§ùiÚTime
 = 
time
;

405  
Œue
;

406 
	}
}

413 
public
 
	$g‘T¿n§ùiÚTime
() {

414  
Œª§ùiÚTime
;

415 
	}
}

	@src/org/cloudbus/cloudsim/FileAttribute.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

22 
public
 cÏs 
	cFeA‰ribu‹
 {

24 
´iv©e
 
SŒšg
 
	mÇme
;

26 
´iv©e
 
SŒšg
 
	mowÃrName
;

28 
´iv©e
 
	mid
;

30 
´iv©e
 
	mty³
;

32 
´iv©e
 
	msize
;

34 
´iv©e
 
	mchecksum
;

36 
´iv©e
 
	mÏ¡Upd©eTime
;

38 
´iv©e
 
	mü—tiÚTime
;

40 
´iv©e
 
	mco¡
;

42 
´iv©e
 
boŞ—n
 
	mma¡”Cİy
;

44 
´iv©e
 
boŞ—n
 
	m»adOÆy
;

46 
´iv©e
 
	m»sourûId
;

59 
public
 
	$FeA‰ribu‹
(
SŒšg
 
feName
, 
feSize
è
throws
 
P¬am‘”Exû±iÚ
 {

61 ià(
feName
 =ğ
nuÎ
 || feName.
	`Ëngth
() == 0) {

62 
throw
 
Ãw
 
	`P¬am‘”Exû±iÚ
("FileAttribute(): Error - invalid file‚ame.");

65 ià(
feSize
 <= 0) {

66 
throw
 
Ãw
 
	`P¬am‘”Exû±iÚ
("FileAttribute(): Error - size <= 0.");

69 
size
 = 
feSize
;

70 
Çme
 = 
feName
;

73 
D©e
 
d©e
 = 
CloudSim
.
	`g‘SimuÏtiÚC®’d¬
().
	`g‘Time
();

74 ià(
d©e
 =ğ
nuÎ
) {

75 
ü—tiÚTime
 = 0;

77 
ü—tiÚTime
 = 
d©e
.
	`g‘Time
();

80 
owÃrName
 = 
nuÎ
;

81 
id
 = 
Fe
.
NOT_REGISTERED
;

82 
checksum
 = 0;

83 
ty³
 = 
Fe
.
TYPE_UNKOWN
;

84 
Ï¡Upd©eTime
 = 0;

85 
co¡
 = 0;

86 
»sourûId
 = -1;

87 
ma¡”Cİy
 = 
Œue
;

88 
»adOÆy
 = 
çl£
;

97 
public
 
boŞ—n
 
	$cİyV®ue
(
FeA‰ribu‹
 
©Œ
) {

98 ià(
©Œ
 =ğ
nuÎ
) {

99  
çl£
;

102 
©Œ
.
	`£tFeSize
(
size
);

103 
©Œ
.
	`£tResourûID
(
»sourûId
);

104 
©Œ
.
	`£tOwÃrName
(
owÃrName
);

105 
©Œ
.
	`£tUpd©eTime
(
Ï¡Upd©eTime
);

106 
©Œ
.
	`£tRegi¡¿tiÚId
(
id
);

107 
©Œ
.
	`£tTy³
(
ty³
);

108 
©Œ
.
	`£tChecksum
(
checksum
);

109 
©Œ
.
	`£tCo¡
(
co¡
);

110 
©Œ
.
	`£tMa¡”Cİy
(
ma¡”Cİy
);

111 
©Œ
.
	`£tR—dOÆy
(
»adOÆy
);

112 
©Œ
.
	`£tName
(
Çme
);

113 
©Œ
.
	`£tC»©iÚTime
(
ü—tiÚTime
);

115  
Œue
;

116 
	}
}

124 
public
 
boŞ—n
 
	$£tC»©iÚTime
(
ü—tiÚTime
) {

125 ià(
ü—tiÚTime
 <= 0) {

126  
çl£
;

129 
this
.
ü—tiÚTime
 = creationTime;

130  
Œue
;

131 
	}
}

138 
public
 
	$g‘C»©iÚTime
() {

139  
ü—tiÚTime
;

140 
	}
}

148 
public
 
boŞ—n
 
	$£tResourûID
(
»sourûID
) {

149 ià(
»sourûID
 == -1) {

150  
çl£
;

153 
»sourûId
 = 
»sourûID
;

154  
Œue
;

155 
	}
}

162 
public
 
	$g‘ResourûID
() {

163  
»sourûId
;

164 
	}
}

172 
public
 
boŞ—n
 
	$£tOwÃrName
(
SŒšg
 
Çme
) {

173 ià(
Çme
 =ğ
nuÎ
 ||‚ame.
	`Ëngth
() == 0) {

174  
çl£
;

177 
owÃrName
 = 
Çme
;

178  
Œue
;

179 
	}
}

186 
public
 
SŒšg
 
	$g‘OwÃrName
() {

187  
owÃrName
;

188 
	}
}

197 
public
 
	$g‘A‰ribu‹Size
() {

198 
Ëngth
 = 
D©aCloudTags
.
PKT_SIZE
;

199 ià(
owÃrName
 !ğ
nuÎ
) {

200 
Ëngth
 +ğ
owÃrName
.
	`Ëngth
();

203 ià(
Çme
 !ğ
nuÎ
) {

204 
Ëngth
 +ğ
Çme
.
	`Ëngth
();

207  
Ëngth
;

208 
	}
}

216 
public
 
boŞ—n
 
	$£tFeSize
(
feSize
) {

217 ià(
feSize
 < 0) {

218  
çl£
;

221 
size
 = 
feSize
;

222  
Œue
;

223 
	}
}

230 
public
 
	$g‘FeSize
() {

231  
size
;

232 
	}
}

239 
public
 
	$g‘FeSizeInBy‹
() {

240  
size
 * 
CÚ¡s
.
MILLION
;

242 
	}
}

252 
public
 
boŞ—n
 
	$£tUpd©eTime
(
time
) {

253 ià(
time
 <ğ0 ||im< 
Ï¡Upd©eTime
) {

254  
çl£
;

257 
Ï¡Upd©eTime
 = 
time
;

258  
Œue
;

259 
	}
}

266 
public
 
	$g‘La¡Upd©eTime
() {

267  
Ï¡Upd©eTime
;

268 
	}
}

276 
public
 
boŞ—n
 
	$£tRegi¡¿tiÚId
(
id
) {

277 ià(
id
 < 0) {

278  
çl£
;

281 
this
.
id
 = id;

282  
Œue
;

283 
	}
}

290 
public
 
	$g‘Regi¡¿tiÚID
() {

291  
id
;

292 
	}
}

300 
public
 
boŞ—n
 
	$£tTy³
(
ty³
) {

301 ià(
ty³
 < 0) {

302  
çl£
;

305 
this
.
ty³
 =ype;

306  
Œue
;

307 
	}
}

314 
public
 
	$g‘Ty³
() {

315  
ty³
;

316 
	}
}

324 
public
 
boŞ—n
 
	$£tChecksum
(
checksum
) {

325 ià(
checksum
 < 0) {

326  
çl£
;

329 
this
.
checksum
 = checksum;

330  
Œue
;

331 
	}
}

338 
public
 
	$g‘Checksum
() {

339  
checksum
;

340 
	}
}

348 
public
 
boŞ—n
 
	$£tCo¡
(
co¡
) {

349 ià(
co¡
 < 0) {

350  
çl£
;

353 
this
.
co¡
 = cost;

354  
Œue
;

355 
	}
}

362 
public
 
	$g‘Co¡
() {

363  
co¡
;

364 
	}
}

371 
public
 
boŞ—n
 
	$isRegi¡”ed
() {

372 
boŞ—n
 
»suÉ
 = 
Œue
;

373 ià(
id
 =ğ
Fe
.
NOT_REGISTERED
) {

374 
»suÉ
 = 
çl£
;

377  
»suÉ
;

378 
	}
}

386 
public
 
	$£tMa¡”Cİy
(
boŞ—n
 
ma¡”Cİy
) {

387 
this
.
ma¡”Cİy
 = masterCopy;

388 
	}
}

395 
public
 
boŞ—n
 
	$isMa¡”Cİy
() {

396  
ma¡”Cİy
;

397 
	}
}

404 
public
 
	$£tR—dOÆy
(
boŞ—n
 
»adOÆy
) {

405 
this
.
»adOÆy
 =„eadOnly;

406 
	}
}

413 
public
 
boŞ—n
 
	$isR—dOÆy
() {

414  
»adOÆy
;

415 
	}
}

422 
public
 
	$£tName
(
SŒšg
 
Çme
) {

423 
this
.
Çme
 =‚ame;

424 
	}
}

431 
public
 
SŒšg
 
	$g‘Name
() {

432  
Çme
;

433 
	}
}

	@src/org/cloudbus/cloudsim/HarddriveStorage.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gdi¡ributiÚs
.
	gCÚtšuousDi¡ributiÚ
;

31 
public
 cÏs 
	cH¬ddriveStÜage
 
im¶em’ts
 
	mStÜage
 {

34 
´iv©e
 
	mLi¡
<
	mSŒšg
> 
	mÇmeLi¡
;

37 
´iv©e
 
	mLi¡
<
	mFe
> 
	mfeLi¡
;

40 
´iv©e
 
fš®
 
SŒšg
 
	mÇme
;

43 
´iv©e
 
CÚtšuousDi¡ributiÚ
 
	mg’
;

46 
´iv©e
 
	mcu¼’tSize
;

49 
´iv©e
 
fš®
 
	mÿ·c™y
;

52 
´iv©e
 
	mmaxT¿nsãrR©e
;

55 
´iv©e
 
	mÏ‹ncy
;

58 
´iv©e
 
	mavgS“kTime
;

67 
public
 
	$H¬ddriveStÜage
(
SŒšg
 
Çme
, 
ÿ·c™y
è
throws
 
P¬am‘”Exû±iÚ
 {

68 ià(
Çme
 =ğ
nuÎ
 ||‚ame.
	`Ëngth
() == 0) {

69 
throw
 
Ãw
 
	`P¬am‘”Exû±iÚ
("HarddriveStorage(): Error - invalid storage‚ame.");

72 ià(
ÿ·c™y
 <= 0) {

73 
throw
 
Ãw
 
	`P¬am‘”Exû±iÚ
("HarddriveStorage(): Error - capacity <= 0.");

76 
this
.
Çme
 =‚ame;

77 
this
.
ÿ·c™y
 = capacity;

78 
	`š™
();

88 
public
 
	$H¬ddriveStÜage
(
ÿ·c™y
è
throws
 
P¬am‘”Exû±iÚ
 {

89 ià(
ÿ·c™y
 <= 0) {

90 
throw
 
Ãw
 
	`P¬am‘”Exû±iÚ
("HarddriveStorage(): Error - capacity <= 0.");

92 
Çme
 = "HarddriveStorage";

93 
this
.
ÿ·c™y
 = capacity;

94 
	`š™
();

95 
	}
}

103 
´iv©e
 
	$š™
() {

104 
feLi¡
 = 
Ãw
 
A¼ayLi¡
<
Fe
>();

105 
ÇmeLi¡
 = 
Ãw
 
A¼ayLi¡
<
SŒšg
>();

106 
g’
 = 
nuÎ
;

107 
cu¼’tSize
 = 0;

109 
Ï‹ncy
 = 0.00417;

110 
avgS“kTime
 = 0.009;

111 
maxT¿nsãrR©e
 = 133;

112 
	}
}

119 @
Ov”ride


120 
public
 
	$g‘AvaabËS·û
() {

121  
ÿ·c™y
 - 
cu¼’tSize
;

122 
	}
}

129 @
Ov”ride


130 
public
 
boŞ—n
 
	$isFuÎ
() {

131 ià(
M©h
.
	`abs
(
cu¼’tSize
 - 
ÿ·c™y
) < .0000001) {

132  
Œue
;

134  
çl£
;

135 
	}
}

142 @
Ov”ride


143 
public
 
	$g‘NumStÜedFe
() {

144  
feLi¡
.
	`size
();

145 
	}
}

153 @
Ov”ride


154 
public
 
boŞ—n
 
	$»£rveS·û
(
feSize
) {

155 ià(
feSize
 <= 0) {

156  
çl£
;

159 ià(
cu¼’tSize
 + 
feSize
 >ğ
ÿ·c™y
) {

160  
çl£
;

163 
cu¼’tSize
 +ğ
feSize
;

164  
Œue
;

165 
	}
}

174 @
Ov”ride


175 
public
 
	$addRe£rvedFe
(
Fe
 
fe
) {

176 ià(
fe
 =ğ
nuÎ
) {

180 
cu¼’tSize
 -ğ
fe
.
	`g‘Size
();

181 
»suÉ
 = 
	`addFe
(
fe
);

184 ià(
»suÉ
 == 0.0) {

185 
cu¼’tSize
 +ğ
fe
.
	`g‘Size
();

188  
»suÉ
;

189 
	}
}

197 @
Ov”ride


198 
public
 
boŞ—n
 
	$hasPÙ’tŸlAvaabËS·û
(
feSize
) {

199 ià(
feSize
 <= 0) {

200  
çl£
;

204 ià(
	`g‘AvaabËS·û
(è> 
feSize
) {

205  
Œue
;

208 
I‹¿tÜ
<
Fe
> 
™
 = 
feLi¡
.
	`™”©Ü
();

209 
Fe
 
fe
 = 
nuÎ
;

210 
d–‘edFeSize
 = 0;

214 
boŞ—n
 
»suÉ
 = 
çl£
;

215 
™
.
	`hasNext
()) {

216 
fe
 = 
™
.
	`Ãxt
();

217 ià(!
fe
.
	`isR—dOÆy
()) {

218 
d–‘edFeSize
 +ğ
fe
.
	`g‘Size
();

221 ià(
d–‘edFeSize
 > 
feSize
) {

222 
»suÉ
 = 
Œue
;

227  
»suÉ
;

228 
	}
}

235 @
Ov”ride


236 
public
 
	$g‘C­ac™y
() {

237  
ÿ·c™y
;

238 
	}
}

245 @
Ov”ride


246 
public
 
	$g‘Cu¼’tSize
() {

247  
cu¼’tSize
;

248 
	}
}

255 @
Ov”ride


256 
public
 
SŒšg
 
	$g‘Name
() {

257  
Çme
;

258 
	}
}

266 
public
 
boŞ—n
 
	$£tL©’cy
(
Ï‹ncy
) {

267 ià(
Ï‹ncy
 < 0) {

268  
çl£
;

271 
this
.
Ï‹ncy
 =†atency;

272  
Œue
;

273 
	}
}

280 
public
 
	$g‘L©’cy
() {

281  
Ï‹ncy
;

282 
	}
}

290 @
Ov”ride


291 
public
 
boŞ—n
 
	$£tMaxT¿nsãrR©e
(
¿‹
) {

292 ià(
¿‹
 <= 0) {

293  
çl£
;

296 
maxT¿nsãrR©e
 = 
¿‹
;

297  
Œue
;

298 
	}
}

305 @
Ov”ride


306 
public
 
	$g‘MaxT¿nsãrR©e
() {

307  
maxT¿nsãrR©e
;

308 
	}
}

316 
public
 
boŞ—n
 
	$£tAvgS“kTime
(
£ekTime
) {

317  
	`£tAvgS“kTime
(
£ekTime
, 
nuÎ
);

318 
	}
}

328 
public
 
boŞ—n
 
	$£tAvgS“kTime
(
£ekTime
, 
CÚtšuousDi¡ributiÚ
 
g’
) {

329 ià(
£ekTime
 <= 0.0) {

330  
çl£
;

333 
avgS“kTime
 = 
£ekTime
;

334 
this
.
g’
 = gen;

335  
Œue
;

336 
	}
}

343 
public
 
	$g‘AvgS“kTime
() {

344  
avgS“kTime
;

345 
	}
}

354 @
Ov”ride


355 
public
 
Fe
 
	$g‘Fe
(
SŒšg
 
feName
) {

357 
Fe
 
obj
 = 
nuÎ
;

358 ià(
feName
 =ğ
nuÎ
 || feName.
	`Ëngth
() == 0) {

359 
Log
.
	`´štLše
(
Çme
 + ".getFile(): Warning - invalid " + "file‚ame.");

360  
obj
;

363 
I‹¿tÜ
<
Fe
> 
™
 = 
feLi¡
.
	`™”©Ü
();

364 
size
 = 0;

365 
šdex
 = 0;

366 
boŞ—n
 
found
 = 
çl£
;

367 
Fe
 
‹mpFe
 = 
nuÎ
;

370 
™
.
	`hasNext
()) {

371 
‹mpFe
 = 
™
.
	`Ãxt
();

372 
size
 +ğ
‹mpFe
.
	`g‘Size
();

373 ià(
‹mpFe
.
	`g‘Name
().
	`equ®s
(
feName
)) {

374 
found
 = 
Œue
;

375 
obj
 = 
‹mpFe
;

379 
šdex
++;

383 ià(
found
) {

384 
obj
 = 
feLi¡
.
	`g‘
(
šdex
);

385 
£ekTime
 = 
	`g‘S“kTime
(
size
);

386 
ŒªsãrTime
 = 
	`g‘T¿nsãrTime
(
obj
.
	`g‘Size
());

389 
obj
.
	`£tT¿n§ùiÚTime
(
£ekTime
 + 
ŒªsãrTime
);

392  
obj
;

393 
	}
}

400 @
Ov”ride


401 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘FeNameLi¡
() {

402  
ÇmeLi¡
;

403 
	}
}

412 
´iv©e
 
	$g‘S“kTime
(
feSize
) {

413 
»suÉ
 = 0;

415 ià(
g’
 !ğ
nuÎ
) {

416 
»suÉ
 +ğ
g’
.
	`§m¶e
();

419 ià(
feSize
 > 0 && 
ÿ·c™y
 != 0) {

420 
»suÉ
 +ğ(
feSize
 / 
ÿ·c™y
);

423  
»suÉ
;

424 
	}
}

432 
´iv©e
 
	$g‘T¿nsãrTime
(
feSize
) {

433 
»suÉ
 = 0;

434 ià(
feSize
 > 0 && 
ÿ·c™y
 != 0) {

435 
»suÉ
 = (
feSize
 * 
maxT¿nsãrR©e
è/ 
ÿ·c™y
;

438  
»suÉ
;

439 
	}
}

450 
´iv©e
 
boŞ—n
 
	$isFeV®id
(
Fe
 
fe
, 
SŒšg
 
m‘hodName
) {

452 ià(
fe
 =ğ
nuÎ
) {

453 
Log
.
	`´štLše
(
Çme
 + "." + 
m‘hodName
 + ": Warning -he given file is‚ull.");

454  
çl£
;

457 
SŒšg
 
feName
 = 
fe
.
	`g‘Name
();

458 ià(
feName
 =ğ
nuÎ
 || feName.
	`Ëngth
() == 0) {

459 
Log
.
	`´štLše
(
Çme
 + "." + 
m‘hodName
 + ": Warning - invalid file‚ame.");

460  
çl£
;

463  
Œue
;

464 
	}
}

475 @
Ov”ride


476 
public
 
	$addFe
(
Fe
 
fe
) {

477 
»suÉ
 = 0.0;

479 ià(!
	`isFeV®id
(
fe
, "addFile()")) {

480  
»suÉ
;

484 ià(
fe
.
	`g‘Size
(è+ 
cu¼’tSize
 > 
ÿ·c™y
) {

485 
Log
.
	`´štLše
(
Çme
 + ".addFe(): W¬nšg -‚Ùƒnough s·û" + "Ø¡Ü" + 
fe
.
	`g‘Name
());

486  
»suÉ
;

490 ià(!
	`cÚšs
(
fe
.
	`g‘Name
())) {

491 
£ekTime
 = 
	`g‘S“kTime
(
fe
.
	`g‘Size
());

492 
ŒªsãrTime
 = 
	`g‘T¿nsãrTime
(
fe
.
	`g‘Size
());

494 
feLi¡
.
	`add
(
fe
);

495 
ÇmeLi¡
.
	`add
(
fe
.
	`g‘Name
());

496 
cu¼’tSize
 +ğ
fe
.
	`g‘Size
();

497 
»suÉ
 = 
£ekTime
 + 
ŒªsãrTime
;

499 
fe
.
	`£tT¿n§ùiÚTime
(
»suÉ
);

500  
»suÉ
;

501 
	}
}

511 @
Ov”ride


512 
public
 
addFe
(
Li¡
<
Fe
> 
li¡
) {

513 
	g»suÉ
 = 0.0;

514 ià(
	gli¡
 =ğ
nuÎ
 || 
li¡
.
isEm±y
()) {

515 
Log
.
´štLše
(
Çme
 + ".addFile(): Warning -†ist isƒmpty.");

516  
	g»suÉ
;

519 
	gI‹¿tÜ
<
	gFe
> 
	g™
 = 
li¡
.
™”©Ü
();

520 
Fe
 
	gfe
 = 
nuÎ
;

521 
	g™
.
hasNext
()) {

522 
	gfe
 = 
™
.
Ãxt
();

523 
	g»suÉ
 +ğ
addFe
(
fe
);

525  
	g»suÉ
;

535 @
Ov”ride


536 
public
 
Fe
 
	$d–‘eFe
(
SŒšg
 
feName
) {

537 ià(
feName
 =ğ
nuÎ
 || feName.
	`Ëngth
() == 0) {

538  
nuÎ
;

541 
I‹¿tÜ
<
Fe
> 
™
 = 
feLi¡
.
	`™”©Ü
();

542 
Fe
 
fe
 = 
nuÎ
;

543 
™
.
	`hasNext
()) {

544 
fe
 = 
™
.
	`Ãxt
();

545 
SŒšg
 
Çme
 = 
fe
.
	`g‘Name
();

548 ià(
feName
.
	`equ®s
(
Çme
)) {

549 
»suÉ
 = 
	`d–‘eFe
(
fe
);

550 
fe
.
	`£tT¿n§ùiÚTime
(
»suÉ
);

553 
fe
 = 
nuÎ
;

556  
fe
;

557 
	}
}

567 @
Ov”ride


568 
public
 
	$d–‘eFe
(
SŒšg
 
feName
, 
Fe
 
fe
) {

569  
	`d–‘eFe
(
fe
);

570 
	}
}

579 @
Ov”ride


580 
public
 
	$d–‘eFe
(
Fe
 
fe
) {

581 
»suÉ
 = 0.0;

583 ià(!
	`isFeV®id
(
fe
, "deleteFile()")) {

584  
»suÉ
;

586 
£ekTime
 = 
	`g‘S“kTime
(
fe
.
	`g‘Size
());

587 
ŒªsãrTime
 = 
	`g‘T¿nsãrTime
(
fe
.
	`g‘Size
());

590 ià(
	`cÚšs
(
fe
)) {

591 
feLi¡
.
	`»move
(
fe
);

592 
ÇmeLi¡
.
	`»move
(
fe
.
	`g‘Name
());

593 
cu¼’tSize
 -ğ
fe
.
	`g‘Size
();

594 
»suÉ
 = 
£ekTime
 + 
ŒªsãrTime
;

595 
fe
.
	`£tT¿n§ùiÚTime
(
»suÉ
);

597  
»suÉ
;

598 
	}
}

606 @
Ov”ride


607 
public
 
boŞ—n
 
	$cÚšs
(
SŒšg
 
feName
) {

608 
boŞ—n
 
»suÉ
 = 
çl£
;

609 ià(
feName
 =ğ
nuÎ
 || feName.
	`Ëngth
() == 0) {

610 
Log
.
	`´štLše
(
Çme
 + ".contains(): Warning - invalid file‚ame");

611  
»suÉ
;

614 
I‹¿tÜ
<
SŒšg
> 
™
 = 
ÇmeLi¡
.
	`™”©Ü
();

615 
™
.
	`hasNext
()) {

616 
SŒšg
 
Çme
 = 
™
.
	`Ãxt
();

617 ià(
Çme
.
	`equ®s
(
feName
)) {

618 
»suÉ
 = 
Œue
;

622  
»suÉ
;

623 
	}
}

631 @
Ov”ride


632 
public
 
boŞ—n
 
	$cÚšs
(
Fe
 
fe
) {

633 
boŞ—n
 
»suÉ
 = 
çl£
;

634 ià(!
	`isFeV®id
(
fe
, "contains()")) {

635  
»suÉ
;

638 
»suÉ
 = 
	`cÚšs
(
fe
.
	`g‘Name
());

639  
»suÉ
;

640 
	}
}

650 @
Ov”ride


651 
public
 
boŞ—n
 
	$»ÇmeFe
(
Fe
 
fe
, 
SŒšg
 
ÃwName
) {

654 
boŞ—n
 
»suÉ
 = 
çl£
;

655 ià(
	`cÚšs
(
ÃwName
)) {

656  
»suÉ
;

660 
Fe
 
obj
 = 
	`g‘Fe
(
fe
.
	`g‘Name
());

661 ià(
obj
 =ğ
nuÎ
) {

662  
»suÉ
;

664 
obj
.
	`£tName
(
ÃwName
);

668 
I‹¿tÜ
<
SŒšg
> 
™
 = 
ÇmeLi¡
.
	`™”©Ü
();

669 
™
.
	`hasNext
()) {

670 
SŒšg
 
Çme
 = 
™
.
	`Ãxt
();

671 ià(
Çme
.
	`equ®s
(
fe
.
	`g‘Name
())) {

672 
fe
.
	`£tT¿n§ùiÚTime
(0);

673 
ÇmeLi¡
.
	`»move
(
Çme
);

674 
ÇmeLi¡
.
	`add
(
ÃwName
);

675 
»suÉ
 = 
Œue
;

680  
»suÉ
;

681 
	}
}

	@src/org/cloudbus/cloudsim/Host.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gPeLi¡
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gBwProvisiÚ”
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”
;

27 
public
 cÏs 
	cHo¡
 {

30 
´iv©e
 
	mid
;

33 
´iv©e
 
	m¡Üage
;

36 
´iv©e
 
RamProvisiÚ”
 
	m¿mProvisiÚ”
;

39 
´iv©e
 
BwProvisiÚ”
 
	mbwProvisiÚ”
;

42 
´iv©e
 
VmScheduËr
 
	mvmScheduËr
;

45 
´iv©e
 
fš®
 
	mLi¡
<? 
ex‹nds
 
	mVm
> 
	mvmLi¡
 = 
Ãw
 
A¼ayLi¡
<
Vm
>();

48 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mPe
> 
	m³Li¡
;

51 
´iv©e
 
boŞ—n
 
	mçed
;

54 
´iv©e
 
fš®
 
	mLi¡
<
	mVm
> 
	mvmsMig¿tšgIn
 = 
Ãw
 
A¼ayLi¡
<
Vm
>();

57 
´iv©e
 
D©aûÁ”
 
	md©aûÁ”
;

69 
public
 
Ho¡
(

70 
id
,

71 
RamProvisiÚ”
 
¿mProvisiÚ”
,

72 
BwProvisiÚ”
 
bwProvisiÚ”
,

73 
¡Üage
,

74 
Li¡
<? 
ex‹nds
 
Pe
> 
³Li¡
,

75 
VmScheduËr
 
vmScheduËr
) {

76 
£tId
(
id
);

77 
£tRamProvisiÚ”
(
¿mProvisiÚ”
);

78 
£tBwProvisiÚ”
(
bwProvisiÚ”
);

79 
£tStÜage
(
¡Üage
);

80 
£tVmScheduËr
(
vmScheduËr
);

82 
£tPeLi¡
(
³Li¡
);

83 
£tFaed
(
çl£
);

95 
public
 
	$upd©eVmsProûssšg
(
cu¼’tTime
) {

96 
sm®ËrTime
 = 
DoubË
.
MAX_VALUE
;

98 
Vm
 
vm
 : 
	`g‘VmLi¡
()) {

99 
time
 = 
vm
.
	`upd©eVmProûssšg
(
cu¼’tTime
, 
	`g‘VmScheduËr
().
	`g‘AÎoÿ‹dMsFÜVm
(vm));

100 ià(
time
 > 0.0 &&im< 
sm®ËrTime
) {

101 
sm®ËrTime
 = 
time
;

104  
sm®ËrTime
;

105 
	}
}

112 
public
 
	$addMig¿tšgInVm
(
Vm
 
vm
) {

113 
vm
.
	`£tInMig¿tiÚ
(
Œue
);

115 ià(!
	`g‘VmsMig¿tšgIn
().
	`cÚšs
(
vm
)) {

116 ià(
	`g‘StÜage
(è< 
vm
.
	`g‘Size
()) {

117 
Log
.
	`´štLše
("[VmScheduËr.addMig¿tšgInVm] AÎoÿtiÚ oàVM #" + 
vm
.
	`g‘Id
() + "o Host #"

118 + 
	`g‘Id
() + " failed by storage");

119 
Sy¡em
.
	`ex™
(0);

122 ià(!
	`g‘RamProvisiÚ”
().
	`®loÿ‹RamFÜVm
(
vm
, vm.
	`g‘Cu¼’tReque¡edRam
())) {

123 
Log
.
	`´štLše
("[VmScheduËr.addMig¿tšgInVm] AÎoÿtiÚ oàVM #" + 
vm
.
	`g‘Id
() + "o Host #"

124 + 
	`g‘Id
() + " failed by RAM");

125 
Sy¡em
.
	`ex™
(0);

128 ià(!
	`g‘BwProvisiÚ”
().
	`®loÿ‹BwFÜVm
(
vm
, vm.
	`g‘Cu¼’tReque¡edBw
())) {

129 
Log
.
	`´štLše
("[VmScheduËr.addMig¿tšgInVm] AÎoÿtiÚ oàVM #" + 
vm
.
	`g‘Id
() + "o Host #"

130 + 
	`g‘Id
() + " failed by BW");

131 
Sy¡em
.
	`ex™
(0);

134 
	`g‘VmScheduËr
().
	`g‘VmsMig¿tšgIn
().
	`add
(
vm
.
	`g‘Uid
());

135 ià(!
	`g‘VmScheduËr
().
	`®loÿ‹PesFÜVm
(
vm
, vm.
	`g‘Cu¼’tReque¡edMs
())) {

136 
Log
.
	`´štLše
("[VmScheduËr.addMig¿tšgInVm] AÎoÿtiÚ oàVM #" + 
vm
.
	`g‘Id
() + "o Host #"

137 + 
	`g‘Id
() + " failed by MIPS");

138 
Sy¡em
.
	`ex™
(0);

141 
	`£tStÜage
(
	`g‘StÜage
(è- 
vm
.
	`g‘Size
());

143 
	`g‘VmsMig¿tšgIn
().
	`add
(
vm
);

144 
	`g‘VmLi¡
().
	`add
(
vm
);

145 
	`upd©eVmsProûssšg
(
CloudSim
.
	`şock
());

146 
vm
.
	`g‘Ho¡
().
	`upd©eVmsProûssšg
(
CloudSim
.
	`şock
());

148 
	}
}

155 
public
 
	$»moveMig¿tšgInVm
(
Vm
 
vm
) {

156 
	`vmD—Îoÿ‹
(
vm
);

157 
	`g‘VmsMig¿tšgIn
().
	`»move
(
vm
);

158 
	`g‘VmLi¡
().
	`»move
(
vm
);

159 
	`g‘VmScheduËr
().
	`g‘VmsMig¿tšgIn
().
	`»move
(
vm
.
	`g‘Uid
());

160 
vm
.
	`£tInMig¿tiÚ
(
çl£
);

161 
	}
}

166 
public
 
	$»®loÿ‹Mig¿tšgInVms
() {

167 
Vm
 
vm
 : 
	`g‘VmsMig¿tšgIn
()) {

168 ià(!
	`g‘VmLi¡
().
	`cÚšs
(
vm
)) {

169 
	`g‘VmLi¡
().
	`add
(
vm
);

171 ià(!
	`g‘VmScheduËr
().
	`g‘VmsMig¿tšgIn
().
	`cÚšs
(
vm
.
	`g‘Uid
())) {

172 
	`g‘VmScheduËr
().
	`g‘VmsMig¿tšgIn
().
	`add
(
vm
.
	`g‘Uid
());

174 
	`g‘RamProvisiÚ”
().
	`®loÿ‹RamFÜVm
(
vm
, vm.
	`g‘Cu¼’tReque¡edRam
());

175 
	`g‘BwProvisiÚ”
().
	`®loÿ‹BwFÜVm
(
vm
, vm.
	`g‘Cu¼’tReque¡edBw
());

176 
	`g‘VmScheduËr
().
	`®loÿ‹PesFÜVm
(
vm
, vm.
	`g‘Cu¼’tReque¡edMs
());

177 
	`£tStÜage
(
	`g‘StÜage
(è- 
vm
.
	`g‘Size
());

179 
	}
}

187 
public
 
boŞ—n
 
	$isSu™abËFÜVm
(
Vm
 
vm
) {

188  (
	`g‘VmScheduËr
().
	`g‘PeC­ac™y
(è>ğ
vm
.
	`g‘Cu¼’tReque¡edMaxMs
()

189 && 
	`g‘VmScheduËr
().
	`g‘AvaabËMs
(è>ğ
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
()

190 && 
	`g‘RamProvisiÚ”
().
	`isSu™abËFÜVm
(
vm
, vm.
	`g‘Cu¼’tReque¡edRam
()è&& 
	`g‘BwProvisiÚ”
()

191 .
	`isSu™abËFÜVm
(
vm
, vm.
	`g‘Cu¼’tReque¡edBw
()));

192 
	}
}

202 
public
 
boŞ—n
 
	$vmC»©e
(
Vm
 
vm
) {

203 ià(
	`g‘StÜage
(è< 
vm
.
	`g‘Size
()) {

204 
Log
.
	`´štLše
("[VmScheduËr.vmC»©e] AÎoÿtiÚ oàVM #" + 
vm
.
	`g‘Id
() + "o Host #" + getId()

206 
Log
.
	`´štLše
("VM size: "+
vm
.
	`g‘Size
()+" Ho¡ stÜage: "+ 
¡Üage
);

207  
çl£
;

210 ià(!
	`g‘RamProvisiÚ”
().
	`®loÿ‹RamFÜVm
(
vm
, vm.
	`g‘Cu¼’tReque¡edRam
())) {

211 
Log
.
	`´štLše
("[VmScheduËr.vmC»©e] AÎoÿtiÚ oàVM #" + 
vm
.
	`g‘Id
() + "o Host #" + getId()

213 
Log
.
	`´štLše
("RAM‡vaabË: "+ 
¿mProvisiÚ”
.
	`g‘AvaabËRam
()+ " RAM„eque¡ed: "+
vm
.
	`g‘Ram
());

214  
çl£
;

217 ià(!
	`g‘BwProvisiÚ”
().
	`®loÿ‹BwFÜVm
(
vm
, vm.
	`g‘Cu¼’tReque¡edBw
())) {

218 
Log
.
	`´štLše
("[VmScheduËr.vmC»©e] AÎoÿtiÚ oàVM #" + 
vm
.
	`g‘Id
() + "o Host #" + getId()

220 
Log
.
	`´štLše
("Ho¡ BW: "+
	`g‘BwProvisiÚ”
().
	`g‘AvaabËBw
()+ " VM BW: "+
vm
.
	`g‘Bw
());

221 
	`g‘RamProvisiÚ”
().
	`d—Îoÿ‹RamFÜVm
(
vm
);

222  
çl£
;

225 ià(!
	`g‘VmScheduËr
().
	`®loÿ‹PesFÜVm
(
vm
, vm.
	`g‘Cu¼’tReque¡edMs
())) {

226 
Log
.
	`´štLše
("[VmScheduËr.vmC»©e] AÎoÿtiÚ oàVM #" + 
vm
.
	`g‘Id
() + "o Host #" + getId()

228 
Log
.
	`´štLše
("Ho¡ MIPS: "+
	`g‘MaxAvaabËMs
()+ " VM BW: "+
vm
.
	`g‘Ms
());

229 
	`g‘RamProvisiÚ”
().
	`d—Îoÿ‹RamFÜVm
(
vm
);

230 
	`g‘BwProvisiÚ”
().
	`d—Îoÿ‹BwFÜVm
(
vm
);

231  
çl£
;

234 
	`£tStÜage
(
	`g‘StÜage
(è- 
vm
.
	`g‘Size
());

235 
	`g‘VmLi¡
().
	`add
(
vm
);

236 
vm
.
	`£tHo¡
(
this
);

237  
Œue
;

238 
	}
}

247 
public
 
	$vmDe¡roy
(
Vm
 
vm
) {

248 ià(
vm
 !ğ
nuÎ
) {

249 
	`vmD—Îoÿ‹
(
vm
);

250 
	`g‘VmLi¡
().
	`»move
(
vm
);

251 
vm
.
	`£tHo¡
(
nuÎ
);

253 
	}
}

261 
public
 
	$vmDe¡royAÎ
() {

262 
	`vmD—Îoÿ‹AÎ
();

263 
Vm
 
vm
 : 
	`g‘VmLi¡
()) {

264 
vm
.
	`£tHo¡
(
nuÎ
);

265 
	`£tStÜage
(
	`g‘StÜage
(è+ 
vm
.
	`g‘Size
());

267 
	`g‘VmLi¡
().
	`ş—r
();

268 
	}
}

275 
´Ùeùed
 
	$vmD—Îoÿ‹
(
Vm
 
vm
) {

276 
	`g‘RamProvisiÚ”
().
	`d—Îoÿ‹RamFÜVm
(
vm
);

277 
	`g‘BwProvisiÚ”
().
	`d—Îoÿ‹BwFÜVm
(
vm
);

278 
	`g‘VmScheduËr
().
	`d—Îoÿ‹PesFÜVm
(
vm
);

279 
	`£tStÜage
(
	`g‘StÜage
(è+ 
vm
.
	`g‘Size
());

280 
	}
}

285 
´Ùeùed
 
	$vmD—Îoÿ‹AÎ
() {

286 
	`g‘RamProvisiÚ”
().
	`d—Îoÿ‹RamFÜAÎVms
();

287 
	`g‘BwProvisiÚ”
().
	`d—Îoÿ‹BwFÜAÎVms
();

288 
	`g‘VmScheduËr
().
	`d—Îoÿ‹PesFÜAÎVms
();

289 
	}
}

300 
public
 
Vm
 
	$g‘Vm
(
vmId
, 
u£rId
) {

301 
Vm
 
vm
 : 
	`g‘VmLi¡
()) {

302 ià(
vm
.
	`g‘Id
(è=ğ
vmId
 && vm.
	`g‘U£rId
(è=ğ
u£rId
) {

303  
vm
;

306  
nuÎ
;

307 
	}
}

314 
public
 
	$g‘Numb”OfPes
() {

315  
	`g‘PeLi¡
().
	`size
();

316 
	}
}

323 
public
 
	$g‘Numb”OfF»ePes
() {

324  
PeLi¡
.
	`g‘Numb”OfF»ePes
(
	`g‘PeLi¡
());

325 
	}
}

332 
public
 
	$g‘TÙ®Ms
() {

333  
PeLi¡
.
	`g‘TÙ®Ms
(
	`g‘PeLi¡
());

334 
	}
}

345 
public
 
boŞ—n
 
®loÿ‹PesFÜVm
(
Vm
 
vm
, 
Li¡
<
DoubË
> 
msSh¬e
) {

346  
g‘VmScheduËr
().
®loÿ‹PesFÜVm
(
vm
, 
msSh¬e
);

356 
public
 
	$d—Îoÿ‹PesFÜVm
(
Vm
 
vm
) {

357 
	`g‘VmScheduËr
().
	`d—Îoÿ‹PesFÜVm
(
vm
);

358 
	}
}

368 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘AÎoÿ‹dMsFÜVm
(
Vm
 
vm
) {

369  
	`g‘VmScheduËr
().
	`g‘AÎoÿ‹dMsFÜVm
(
vm
);

370 
	}
}

378 
public
 
	$g‘TÙ®AÎoÿ‹dMsFÜVm
(
Vm
 
vm
) {

379  
	`g‘VmScheduËr
().
	`g‘TÙ®AÎoÿ‹dMsFÜVm
(
vm
);

380 
	}
}

387 
public
 
	$g‘MaxAvaabËMs
() {

388  
	`g‘VmScheduËr
().
	`g‘MaxAvaabËMs
();

389 
	}
}

396 
public
 
	$g‘AvaabËMs
() {

397  
	`g‘VmScheduËr
().
	`g‘AvaabËMs
();

398 
	}
}

407 
public
 
	$g‘Bw
() {

408  
	`g‘BwProvisiÚ”
().
	`g‘Bw
();

409 
	}
}

418 
public
 
	$g‘Ram
() {

419  
	`g‘RamProvisiÚ”
().
	`g‘Ram
();

420 
	}
}

429 
public
 
	$g‘StÜage
() {

430  
¡Üage
;

431 
	}
}

438 
public
 
	$g‘Id
() {

439  
id
;

440 
	}
}

447 
´Ùeùed
 
	$£tId
(
id
) {

448 
this
.
id
 = id;

449 
	}
}

456 
public
 
RamProvisiÚ”
 
	$g‘RamProvisiÚ”
() {

457  
¿mProvisiÚ”
;

458 
	}
}

465 
´Ùeùed
 
	$£tRamProvisiÚ”
(
RamProvisiÚ”
 
¿mProvisiÚ”
) {

466 
this
.
¿mProvisiÚ”
 =„amProvisioner;

467 
	}
}

474 
public
 
BwProvisiÚ”
 
	$g‘BwProvisiÚ”
() {

475  
bwProvisiÚ”
;

476 
	}
}

483 
´Ùeùed
 
	$£tBwProvisiÚ”
(
BwProvisiÚ”
 
bwProvisiÚ”
) {

484 
this
.
bwProvisiÚ”
 = bwProvisioner;

485 
	}
}

492 
public
 
VmScheduËr
 
	$g‘VmScheduËr
() {

493  
vmScheduËr
;

494 
	}
}

501 
´Ùeùed
 
	$£tVmScheduËr
(
VmScheduËr
 
vmScheduËr
) {

502 
this
.
vmScheduËr
 = vmScheduler;

503 
	}
}

511 @
Suµ»ssW¬nšgs
("unchecked")

512 
	gpublic
 <
T
 
ex‹nds
 
	gPe
> 
	gLi¡
<
	gT
> 
	$g‘PeLi¡
() {

513  (
Li¡
<
T
>è
³Li¡
;

514 
	}
}

522 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gPe
> 
£tPeLi¡
(
Li¡
<T> 
³Li¡
) {

523 
	gthis
.
	g³Li¡
 = 
³Li¡
;

532 @
Suµ»ssW¬nšgs
("unchecked")

533 
	gpublic
 <
T
 
ex‹nds
 
	gVm
> 
	gLi¡
<
	gT
> 
	$g‘VmLi¡
() {

534  (
Li¡
<
T
>è
vmLi¡
;

535 
	}
}

542 
´Ùeùed
 
	$£tStÜage
(
¡Üage
) {

543 
this
.
¡Üage
 = storage;

544 
	}
}

551 
public
 
boŞ—n
 
	$isFaed
() {

552  
çed
;

553 
	}
}

564 
public
 
boŞ—n
 
	$£tFaed
(
SŒšg
 
»sName
, 
boŞ—n
 
çed
) {

566 
this
.
çed
 = failed;

567 
PeLi¡
.
	`£tStusFaed
(
	`g‘PeLi¡
(), 
»sName
, 
	`g‘Id
(), 
çed
);

568  
Œue
;

569 
	}
}

577 
public
 
boŞ—n
 
	$£tFaed
(
boŞ—n
 
çed
) {

579 
this
.
çed
 = failed;

580 
PeLi¡
.
	`£tStusFaed
(
	`g‘PeLi¡
(), 
çed
);

581  
Œue
;

582 
	}
}

594 
public
 
boŞ—n
 
	$£tPeStus
(
³Id
, 
¡©us
) {

595  
PeLi¡
.
	`£tPeStus
(
	`g‘PeLi¡
(), 
³Id
, 
¡©us
);

596 
	}
}

603 
public
 
	gLi¡
<
	gVm
> 
	$g‘VmsMig¿tšgIn
() {

604  
vmsMig¿tšgIn
;

605 
	}
}

612 
public
 
D©aûÁ”
 
	$g‘D©aûÁ”
() {

613  
d©aûÁ”
;

614 
	}
}

621 
public
 
	$£tD©aûÁ”
(
D©aûÁ”
 
d©aûÁ”
) {

622 
this
.
d©aûÁ”
 = datacenter;

623 
	}
}

625 @
Ov”ride


626 
public
 
SŒšg
 
	$toSŒšg
() {

627  "Ho¡ [id=" + 
id
 + ", stÜage=" + 
¡Üage
 + ",„amProvisioner="

628 + 
¿mProvisiÚ”
 + ", bwProvisiÚ”=" + 
bwProvisiÚ”


629 + ", vmScheduËr=" + 
vmScheduËr
 + ", vmLi¡=" + 
vmLi¡


630 + ",…eLi¡=" + 
³Li¡
 + ", faed=" + 
çed


631 + ", vmsMig¿tšgIn=" + 
vmsMig¿tšgIn
 + ", datacenter="

632 + 
d©aûÁ”
 + "]";

633 
	}
}

	@src/org/cloudbus/cloudsim/HostDynamicWorkload.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gPeLi¡
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gBwProvisiÚ”
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”
;

26 
public
 cÏs 
	cHo¡DyÇmicWÜklßd
 
ex‹nds
 
	mHo¡
 {

29 
´iv©e
 
	mutiz©iÚMs
;

32 
´iv©e
 
	m´eviousUtiz©iÚMs
;

35 
´iv©e
 
fš®
 
	mLi¡
<
	mHo¡S‹Hi¡ÜyEÁry
> 
	m¡©eHi¡Üy
 = 
Ãw
 
LškedLi¡
<
Ho¡S‹Hi¡ÜyEÁry
>();

47 
public
 
Ho¡DyÇmicWÜklßd
(

48 
id
,

49 
RamProvisiÚ”
 
¿mProvisiÚ”
,

50 
BwProvisiÚ”
 
bwProvisiÚ”
,

51 
¡Üage
,

52 
Li¡
<? 
ex‹nds
 
Pe
> 
³Li¡
,

53 
VmScheduËr
 
vmScheduËr
) {

54 
su³r
(
id
, 
¿mProvisiÚ”
, 
bwProvisiÚ”
, 
¡Üage
, 
³Li¡
, 
vmScheduËr
);

55 
£tUtiz©iÚMs
(0);

56 
£tP»viousUtiz©iÚMs
(0);

63 @
Ov”ride


64 
public
 
	$upd©eVmsProûssšg
(
cu¼’tTime
) {

65 
sm®ËrTime
 = 
su³r
.
	`upd©eVmsProûssšg
(
cu¼’tTime
);

66 
	`£tP»viousUtiz©iÚMs
(
	`g‘Utiz©iÚMs
());

67 
	`£tUtiz©iÚMs
(0);

68 
ho¡TÙ®Reque¡edMs
 = 0;

70 
Vm
 
vm
 : 
	`g‘VmLi¡
()) {

71 
	`g‘VmScheduËr
().
	`d—Îoÿ‹PesFÜVm
(
vm
);

74 
Vm
 
vm
 : 
	`g‘VmLi¡
()) {

75 
	`g‘VmScheduËr
().
	`®loÿ‹PesFÜVm
(
vm
, vm.
	`g‘Cu¼’tReque¡edMs
());

78 
Vm
 
vm
 : 
	`g‘VmLi¡
()) {

79 
tÙ®Reque¡edMs
 = 
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

80 
tÙ®AÎoÿ‹dMs
 = 
	`g‘VmScheduËr
().
	`g‘TÙ®AÎoÿ‹dMsFÜVm
(
vm
);

82 ià(!
Log
.
	`isDi§bËd
()) {

83 
Log
.
	`fÜm©Lše
(

84 "%.2f: [Ho¡ #" + 
	`g‘Id
(è+ "] TÙ®‡Îoÿ‹d MIPS fÜ VM #" + 
vm
.getId()

85 + " (Ho¡ #" + 
vm
.
	`g‘Ho¡
().
	`g‘Id
()

87 
CloudSim
.
	`şock
(),

88 
tÙ®AÎoÿ‹dMs
,

89 
tÙ®Reque¡edMs
,

90 
vm
.
	`g‘Ms
(),

91 
tÙ®Reque¡edMs
 / 
vm
.
	`g‘Ms
() * 100);

93 
Li¡
<
Pe
> 
³s
 = 
	`g‘VmScheduËr
().
	`g‘PesAÎoÿ‹dFÜVM
(
vm
);

94 
SŒšgBud”
 
³sSŒšg
 = 
Ãw
 
	`SŒšgBud”
();

95 
Pe
 
³
 : 
³s
) {

96 
³sSŒšg
.
	`­³nd
(
SŒšg
.
	`fÜm©
(" PE #" + 
³
.
	`g‘Id
(è+ ": %.2f.",…e.
	`g‘PeProvisiÚ”
()

97 .
	`g‘TÙ®AÎoÿ‹dMsFÜVm
(
vm
)));

99 
Log
.
	`fÜm©Lše
(

100 "%.2f: [Ho¡ #" + 
	`g‘Id
(è+ "] MIPS fÜ VM #" + 
vm
.getId() + " by PEs ("

101 + 
	`g‘Numb”OfPes
(è+ " * " + 
	`g‘VmScheduËr
().
	`g‘PeC­ac™y
() + ")."

102 + 
³sSŒšg
,

103 
CloudSim
.
	`şock
());

106 ià(
	`g‘VmsMig¿tšgIn
().
	`cÚšs
(
vm
)) {

107 
Log
.
	`fÜm©Lše
("%.2f: [Ho¡ #" + 
	`g‘Id
(è+ "] VM #" + 
vm
.getId()

108 + " i bešg mig¿‹dØHo¡ #" + 
	`g‘Id
(), 
CloudSim
.
	`şock
());

110 ià(
tÙ®AÎoÿ‹dMs
 + 0.1 < 
tÙ®Reque¡edMs
) {

111 
Log
.
	`fÜm©Lše
("%.2f: [Ho¡ #" + 
	`g‘Id
(è+ "] Und”‡Îoÿ‹d MIPS fÜ VM #" + 
vm
.getId()

112 + ": %.2f", 
CloudSim
.
	`şock
(), 
tÙ®Reque¡edMs
 - 
tÙ®AÎoÿ‹dMs
);

115 
vm
.
	`addS‹Hi¡ÜyEÁry
(

116 
cu¼’tTime
,

117 
tÙ®AÎoÿ‹dMs
,

118 
tÙ®Reque¡edMs
,

119 (
vm
.
	`isInMig¿tiÚ
(è&& !
	`g‘VmsMig¿tšgIn
().
	`cÚšs
(vm)));

121 ià(
vm
.
	`isInMig¿tiÚ
()) {

122 
Log
.
	`fÜm©Lše
(

123 "%.2f: [Ho¡ #" + 
	`g‘Id
(è+ "] VM #" + 
vm
.getId() + " is in migration",

124 
CloudSim
.
	`şock
());

125 
tÙ®AÎoÿ‹dMs
 /= 0.9;

129 
	`£tUtiz©iÚMs
(
	`g‘Utiz©iÚMs
(è+ 
tÙ®AÎoÿ‹dMs
);

130 
ho¡TÙ®Reque¡edMs
 +ğ
tÙ®Reque¡edMs
;

133 
	`addS‹Hi¡ÜyEÁry
(

134 
cu¼’tTime
,

135 
	`g‘Utiz©iÚMs
(),

136 
ho¡TÙ®Reque¡edMs
,

137 (
	`g‘Utiz©iÚMs
() > 0));

139  
sm®ËrTime
;

140 
	}
}

147 
public
 
	gLi¡
<
	gVm
> 
	$g‘Com¶‘edVms
() {

148 
Li¡
<
Vm
> 
vmsToRemove
 = 
Ãw
 
A¼ayLi¡
<Vm>();

149 
Vm
 
vm
 : 
	`g‘VmLi¡
()) {

150 ià(
vm
.
	`isInMig¿tiÚ
()) {

153 ià(
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
() == 0) {

154 
vmsToRemove
.
	`add
(
vm
);

157  
vmsToRemove
;

158 
	}
}

165 
public
 
	$g‘MaxUtiz©iÚ
() {

166  
PeLi¡
.
	`g‘MaxUtiz©iÚ
(
	`g‘PeLi¡
());

167 
	}
}

175 
public
 
	$g‘MaxUtiz©iÚAmÚgVmsPes
(
Vm
 
vm
) {

176  
PeLi¡
.
	`g‘MaxUtiz©iÚAmÚgVmsPes
(
	`g‘PeLi¡
(), 
vm
);

177 
	}
}

184 
public
 
	$g‘Utiz©iÚOfRam
() {

185  
	`g‘RamProvisiÚ”
().
	`g‘U£dRam
();

186 
	}
}

193 
public
 
	$g‘Utiz©iÚOfBw
() {

194  
	`g‘BwProvisiÚ”
().
	`g‘U£dBw
();

195 
	}
}

202 
public
 
	$g‘Utiz©iÚOfCpu
() {

203 
utiz©iÚ
 = 
	`g‘Utiz©iÚMs
(è/ 
	`g‘TÙ®Ms
();

204 ià(
utiz©iÚ
 > 1 && utilization < 1.01) {

205 
utiz©iÚ
 = 1;

207 if(
utiz©iÚ
 >1.01)

208 
Sy¡em
.
out
.
	`´šn
(
this
.
	`g‘Id
()+" g‘Utiz©iÚMs: "+
	`g‘Utiz©iÚMs
(è+ " g‘TÙ®Ms: "+ 
	`g‘TÙ®Ms
());

209  
utiz©iÚ
;

210 
	}
}

217 
public
 
	$g‘P»viousUtiz©iÚOfCpu
() {

218 
utiz©iÚ
 = 
	`g‘P»viousUtiz©iÚMs
(è/ 
	`g‘TÙ®Ms
();

219 ià(
utiz©iÚ
 > 1 && utilization < 1.01) {

220 
utiz©iÚ
 = 1;

222  
utiz©iÚ
;

223 
	}
}

230 
public
 
	$g‘Utiz©iÚOfCpuMs
() {

231  
	`g‘Utiz©iÚMs
();

232 
	}
}

239 
public
 
	$g‘Utiz©iÚMs
() {

240  
utiz©iÚMs
;

241 
	}
}

248 
´Ùeùed
 
	$£tUtiz©iÚMs
(
utiz©iÚMs
) {

249 
this
.
utiz©iÚMs
 = utilizationMips;

250 
	}
}

257 
public
 
	$g‘P»viousUtiz©iÚMs
() {

258  
´eviousUtiz©iÚMs
;

259 
	}
}

266 
´Ùeùed
 
	$£tP»viousUtiz©iÚMs
(
´eviousUtiz©iÚMs
) {

267 
this
.
´eviousUtiz©iÚMs
 =…reviousUtilizationMips;

268 
	}
}

275 
public
 
	gLi¡
<
	gHo¡S‹Hi¡ÜyEÁry
> 
	$g‘S‹Hi¡Üy
() {

276  
¡©eHi¡Üy
;

277 
	}
}

287 
public


289 
	$addS‹Hi¡ÜyEÁry
(
time
, 
®loÿ‹dMs
, 
»que¡edMs
, 
boŞ—n
 
isAùive
) {

291 
Ho¡S‹Hi¡ÜyEÁry
 
ÃwS‹
 = 
Ãw
 
	`Ho¡S‹Hi¡ÜyEÁry
(

292 
time
,

293 
®loÿ‹dMs
,

294 
»que¡edMs
,

295 
isAùive
);

296 ià(!
	`g‘S‹Hi¡Üy
().
	`isEm±y
()) {

297 
Ho¡S‹Hi¡ÜyEÁry
 
´eviousS‹
 = 
	`g‘S‹Hi¡Üy
().
	`g‘
(g‘S‹Hi¡Üy().
	`size
() - 1);

298 ià(
´eviousS‹
.
	`g‘Time
(è=ğ
time
) {

299 
	`g‘S‹Hi¡Üy
().
	`£t
(g‘S‹Hi¡Üy().
	`size
(è- 1, 
ÃwS‹
);

303 
	`g‘S‹Hi¡Üy
().
	`add
(
ÃwS‹
);

304 
	}
}

	@src/org/cloudbus/cloudsim/HostStateHistoryEntry.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

17 
public
 cÏs 
	cHo¡S‹Hi¡ÜyEÁry
 {

20 
´iv©e
 
	mtime
;

23 
´iv©e
 
	m®loÿ‹dMs
;

26 
´iv©e
 
	m»que¡edMs
;

29 
´iv©e
 
boŞ—n
 
	misAùive
;

39 
public
 
	$Ho¡S‹Hi¡ÜyEÁry
(
time
, 
®loÿ‹dMs
, 
»que¡edMs
, 
boŞ—n
 
isAùive
) {

40 
	`£tTime
(
time
);

41 
	`£tAÎoÿ‹dMs
(
®loÿ‹dMs
);

42 
	`£tReque¡edMs
(
»que¡edMs
);

43 
	`£tAùive
(
isAùive
);

51 
´Ùeùed
 
	$£tTime
(
time
) {

52 
this
.
time
 =ime;

53 
	}
}

60 
public
 
	$g‘Time
() {

61  
time
;

62 
	}
}

69 
´Ùeùed
 
	$£tAÎoÿ‹dMs
(
®loÿ‹dMs
) {

70 
this
.
®loÿ‹dMs
 =‡llocatedMips;

71 
	}
}

78 
public
 
	$g‘AÎoÿ‹dMs
() {

79  
®loÿ‹dMs
;

80 
	}
}

87 
´Ùeùed
 
	$£tReque¡edMs
(
»que¡edMs
) {

88 
this
.
»que¡edMs
 =„equestedMips;

89 
	}
}

96 
public
 
	$g‘Reque¡edMs
() {

97  
»que¡edMs
;

98 
	}
}

105 
public
 
	$£tAùive
(
boŞ—n
 
isAùive
) {

106 
this
.
isAùive
 = isActive;

107 
	}
}

114 
public
 
boŞ—n
 
	$isAùive
() {

115  
isAùive
;

116 
	}
}

	@src/org/cloudbus/cloudsim/InfoPacket.java

17 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

19 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©
;

20 
impÜt
 
	gjava
.
	gut
.
	gVeùÜ
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

40 
public
 cÏs 
	cInfoPack‘
 
im¶em’ts
 
	mPack‘
 {

43 
´iv©e
 
fš®
 
SŒšg
 
	mÇme
;

46 
´iv©e
 
	msize
;

49 
´iv©e
 
fš®
 
	m·ck‘Id
;

52 
´iv©e
 
fš®
 
	m¤cId
;

55 
´iv©e
 
	mde¡Id
;

58 
´iv©e
 
	mÏ¡
;

61 
´iv©e
 
	mg
;

64 
´iv©e
 
	mhİsNumb”
;

67 
´iv©e
 
	mpšgSize
;

70 
´iv©e
 
	mÃtS”viûTy³
;

73 
´iv©e
 
	mbªdwidth
;

76 
´iv©e
 
	mVeùÜ
<
	mIÁeg”
> 
	m’t™›s
;

79 
´iv©e
 
	mVeùÜ
<
	mDoubË
> 
	m’ŒyTimes
;

82 
´iv©e
 
	mVeùÜ
<
	mDoubË
> 
	mex™Times
;

85 
´iv©e
 
	mVeùÜ
<
	mDoubË
> 
	mbaudR©es
;

88 
´iv©e
 
Decim®FÜm©
 
	mnum
;

102 
public
 
	$InfoPack‘
(
SŒšg
 
Çme
, 
·ck‘ID
, 
size
, 
¤cID
, 
de¡ID
, 
ÃtS”viûTy³
) {

103 
this
.
Çme
 =‚ame;

104 
·ck‘Id
 = 
·ck‘ID
;

105 
¤cId
 = 
¤cID
;

106 
de¡Id
 = 
de¡ID
;

107 
this
.
size
 = size;

108 
this
.
ÃtS”viûTy³
 =‚etServiceType;

110 
	`š™
();

119 
´iv©e
 
	$š™
() {

120 
Ï¡
 = 
¤cId
;

121 
g
 = 
CloudSimTags
.
INFOPKT_SUBMIT
;

122 
bªdwidth
 = -1;

123 
hİsNumb”
 = 0;

124 
pšgSize
 = 
size
;

126 ià(
Çme
 !ğ
nuÎ
) {

127 
’t™›s
 = 
Ãw
 
VeùÜ
<
IÁeg”
>();

128 
’ŒyTimes
 = 
Ãw
 
VeùÜ
<
DoubË
>();

129 
ex™Times
 = 
Ãw
 
VeùÜ
<
DoubË
>();

130 
baudR©es
 = 
Ãw
 
VeùÜ
<
DoubË
>();

131 
num
 = 
Ãw
 
	`Decim®FÜm©
("#0.000#");

133 
	}
}

142 @
Ov”ride


143 
public
 
	$g‘Id
() {

144  
·ck‘Id
;

145 
	}
}

154 
public
 
	$£tOrigš®PšgSize
(
size
) {

155 
pšgSize
 = 
size
;

156 
	}
}

165 
public
 
	$g‘Origš®PšgSize
() {

166  
pšgSize
;

167 
	}
}

176 @
Ov”ride


177 
public
 
SŒšg
 
	$toSŒšg
() {

178 ià(
Çme
 =ğ
nuÎ
) {

182 
SIZE
 = 1000;

183 
SŒšgBufãr
 
sb
 = 
Ãw
 
	`SŒšgBufãr
(
SIZE
);

184 
sb
.
	`­³nd
("Pšg infÜm©iÚ fÜ " + 
Çme
 + "\n");

185 
sb
.
	`­³nd
("Entity Name\tEntry Time\tExit Time\t Bandwidth\n");

186 
sb
.
	`­³nd
("----------------------------------------------------------\n");

188 
SŒšg
 
b
 = " ";

189 
i
 = 0; i < 
’t™›s
.
	`size
(); i++) {

190 
»sID
 = 
’t™›s
.
	`g‘
(
i
).
	`štV®ue
();

191 
sb
.
	`­³nd
(
CloudSim
.
	`g‘EÁ™yName
(
»sID
) + "\t\t");

193 
SŒšg
 
’Œy
 = 
	`g‘D©a
(
’ŒyTimes
, 
i
);

194 
SŒšg
 
ex™
 = 
	`g‘D©a
(
ex™Times
, 
i
);

195 
SŒšg
 
bw
 = 
	`g‘D©a
(
baudR©es
, 
i
);

197 
sb
.
	`­³nd
(
’Œy
 + 
b
 +ab + 
ex™
 +ab +ab + 
bw
 + "\n");

200 
sb
.
	`­³nd
("\nRound Tr Tim: " + 
num
.
	`fÜm©
(
	`g‘TÙ®Re¥Ú£Time
()));

201 
sb
.
	`­³nd
(" seconds");

202 
sb
.
	`­³nd
("\nNumb” oàHİ  : " + 
	`g‘NumHİ
());

203 
sb
.
	`­³nd
("\nBÙ’eck Bªdwidth : " + 
bªdwidth
 + " bits/s");

204  
sb
.
	`toSŒšg
();

205 
	}
}

216 
´iv©e
 
SŒšg
 
g‘D©a
(
VeùÜ
<
DoubË
> 
v
, 
šdex
) {

217 
SŒšg
 
	g»suÉ
;

218 
	gŒy
 {

219 
DoubË
 
	gobj
 = 
v
.
g‘
(
šdex
);

220 
	gid
 = 
obj
.
doubËV®ue
();

221 
	g»suÉ
 = 
num
.
fÜm©
(
id
);

222 } 
ÿtch
 (
Exû±iÚ
 
e
) {

223 
	g»suÉ
 = " N/A";

226  
	g»suÉ
;

236 @
Ov”ride


237 
public
 
	$g‘Size
() {

238  
size
;

239 
	}
}

249 @
Ov”ride


250 
public
 
boŞ—n
 
	$£tSize
(
size
) {

251 ià(
size
 < 0) {

252  
çl£
;

255 
this
.
size
 = size;

256  
Œue
;

257 
	}
}

266 @
Ov”ride


267 
public
 
	$g‘De¡Id
() {

268  
de¡Id
;

269 
	}
}

278 @
Ov”ride


279 
public
 
	$g‘SrcId
() {

280  
¤cId
;

281 
	}
}

291 
public
 
	$g‘NumHİ
() {

292 
PAIR
 = 2;

293  ((
hİsNumb”
 - 
PAIR
) + 1) / PAIR;

294 
	}
}

306 
public
 
	$g‘TÙ®Re¥Ú£Time
() {

307 ià(
ex™Times
 =ğ
nuÎ
 || 
’ŒyTimes
 ==‚ull) {

311 
time
 = 0;

312 
Œy
 {

313 
¡¬tTime
 = 
ex™Times
.
	`fœ¡EËm’t
().
	`doubËV®ue
();

314 
»ûiveTime
 = 
’ŒyTimes
.
	`Ï¡EËm’t
().
	`doubËV®ue
();

315 
time
 = 
»ûiveTime
 - 
¡¬tTime
;

316 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

317 
time
 = 0;

320  
time
;

321 
	}
}

330 
public
 
	$g‘BaudR©e
() {

331  
bªdwidth
;

332 
	}
}

342 
public
 
	$addHİ
(
id
) {

343 ià(
’t™›s
 =ğ
nuÎ
) {

347 
hİsNumb”
++;

348 
’t™›s
.
	`add
(
IÁeg”
.
	`v®ueOf
(
id
));

349 
	}
}

359 
public
 
	$addEÁryTime
(
time
) {

360 ià(
’ŒyTimes
 =ğ
nuÎ
) {

364 ià(
time
 < 0) {

365 
time
 = 0.0;

368 
’ŒyTimes
.
	`add
(
DoubË
.
	`v®ueOf
(
time
));

369 
	}
}

379 
public
 
	$addEx™Time
(
time
) {

380 ià(
ex™Times
 =ğ
nuÎ
) {

384 ià(
time
 < 0) {

385 
time
 = 0.0;

388 
ex™Times
.
	`add
(
DoubË
.
	`v®ueOf
(
time
));

389 
	}
}

399 
public
 
	$addBaudR©e
(
baudR©e
) {

400 ià(
baudR©es
 =ğ
nuÎ
) {

404 
baudR©es
.
	`add
(
Ãw
 
	`DoubË
(
baudR©e
));

405 ià(
bªdwidth
 < 0 || 
baudR©e
 < bandwidth) {

406 
bªdwidth
 = 
baudR©e
;

408 
	}
}

417 
public
 
	gObjeù
[] 
	$g‘D‘aBaudR©e
() {

418 ià(
baudR©es
 =ğ
nuÎ
) {

419  
nuÎ
;

422  
baudR©es
.
	`toA¼ay
();

423 
	}
}

432 
public
 
	gObjeù
[] 
	$g‘D‘aHİs
() {

433 ià(
’t™›s
 =ğ
nuÎ
) {

434  
nuÎ
;

437  
’t™›s
.
	`toA¼ay
();

438 
	}
}

447 
public
 
	gObjeù
[] 
	$g‘D‘aEÁryTimes
() {

448 ià(
’ŒyTimes
 =ğ
nuÎ
) {

449  
nuÎ
;

452  
’ŒyTimes
.
	`toA¼ay
();

453 
	}
}

462 
public
 
	gObjeù
[] 
	$g‘D‘aEx™Times
() {

463 ià(
ex™Times
 =ğ
nuÎ
) {

464  
nuÎ
;

467  
ex™Times
.
	`toA¼ay
();

468 
	}
}

477 @
Ov”ride


478 
public
 
	$g‘La¡
() {

479  
Ï¡
;

480 
	}
}

489 @
Ov”ride


490 
public
 
	$£tLa¡
(
Ï¡
) {

491 
this
.
Ï¡
 =†ast;

492 
	}
}

501 @
Ov”ride


502 
public
 
	$g‘N‘S”viûTy³
() {

503  
ÃtS”viûTy³
;

504 
	}
}

513 @
Ov”ride


514 
public
 
	$£tN‘S”viûTy³
(
ÃtS”viûTy³
) {

515 
this
.
ÃtS”viûTy³
 =‚etServiceType;

516 
	}
}

525 @
Ov”ride


526 
public
 
	$g‘Tag
() {

527  
g
;

528 
	}
}

538 
public
 
boŞ—n
 
	$£tTag
(
g
) {

539 
boŞ—n
 
æag
 = 
çl£
;

540 
g
) {

541 
CloudSimTags
.
INFOPKT_SUBMIT
:

542 
CloudSimTags
.
INFOPKT_RETURN
:

543 
this
.
g
 =ag;

544 
æag
 = 
Œue
;

548 
æag
 = 
çl£
;

552  
æag
;

553 
	}
}

562 
public
 
	$£tDe¡Id
(
id
) {

563 
de¡Id
 = 
id
;

564 
	}
}

	@src/org/cloudbus/cloudsim/Log.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

12 
impÜt
 
	gjava
.
	gio
.
	gOuutSŒ—m
;

21 
public
 cÏs 
	cLog
 {

24 
´iv©e
 
fš®
 
SŒšg
 
	mLINE_SEPARATOR
 = 
Sy¡em
.
g‘Prİ”ty
("line.separator");

27 
´iv©e
 
OuutSŒ—m
 
	mouut
;

30 
´iv©e
 
boŞ—n
 
	mdi§bËd
;

37 
public
 
	$´št
(
SŒšg
 
mes§ge
) {

38 ià(!
	`isDi§bËd
()) {

39 
Œy
 {

40 
	`g‘Ouut
().
	`wr™e
(
mes§ge
.
	`g‘By‹s
());

41 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

42 
e
.
	`´štSckT¿û
();

52 
public
 
	$´št
(
Objeù
 
mes§ge
) {

53 ià(!
	`isDi§bËd
()) {

54 
	`´št
(
SŒšg
.
	`v®ueOf
(
mes§ge
));

56 
	}
}

63 
public
 
	$´štLše
(
SŒšg
 
mes§ge
) {

64 ià(!
	`isDi§bËd
()) {

65 
	`´št
(
mes§ge
 + 
LINE_SEPARATOR
);

67 
	}
}

72 
public
 
	$´štLše
() {

73 ià(!
	`isDi§bËd
()) {

74 
	`´št
(
LINE_SEPARATOR
);

76 
	}
}

83 
public
 
	$´štLše
(
Objeù
 
mes§ge
) {

84 ià(!
	`isDi§bËd
()) {

85 
	`´štLše
(
SŒšg
.
	`v®ueOf
(
mes§ge
));

87 
	}
}

95 
public
 
	$fÜm©
(
SŒšg
 
fÜm©
, 
Objeù
... 
¬gs
) {

96 ià(!
	`isDi§bËd
()) {

97 
	`´št
(
SŒšg
.
	`fÜm©
(
fÜm©
, 
¬gs
));

99 
	}
}

107 
public
 
	$fÜm©Lše
(
SŒšg
 
fÜm©
, 
Objeù
... 
¬gs
) {

108 ià(!
	`isDi§bËd
()) {

109 
	`´štLše
(
SŒšg
.
	`fÜm©
(
fÜm©
, 
¬gs
));

111 
	}
}

118 
public
 
	$£tOuut
(
OuutSŒ—m
 
_ouut
) {

119 
ouut
 = 
_ouut
;

120 
	}
}

127 
public
 
OuutSŒ—m
 
	$g‘Ouut
() {

128 ià(
ouut
 =ğ
nuÎ
) {

129 
	`£tOuut
(
Sy¡em
.
out
);

131  
ouut
;

132 
	}
}

139 
public
 
	$£tDi§bËd
(
boŞ—n
 
_di§bËd
) {

140 
di§bËd
 = 
_di§bËd
;

141 
	}
}

148 
public
 
boŞ—n
 
	$isDi§bËd
() {

149  
di§bËd
;

150 
	}
}

155 
public
 
	$di§bË
() {

156 
	`£tDi§bËd
(
Œue
);

157 
	}
}

162 
public
 
	$’abË
() {

163 
	`£tDi§bËd
(
çl£
);

164 
	}
}

	@src/org/cloudbus/cloudsim/NetworkTopology.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

14 
impÜt
 
	gjava
.
	gut
.
	gM­
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gD–ayM©rix_Flßt
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gG¿phR—d”Br™e
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gTİŞogiÿlG¿ph
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gTİŞogiÿlLšk
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gTİŞogiÿlNode
;

37 
public
 cÏs 
	cN‘wÜkTİŞogy
 {

39 
´Ùeùed
 
	mÃxtIdx
 = 0;

41 
´iv©e
 
boŞ—n
 
	mÃtwÜkEÇbËd
 = 
çl£
;

43 
´Ùeùed
 
D–ayM©rix_Flßt
 
	md–ayM©rix
 = 
nuÎ
;

45 
´Ùeùed
 [][] 
	mbwM©rix
 = 
nuÎ
;

47 
´Ùeùed
 
TİŞogiÿlG¿ph
 
	mg¿ph
 = 
nuÎ
;

49 
´Ùeùed
 
	mM­
<
	mIÁeg”
, IÁeg”> 
	mm­
 = 
nuÎ
;

59 
public
 
	$budN‘wÜkTİŞogy
(
SŒšg
 
feName
) {

60 
Log
.
	`´štLše
("TİŞogy fe: " + 
feName
);

63 
G¿phR—d”Br™e
 
»ad”
 = 
Ãw
 
	`G¿phR—d”Br™e
();

65 
Œy
 {

66 
g¿ph
 = 
»ad”
.
	`»adG¿phFe
(
feName
);

67 
m­
 = 
Ãw
 
HashM­
<
IÁeg”
, Integer>();

68 
	`g’”©eM©riûs
();

69 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

71 
Log
.
	`´štLše
("Problem in…rocessing BRITE file. Network simulation is disabled. Error: "

72 + 
e
.
	`g‘Mes§ge
());

80 
´iv©e
 
	$g’”©eM©riûs
() {

82 
d–ayM©rix
 = 
Ãw
 
	`D–ayM©rix_Flßt
(
g¿ph
, 
çl£
);

85 
bwM©rix
 = 
	`ü—‹BwM©rix
(
g¿ph
, 
çl£
);

87 
ÃtwÜkEÇbËd
 = 
Œue
;

88 
	}
}

101 
public
 
	$addLšk
(
¤cId
, 
de¡Id
, 
bw
, 
Ït
) {

103 ià(
g¿ph
 =ğ
nuÎ
) {

104 
g¿ph
 = 
Ãw
 
	`TİŞogiÿlG¿ph
();

107 ià(
m­
 =ğ
nuÎ
) {

108 
m­
 = 
Ãw
 
HashM­
<
IÁeg”
, Integer>();

112 ià(!
m­
.
	`cÚšsKey
(
¤cId
)) {

113 
g¿ph
.
	`addNode
(
Ãw
 
	`TİŞogiÿlNode
(
ÃxtIdx
));

114 
m­
.
	`put
(
¤cId
, 
ÃxtIdx
);

115 
ÃxtIdx
++;

118 ià(!
m­
.
	`cÚšsKey
(
de¡Id
)) {

119 
g¿ph
.
	`addNode
(
Ãw
 
	`TİŞogiÿlNode
(
ÃxtIdx
));

120 
m­
.
	`put
(
de¡Id
, 
ÃxtIdx
);

121 
ÃxtIdx
++;

125 
g¿ph
.
	`addLšk
(
Ãw
 
	`TİŞogiÿlLšk
(
m­
.
	`g‘
(
¤cId
), m­.g‘(
de¡Id
), (è
Ït
, (è
bw
));

127 
	`g’”©eM©riûs
();

129 
	}
}

138 
´iv©e
 [][] 
	$ü—‹BwM©rix
(
TİŞogiÿlG¿ph
 
g¿ph
, 
boŞ—n
 
dœeùed
) {

139 
nodes
 = 
g¿ph
.
	`g‘Numb”OfNodes
();

141 [][] 
mtx
 = 
Ãw
 [
nodes
][nodes];

144 
i
 = 0; i < 
nodes
; i++) {

145 
j
 = 0; j < 
nodes
; j++) {

146 
mtx
[
i
][
j
] = 0.0;

150 
I‹¿tÜ
<
TİŞogiÿlLšk
> 
™”
 = 
g¿ph
.
	`g‘LškI‹¿tÜ
();

151 
™”
.
	`hasNext
()) {

152 
TİŞogiÿlLšk
 
edge
 = 
™”
.
	`Ãxt
();

154 
mtx
[
edge
.
	`g‘SrcNodeID
()][edge.
	`g‘De¡NodeID
()] =ƒdge.
	`g‘LškBw
();

156 ià(!
dœeùed
) {

157 
mtx
[
edge
.
	`g‘De¡NodeID
()][edge.
	`g‘SrcNodeID
()] =ƒdge.
	`g‘LškBw
();

161  
mtx
;

162 
	}
}

173 
public
 
	$m­Node
(
şoudSimEÁ™yID
, 
br™eID
) {

174 ià(
ÃtwÜkEÇbËd
) {

175 
Œy
 {

177 ià(!
m­
.
	`cÚšsKey
(
şoudSimEÁ™yID
)) {

178 ià(!
m­
.
	`cÚšsV®ue
(
br™eID
)) {

179 
m­
.
	`put
(
şoudSimEÁ™yID
, 
br™eID
);

181 
Log
.
	`´štLše
("E¼Ü iÀÃtwÜk m­pšg. BRITE‚od" + 
br™eID
 + "‡lready in use.");

184 
Log
.
	`´štLše
("E¼Ü iÀÃtwÜk m­pšg. CloudSimƒÁ™y " + 
şoudSimEÁ™yID


187 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

188 
Log
.
	`´štLše
("E¼Ü iÀÃtwÜk m­pšg. CloudSim‚od" + 
şoudSimEÁ™yID


189 + "‚Ù m­³dØBRITE‚od" + 
br™eID
 + ".");

192 
	}
}

201 
public
 
	$unm­Node
(
şoudSimEÁ™yID
) {

202 ià(
ÃtwÜkEÇbËd
) {

203 
Œy
 {

204 
m­
.
	`»move
(
şoudSimEÁ™yID
);

205 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

206 
Log
.
	`´štLše
("E¼Ü iÀÃtwÜk unm­pšg. CloudSim‚ode: " + 
şoudSimEÁ™yID
);

209 
	}
}

221 
public
 
	$g‘D–ay
(
¤cID
, 
de¡ID
) {

222 ià(
ÃtwÜkEÇbËd
) {

223 
Œy
 {

225 
d–ay
 = 
d–ayM©rix
.
	`g‘D–ay
(
m­
.
	`g‘
(
¤cID
), m­.g‘(
de¡ID
));

227  
d–ay
;

228 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

233 
	}
}

244 
public
 
boŞ—n
 
	$isN‘wÜkEÇbËd
() {

245  
ÃtwÜkEÇbËd
;

246 
	}
}

	@src/org/cloudbus/cloudsim/Packet.java

15 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

24 
public
 
š‹rçû
 
	gPack‘
 {

33 @
Ov”ride


34 
SŒšg
 
toSŒšg
();

43 
g‘Size
();

53 
boŞ—n
 
£tSize
(
size
);

62 
g‘De¡Id
();

71 
g‘Id
();

80 
g‘SrcId
();

89 
g‘N‘S”viûTy³
();

101 
£tN‘S”viûTy³
(
£rviûTy³
);

110 
g‘La¡
();

119 
£tLa¡
(
Ï¡
);

128 
g‘Tag
();

	@src/org/cloudbus/cloudsim/ParameterException.java

17 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

26 
public
 cÏs 
	cP¬am‘”Exû±iÚ
 
ex‹nds
 
	mExû±iÚ
 {

29 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 1L;

32 
´iv©e
 
fš®
 
SŒšg
 
	mmes§ge
;

40 
public
 
	$P¬am‘”Exû±iÚ
() {

41 
	`su³r
();

42 
mes§ge
 = 
nuÎ
;

52 
public
 
	$P¬am‘”Exû±iÚ
(
SŒšg
 
mes§ge
) {

53 
	`su³r
();

54 
this
.
mes§ge
 = message;

55 
	}
}

64 @
Ov”ride


65 
public
 
SŒšg
 
	$toSŒšg
() {

66  
mes§ge
;

67 
	}
}

	@src/org/cloudbus/cloudsim/Pe.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gPeProvisiÚ”
;

22 
public
 cÏs 
	cPe
 {

25 
public
 
fš®
 
	mFREE
 = 1;

28 
public
 
fš®
 
	mBUSY
 = 2;

34 
public
 
fš®
 
	mFAILED
 = 3;

37 
´iv©e
 
	mid
;

41 
´iv©e
 
	m¡©us
;

44 
´iv©e
 
PeProvisiÚ”
 
	m³ProvisiÚ”
;

55 
public
 
	$Pe
(
id
, 
PeProvisiÚ”
 
³ProvisiÚ”
) {

56 
	`£tId
(
id
);

57 
	`£tPeProvisiÚ”
(
³ProvisiÚ”
);

60 
¡©us
 = 
FREE
;

68 
´Ùeùed
 
	$£tId
(
id
) {

69 
this
.
id
 = id;

70 
	}
}

77 
public
 
	$g‘Id
() {

78  
id
;

79 
	}
}

88 
public
 
	$£tMs
(
d
) {

89 
	`g‘PeProvisiÚ”
().
	`£tMs
(
d
);

90 
	}
}

99 
public
 
	$g‘Ms
() {

100  (è
	`g‘PeProvisiÚ”
().
	`g‘Ms
();

101 
	}
}

110 
public
 
	$g‘Stus
() {

111  
¡©us
;

112 
	}
}

121 
public
 
	$£tStusF»e
() {

122 
	`£tStus
(
FREE
);

123 
	}
}

132 
public
 
	$£tStusBusy
() {

133 
	`£tStus
(
BUSY
);

134 
	}
}

142 
public
 
	$£tStusFaed
() {

143 
	`£tStus
(
FAILED
);

144 
	}
}

153 
public
 
	$£tStus
(
¡©us
) {

154 
this
.
¡©us
 = status;

155 
	}
}

162 
´Ùeùed
 
	$£tPeProvisiÚ”
(
PeProvisiÚ”
 
³ProvisiÚ”
) {

163 
this
.
³ProvisiÚ”
 =…eProvisioner;

164 
	}
}

171 
public
 
PeProvisiÚ”
 
	$g‘PeProvisiÚ”
() {

172  
³ProvisiÚ”
;

173 
	}
}

	@src/org/cloudbus/cloudsim/ResCloudlet.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

27 
public
 cÏs 
	cResCloudËt
 {

30 
´iv©e
 
fš®
 
CloudËt
 
	mşoudËt
;

33 
´iv©e
 
	m¬riv®Time
;

36 
´iv©e
 
	mfšishedTime
;

39 
´iv©e
 
	mşoudËtFšishedSoF¬
;

45 
´iv©e
 
	m¡¬tExecTime
;

48 
´iv©e
 
	mtÙ®Com¶‘iÚTime
;

53 
´iv©e
 
	mmachšeId
;

56 
´iv©e
 
	m³Id
;

59 
´iv©e
 [] 
	mmachšeA¼ayId
 = 
nuÎ
;

62 
´iv©e
 [] 
	m³A¼ayId
 = 
nuÎ
;

65 
´iv©e
 
	mšdex
;

70 
´iv©e
 
fš®
 
	mNOT_FOUND
 = -1;

73 
´iv©e
 
fš®
 
	m¡¬tTime
;

76 
´iv©e
 
fš®
 
	mdu¿tiÚ
;

79 
´iv©e
 
fš®
 
	m»£rvId
;

82 
´iv©e
 
	m³sNumb”
;

93 
public
 
	$ResCloudËt
(
CloudËt
 
şoudËt
) {

96 
this
.
şoudËt
 = cloudlet;

97 
¡¬tTime
 = 0;

98 
»£rvId
 = 
NOT_FOUND
;

99 
du¿tiÚ
 = 0;

101 
	`š™
();

122 
public
 
	$ResCloudËt
(
CloudËt
 
şoudËt
, 
¡¬tTime
, 
du¿tiÚ
, 
»£rvID
) {

123 
this
.
şoudËt
 = cloudlet;

124 
this
.
¡¬tTime
 = startTime;

125 
»£rvId
 = 
»£rvID
;

126 
this
.
du¿tiÚ
 = duration;

128 
	`š™
();

129 
	}
}

138 
public
 
	$g‘S¹Time
() {

139  
¡¬tTime
;

140 
	}
}

149 
public
 
	$g‘Du¿tiÚTime
() {

150  
du¿tiÚ
;

151 
	}
}

160 
public
 
	$g‘Numb”OfPes
() {

161  
³sNumb”
;

162 
	}
}

171 
public
 
	$g‘Re£rv©iÚID
() {

172  
»£rvId
;

173 
	}
}

182 
public
 
boŞ—n
 
	$hasRe£rved
() {

183 ià(
»£rvId
 =ğ
NOT_FOUND
) {

184  
çl£
;

187  
Œue
;

188 
	}
}

196 
´iv©e
 
	$š™
() {

198 
³sNumb”
 = 
şoudËt
.
	`g‘Numb”OfPes
();

201 ià(
³sNumb”
 > 1) {

202 
machšeA¼ayId
 = 
Ãw
 [
³sNumb”
];

203 
³A¼ayId
 = 
Ãw
 [
³sNumb”
];

206 
¬riv®Time
 = 
CloudSim
.
	`şock
();

207 
şoudËt
.
	`£tSubmissiÚTime
(
¬riv®Time
);

210 
fšishedTime
 = 
NOT_FOUND
;

211 
machšeId
 = 
NOT_FOUND
;

212 
³Id
 = 
NOT_FOUND
;

213 
šdex
 = 0;

214 
tÙ®Com¶‘iÚTime
 = 0.0;

215 
¡¬tExecTime
 = 0.0;

219 
şoudËtFšishedSoF¬
 = 
şoudËt
.
	`g‘CloudËtFšishedSoF¬
(è* 
CÚ¡s
.
MILLION
;

220 
	}
}

229 
public
 
	$g‘CloudËtId
() {

230  
şoudËt
.
	`g‘CloudËtId
();

231 
	}
}

240 
public
 
	$g‘U£rId
() {

241  
şoudËt
.
	`g‘U£rId
();

242 
	}
}

251 
public
 
	$g‘CloudËtL’gth
() {

252  
şoudËt
.
	`g‘CloudËtL’gth
();

253 
	}
}

262 
public
 
	$g‘CloudËtTÙ®L’gth
() {

263  
şoudËt
.
	`g‘CloudËtTÙ®L’gth
();

264 
	}
}

273 
public
 
	$g‘CloudËtCÏssTy³
() {

274  
şoudËt
.
	`g‘CÏssTy³
();

275 
	}
}

285 
public
 
boŞ—n
 
	$£tCloudËtStus
(
¡©us
) {

287 
´evStus
 = 
şoudËt
.
	`g‘CloudËtStus
();

290 ià(
´evStus
 =ğ
¡©us
) {

291  
çl£
;

294 
boŞ—n
 
sucûss
 = 
Œue
;

295 
Œy
 {

296 
şock
 = 
CloudSim
.
	`şock
();

299 
şoudËt
.
	`£tCloudËtStus
(
¡©us
);

302 ià(
´evStus
 =ğ
CloudËt
.
INEXEC
) {

304 ià(
¡©us
 =ğ
CloudËt
.
CANCELED
 || stu =ğCloudËt.
PAUSED
 || stu =ğCloudËt.
SUCCESS
) {

306 
tÙ®Com¶‘iÚTime
 +ğ(
şock
 - 
¡¬tExecTime
);

307 
šdex
 = 0;

308  
Œue
;

312 ià(
´evStus
 =ğ
CloudËt
.
RESUMED
 && 
¡©us
 =ğCloudËt.
SUCCESS
) {

314 
tÙ®Com¶‘iÚTime
 +ğ(
şock
 - 
¡¬tExecTime
);

315  
Œue
;

319 ià(
¡©us
 =ğ
CloudËt
.
INEXEC
 || (
´evStus
 =ğCloudËt.
PAUSED
 && stu =ğCloudËt.
RESUMED
)) {

320 
¡¬tExecTime
 = 
şock
;

321 
şoudËt
.
	`£tExecS¹Time
(
¡¬tExecTime
);

324 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

325 
sucûss
 = 
çl£
;

328  
sucûss
;

329 
	}
}

338 
public
 
	$g‘ExecS¹Time
() {

339  
şoudËt
.
	`g‘ExecS¹Time
();

340 
	}
}

353 
public
 
	$£tExecP¬am
(
w®lClockTime
, 
aùu®CPUTime
) {

354 
şoudËt
.
	`£tExecP¬am
(
w®lClockTime
, 
aùu®CPUTime
);

355 
	}
}

366 
public
 
	$£tMachšeAndPeId
(
machšeId
, 
³Id
) {

368 
this
.
machšeId
 = machineId;

369 
this
.
³Id
 =…eId;

372 ià(
³A¼ayId
 !ğ
nuÎ
 && 
³sNumb”
 > 1) {

373 
machšeA¼ayId
[
šdex
] = 
machšeId
;

374 
³A¼ayId
[
šdex
] = 
³Id
;

375 
šdex
++;

377 
	}
}

386 
public
 
	$g‘MachšeId
() {

387  
machšeId
;

388 
	}
}

397 
public
 
	$g‘PeId
() {

398  
³Id
;

399 
	}
}

409 
public
 [] 
	$g‘PeIdLi¡
() {

410  
³A¼ayId
;

411 
	}
}

421 
public
 [] 
	$g‘MachšeIdLi¡
() {

422  
machšeA¼ayId
;

423 
	}
}

432 
public
 
	$g‘RemaššgCloudËtL’gth
() {

433 
Ëngth
 = 
şoudËt
.
	`g‘CloudËtTÙ®L’gth
(è* 
CÚ¡s
.
MILLION
 - 
şoudËtFšishedSoF¬
;

436 ià(
Ëngth
 < 0) {

440  (è
M©h
.
	`æoÜ
(
Ëngth
 / 
CÚ¡s
.
MILLION
);

441 
	}
}

456 
public
 
	$fš®izeCloudËt
() {

458 
w®lClockTime
 = 
CloudSim
.
	`şock
(è- 
¬riv®Time
;

459 
şoudËt
.
	`£tExecP¬am
(
w®lClockTime
, 
tÙ®Com¶‘iÚTime
);

461 
fšished
 = 0;

463 ià(
şoudËt
.
	`g‘CloudËtStus
()==
CloudËt
.
SUCCESS
) {

464 
fšished
 = 
şoudËt
.
	`g‘CloudËtL’gth
();

466 
fšished
 = 
şoudËtFšishedSoF¬
 / 
CÚ¡s
.
MILLION
;

469 
şoudËt
.
	`£tCloudËtFšishedSoF¬
(
fšished
);

470 
	}
}

479 
public
 
	$upd©eCloudËtFšishedSoF¬
(
miL’gth
) {

480 
şoudËtFšishedSoF¬
 +ğ
miL’gth
;

481 
	}
}

490 
public
 
	$g‘CloudËtA¼iv®Time
() {

491  
¬riv®Time
;

492 
	}
}

501 
public
 
	$£tFšishTime
(
time
) {

502 ià(
time
 < 0.0) {

506 
fšishedTime
 = 
time
;

507 
	}
}

516 
public
 
	$g‘ClouddËtFšishTime
() {

517  
fšishedTime
;

518 
	}
}

527 
public
 
CloudËt
 
	$g‘CloudËt
() {

528  
şoudËt
;

529 
	}
}

538 
public
 
	$g‘CloudËtStus
() {

539  
şoudËt
.
	`g‘CloudËtStus
();

540 
	}
}

547 
public
 
SŒšg
 
	$g‘Uid
() {

548  
	`g‘U£rId
(è+ "-" + 
	`g‘CloudËtId
();

549 
	}
}

	@src/org/cloudbus/cloudsim/SanStorage.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

24 
public
 cÏs 
	cSªStÜage
 
ex‹nds
 
	mH¬ddriveStÜage
 {

27 
	mbªdwidth
;

30 
	mÃtwÜkL©’cy
;

40 
public
 
	$SªStÜage
(
ÿ·c™y
, 
bªdwidth
, 
ÃtwÜkL©’cy
è
throws
 
P¬am‘”Exû±iÚ
 {

41 
	`su³r
(
ÿ·c™y
);

42 
this
.
bªdwidth
 = bandwidth;

43 
this
.
ÃtwÜkL©’cy
 =‚etworkLatency;

55 
public
 
	$SªStÜage
(
SŒšg
 
Çme
, 
ÿ·c™y
, 
bªdwidth
, 
ÃtwÜkL©’cy
)

56 
throws
 
P¬am‘”Exû±iÚ
 {

57 
	`su³r
(
Çme
, 
ÿ·c™y
);

58 
this
.
bªdwidth
 = bandwidth;

59 
this
.
ÃtwÜkL©’cy
 =‚etworkLatency;

60 
	}
}

68 @
Ov”ride


69 
public
 
	$addRe£rvedFe
(
Fe
 
fe
) {

70 
time
 = 
su³r
.
	`addRe£rvedFe
(
fe
);

71 
time
 +ğ
ÃtwÜkL©’cy
;

72 
time
 +ğ
fe
.
	`g‘Size
(è* 
bªdwidth
;

74  
time
;

75 
	}
}

82 @
Ov”ride


83 
public
 
	$g‘MaxT¿nsãrR©e
() {

85 
diskR©e
 = 
su³r
.
	`g‘MaxT¿nsãrR©e
();

89 ià(
diskR©e
 < 
bªdwidth
) {

90  
diskR©e
;

92  
bªdwidth
;

93 
	}
}

101 @
Ov”ride


102 
public
 
	$addFe
(
Fe
 
fe
) {

103 
time
 = 
su³r
.
	`addFe
(
fe
);

105 
time
 +ğ
ÃtwÜkL©’cy
;

106 
time
 +ğ
fe
.
	`g‘Size
(è* 
bªdwidth
;

108  
time
;

109 
	}
}

119 @
Ov”ride


120 
public
 
addFe
(
Li¡
<
Fe
> 
li¡
) {

121 
	g»suÉ
 = 0.0;

122 ià(
	gli¡
 =ğ
nuÎ
 || 
li¡
.
size
() == 0) {

123 
Log
.
´štLše
(
g‘Name
() + ".addFile(): Warning -†ist isƒmpty.");

124  
	g»suÉ
;

127 
	gI‹¿tÜ
<
	gFe
> 
	g™
 = 
li¡
.
™”©Ü
();

128 
Fe
 
	gfe
 = 
nuÎ
;

129 
	g™
.
hasNext
()) {

130 
	gfe
 = 
™
.
Ãxt
();

131 
	g»suÉ
 +ğ
this
.
addFe
(
fe
);

133  
	g»suÉ
;

144 @
Ov”ride


145 
public
 
	$d–‘eFe
(
SŒšg
 
feName
, 
Fe
 
fe
) {

146  
this
.
	`d–‘eFe
(
fe
);

147 
	}
}

156 @
Ov”ride


157 
public
 
	$d–‘eFe
(
Fe
 
fe
) {

158 
time
 = 
su³r
.
	`d–‘eFe
(
fe
);

160 
time
 +ğ
ÃtwÜkL©’cy
;

161 
time
 +ğ
fe
.
	`g‘Size
(è* 
bªdwidth
;

163  
time
;

164 
	}
}

	@src/org/cloudbus/cloudsim/Storage.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

24 
public
 
š‹rçû
 
	gStÜage
 {

31 
SŒšg
 
g‘Name
();

38 
g‘C­ac™y
();

45 
g‘Cu¼’tSize
();

52 
g‘MaxT¿nsãrR©e
();

59 
g‘AvaabËS·û
();

67 
boŞ—n
 
£tMaxT¿nsãrR©e
(
¿‹
);

74 
boŞ—n
 
isFuÎ
();

81 
g‘NumStÜedFe
();

89 
boŞ—n
 
»£rveS·û
(
feSize
);

99 
addRe£rvedFe
(
Fe
 
fe
);

107 
boŞ—n
 
hasPÙ’tŸlAvaabËS·û
(
feSize
);

116 
Fe
 
g‘Fe
(
SŒšg
 
feName
);

123 
	gLi¡
<
	gSŒšg
> 
g‘FeNameLi¡
();

132 
addFe
(
Fe
 
fe
);

141 
addFe
(
Li¡
<
Fe
> 
li¡
);

150 
Fe
 
d–‘eFe
(
SŒšg
 
feName
);

160 
d–‘eFe
(
SŒšg
 
feName
, 
Fe
 
fe
);

169 
d–‘eFe
(
Fe
 
fe
);

177 
boŞ—n
 
cÚšs
(
SŒšg
 
feName
);

185 
boŞ—n
 
cÚšs
(
Fe
 
fe
);

195 
boŞ—n
 
»ÇmeFe
(
Fe
 
fe
, 
SŒšg
 
ÃwName
);

	@src/org/cloudbus/cloudsim/UtilizationModel.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

18 
public
 
š‹rçû
 
	gUtiz©iÚMod–
 {

26 
g‘Utiz©iÚ
(
time
);

	@src/org/cloudbus/cloudsim/UtilizationModelFull.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

18 
public
 cÏs 
	cUtiz©iÚMod–FuÎ
 
im¶em’ts
 
	mUtiz©iÚMod–
 {

24 @
Ov”ride


25 
public
 
	$g‘Utiz©iÚ
(
time
) {

29 
	}
}

	@src/org/cloudbus/cloudsim/UtilizationModelNull.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

18 
public
 cÏs 
	cUtiz©iÚMod–NuÎ
 
im¶em’ts
 
	mUtiz©iÚMod–
 {

24 @
Ov”ride


25 
public
 
	$g‘Utiz©iÚ
(
time
) {

29 
	}
}

	@src/org/cloudbus/cloudsim/UtilizationModelPlanetLabInMemory.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

3 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

4 
impÜt
 
	gjava
.
	gio
.
	gFeR—d”
;

5 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

10 
public
 cÏs 
	cUtiz©iÚMod–PÏÃtLabInMemÜy
 
im¶em’ts
 
	mUtiz©iÚMod–
 {

13 
´iv©e
 
	mschedulšgIÁ”v®
;

16 
´iv©e
 
fš®
 [] 
	md©a
;

25 
public
 
	$Utiz©iÚMod–PÏÃtLabInMemÜy
(
SŒšg
 
šputP©h
, 
schedulšgIÁ”v®
)

26 
throws
 
Numb”FÜm©Exû±iÚ
,

27 
IOExû±iÚ
 {

28 
d©a
 = 
Ãw
 [289];

29 
	`£tSchedulšgIÁ”v®
(
schedulšgIÁ”v®
);

30 
Bufã»dR—d”
 
šput
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`FeR—d”
(
šputP©h
));

31 
n
 = 
d©a
.
Ëngth
;

32 
i
 = 0; i < 
n
 - 1; i++) {

33 
d©a
[
i
] = 
IÁeg”
.
	`v®ueOf
(
šput
.
	`»adLše
()) / 100.0;

35 
d©a
[
n
 - 1] = data[n - 2];

36 
šput
.
	`şo£
();

47 
public
 
	$Utiz©iÚMod–PÏÃtLabInMemÜy
(
SŒšg
 
šputP©h
, 
schedulšgIÁ”v®
, 
d©aSam¶es
)

48 
throws
 
Numb”FÜm©Exû±iÚ
,

49 
IOExû±iÚ
 {

50 
	`£tSchedulšgIÁ”v®
(
schedulšgIÁ”v®
);

51 
d©a
 = 
Ãw
 [
d©aSam¶es
];

52 
Bufã»dR—d”
 
šput
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`FeR—d”
(
šputP©h
));

53 
n
 = 
d©a
.
Ëngth
;

54 
i
 = 0; i < 
n
 - 1; i++) {

55 
d©a
[
i
] = 
IÁeg”
.
	`v®ueOf
(
šput
.
	`»adLše
()) / 100.0;

57 
d©a
[
n
 - 1] = data[n - 2];

58 
šput
.
	`şo£
();

59 
	}
}

65 @
Ov”ride


66 
public
 
	$g‘Utiz©iÚ
(
time
) {

67 ià(
time
 % 
	`g‘SchedulšgIÁ”v®
() == 0) {

68  
d©a
[(è
time
 / (è
	`g‘SchedulšgIÁ”v®
()];

70 
time1
 = (è
M©h
.
	`æoÜ
(
time
 / 
	`g‘SchedulšgIÁ”v®
());

71 
time2
 = (è
M©h
.
	`û
(
time
 / 
	`g‘SchedulšgIÁ”v®
());

72 
utiz©iÚ1
 = 
d©a
[
time1
];

73 
utiz©iÚ2
 = 
d©a
[
time2
];

74 
d–
 = (
utiz©iÚ2
 - 
utiz©iÚ1
è/ ((
time2
 - 
time1
è* 
	`g‘SchedulšgIÁ”v®
());

75 
utiz©iÚ
 = 
utiz©iÚ1
 + 
d–
 * (
time
 - 
time1
 * 
	`g‘SchedulšgIÁ”v®
());

76  
utiz©iÚ
;

78 
	}
}

85 
public
 
	$£tSchedulšgIÁ”v®
(
schedulšgIÁ”v®
) {

86 
this
.
schedulšgIÁ”v®
 = schedulingInterval;

87 
	}
}

94 
public
 
	$g‘SchedulšgIÁ”v®
() {

95  
schedulšgIÁ”v®
;

96 
	}
}

	@src/org/cloudbus/cloudsim/UtilizationModelStochastic.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gio
.
	gFeIÅutSŒ—m
;

12 
impÜt
 
	gjava
.
	gio
.
	gFeOuutSŒ—m
;

13 
impÜt
 
	gjava
.
	gio
.
	gObjeùIÅutSŒ—m
;

14 
impÜt
 
	gjava
.
	gio
.
	gObjeùOuutSŒ—m
;

15 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

16 
impÜt
 
	gjava
.
	gut
.
	gM­
;

17 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

26 
public
 cÏs 
	cUtiz©iÚMod–Stocha¡ic
 
im¶em’ts
 
	mUtiz©iÚMod–
 {

29 
´iv©e
 
Rªdom
 
	m¿ndomG’”©Ü
;

32 
´iv©e
 
	mM­
<
	mDoubË
, DoubË> 
	mhi¡Üy
;

37 
public
 
	$Utiz©iÚMod–Stocha¡ic
() {

38 
	`£tHi¡Üy
(
Ãw
 
HashM­
<
DoubË
, Double>());

39 
	`£tRªdomG’”©Ü
(
Ãw
 
	`Rªdom
());

47 
public
 
	$Utiz©iÚMod–Stocha¡ic
(
£ed
) {

48 
	`£tHi¡Üy
(
Ãw
 
HashM­
<
DoubË
, Double>());

49 
	`£tRªdomG’”©Ü
(
Ãw
 
	`Rªdom
(
£ed
));

50 
	}
}

56 @
Ov”ride


57 
public
 
	$g‘Utiz©iÚ
(
time
) {

58 ià(
	`g‘Hi¡Üy
().
	`cÚšsKey
(
time
)) {

59  
	`g‘Hi¡Üy
().
	`g‘
(
time
);

62 
utiz©iÚ
 = 
	`g‘RªdomG’”©Ü
().
	`ÃxtDoubË
();

63 
	`g‘Hi¡Üy
().
	`put
(
time
, 
utiz©iÚ
);

64  
utiz©iÚ
;

65 
	}
}

72 
´Ùeùed
 
	gM­
<
	gDoubË
, DoubË> 
	$g‘Hi¡Üy
() {

73  
hi¡Üy
;

74 
	}
}

81 
´Ùeùed
 
£tHi¡Üy
(
M­
<
DoubË
, DoubË> 
hi¡Üy
) {

82 
	gthis
.
	ghi¡Üy
 = 
hi¡Üy
;

91 
public
 
	$§veHi¡Üy
(
SŒšg
 
f’ame
è
throws
 
Exû±iÚ
 {

92 
FeOuutSŒ—m
 
fos
 = 
Ãw
 
	`FeOuutSŒ—m
(
f’ame
);

93 
ObjeùOuutSŒ—m
 
oos
 = 
Ãw
 
	`ObjeùOuutSŒ—m
(
fos
);

94 
oos
.
	`wr™eObjeù
(
	`g‘Hi¡Üy
());

95 
oos
.
	`şo£
();

96 
	}
}

104 @
Suµ»ssW¬nšgs
("unchecked")

105 
public
 
	$lßdHi¡Üy
(
SŒšg
 
f’ame
è
throws
 
Exû±iÚ
 {

106 
FeIÅutSŒ—m
 
fis
 = 
Ãw
 
	`FeIÅutSŒ—m
(
f’ame
);

107 
ObjeùIÅutSŒ—m
 
ois
 = 
Ãw
 
	`ObjeùIÅutSŒ—m
(
fis
);

108 
	`£tHi¡Üy
((
M­
<
DoubË
, DoubË>è
ois
.
	`»adObjeù
());

109 
ois
.
	`şo£
();

110 
	}
}

117 
public
 
	$£tRªdomG’”©Ü
(
Rªdom
 
¿ndomG’”©Ü
) {

118 
this
.
¿ndomG’”©Ü
 =„andomGenerator;

119 
	}
}

126 
public
 
Rªdom
 
	$g‘RªdomG’”©Ü
() {

127  
¿ndomG’”©Ü
;

128 
	}
}

	@src/org/cloudbus/cloudsim/Vm.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

23 
public
 cÏs 
	cVm
 {

26 
´iv©e
 
	mid
;

29 
´iv©e
 
	mu£rId
;

32 
´iv©e
 
SŒšg
 
	muid
;

35 
´iv©e
 
	msize
;

38 
´iv©e
 
	mms
;

41 
´iv©e
 
	mnumb”OfPes
;

44 
´iv©e
 
	m¿m
;

47 
´iv©e
 
	mbw
;

50 
´iv©e
 
SŒšg
 
	mvmm
;

53 
´iv©e
 
CloudËtScheduËr
 
	mşoudËtScheduËr
;

56 
´iv©e
 
Ho¡
 
	mho¡
;

59 
´iv©e
 
boŞ—n
 
	mšMig¿tiÚ
;

62 
´iv©e
 
	mcu¼’tAÎoÿ‹dSize
;

65 
´iv©e
 
	mcu¼’tAÎoÿ‹dRam
;

68 
´iv©e
 
	mcu¼’tAÎoÿ‹dBw
;

71 
´iv©e
 
	mLi¡
<
	mDoubË
> 
	mcu¼’tAÎoÿ‹dMs
;

74 
´iv©e
 
boŞ—n
 
	mbešgIn¡ªtŸ‹d
;

77 
´iv©e
 
fš®
 
	mLi¡
<
	mVmS‹Hi¡ÜyEÁry
> 
	m¡©eHi¡Üy
 = 
Ãw
 
LškedLi¡
<
VmS‹Hi¡ÜyEÁry
>();

101 
public
 
	$Vm
(

102 
id
,

103 
u£rId
,

104 
ms
,

105 
numb”OfPes
,

106 
¿m
,

107 
bw
,

108 
size
,

109 
SŒšg
 
vmm
,

110 
CloudËtScheduËr
 
şoudËtScheduËr
) {

111 
	`£tId
(
id
);

112 
	`£tU£rId
(
u£rId
);

113 
	`£tUid
(
	`g‘Uid
(
u£rId
, 
id
));

114 
	`£tMs
(
ms
);

115 
	`£tNumb”OfPes
(
numb”OfPes
);

116 
	`£tRam
(
¿m
);

117 
	`£tBw
(
bw
);

118 
	`£tSize
(
size
);

119 
	`£tVmm
(
vmm
);

120 
	`£tCloudËtScheduËr
(
şoudËtScheduËr
);

122 
	`£tInMig¿tiÚ
(
çl£
);

123 
	`£tBešgIn¡ªtŸ‹d
(
Œue
);

125 
	`£tCu¼’tAÎoÿ‹dBw
(0);

126 
	`£tCu¼’tAÎoÿ‹dMs
(
nuÎ
);

127 
	`£tCu¼’tAÎoÿ‹dRam
(0);

128 
	`£tCu¼’tAÎoÿ‹dSize
(0);

141 
public
 
	`upd©eVmProûssšg
(
cu¼’tTime
, 
Li¡
<
DoubË
> 
msSh¬e
) {

142 ià(
msSh¬e
 !ğ
nuÎ
) {

143  
	`g‘CloudËtScheduËr
().
	`upd©eVmProûssšg
(
cu¼’tTime
, 
msSh¬e
);

146 
	}
}

153 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘Cu¼’tReque¡edMs
() {

154 
Li¡
<
DoubË
> 
cu¼’tReque¡edMs
 = 
	`g‘CloudËtScheduËr
().
	`g‘Cu¼’tReque¡edMs
();

155 ià(
	`isBešgIn¡ªtŸ‹d
()) {

156 
cu¼’tReque¡edMs
 = 
Ãw
 
A¼ayLi¡
<
DoubË
>();

157 
i
 = 0; i < 
	`g‘Numb”OfPes
(); i++) {

158 
cu¼’tReque¡edMs
.
	`add
(
	`g‘Ms
());

161  
cu¼’tReque¡edMs
;

162 
	}
}

169 
public
 
	$g‘Cu¼’tReque¡edTÙ®Ms
() {

170 
tÙ®Reque¡edMs
 = 0;

171 
ms
 : 
	`g‘Cu¼’tReque¡edMs
()) {

172 
tÙ®Reque¡edMs
 +ğ
ms
;

174  
tÙ®Reque¡edMs
;

175 
	}
}

182 
public
 
	$g‘Cu¼’tReque¡edMaxMs
() {

183 
maxMs
 = 0;

184 
ms
 : 
	`g‘Cu¼’tReque¡edMs
()) {

185 ià(
ms
 > 
maxMs
) {

186 
maxMs
 = 
ms
;

189  
maxMs
;

190 
	}
}

197 
public
 
	$g‘Cu¼’tReque¡edBw
() {

198 ià(
	`isBešgIn¡ªtŸ‹d
()) {

199  
	`g‘Bw
();

201  (è(
	`g‘CloudËtScheduËr
().
	`g‘Cu¼’tReque¡edUtiz©iÚOfBw
(è* 
	`g‘Bw
());

202 
	}
}

209 
public
 
	$g‘Cu¼’tReque¡edRam
() {

210 ià(
	`isBešgIn¡ªtŸ‹d
()) {

211  
	`g‘Ram
();

213  (è(
	`g‘CloudËtScheduËr
().
	`g‘Cu¼’tReque¡edUtiz©iÚOfRam
(è* 
	`g‘Ram
());

214 
	}
}

222 
public
 
	$g‘TÙ®Utiz©iÚOfCpu
(
time
) {

223  
	`g‘CloudËtScheduËr
().
	`g‘TÙ®Utiz©iÚOfCpu
(
time
);

224 
	}
}

232 
public
 
	$g‘TÙ®Utiz©iÚOfCpuMs
(
time
) {

233  
	`g‘TÙ®Utiz©iÚOfCpu
(
time
è* 
	`g‘Ms
();

234 
	}
}

241 
public
 
	$£tUid
(
SŒšg
 
uid
) {

242 
this
.
uid
 = uid;

243 
	}
}

250 
public
 
SŒšg
 
	$g‘Uid
() {

251  
uid
;

252 
	}
}

261 
public
 
SŒšg
 
	$g‘Uid
(
u£rId
, 
vmId
) {

262  
u£rId
 + "-" + 
vmId
;

263 
	}
}

270 
public
 
	$g‘Id
() {

271  
id
;

272 
	}
}

279 
´Ùeùed
 
	$£tId
(
id
) {

280 
this
.
id
 = id;

281 
	}
}

288 
´Ùeùed
 
	$£tU£rId
(
u£rId
) {

289 
this
.
u£rId
 = userId;

290 
	}
}

299 
public
 
	$g‘U£rId
() {

300  
u£rId
;

301 
	}
}

308 
public
 
	$g‘Ms
() {

309  
ms
;

310 
	}
}

317 
´Ùeùed
 
	$£tMs
(
ms
) {

318 
this
.
ms
 = mips;

319 
	}
}

326 
public
 
	$g‘Numb”OfPes
() {

327  
numb”OfPes
;

328 
	}
}

335 
´Ùeùed
 
	$£tNumb”OfPes
(
numb”OfPes
) {

336 
this
.
numb”OfPes
 =‚umberOfPes;

337 
	}
}

346 
public
 
	$g‘Ram
() {

347  
¿m
;

348 
	}
}

357 
public
 
	$£tRam
(
¿m
) {

358 
this
.
¿m
 =„am;

359 
	}
}

368 
public
 
	$g‘Bw
() {

369  
bw
;

370 
	}
}

379 
public
 
	$£tBw
(
bw
) {

380 
this
.
bw
 = bw;

381 
	}
}

390 
public
 
	$g‘Size
() {

391  
size
;

392 
	}
}

401 
public
 
	$£tSize
(
size
) {

402 
this
.
size
 = size;

403 
	}
}

412 
public
 
SŒšg
 
	$g‘Vmm
() {

413  
vmm
;

414 
	}
}

421 
´Ùeùed
 
	$£tVmm
(
SŒšg
 
vmm
) {

422 
this
.
vmm
 = vmm;

423 
	}
}

432 
public
 
	$£tHo¡
(
Ho¡
 
ho¡
) {

433 
this
.
ho¡
 = host;

434 
	}
}

441 
public
 
Ho¡
 
	$g‘Ho¡
() {

442  
ho¡
;

443 
	}
}

450 
public
 
CloudËtScheduËr
 
	$g‘CloudËtScheduËr
() {

451  
şoudËtScheduËr
;

452 
	}
}

459 
´Ùeùed
 
	$£tCloudËtScheduËr
(
CloudËtScheduËr
 
şoudËtScheduËr
) {

460 
this
.
şoudËtScheduËr
 = cloudletScheduler;

461 
	}
}

468 
public
 
boŞ—n
 
	$isInMig¿tiÚ
() {

469  
šMig¿tiÚ
;

470 
	}
}

477 
public
 
	$£tInMig¿tiÚ
(
boŞ—n
 
šMig¿tiÚ
) {

478 
this
.
šMig¿tiÚ
 = inMigration;

479 
	}
}

486 
public
 
	$g‘Cu¼’tAÎoÿ‹dSize
() {

487  
cu¼’tAÎoÿ‹dSize
;

488 
	}
}

495 
´Ùeùed
 
	$£tCu¼’tAÎoÿ‹dSize
(
cu¼’tAÎoÿ‹dSize
) {

496 
this
.
cu¼’tAÎoÿ‹dSize
 = currentAllocatedSize;

497 
	}
}

504 
public
 
	$g‘Cu¼’tAÎoÿ‹dRam
() {

505  
cu¼’tAÎoÿ‹dRam
;

506 
	}
}

513 
public
 
	$£tCu¼’tAÎoÿ‹dRam
(
cu¼’tAÎoÿ‹dRam
) {

514 
this
.
cu¼’tAÎoÿ‹dRam
 = currentAllocatedRam;

515 
	}
}

522 
public
 
	$g‘Cu¼’tAÎoÿ‹dBw
() {

523  
cu¼’tAÎoÿ‹dBw
;

524 
	}
}

531 
public
 
	$£tCu¼’tAÎoÿ‹dBw
(
cu¼’tAÎoÿ‹dBw
) {

532 
this
.
cu¼’tAÎoÿ‹dBw
 = currentAllocatedBw;

533 
	}
}

541 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘Cu¼’tAÎoÿ‹dMs
() {

542  
cu¼’tAÎoÿ‹dMs
;

543 
	}
}

550 
public
 
£tCu¼’tAÎoÿ‹dMs
(
Li¡
<
DoubË
> 
cu¼’tAÎoÿ‹dMs
) {

551 
	gthis
.
	gcu¼’tAÎoÿ‹dMs
 = 
cu¼’tAÎoÿ‹dMs
;

559 
public
 
boŞ—n
 
	$isBešgIn¡ªtŸ‹d
() {

560  
bešgIn¡ªtŸ‹d
;

561 
	}
}

568 
public
 
	$£tBešgIn¡ªtŸ‹d
(
boŞ—n
 
bešgIn¡ªtŸ‹d
) {

569 
this
.
bešgIn¡ªtŸ‹d
 = beingInstantiated;

570 
	}
}

577 
public
 
	gLi¡
<
	gVmS‹Hi¡ÜyEÁry
> 
	$g‘S‹Hi¡Üy
() {

578  
¡©eHi¡Üy
;

579 
	}
}

589 
public
 
	$addS‹Hi¡ÜyEÁry
(

590 
time
,

591 
®loÿ‹dMs
,

592 
»que¡edMs
,

593 
boŞ—n
 
isInMig¿tiÚ
) {

594 
VmS‹Hi¡ÜyEÁry
 
ÃwS‹
 = 
Ãw
 
	`VmS‹Hi¡ÜyEÁry
(

595 
time
,

596 
®loÿ‹dMs
,

597 
»que¡edMs
,

598 
isInMig¿tiÚ
);

599 ià(!
	`g‘S‹Hi¡Üy
().
	`isEm±y
()) {

600 
VmS‹Hi¡ÜyEÁry
 
´eviousS‹
 = 
	`g‘S‹Hi¡Üy
().
	`g‘
(g‘S‹Hi¡Üy().
	`size
() - 1);

601 ià(
´eviousS‹
.
	`g‘Time
(è=ğ
time
) {

602 
	`g‘S‹Hi¡Üy
().
	`£t
(g‘S‹Hi¡Üy().
	`size
(è- 1, 
ÃwS‹
);

606 
	`g‘S‹Hi¡Üy
().
	`add
(
ÃwS‹
);

607 
	}
}

	@src/org/cloudbus/cloudsim/VmAllocationPolicy.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gM­
;

23 
public
 
ab¡¿ù
 cÏs 
	cVmAÎoÿtiÚPŞicy
 {

26 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mHo¡
> 
	mho¡Li¡
;

35 
public
 
VmAÎoÿtiÚPŞicy
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

36 
£tHo¡Li¡
(
li¡
);

48 
public
 
ab¡¿ù
 
boŞ—n
 
®loÿ‹Ho¡FÜVm
(
Vm
 
vm
);

58 
public
 
ab¡¿ù
 
boŞ—n
 
®loÿ‹Ho¡FÜVm
(
Vm
 
vm
, 
Ho¡
 
ho¡
);

68 
public
 
ab¡¿ù
 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
İtimizeAÎoÿtiÚ
(
Li¡
<? 
ex‹nds
 
Vm
> 
vmLi¡
);

77 
public
 
ab¡¿ù
 
d—Îoÿ‹Ho¡FÜVm
(
Vm
 
vm
);

87 
public
 
ab¡¿ù
 
Ho¡
 
g‘Ho¡
(
Vm
 
vm
);

98 
public
 
ab¡¿ù
 
Ho¡
 
g‘Ho¡
(
vmId
, 
u£rId
);

105 
´Ùeùed
 
£tHo¡Li¡
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
) {

106 
	gthis
.
	gho¡Li¡
 = 
ho¡Li¡
;

114 @
Suµ»ssW¬nšgs
("unchecked")

115 
	gpublic
 <
T
 
ex‹nds
 
	gHo¡
> 
	gLi¡
<
	gT
> 
	$g‘Ho¡Li¡
() {

116  (
Li¡
<
T
>è
ho¡Li¡
;

117 
	}
}

	@src/org/cloudbus/cloudsim/VmAllocationPolicySimple.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gM­
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

26 
public
 cÏs 
	cVmAÎoÿtiÚPŞicySim¶e
 
ex‹nds
 
	mVmAÎoÿtiÚPŞicy
 {

29 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mHo¡
> 
	mvmTabË
;

32 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	mu£dPes
;

35 
´iv©e
 
	mLi¡
<
	mIÁeg”
> 
	mä“Pes
;

44 
public
 
VmAÎoÿtiÚPŞicySim¶e
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

45 
su³r
(
li¡
);

47 
£tF»ePes
(
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

48 
Ho¡
 
	mho¡
 : 
g‘Ho¡Li¡
()) {

49 
g‘F»ePes
().
add
(
ho¡
.
g‘Numb”OfPes
());

53 
£tVmTabË
(
Ãw
 
HashM­
<
SŒšg
, 
Ho¡
>());

54 
£tU£dPes
(
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

65 @
Ov”ride


66 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

67 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

68 
boŞ—n
 
»suÉ
 = 
çl£
;

69 
Œ›s
 = 0;

70 
Li¡
<
IÁeg”
> 
ä“PesTmp
 = 
Ãw
 
A¼ayLi¡
<Integer>();

71 
IÁeg”
 
ä“Pes
 : 
	`g‘F»ePes
()) {

72 
ä“PesTmp
.
	`add
(
ä“Pes
);

75 ià(!
	`g‘VmTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

77 
mÜeF»e
 = 
IÁeg”
.
MIN_VALUE
;

78 
idx
 = -1;

81 
i
 = 0; i < 
ä“PesTmp
.
	`size
(); i++) {

82 ià(
ä“PesTmp
.
	`g‘
(
i
è> 
mÜeF»e
) {

83 
mÜeF»e
 = 
ä“PesTmp
.
	`g‘
(
i
);

84 
idx
 = 
i
;

88 
Ho¡
 
ho¡
 = 
	`g‘Ho¡Li¡
().
	`g‘
(
idx
);

89 
»suÉ
 = 
ho¡
.
	`vmC»©e
(
vm
);

91 ià(
»suÉ
) {

92 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

93 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

94 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

95 
»suÉ
 = 
Œue
;

98 
ä“PesTmp
.
	`£t
(
idx
, 
IÁeg”
.
MIN_VALUE
);

100 
Œ›s
++;

101 } !
»suÉ
 && 
Œ›s
 < 
	`g‘F»ePes
().
	`size
());

105  
»suÉ
;

106 
	}
}

115 @
Ov”ride


116 
public
 
	$d—Îoÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

117 
Ho¡
 
ho¡
 = 
	`g‘VmTabË
().
	`»move
(
vm
.
	`g‘Uid
());

118 
idx
 = 
	`g‘Ho¡Li¡
().
	`šdexOf
(
ho¡
);

119 
³s
 = 
	`g‘U£dPes
().
	`»move
(
vm
.
	`g‘Uid
());

120 ià(
ho¡
 !ğ
nuÎ
) {

121 
ho¡
.
	`vmDe¡roy
(
vm
);

122 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè+ 
³s
);

124 
	}
}

134 @
Ov”ride


135 
public
 
Ho¡
 
	$g‘Ho¡
(
Vm
 
vm
) {

136  
	`g‘VmTabË
().
	`g‘
(
vm
.
	`g‘Uid
());

137 
	}
}

148 @
Ov”ride


149 
public
 
Ho¡
 
	$g‘Ho¡
(
vmId
, 
u£rId
) {

150  
	`g‘VmTabË
().
	`g‘
(
Vm
.
	`g‘Uid
(
u£rId
, 
vmId
));

151 
	}
}

158 
public
 
	gM­
<
	gSŒšg
, 
	gHo¡
> 
	$g‘VmTabË
() {

159  
vmTabË
;

160 
	}
}

167 
´Ùeùed
 
£tVmTabË
(
M­
<
SŒšg
, 
Ho¡
> 
vmTabË
) {

168 
	gthis
.
	gvmTabË
 = 
vmTabË
;

176 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘U£dPes
() {

177  
u£dPes
;

178 
	}
}

185 
´Ùeùed
 
£tU£dPes
(
M­
<
SŒšg
, 
IÁeg”
> 
u£dPes
) {

186 
	gthis
.
	gu£dPes
 = 
u£dPes
;

194 
´Ùeùed
 
	gLi¡
<
	gIÁeg”
> 
	$g‘F»ePes
() {

195  
ä“Pes
;

196 
	}
}

203 
´Ùeùed
 
£tF»ePes
(
Li¡
<
IÁeg”
> 
ä“Pes
) {

204 
	gthis
.
	gä“Pes
 = 
ä“Pes
;

211 @
Ov”ride


212 
public
 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
İtimizeAÎoÿtiÚ
(
Li¡
<? 
ex‹nds
 
Vm
> 
vmLi¡
) {

214  
	gnuÎ
;

222 @
Ov”ride


223 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
, 
Ho¡
 
ho¡
) {

224 ià(
ho¡
.
	`vmC»©e
(
vm
)) {

225 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

227 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

228 
idx
 = 
	`g‘Ho¡Li¡
().
	`šdexOf
(
ho¡
);

229 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

230 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

232 
Log
.
	`fÜm©Lše
(

233 "%.2f: VM #" + 
vm
.
	`g‘Id
(è+ " ha b“À®loÿ‹dØthho¡ #" + 
ho¡
.getId(),

234 
CloudSim
.
	`şock
());

235  
Œue
;

238  
çl£
;

239 
	}
}

	@src/org/cloudbus/cloudsim/VmScheduler.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gM­
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gPeLi¡
;

25 
public
 
ab¡¿ù
 cÏs 
	cVmScheduËr
 {

28 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mPe
> 
	m³Li¡
;

31 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLi¡
<
	mPe
>> 
	m³M­
;

34 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLi¡
<
	mDoubË
>> 
	mmsM­
;

37 
´iv©e
 
	mavaabËMs
;

40 
´iv©e
 
	mLi¡
<
	mSŒšg
> 
	mvmsMig¿tšgIn
;

43 
´iv©e
 
	mLi¡
<
	mSŒšg
> 
	mvmsMig¿tšgOut
;

52 
public
 
VmScheduËr
(
Li¡
<? 
ex‹nds
 
Pe
> 
³li¡
) {

53 
£tPeLi¡
(
³li¡
);

54 
£tPeM­
(
Ãw
 
HashM­
<
SŒšg
, 
Li¡
<
Pe
>>());

55 
£tMsM­
(
Ãw
 
HashM­
<
SŒšg
, 
Li¡
<
DoubË
>>());

56 
£tAvaabËMs
(
PeLi¡
.
g‘TÙ®Ms
(
g‘PeLi¡
()));

57 
£tVmsMig¿tšgIn
(
Ãw
 
A¼ayLi¡
<
SŒšg
>());

58 
£tVmsMig¿tšgOut
(
Ãw
 
A¼ayLi¡
<
SŒšg
>());

70 
public
 
ab¡¿ù
 
boŞ—n
 
®loÿ‹PesFÜVm
(
Vm
 
vm
, 
Li¡
<
DoubË
> 
msSh¬e
);

79 
public
 
ab¡¿ù
 
d—Îoÿ‹PesFÜVm
(
Vm
 
vm
);

87 
public
 
	$d—Îoÿ‹PesFÜAÎVms
() {

88 
	`g‘MsM­
().
	`ş—r
();

89 
	`£tAvaabËMs
(
PeLi¡
.
	`g‘TÙ®Ms
(
	`g‘PeLi¡
()));

90 
Pe
 
³
 : 
	`g‘PeLi¡
()) {

91 
³
.
	`g‘PeProvisiÚ”
().
	`d—Îoÿ‹MsFÜAÎVms
();

93 
	}
}

101 
public
 
	gLi¡
<
	gPe
> 
	$g‘PesAÎoÿ‹dFÜVM
(
Vm
 
vm
) {

102  
	`g‘PeM­
().
	`g‘
(
vm
.
	`g‘Uid
());

103 
	}
}

113 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘AÎoÿ‹dMsFÜVm
(
Vm
 
vm
) {

114  
	`g‘MsM­
().
	`g‘
(
vm
.
	`g‘Uid
());

115 
	}
}

123 
public
 
	$g‘TÙ®AÎoÿ‹dMsFÜVm
(
Vm
 
vm
) {

124 
®loÿ‹d
 = 0;

125 
Li¡
<
DoubË
> 
msM­
 = 
	`g‘AÎoÿ‹dMsFÜVm
(
vm
);

126 ià(
msM­
 !ğ
nuÎ
) {

127 
ms
 : 
msM­
) {

128 
®loÿ‹d
 +ğ
ms
;

131  
®loÿ‹d
;

132 
	}
}

139 
public
 
	$g‘MaxAvaabËMs
() {

140 ià(
	`g‘PeLi¡
(è=ğ
nuÎ
) {

141 
Log
.
	`´štLše
("Pe†ist isƒmpty");

145 
max
 = 0.0;

146 
Pe
 
³
 : 
	`g‘PeLi¡
()) {

147 
tmp
 = 
³
.
	`g‘PeProvisiÚ”
().
	`g‘AvaabËMs
();

148 ià(
tmp
 > 
max
) {

149 
max
 = 
tmp
;

153  
max
;

154 
	}
}

161 
public
 
	$g‘PeC­ac™y
() {

162 ià(
	`g‘PeLi¡
(è=ğ
nuÎ
) {

163 
Log
.
	`´štLše
("Pe†ist isƒmpty");

166  
	`g‘PeLi¡
().
	`g‘
(0).
	`g‘Ms
();

167 
	}
}

175 @
Suµ»ssW¬nšgs
("unchecked")

176 
	gpublic
 <
T
 
ex‹nds
 
	gPe
> 
	gLi¡
<
	gT
> 
	$g‘PeLi¡
() {

177  (
Li¡
<
T
>è
³Li¡
;

178 
	}
}

186 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gPe
> 
£tPeLi¡
(
Li¡
<T> 
³Li¡
) {

187 
	gthis
.
	g³Li¡
 = 
³Li¡
;

195 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLi¡
<
	gDoubË
>> 
	$g‘MsM­
() {

196  
msM­
;

197 
	}
}

204 
´Ùeùed
 
£tMsM­
(
M­
<
SŒšg
, 
Li¡
<
DoubË
>> 
msM­
) {

205 
	gthis
.
	gmsM­
 = 
msM­
;

213 
public
 
	$g‘AvaabËMs
() {

214  
avaabËMs
;

215 
	}
}

222 
´Ùeùed
 
	$£tAvaabËMs
(
avaabËMs
) {

223 
this
.
avaabËMs
 =‡vailableMips;

224 
	}
}

231 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘VmsMig¿tšgOut
() {

232  
vmsMig¿tšgOut
;

233 
	}
}

240 
´Ùeùed
 
£tVmsMig¿tšgOut
(
Li¡
<
SŒšg
> 
vmsInMig¿tiÚ
) {

241 
	gvmsMig¿tšgOut
 = 
vmsInMig¿tiÚ
;

249 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘VmsMig¿tšgIn
() {

250  
vmsMig¿tšgIn
;

251 
	}
}

258 
´Ùeùed
 
£tVmsMig¿tšgIn
(
Li¡
<
SŒšg
> 
vmsMig¿tšgIn
) {

259 
	gthis
.
	gvmsMig¿tšgIn
 = 
vmsMig¿tšgIn
;

267 
public
 
	gM­
<
	gSŒšg
, 
	gLi¡
<
	gPe
>> 
	$g‘PeM­
() {

268  
³M­
;

269 
	}
}

276 
´Ùeùed
 
£tPeM­
(
M­
<
SŒšg
, 
Li¡
<
Pe
>> 
³M­
) {

277 
	gthis
.
	g³M­
 = 
³M­
;

	@src/org/cloudbus/cloudsim/VmSchedulerSpaceShared.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gjava
.
	gut
.
	gM­
;

26 
public
 cÏs 
	cVmScheduËrS·ûSh¬ed
 
ex‹nds
 
	mVmScheduËr
 {

29 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLi¡
<
	mPe
>> 
	m³AÎoÿtiÚM­
;

32 
´iv©e
 
	mLi¡
<
	mPe
> 
	mä“Pes
;

39 
public
 
VmScheduËrS·ûSh¬ed
(
Li¡
<? 
ex‹nds
 
Pe
> 
³li¡
) {

40 
su³r
(
³li¡
);

41 
£tPeAÎoÿtiÚM­
(
Ãw
 
HashM­
<
SŒšg
, 
Li¡
<
Pe
>>());

42 
£tF»ePes
(
Ãw
 
A¼ayLi¡
<
Pe
>());

43 
g‘F»ePes
().
addAÎ
(
³li¡
);

51 @
Ov”ride


52 
public
 
boŞ—n
 
®loÿ‹PesFÜVm
(
Vm
 
vm
, 
Li¡
<
DoubË
> 
msSh¬e
) {

54 ià(
g‘F»ePes
().
size
(è< 
	gmsSh¬e
.size()) {

55  
	gçl£
;

58 
	gLi¡
<
	gPe
> 
	g£ËùedPes
 = 
Ãw
 
A¼ayLi¡
<
Pe
>();

59 
	gI‹¿tÜ
<
	gPe
> 
	g³I‹¿tÜ
 = 
g‘F»ePes
().
™”©Ü
();

60 
Pe
 
	g³
 = 
³I‹¿tÜ
.
Ãxt
();

61 
	gtÙ®Ms
 = 0;

62 
DoubË
 
	gms
 : 
msSh¬e
) {

63 ià(
ms
 <ğ
³
.
g‘Ms
()) {

64 
£ËùedPes
.
add
(
³
);

65 ià(!
	g³I‹¿tÜ
.
hasNext
()) {

68 
	g³
 = 
³I‹¿tÜ
.
Ãxt
();

69 
	gtÙ®Ms
 +ğ
ms
;

72 ià(
	gmsSh¬e
.
size
(è> 
	g£ËùedPes
.size()) {

73  
	gçl£
;

76 
g‘F»ePes
().
»moveAÎ
(
£ËùedPes
);

78 
g‘PeAÎoÿtiÚM­
().
put
(
vm
.
g‘Uid
(), 
£ËùedPes
);

79 
g‘MsM­
().
put
(
vm
.
g‘Uid
(), 
msSh¬e
);

80 
£tAvaabËMs
(
g‘AvaabËMs
(è- 
tÙ®Ms
);

81  
	gŒue
;

88 @
Ov”ride


89 
public
 
	$d—Îoÿ‹PesFÜVm
(
Vm
 
vm
) {

90 
	`g‘F»ePes
().
	`addAÎ
(
	`g‘PeAÎoÿtiÚM­
().
	`g‘
(
vm
.
	`g‘Uid
()));

91 
	`g‘PeAÎoÿtiÚM­
().
	`»move
(
vm
.
	`g‘Uid
());

93 
tÙ®Ms
 = 0;

94 
ms
 : 
	`g‘MsM­
().
	`g‘
(
vm
.
	`g‘Uid
())) {

95 
tÙ®Ms
 +ğ
ms
;

97 
	`£tAvaabËMs
(
	`g‘AvaabËMs
(è+ 
tÙ®Ms
);

99 
	`g‘MsM­
().
	`»move
(
vm
.
	`g‘Uid
());

100 
	}
}

107 
´Ùeùed
 
£tPeAÎoÿtiÚM­
(
M­
<
SŒšg
, 
Li¡
<
Pe
>> 
³AÎoÿtiÚM­
) {

108 
	gthis
.
	g³AÎoÿtiÚM­
 = 
³AÎoÿtiÚM­
;

116 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLi¡
<
	gPe
>> 
	$g‘PeAÎoÿtiÚM­
() {

117  
³AÎoÿtiÚM­
;

118 
	}
}

125 
´Ùeùed
 
£tF»ePes
(
Li¡
<
Pe
> 
ä“Pes
) {

126 
	gthis
.
	gä“Pes
 = 
ä“Pes
;

134 
´Ùeùed
 
	gLi¡
<
	gPe
> 
	$g‘F»ePes
() {

135  
ä“Pes
;

136 
	}
}

	@src/org/cloudbus/cloudsim/VmSchedulerTimeShared.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

13 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gjava
.
	gut
.
	gM­
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gPeLi¡
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gPeProvisiÚ”
;

29 
public
 cÏs 
	cVmScheduËrTimeSh¬ed
 
ex‹nds
 
	mVmScheduËr
 {

32 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLi¡
<
	mDoubË
>> 
	mmsM­Reque¡ed
;

35 
´iv©e
 
	m³sInU£
;

42 
public
 
VmScheduËrTimeSh¬ed
(
Li¡
<? 
ex‹nds
 
Pe
> 
³li¡
) {

43 
su³r
(
³li¡
);

44 
£tMsM­Reque¡ed
(
Ãw
 
HashM­
<
SŒšg
, 
Li¡
<
DoubË
>>());

51 @
Ov”ride


52 
public
 
boŞ—n
 
®loÿ‹PesFÜVm
(
Vm
 
vm
, 
Li¡
<
DoubË
> 
msSh¬eReque¡ed
) {

56 ià(
	gvm
.
isInMig¿tiÚ
()) {

57 ià(!
g‘VmsMig¿tšgIn
().
cÚšs
(
vm
.
g‘Uid
()è&& !
g‘VmsMig¿tšgOut
().contains(vm.getUid())) {

58 
g‘VmsMig¿tšgOut
().
add
(
vm
.
g‘Uid
());

61 ià(
g‘VmsMig¿tšgOut
().
cÚšs
(
vm
.
g‘Uid
())) {

62 
g‘VmsMig¿tšgOut
().
»move
(
vm
.
g‘Uid
());

65 
boŞ—n
 
	g»suÉ
 = 
®loÿ‹PesFÜVm
(
vm
.
g‘Uid
(), 
msSh¬eReque¡ed
);

66 
upd©ePeProvisiÚšg
();

67  
	g»suÉ
;

77 
´Ùeùed
 
boŞ—n
 
®loÿ‹PesFÜVm
(
SŒšg
 
vmUid
, 
Li¡
<
DoubË
> 
msSh¬eReque¡ed
) {

78 
	gtÙ®Reque¡edMs
 = 0;

79 
	g³Ms
 = 
g‘PeC­ac™y
();

80 
DoubË
 
	gms
 : 
msSh¬eReque¡ed
) {

82 ià(
ms
 > 
³Ms
) {

83  
çl£
;

85 
	gtÙ®Reque¡edMs
 +ğ
ms
;

89 ià(
g‘AvaabËMs
(è< 
	gtÙ®Reque¡edMs
) {

90  
	gçl£
;

93 
g‘MsM­Reque¡ed
().
put
(
vmUid
, 
msSh¬eReque¡ed
);

94 
£tPesInU£
(
g‘PesInU£
(è+ 
msSh¬eReque¡ed
.
size
());

96 ià(
g‘VmsMig¿tšgIn
().
cÚšs
(
vmUid
)) {

98 
	gtÙ®Reque¡edMs
 *= 0.1;

101 
	gLi¡
<
	gDoubË
> 
	gmsSh¬eAÎoÿ‹d
 = 
Ãw
 
A¼ayLi¡
<
DoubË
>();

102 
DoubË
 
	gmsReque¡ed
 : 
msSh¬eReque¡ed
) {

103 ià(
g‘VmsMig¿tšgOut
().
cÚšs
(
vmUid
)) {

105 
msReque¡ed
 *= 0.9;

106 } ià(
g‘VmsMig¿tšgIn
().
cÚšs
(
vmUid
)) {

108 
	gmsReque¡ed
 *= 0.1;

110 
	gmsSh¬eAÎoÿ‹d
.
add
(
msReque¡ed
);

113 
g‘MsM­
().
put
(
vmUid
, 
msSh¬eAÎoÿ‹d
);

114 
£tAvaabËMs
(
g‘AvaabËMs
(è- 
tÙ®Reque¡edMs
);

116  
	gŒue
;

122 
´Ùeùed
 
	$upd©ePeProvisiÚšg
() {

123 
	`g‘PeM­
().
	`ş—r
();

124 
Pe
 
³
 : 
	`g‘PeLi¡
()) {

125 
³
.
	`g‘PeProvisiÚ”
().
	`d—Îoÿ‹MsFÜAÎVms
();

128 
I‹¿tÜ
<
Pe
> 
³I‹¿tÜ
 = 
	`g‘PeLi¡
().
	`™”©Ü
();

129 
Pe
 
³
 = 
³I‹¿tÜ
.
	`Ãxt
();

130 
PeProvisiÚ”
 
³ProvisiÚ”
 = 
³
.
	`g‘PeProvisiÚ”
();

131 
avaabËMs
 = 
³ProvisiÚ”
.
	`g‘AvaabËMs
();

133 
M­
.
EÁry
<
SŒšg
, 
Li¡
<
DoubË
>> 
’Œy
 : 
	`g‘MsM­
().
	`’ŒyS‘
()) {

134 
SŒšg
 
vmUid
 = 
’Œy
.
	`g‘Key
();

135 
	`g‘PeM­
().
	`put
(
vmUid
, 
Ãw
 
LškedLi¡
<
Pe
>());

137 
ms
 : 
’Œy
.
	`g‘V®ue
()) {

138 
ms
 >= 0.1) {

139 ià(
avaabËMs
 >ğ
ms
) {

140 
³ProvisiÚ”
.
	`®loÿ‹MsFÜVm
(
vmUid
, 
ms
);

141 
	`g‘PeM­
().
	`g‘
(
vmUid
).
	`add
(
³
);

142 
avaabËMs
 -ğ
ms
;

145 
³ProvisiÚ”
.
	`®loÿ‹MsFÜVm
(
vmUid
, 
avaabËMs
);

146 
	`g‘PeM­
().
	`g‘
(
vmUid
).
	`add
(
³
);

147 
ms
 -ğ
avaabËMs
;

148 ià(
ms
 <= 0.1) {

151 ià(!
³I‹¿tÜ
.
	`hasNext
()) {

152 
Log
.
	`´štLše
("Th”i nØ’ough MIPS (" + 
ms
 + "ètØaccommod©VM " + 
vmUid
);

154 
³
 = 
³I‹¿tÜ
.
	`Ãxt
();

155 
³ProvisiÚ”
 = 
³
.
	`g‘PeProvisiÚ”
();

156 
avaabËMs
 = 
³ProvisiÚ”
.
	`g‘AvaabËMs
();

161 
	}
}

167 @
Ov”ride


168 
public
 
	$d—Îoÿ‹PesFÜVm
(
Vm
 
vm
) {

169 
	`g‘MsM­Reque¡ed
().
	`»move
(
vm
.
	`g‘Uid
());

170 
	`£tPesInU£
(0);

171 
	`g‘MsM­
().
	`ş—r
();

172 
	`£tAvaabËMs
(
PeLi¡
.
	`g‘TÙ®Ms
(
	`g‘PeLi¡
()));

174 
Pe
 
³
 : 
	`g‘PeLi¡
()) {

175 
³
.
	`g‘PeProvisiÚ”
().
	`d—Îoÿ‹MsFÜVm
(
vm
);

178 
M­
.
EÁry
<
SŒšg
, 
Li¡
<
DoubË
>> 
’Œy
 : 
	`g‘MsM­Reque¡ed
().
	`’ŒyS‘
()) {

179 
	`®loÿ‹PesFÜVm
(
’Œy
.
	`g‘Key
(),ƒÁry.
	`g‘V®ue
());

182 
	`upd©ePeProvisiÚšg
();

183 
	}
}

191 @
Ov”ride


192 
public
 
	$d—Îoÿ‹PesFÜAÎVms
() {

193 
su³r
.
	`d—Îoÿ‹PesFÜAÎVms
();

194 
	`g‘MsM­Reque¡ed
().
	`ş—r
();

195 
	`£tPesInU£
(0);

196 
	}
}

204 @
Ov”ride


205 
public
 
	$g‘MaxAvaabËMs
() {

206  
	`g‘AvaabËMs
();

207 
	}
}

214 
´Ùeùed
 
	$£tPesInU£
(
³sInU£
) {

215 
this
.
³sInU£
 =…esInUse;

216 
	}
}

223 
´Ùeùed
 
	$g‘PesInU£
() {

224  
³sInU£
;

225 
	}
}

232 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLi¡
<
	gDoubË
>> 
	$g‘MsM­Reque¡ed
() {

233  
msM­Reque¡ed
;

234 
	}
}

241 
´Ùeùed
 
£tMsM­Reque¡ed
(
M­
<
SŒšg
, 
Li¡
<
DoubË
>> 
msM­Reque¡ed
) {

242 
	gthis
.
	gmsM­Reque¡ed
 = 
msM­Reque¡ed
;

	@src/org/cloudbus/cloudsim/VmSchedulerTimeSharedOverSubscription.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gM­
;

14 
impÜt
 
	gjava
.
	gut
.
	gM­
.
	gEÁry
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gPeLi¡
;

27 
public
 cÏs 
	cVmScheduËrTimeSh¬edOv”SubsütiÚ
 
ex‹nds
 
	mVmScheduËrTimeSh¬ed
 {

34 
public
 
VmScheduËrTimeSh¬edOv”SubsütiÚ
(
Li¡
<? 
ex‹nds
 
Pe
> 
³li¡
) {

35 
su³r
(
³li¡
);

48 @
Ov”ride


49 
´Ùeùed
 
boŞ—n
 
®loÿ‹PesFÜVm
(
SŒšg
 
vmUid
, 
Li¡
<
DoubË
> 
msSh¬eReque¡ed
) {

50 
	gtÙ®Reque¡edMs
 = 0;

54 
	gLi¡
<
	gDoubË
> 
	gmsSh¬eReque¡edC­³d
 = 
Ãw
 
A¼ayLi¡
<
DoubË
>();

55 
	g³Ms
 = 
g‘PeC­ac™y
();

56 
DoubË
 
	gms
 : 
msSh¬eReque¡ed
) {

57 ià(
ms
 > 
³Ms
) {

58 
msSh¬eReque¡edC­³d
.
add
(
³Ms
);

59 
	gtÙ®Reque¡edMs
 +ğ
³Ms
;

61 
	gmsSh¬eReque¡edC­³d
.
add
(
ms
);

62 
	gtÙ®Reque¡edMs
 +ğ
ms
;

66 
g‘MsM­Reque¡ed
().
put
(
vmUid
, 
msSh¬eReque¡ed
);

67 
£tPesInU£
(
g‘PesInU£
(è+ 
msSh¬eReque¡ed
.
size
());

69 ià(
g‘VmsMig¿tšgIn
().
cÚšs
(
vmUid
)) {

71 
	gtÙ®Reque¡edMs
 *= 0.1;

74 ià(
g‘AvaabËMs
(è>ğ
tÙ®Reque¡edMs
) {

75 
Li¡
<
DoubË
> 
msSh¬eAÎoÿ‹d
 = 
Ãw
 
A¼ayLi¡
<Double>();

76 
DoubË
 
	gmsReque¡ed
 : 
msSh¬eReque¡edC­³d
) {

77 ià(
g‘VmsMig¿tšgOut
().
cÚšs
(
vmUid
)) {

79 
msReque¡ed
 *= 0.9;

80 } ià(
g‘VmsMig¿tšgIn
().
cÚšs
(
vmUid
)) {

82 
	gmsReque¡ed
 *= 0.1;

84 
	gmsSh¬eAÎoÿ‹d
.
add
(
msReque¡ed
);

88 
g‘MsM­
().
put
(
vmUid
, 
msSh¬eAÎoÿ‹d
);

89 
£tAvaabËMs
(
g‘AvaabËMs
(è- 
tÙ®Reque¡edMs
);

91 
»di¡ribu‹MsDueToOv”SubsütiÚ
();

97  
	gŒue
;

104 
´Ùeùed
 
	$»di¡ribu‹MsDueToOv”SubsütiÚ
() {

107 
tÙ®RequœedMsByAÎVms
 = 0;

109 
M­
<
SŒšg
, 
Li¡
<
DoubË
>> 
msM­C­³d
 = 
Ãw
 
HashM­
<String, List<Double>>();

110 
EÁry
<
SŒšg
, 
Li¡
<
DoubË
>> 
’Œy
 : 
	`g‘MsM­Reque¡ed
().
	`’ŒyS‘
()) {

112 
»quœedMsByThisVm
 = 0.0;

113 
SŒšg
 
vmId
 = 
’Œy
.
	`g‘Key
();

114 
Li¡
<
DoubË
> 
msSh¬eReque¡ed
 = 
’Œy
.
	`g‘V®ue
();

115 
Li¡
<
DoubË
> 
msSh¬eReque¡edC­³d
 = 
Ãw
 
A¼ayLi¡
<Double>();

116 
³Ms
 = 
	`g‘PeC­ac™y
();

117 
DoubË
 
ms
 : 
msSh¬eReque¡ed
) {

118 ià(
ms
 > 
³Ms
) {

119 
msSh¬eReque¡edC­³d
.
	`add
(
³Ms
);

120 
»quœedMsByThisVm
 +ğ
³Ms
;

122 
msSh¬eReque¡edC­³d
.
	`add
(
ms
);

123 
»quœedMsByThisVm
 +ğ
ms
;

127 
msM­C­³d
.
	`put
(
vmId
, 
msSh¬eReque¡edC­³d
);

129 ià(
	`g‘VmsMig¿tšgIn
().
	`cÚšs
(
’Œy
.
	`g‘Key
())) {

131 
»quœedMsByThisVm
 *= 0.1;

133 
tÙ®RequœedMsByAÎVms
 +ğ
»quœedMsByThisVm
;

136 
tÙ®AvaabËMs
 = 
PeLi¡
.
	`g‘TÙ®Ms
(
	`g‘PeLi¡
());

138 
sÿlšgFaùÜ
 = 
tÙ®AvaabËMs
 / 
tÙ®RequœedMsByAÎVms
;

141 
	`g‘MsM­
().
	`ş—r
();

144 
EÁry
<
SŒšg
, 
Li¡
<
DoubË
>> 
’Œy
 : 
msM­C­³d
.
	`’ŒyS‘
()) {

145 
SŒšg
 
vmUid
 = 
’Œy
.
	`g‘Key
();

146 
Li¡
<
DoubË
> 
»que¡edMs
 = 
’Œy
.
	`g‘V®ue
();

147 
Li¡
<
DoubË
> 
upd©edMsAÎoÿtiÚ
 = 
Ãw
 
A¼ayLi¡
<Double>();

148 
DoubË
 
ms
 : 
»que¡edMs
) {

149 ià(
	`g‘VmsMig¿tšgOut
().
	`cÚšs
(
vmUid
)) {

151 
ms
 *ğ
sÿlšgFaùÜ
;

153 
ms
 *= 0.9;

154 } ià(
	`g‘VmsMig¿tšgIn
().
	`cÚšs
(
vmUid
)) {

156 
ms
 *= 0.1;

158 
ms
 *ğ
sÿlšgFaùÜ
;

160 
ms
 *ğ
sÿlšgFaùÜ
;

163 
upd©edMsAÎoÿtiÚ
.
	`add
(
M©h
.
	`æoÜ
(
ms
));

168 
	`g‘MsM­
().
	`put
(
vmUid
, 
upd©edMsAÎoÿtiÚ
);

173 
	`£tAvaabËMs
(0);

174 
	}
}

	@src/org/cloudbus/cloudsim/VmStateHistoryEntry.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
;

17 
public
 cÏs 
	cVmS‹Hi¡ÜyEÁry
 {

20 
´iv©e
 
	mtime
;

23 
´iv©e
 
	m®loÿ‹dMs
;

26 
´iv©e
 
	m»que¡edMs
;

29 
´iv©e
 
boŞ—n
 
	misInMig¿tiÚ
;

39 
public
 
	$VmS‹Hi¡ÜyEÁry
(
time
, 
®loÿ‹dMs
, 
»que¡edMs
, 
boŞ—n
 
isInMig¿tiÚ
) {

40 
	`£tTime
(
time
);

41 
	`£tAÎoÿ‹dMs
(
®loÿ‹dMs
);

42 
	`£tReque¡edMs
(
»que¡edMs
);

43 
	`£tInMig¿tiÚ
(
isInMig¿tiÚ
);

51 
´Ùeùed
 
	$£tTime
(
time
) {

52 
this
.
time
 =ime;

53 
	}
}

60 
public
 
	$g‘Time
() {

61  
time
;

62 
	}
}

69 
´Ùeùed
 
	$£tAÎoÿ‹dMs
(
®loÿ‹dMs
) {

70 
this
.
®loÿ‹dMs
 =‡llocatedMips;

71 
	}
}

78 
public
 
	$g‘AÎoÿ‹dMs
() {

79  
®loÿ‹dMs
;

80 
	}
}

87 
´Ùeùed
 
	$£tReque¡edMs
(
»que¡edMs
) {

88 
this
.
»que¡edMs
 =„equestedMips;

89 
	}
}

96 
public
 
	$g‘Reque¡edMs
() {

97  
»que¡edMs
;

98 
	}
}

105 
´Ùeùed
 
	$£tInMig¿tiÚ
(
boŞ—n
 
isInMig¿tiÚ
) {

106 
this
.
isInMig¿tiÚ
 = isInMigration;

107 
	}
}

114 
public
 
boŞ—n
 
	$isInMig¿tiÚ
() {

115  
isInMig¿tiÚ
;

116 
	}
}

	@src/org/cloudbus/cloudsim/core/CloudInformationService.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
;

11 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚ
;

12 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

13 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

31 
public
 cÏs 
	cCloudInfÜm©iÚS”viû
 
ex‹nds
 
	mSimEÁ™y
 {

34 
´iv©e
 
fš®
 
	mLi¡
<
	mIÁeg”
> 
	m»sLi¡
;

37 
´iv©e
 
fš®
 
	mLi¡
<
	mIÁeg”
> 
	m¬Li¡
;

40 
´iv©e
 
fš®
 
	mLi¡
<
	mIÁeg”
> 
	mgisLi¡
;

51 
public
 
	$CloudInfÜm©iÚS”viû
(
SŒšg
 
Çme
è
throws
 
Exû±iÚ
 {

52 
	`su³r
(
Çme
);

53 
»sLi¡
 = 
Ãw
 
LškedLi¡
<
IÁeg”
>();

54 
¬Li¡
 = 
Ãw
 
LškedLi¡
<
IÁeg”
>();

55 
gisLi¡
 = 
Ãw
 
LškedLi¡
<
IÁeg”
>();

61 @
Ov”ride


62 
public
 
	$¡¬tEÁ™y
() {

63 
	}
}

71 @
Ov”ride


72 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

73 
id
 = -1;

74 
ev
.
	`g‘Tag
()) {

76 
CloudSimTags
.
REGISTER_REGIONAL_GIS
:

77 
gisLi¡
.
	`add
((
IÁeg”
è
ev
.
	`g‘D©a
());

81 
CloudSimTags
.
REQUEST_REGIONAL_GIS
:

84 
id
 = ((
IÁeg”
è
ev
.
	`g‘D©a
()).
	`štV®ue
();

87 
su³r
.
	`£nd
(
id
, 0L, 
ev
.
	`g‘Tag
(), 
gisLi¡
);

91 
CloudSimTags
.
REGISTER_RESOURCE
:

92 
»sLi¡
.
	`add
((
IÁeg”
è
ev
.
	`g‘D©a
());

96 
CloudSimTags
.
REGISTER_RESOURCE_AR
:

97 
»sLi¡
.
	`add
((
IÁeg”
è
ev
.
	`g‘D©a
());

98 
¬Li¡
.
	`add
((
IÁeg”
è
ev
.
	`g‘D©a
());

102 
CloudSimTags
.
RESOURCE_LIST
:

105 
id
 = ((
IÁeg”
è
ev
.
	`g‘D©a
()).
	`štV®ue
();

108 
su³r
.
	`£nd
(
id
, 0L, 
ev
.
	`g‘Tag
(), 
»sLi¡
);

112 
CloudSimTags
.
RESOURCE_AR_LIST
:

115 
id
 = ((
IÁeg”
è
ev
.
	`g‘D©a
()).
	`štV®ue
();

118 
su³r
.
	`£nd
(
id
, 0L, 
ev
.
	`g‘Tag
(), 
¬Li¡
);

122 
	`´oûssOth”Ev’t
(
ev
);

125 
	}
}

130 @
Ov”ride


131 
public
 
	$shutdownEÁ™y
() {

132 
	`nÙifyAÎEÁ™y
();

133 
	}
}

142 
public
 
	gLi¡
<
	gIÁeg”
> 
	$g‘Li¡
() {

143  
»sLi¡
;

144 
	}
}

153 
public
 
	gLi¡
<
	gIÁeg”
> 
	$g‘AdvRe£rvLi¡
() {

154  
¬Li¡
;

155 
	}
}

166 
public
 
boŞ—n
 
	$»sourûSuµÜtAR
(
IÁeg”
 
id
) {

167 ià(
id
 =ğ
nuÎ
) {

168  
çl£
;

171  
	`»sourûSuµÜtAR
(
id
.
	`štV®ue
());

172 
	}
}

183 
public
 
boŞ—n
 
	$»sourûSuµÜtAR
(
id
) {

184 
boŞ—n
 
æag
 = 
çl£
;

185 ià(
id
 < 0) {

186 
æag
 = 
çl£
;

188 
æag
 = 
	`checkResourû
(
¬Li¡
, 
id
);

191  
æag
;

192 
	}
}

202 
public
 
boŞ—n
 
	$»sourûExi¡
(
id
) {

203 
boŞ—n
 
æag
 = 
çl£
;

204 ià(
id
 < 0) {

205 
æag
 = 
çl£
;

207 
æag
 = 
	`checkResourû
(
»sLi¡
, 
id
);

210  
æag
;

211 
	}
}

221 
public
 
boŞ—n
 
	$»sourûExi¡
(
IÁeg”
 
id
) {

222 ià(
id
 =ğ
nuÎ
) {

223  
çl£
;

225  
	`»sourûExi¡
(
id
.
	`štV®ue
());

226 
	}
}

238 
´Ùeùed
 
	$´oûssOth”Ev’t
(
SimEv’t
 
ev
) {

239 ià(
ev
 =ğ
nuÎ
) {

240 
Log
.
	`´štLše
("CloudInformationService.processOtherEvent(): "

245 
Log
.
	`´štLše
("CloudInformationSevice.processOtherEvent(): " + "Unableo handle‡„equest from "

246 + 
CloudSim
.
	`g‘EÁ™yName
(
ev
.
	`g‘Sourû
()è+ " w™hƒv’ˆg = " +ƒv.
	`g‘Tag
());

247 
	}
}

253 
´Ùeùed
 
	$´oûssEndSimuÏtiÚ
() {

255 
	}
}

269 
´iv©e
 
boŞ—n
 
checkResourû
(
CŞËùiÚ
<
IÁeg”
> 
li¡
, 
id
) {

270 
boŞ—n
 
	gæag
 = 
çl£
;

271 ià(
	gli¡
 =ğ
nuÎ
 || 
id
 < 0) {

272  
æag
;

275 
IÁeg”
 
	gobj
 = 
nuÎ
;

276 
	gI‹¿tÜ
<
	gIÁeg”
> 
	g™
 = 
li¡
.
™”©Ü
();

279 
	g™
.
hasNext
()) {

280 
	gobj
 = 
™
.
Ãxt
();

281 ià(
	gobj
.
štV®ue
(è=ğ
id
) {

282 
æag
 = 
Œue
;

287  
	gæag
;

296 
´iv©e
 
	$nÙifyAÎEÁ™y
() {

297 
Log
.
	`´štLše
(
su³r
.
	`g‘Name
() + ": Notify‡ll CloudSimƒntities for shutting down.");

299 
	`sigÇlShutdown
(
»sLi¡
);

300 
	`sigÇlShutdown
(
gisLi¡
);

303 
»sLi¡
.
	`ş—r
();

304 
gisLi¡
.
	`ş—r
();

305 
	}
}

314 
´Ùeùed
 
sigÇlShutdown
(
CŞËùiÚ
<
IÁeg”
> 
li¡
) {

316 ià(
	gli¡
 =ğ
nuÎ
) {

320 
	gI‹¿tÜ
<
	gIÁeg”
> 
	g™
 = 
li¡
.
™”©Ü
();

321 
IÁeg”
 
	gobj
 = 
nuÎ
;

322 
	gid
 = 0;

325 
	g™
.
hasNext
()) {

326 
	gobj
 = 
™
.
Ãxt
();

327 
	gid
 = 
obj
.
štV®ue
();

328 
	gsu³r
.
£nd
(
id
, 0L, 
CloudSimTags
.
END_OF_SIMULATION
);

	@src/org/cloudbus/cloudsim/core/CloudSim.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
;

11 
impÜt
 
	gjava
.
	gawt
.
	gEv’t
;

12 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

14 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

15 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

16 
impÜt
 
	gjava
.
	gut
.
	gLškedHashM­
;

17 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

18 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

19 
impÜt
 
	gjava
.
	gut
.
	gM­
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
.
	gP»diÿ‹
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
.
	gP»diÿ‹Any
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
.
	gP»diÿ‹NÚe
;

25 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

26 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gAµExem¶o2
;

40 
public
 cÏs 
	cCloudSim
 {

43 
´iv©e
 
fš®
 
SŒšg
 
	mCLOUDSIM_VERSION_STRING
 = "3.0";

46 
´iv©e
 
	mcisId
 = -1;

49 @
Suµ»ssW¬nšgs
("unused")

50 
´iv©e
 
	mshutdownId
 = -1;

53 
´iv©e
 
CloudInfÜm©iÚS”viû
 
	mcis
 = 
nuÎ
;

56 
´iv©e
 
fš®
 
	mNOT_FOUND
 = -1;

59 @
Suµ»ssW¬nšgs
("unused")

60 
´iv©e
 
boŞ—n
 
	mŒaûFÏg
 = 
çl£
;

63 
´iv©e
 
C®’d¬
 
	mÿËnd¬
 = 
nuÎ
;

66 
´iv©e
 
	m‹rmš©eAt
 = -1;

69 
´iv©e
 
	mmšTimeB‘w“nEv’ts
 = 0.1;

82 
´iv©e
 
	$š™CommÚV¬ŸbË
(
C®’d¬
 
_ÿËnd¬
, 
boŞ—n
 
_ŒaûFÏg
, 
numU£r
)

83 
throws
 
Exû±iÚ
 {

84 
	`š™Ÿlize
();

86 
ŒaûFÏg
 = 
_ŒaûFÏg
;

90 ià(
_ÿËnd¬
 =ğ
nuÎ
) {

91 
ÿËnd¬
 = 
C®’d¬
.
	`g‘In¡ªû
();

93 
ÿËnd¬
 = 
_ÿËnd¬
;

97 
CloudSimShutdown
 
shutdown
 = 
Ãw
 
	`CloudSimShutdown
("CloudSimShutdown", 
numU£r
);

98 
shutdownId
 = 
shutdown
.
	`g‘Id
();

122 
public
 
	$š™
(
numU£r
, 
C®’d¬
 
ÿl
, 
boŞ—n
 
ŒaûFÏg
) {

123 
Œy
 {

124 
	`š™CommÚV¬ŸbË
(
ÿl
, 
ŒaûFÏg
, 
numU£r
);

127 
cis
 = 
Ãw
 
	`CloudInfÜm©iÚS”viû
("CloudInformationService");

130 
cisId
 = 
cis
.
	`g‘Id
();

131 } 
	`ÿtch
 (
IÎeg®Argum’tExû±iÚ
 
s
) {

132 
Log
.
	`´štLše
("CloudSim.init(): The simulation has beenerminated dueo‡n unexpectedƒrror");

133 
Log
.
	`´štLše
(
s
.
	`g‘Mes§ge
());

134 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

135 
Log
.
	`´štLše
("CloudSim.init(): The simulation has beenerminated dueo‡n unexpectedƒrror");

136 
Log
.
	`´štLše
(
e
.
	`g‘Mes§ge
());

138 
	}
}

163 
public
 
	$š™
(
numU£r
, 
C®’d¬
 
ÿl
, 
boŞ—n
 
ŒaûFÏg
, 
³riodB‘w“nEv’ts
) {

164 ià(
³riodB‘w“nEv’ts
 <= 0) {

165 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Thmšim®imb‘w“Àev’t should bpos™ive, buˆis:" + 
³riodB‘w“nEv’ts
);

168 
	`š™
(
numU£r
, 
ÿl
, 
ŒaûFÏg
);

169 
mšTimeB‘w“nEv’ts
 = 
³riodB‘w“nEv’ts
;

170 
	}
}

188 
public
 
	$¡¬tSimuÏtiÚ
(è
throws
 
NuÎPoš‹rExû±iÚ
 {

189 
Log
.
	`´štLše
("S¹šg CloudSim v”siÚ " + 
CLOUDSIM_VERSION_STRING
);

190 
Œy
 {

192 
şock
 = 
	`run
();

195 
cisId
 = -1;

196 
shutdownId
 = -1;

197 
cis
 = 
nuÎ
;

198 
ÿËnd¬
 = 
nuÎ
;

199 
ŒaûFÏg
 = 
çl£
;

201  
şock
;

202 } 
	`ÿtch
 (
IÎeg®Argum’tExû±iÚ
 
e
) {

203 
e
.
	`´štSckT¿û
();

204 
throw
 
Ãw
 
	`NuÎPoš‹rExû±iÚ
("CloudSim.startCloudSimulation() :"

207 
	}
}

221 
public
 
	$¡İSimuÏtiÚ
(è
throws
 
NuÎPoš‹rExû±iÚ
 {

222 
Œy
 {

223 
	`runStİ
();

224 } 
	`ÿtch
 (
IÎeg®Argum’tExû±iÚ
 
e
) {

225 
throw
 
Ãw
 
	`NuÎPoš‹rExû±iÚ
("CloudSim.stopCloudSimulation() : "

228 
	}
}

235 
public
 
boŞ—n
 
	$‹rmš©eSimuÏtiÚ
() {

236 
ruÂšg
 = 
çl£
;

237 
	`´štMes§ge
("Simulation: Reachederminationime.");

238  
Œue
;

239 
	}
}

247 
public
 
boŞ—n
 
	$‹rmš©eSimuÏtiÚ
(
time
) {

248 ià(
time
 <ğ
şock
) {

249  
çl£
;

251 
‹rmš©eAt
 = 
time
;

253  
Œue
;

254 
	}
}

261 
public
 
	$g‘MšTimeB‘w“nEv’ts
() {

262  
mšTimeB‘w“nEv’ts
;

263 
	}
}

274 
public
 
C®’d¬
 
	$g‘SimuÏtiÚC®’d¬
() {

276 
C®’d¬
 
şÚe
 = 
ÿËnd¬
;

277 ià(
ÿËnd¬
 !ğ
nuÎ
) {

278 
şÚe
 = (
C®’d¬
è
ÿËnd¬
.
	`şÚe
();

281  
şÚe
;

282 
	}
}

291 
public
 
	$g‘CloudInfoS”viûEÁ™yId
() {

292  
cisId
;

293 
	}
}

304 
public
 
	gLi¡
<
	gIÁeg”
> 
	$g‘CloudResourûLi¡
() {

305 ià(
cis
 =ğ
nuÎ
) {

306  
nuÎ
;

309  
cis
.
	`g‘Li¡
();

310 
	}
}

315 
´iv©e
 
	gLi¡
<
	gSimEÁ™y
> 
	g’t™›s
;

318 
´Ùeùed
 
Futu»Queue
 
	gfutu»
;

321 
´Ùeùed
 
Deã¼edQueue
 
	gdeã¼ed
;

324 
´iv©e
 
	gşock
;

327 
´iv©e
 
boŞ—n
 
	gruÂšg
;

330 
´iv©e
 
	gM­
<
	gSŒšg
, 
	gSimEÁ™y
> 
	g’t™›sByName
;

334 
´iv©e
 
	gM­
<
	gIÁeg”
, 
	gP»diÿ‹
> 
	gwa™P»diÿ‹s
;

337 
´iv©e
 
boŞ—n
 
	g·u£d
 = 
çl£
;

340 
´iv©e
 
	g·u£At
 = -1;

343 
´iv©e
 
boŞ—n
 
	gabru±T”mš©e
 = 
çl£
;

349 
´Ùeùed
 
	$š™Ÿlize
() {

350 
Log
.
	`´štLše
("Initialising...");

351 
’t™›s
 = 
Ãw
 
A¼ayLi¡
<
SimEÁ™y
>();

352 
’t™›sByName
 = 
Ãw
 
LškedHashM­
<
SŒšg
, 
SimEÁ™y
>();

353 
futu»
 = 
Ãw
 
	`Futu»Queue
();

354 
deã¼ed
 = 
Ãw
 
	`Deã¼edQueue
();

355 
wa™P»diÿ‹s
 = 
Ãw
 
HashM­
<
IÁeg”
, 
P»diÿ‹
>();

356 
şock
 = 0;

357 
ruÂšg
 = 
çl£
;

358 
	}
}

363 
public
 
fš®
 
P»diÿ‹Any
 
	gSIM_ANY
 = 
Ãw
 PredicateAny();

366 
public
 
fš®
 
P»diÿ‹NÚe
 
	gSIM_NONE
 = 
Ãw
 PredicateNone();

375 
public
 
	$şock
() {

376  
şock
;

377 
	}
}

384 
public
 
	$g‘NumEÁ™›s
() {

385  
’t™›s
.
	`size
();

386 
	}
}

394 
public
 
SimEÁ™y
 
	$g‘EÁ™y
(
id
) {

395  
’t™›s
.
	`g‘
(
id
);

396 
	}
}

404 
public
 
SimEÁ™y
 
	$g‘EÁ™y
(
SŒšg
 
Çme
) {

405  
’t™›sByName
.
	`g‘
(
Çme
);

406 
	}
}

414 
public
 
	$g‘EÁ™yId
(
SŒšg
 
Çme
) {

415 
SimEÁ™y
 
obj
 = 
’t™›sByName
.
	`g‘
(
Çme
);

416 ià(
obj
 =ğ
nuÎ
) {

417  
NOT_FOUND
;

419  
obj
.
	`g‘Id
();

421 
	}
}

431 
public
 
SŒšg
 
	$g‘EÁ™yName
(
’t™yID
) {

432 
Œy
 {

433  
	`g‘EÁ™y
(
’t™yID
).
	`g‘Name
();

434 } 
	`ÿtch
 (
IÎeg®Argum’tExû±iÚ
 
e
) {

435  
nuÎ
;

436 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

437  
nuÎ
;

439 
	}
}

449 
public
 
SŒšg
 
	$g‘EÁ™yName
(
IÁeg”
 
’t™yID
) {

450 ià(
’t™yID
 !ğ
nuÎ
) {

451  
	`g‘EÁ™yName
(
’t™yID
.
	`štV®ue
());

453  
nuÎ
;

454 
	}
}

461 
public
 
	gLi¡
<
	gSimEÁ™y
> 
	$g‘EÁ™yLi¡
() {

464 
Li¡
<
SimEÁ™y
> 
li¡
 = 
Ãw
 
LškedLi¡
<SimEntity>();

465 
li¡
.
	`addAÎ
(
’t™›s
);

466  
li¡
;

467 
	}
}

477 
public
 
	$addEÁ™y
(
SimEÁ™y
 
e
) {

478 
SimEv’t
 
evt
;

479 ià(
ruÂšg
) {

481 
evt
 = 
Ãw
 
	`SimEv’t
(
SimEv’t
.
CREATE
, 
şock
, 1, 0, 0, 
e
);

482 
futu»
.
	`addEv’t
(
evt
);

484 ià(
e
.
	`g‘Id
() == -1) {

485 
id
 = 
’t™›s
.
	`size
();

486 
e
.
	`£tId
(
id
);

487 
’t™›s
.
	`add
(
e
);

488 
’t™›sByName
.
	`put
(
e
.
	`g‘Name
(),ƒ);

490 
	}
}

498 
´Ùeùed
 
	$addEÁ™yDyÇmiÿÎy
(
SimEÁ™y
 
e
) {

499 ià(
e
 =ğ
nuÎ
) {

500 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Adding‚ullƒntity.");

502 
	`´štMes§ge
("Addšg: " + 
e
.
	`g‘Name
());

504 
e
.
	`¡¬tEÁ™y
();

505 
	}
}

513 
public
 
boŞ—n
 
	$runClockTick
() {

514 
SimEÁ™y
 
’t
;

515 
boŞ—n
 
queue_em±y
;

517 
’t™›s_size
 = 
’t™›s
.
	`size
();

518 if(
CloudSim
.
	`şock
()%1000==0)

519 
Sy¡em
.
out
.
	`´šn
("Clock: "+
CloudSim
.
	`şock
());

526 
i
 = 0; i < 
’t™›s_size
; i++) {

527 
’t
 = 
’t™›s
.
	`g‘
(
i
);

528 ià(
’t
.
	`g‘S‹
(è=ğ
SimEÁ™y
.
RUNNABLE
) {

529 
’t
.
	`run
();

533 ià(
futu»
.
	`size
() > 0) {

534 
Li¡
<
SimEv’t
> 
toRemove
 = 
Ãw
 
A¼ayLi¡
<SimEvent>();

535 
I‹¿tÜ
<
SimEv’t
> 
f™
 = 
futu»
.
	`™”©Ü
();

536 
queue_em±y
 = 
çl£
;

537 
SimEv’t
 
fœ¡
 = 
f™
.
	`Ãxt
();

538 
	`´oûssEv’t
(
fœ¡
);

539 
futu»
.
	`»move
(
fœ¡
);

541 
f™
 = 
futu»
.
	`™”©Ü
();

544 
boŞ—n
 
ŒymÜe
 = 
f™
.
	`hasNext
();

545 
ŒymÜe
) {

546 
SimEv’t
 
Ãxt
 = 
f™
.
	`Ãxt
();

547 ià(
Ãxt
.
	`ev’tTime
(è=ğ
fœ¡
.eventTime()) {

548 
	`´oûssEv’t
(
Ãxt
);

549 
toRemove
.
	`add
(
Ãxt
);

550 
ŒymÜe
 = 
f™
.
	`hasNext
();

552 
ŒymÜe
 = 
çl£
;

556 
futu»
.
	`»moveAÎ
(
toRemove
);

559 
queue_em±y
 = 
Œue
;

560 
ruÂšg
 = 
çl£
;

561 
	`´štMes§ge
("Simulation: No more futureƒvents");

564  
queue_em±y
;

565 
	}
}

570 
public
 
	$runStİ
() {

571 
	`´štMes§ge
("Simulation completed.");

572 
	}
}

580 
public
 
	$hŞd
(
¤c
, 
d–ay
) {

581 
SimEv’t
 
e
 = 
Ãw
 
	`SimEv’t
(SimEv’t.
HOLD_DONE
, 
şock
 + 
d–ay
, 
¤c
);

582 
futu»
.
	`addEv’t
(
e
);

583 
’t™›s
.
	`g‘
(
¤c
).
	`£tS‹
(
SimEÁ™y
.
HOLDING
);

584 
	}
}

592 
public
 
	$·u£
(
¤c
, 
d–ay
) {

593 
SimEv’t
 
e
 = 
Ãw
 
	`SimEv’t
(SimEv’t.
HOLD_DONE
, 
şock
 + 
d–ay
, 
¤c
);

594 
futu»
.
	`addEv’t
(
e
);

595 
’t™›s
.
	`g‘
(
¤c
).
	`£tS‹
(
SimEÁ™y
.
HOLDING
);

596 
	}
}

607 
public
 
	$£nd
(
¤c
, 
de¡
, 
d–ay
, 
g
, 
Objeù
 
d©a
) {

608 ià(
d–ay
 < 0) {

609 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Send delay can't be‚egative.");

612 
SimEv’t
 
e
 = 
Ãw
 
	`SimEv’t
(SimEv’t.
SEND
, 
şock
 + 
d–ay
, 
¤c
, 
de¡
, 
g
, 
d©a
);

613 
futu»
.
	`addEv’t
(
e
);

614 
	}
}

625 
public
 
	$£ndFœ¡
(
¤c
, 
de¡
, 
d–ay
, 
g
, 
Objeù
 
d©a
) {

626 ià(
d–ay
 < 0) {

627 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Send delay can't be‚egative.");

630 
SimEv’t
 
e
 = 
Ãw
 
	`SimEv’t
(SimEv’t.
SEND
, 
şock
 + 
d–ay
, 
¤c
, 
de¡
, 
g
, 
d©a
);

631 
futu»
.
	`addEv’tFœ¡
(
e
);

632 
	}
}

642 
public
 
	$wa™
(
¤c
, 
P»diÿ‹
 
p
) {

643 
’t™›s
.
	`g‘
(
¤c
).
	`£tS‹
(
SimEÁ™y
.
WAITING
);

644 ià(
p
 !ğ
SIM_ANY
) {

646 
wa™P»diÿ‹s
.
	`put
(
¤c
, 
p
);

648 
	}
}

657 
public
 
	$wa™šg
(
d
, 
P»diÿ‹
 
p
) {

658 
couÁ
 = 0;

659 
SimEv’t
 
ev’t
;

660 
I‹¿tÜ
<
SimEv’t
> 
™”©Ü
 = 
deã¼ed
.
	`™”©Ü
();

661 
™”©Ü
.
	`hasNext
()) {

662 
ev’t
 = 
™”©Ü
.
	`Ãxt
();

663 ià((
ev’t
.
	`g‘De¡š©iÚ
(è=ğ
d
è&& (
p
.
	`m©ch
(event))) {

664 
couÁ
++;

667  
couÁ
;

668 
	}
}

677 
public
 
SimEv’t
 
	$£Ëù
(
¤c
, 
P»diÿ‹
 
p
) {

678 
SimEv’t
 
ev
 = 
nuÎ
;

679 
I‹¿tÜ
<
SimEv’t
> 
™”©Ü
 = 
deã¼ed
.
	`™”©Ü
();

680 
™”©Ü
.
	`hasNext
()) {

681 
ev
 = 
™”©Ü
.
	`Ãxt
();

682 ià(
ev
.
	`g‘De¡š©iÚ
(è=ğ
¤c
 && 
p
.
	`m©ch
(ev)) {

683 
™”©Ü
.
	`»move
();

687  
ev
;

688 
	}
}

697 
public
 
SimEv’t
 
	$fšdFœ¡Deã¼ed
(
¤c
, 
P»diÿ‹
 
p
) {

698 
SimEv’t
 
ev
 = 
nuÎ
;

699 
I‹¿tÜ
<
SimEv’t
> 
™”©Ü
 = 
deã¼ed
.
	`™”©Ü
();

700 
™”©Ü
.
	`hasNext
()) {

701 
ev
 = 
™”©Ü
.
	`Ãxt
();

702 ià(
ev
.
	`g‘De¡š©iÚ
(è=ğ
¤c
 && 
p
.
	`m©ch
(ev)) {

706  
ev
;

707 
	}
}

716 
public
 
SimEv’t
 
	$ÿnûl
(
¤c
, 
P»diÿ‹
 
p
) {

717 
SimEv’t
 
ev
 = 
nuÎ
;

718 
I‹¿tÜ
<
SimEv’t
> 
™”
 = 
futu»
.
	`™”©Ü
();

719 
™”
.
	`hasNext
()) {

720 
ev
 = 
™”
.
	`Ãxt
();

721 ià(
ev
.
	`g‘Sourû
(è=ğ
¤c
 && 
p
.
	`m©ch
(ev)) {

722 
™”
.
	`»move
();

727  
ev
;

728 
	}
}

738 
public
 
boŞ—n
 
	$ÿnûlAÎ
(
¤c
, 
P»diÿ‹
 
p
) {

739 
SimEv’t
 
ev
 = 
nuÎ
;

740 
´eviousSize
 = 
futu»
.
	`size
();

741 
I‹¿tÜ
<
SimEv’t
> 
™”
 = 
futu»
.
	`™”©Ü
();

742 
™”
.
	`hasNext
()) {

743 
ev
 = 
™”
.
	`Ãxt
();

744 ià(
ev
.
	`g‘Sourû
(è=ğ
¤c
 && 
p
.
	`m©ch
(ev)) {

745 
™”
.
	`»move
();

748  
´eviousSize
 < 
futu»
.
	`size
();

749 
	}
}

760 
´iv©e
 
	$´oûssEv’t
(
SimEv’t
 
e
) {

761 
de¡
, 
¤c
;

762 
SimEÁ™y
 
de¡_’t
;

764 ià(
e
.
	`ev’tTime
(è< 
şock
) {

765 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Pastƒvent detected.");

767 
şock
 = 
e
.
	`ev’tTime
();

770 
e
.
	`g‘Ty³
()) {

771 
SimEv’t
.
ENULL
:

772 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Event has‡‚ullype.");

774 
SimEv’t
.
CREATE
:

775 
SimEÁ™y
 
Ãwe
 = (SimEÁ™yè
e
.
	`g‘D©a
();

776 
	`addEÁ™yDyÇmiÿÎy
(
Ãwe
);

779 
SimEv’t
.
SEND
:

781 
de¡
 = 
e
.
	`g‘De¡š©iÚ
();

782 ià(
de¡
 < 0) {

783 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Attempto sendo‡‚ullƒntity detected.");

785 
g
 = 
e
.
	`g‘Tag
();

786 
de¡_’t
 = 
’t™›s
.
	`g‘
(
de¡
);

787 ià(
de¡_’t
.
	`g‘S‹
(è=ğ
SimEÁ™y
.
WAITING
) {

788 
IÁeg”
 
de¡Obj
 = IÁeg”.
	`v®ueOf
(
de¡
);

789 
P»diÿ‹
 
p
 = 
wa™P»diÿ‹s
.
	`g‘
(
de¡Obj
);

790 ià((
p
 =ğ
nuÎ
è|| (
g
 =ğ9999è|| (p.
	`m©ch
(
e
))) {

791 
de¡_’t
.
	`£tEv’tBufãr
((
SimEv’t
è
e
.
	`şÚe
());

792 
de¡_’t
.
	`£tS‹
(
SimEÁ™y
.
RUNNABLE
);

793 
wa™P»diÿ‹s
.
	`»move
(
de¡Obj
);

795 
deã¼ed
.
	`addEv’t
(
e
);

798 
deã¼ed
.
	`addEv’t
(
e
);

803 
SimEv’t
.
HOLD_DONE
:

804 
¤c
 = 
e
.
	`g‘Sourû
();

805 ià(
¤c
 < 0) {

806 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Nullƒntity holding.");

808 
’t™›s
.
	`g‘
(
¤c
).
	`£tS‹
(
SimEÁ™y
.
RUNNABLE
);

815 
	}
}

821 
public
 
	$runS¹
() {

822 
ruÂšg
 = 
Œue
;

824 
SimEÁ™y
 
’t
 : 
’t™›s
) {

825 
’t
.
	`¡¬tEÁ™y
();

828 
	`´štMes§ge
("Entities started.");

829 
	}
}

837 
public
 
boŞ—n
 
	$ruÂšg
() {

838  
ruÂšg
;

839 
	}
}

846 
public
 
boŞ—n
 
	$·u£SimuÏtiÚ
() {

847 
·u£d
 = 
Œue
;

848  
·u£d
;

849 
	}
}

857 
public
 
boŞ—n
 
	$·u£SimuÏtiÚ
(
time
) {

858 ià(
time
 <ğ
şock
) {

859  
çl£
;

861 
·u£At
 = 
time
;

863  
Œue
;

864 
	}
}

871 
public
 
boŞ—n
 
	$»sumeSimuÏtiÚ
() {

872 
·u£d
 = 
çl£
;

874 ià(
·u£At
 <ğ
şock
) {

875 
·u£At
 = -1;

878  !
·u£d
;

879 
	}
}

887 
public
 
	$run
() {

888 ià(!
ruÂšg
) {

889 
	`runS¹
();

892 
Œue
) {

893 ià(
	`runClockTick
(è|| 
abru±T”mš©e
) {

898 ià(
‹rmš©eAt
 > 0.0 && 
şock
 >=erminateAt) {

899 
	`‹rmš©eSimuÏtiÚ
();

900 
şock
 = 
‹rmš©eAt
;

904 ià(
·u£At
 != -1

905 && ((
futu»
.
	`size
(è> 0 && 
şock
 <ğ
·u£At
 &&…au£Aˆ<ğfutu».
	`™”©Ü
().
	`Ãxt
()

906 .
	`ev’tTime
()è|| 
futu»
.
	`size
(è=ğ0 && 
·u£At
 <ğ
şock
)) {

907 
	`·u£SimuÏtiÚ
();

908 
şock
 = 
·u£At
;

911 
·u£d
) {

912 
Œy
 {

913 
Th»ad
.
	`¦“p
(100);

914 } 
	`ÿtch
 (
IÁ”ru±edExû±iÚ
 
e
) {

915 
e
.
	`´štSckT¿û
();

920 
şock
 = 
	`şock
();

922 
	`fšishSimuÏtiÚ
();

923 
	`runStİ
();

925  
şock
;

926 
	}
}

932 
public
 
	$fšishSimuÏtiÚ
() {

934 ià(!
abru±T”mš©e
) {

935 
SimEÁ™y
 
’t
 : 
’t™›s
) {

936 ià(
’t
.
	`g‘S‹
(è!ğ
SimEÁ™y
.
FINISHED
) {

937 
’t
.
	`run
();

942 
SimEÁ™y
 
’t
 : 
’t™›s
) {

943 
’t
.
	`shutdownEÁ™y
();

948 
’t™›s
 = 
nuÎ
;

949 
’t™›sByName
 = 
nuÎ
;

950 
futu»
 = 
nuÎ
;

951 
deã¼ed
 = 
nuÎ
;

952 
şock
 = 0L;

953 
ruÂšg
 = 
çl£
;

955 
wa™P»diÿ‹s
 = 
nuÎ
;

956 
·u£d
 = 
çl£
;

957 
·u£At
 = -1;

958 
abru±T”mš©e
 = 
çl£
;

959 
	}
}

964 
public
 
	$abru±®lyT”mš©e
() {

965 
abru±T”mš©e
 = 
Œue
;

966 
	}
}

973 
´iv©e
 
	$´štMes§ge
(
SŒšg
 
mes§ge
) {

974 
Log
.
	`´štLše
(
mes§ge
);

975 
	}
}

982 
public
 
boŞ—n
 
	$isPau£d
() {

983  
·u£d
;

984 
	}
}

	@src/org/cloudbus/cloudsim/core/CloudSimShutdown.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
;

11 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

23 
public
 cÏs 
	cCloudSimShutdown
 
ex‹nds
 
	mSimEÁ™y
 {

26 
´iv©e
 
	mnumU£r
;

45 
public
 
	$CloudSimShutdown
(
SŒšg
 
Çme
, 
numU£r
è
throws
 
Exû±iÚ
 {

48 
	`su³r
(
Çme
);

49 
this
.
numU£r
 =‚umUser;

65 @
Ov”ride


66 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

67 
numU£r
--;

68 ià(
numU£r
 =ğ0 || 
ev
.
	`g‘Tag
(è=ğ
CloudSimTags
.
ABRUPT_END_OF_SIMULATION
) {

69 
CloudSim
.
	`abru±®lyT”mš©e
();

71 
	}
}

77 @
Ov”ride


78 
public
 
	$¡¬tEÁ™y
() {

80 
	}
}

86 @
Ov”ride


87 
public
 
	$shutdownEÁ™y
() {

89 
	}
}

	@src/org/cloudbus/cloudsim/core/CloudSimTags.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
;

21 
public
 cÏs 
	cCloudSimTags
 {

24 
´iv©e
 
fš®
 
	mBASE
 = 0;

27 
´iv©e
 
fš®
 
	mNETBASE
 = 100;

30 
public
 
fš®
 
	mTRUE
 = 1;

33 
public
 
fš®
 
	mFALSE
 = 0;

36 
public
 
fš®
 
	mDEFAULT_BAUD_RATE
 = 9600;

39 
public
 
fš®
 
	mSCHEDULE_NOW
 = 0.0;

42 
public
 
fš®
 
	mEND_OF_SIMULATION
 = -1;

48 
public
 
fš®
 
	mABRUPT_END_OF_SIMULATION
 = -2;

54 
public
 
fš®
 
	mINSIGNIFICANT
 = 
BASE
 + 0;

57 
public
 
fš®
 
	mEXPERIMENT
 = 
BASE
 + 1;

63 
public
 
fš®
 
	mREGISTER_RESOURCE
 = 
BASE
 + 2;

69 
public
 
fš®
 
	mREGISTER_RESOURCE_AR
 = 
BASE
 + 3;

75 
public
 
fš®
 
	mRESOURCE_LIST
 = 
BASE
 + 4;

81 
public
 
fš®
 
	mRESOURCE_AR_LIST
 = 
BASE
 + 5;

87 
public
 
fš®
 
	mRESOURCE_CHARACTERISTICS
 = 
BASE
 + 6;

93 
public
 
fš®
 
	mRESOURCE_DYNAMICS
 = 
BASE
 + 7;

99 
public
 
fš®
 
	mRESOURCE_NUM_PE
 = 
BASE
 + 8;

105 
public
 
fš®
 
	mRESOURCE_NUM_FREE_PE
 = 
BASE
 + 9;

111 
public
 
fš®
 
	mRECORD_STATISTICS
 = 
BASE
 + 10;

114 
public
 
fš®
 
	mRETURN_STAT_LIST
 = 
BASE
 + 11;

120 
public
 
fš®
 
	mRETURN_ACC_STATISTICS_BY_CATEGORY
 = 
BASE
 + 12;

126 
public
 
fš®
 
	mREGISTER_REGIONAL_GIS
 = 
BASE
 + 13;

131 
public
 
fš®
 
	mREQUEST_REGIONAL_GIS
 = 
BASE
 + 14;

137 
public
 
fš®
 
	mRESOURCE_CHARACTERISTICS_REQUEST
 = 
BASE
 + 15;

140 
public
 
fš®
 
	mINFOPKT_SUBMIT
 = 
NETBASE
 + 5;

143 
public
 
fš®
 
	mINFOPKT_RETURN
 = 
NETBASE
 + 6;

149 
public
 
fš®
 
	mCLOUDLET_RETURN
 = 
BASE
 + 20;

155 
public
 
fš®
 
	mCLOUDLET_SUBMIT
 = 
BASE
 + 21;

161 
public
 
fš®
 
	mCLOUDLET_SUBMIT_ACK
 = 
BASE
 + 22;

164 
public
 
fš®
 
	mCLOUDLET_CANCEL
 = 
BASE
 + 23;

167 
public
 
fš®
 
	mCLOUDLET_STATUS
 = 
BASE
 + 24;

170 
public
 
fš®
 
	mCLOUDLET_PAUSE
 = 
BASE
 + 25;

175 
public
 
fš®
 
	mCLOUDLET_PAUSE_ACK
 = 
BASE
 + 26;

178 
public
 
fš®
 
	mCLOUDLET_RESUME
 = 
BASE
 + 27;

183 
public
 
fš®
 
	mCLOUDLET_RESUME_ACK
 = 
BASE
 + 28;

186 
public
 
fš®
 
	mCLOUDLET_MOVE
 = 
BASE
 + 29;

191 
public
 
fš®
 
	mCLOUDLET_MOVE_ACK
 = 
BASE
 + 30;

197 
public
 
fš®
 
	mVM_CREATE
 = 
BASE
 + 31;

203 
public
 
fš®
 
	mVM_CREATE_ACK
 = 
BASE
 + 32;

208 
public
 
fš®
 
	mVM_DESTROY
 = 
BASE
 + 33;

213 
public
 
fš®
 
	mVM_DESTROY_ACK
 = 
BASE
 + 34;

218 
public
 
fš®
 
	mVM_MIGRATE
 = 
BASE
 + 35;

224 
public
 
fš®
 
	mVM_MIGRATE_ACK
 = 
BASE
 + 36;

229 
public
 
fš®
 
	mVM_DATA_ADD
 = 
BASE
 + 37;

234 
public
 
fš®
 
	mVM_DATA_ADD_ACK
 = 
BASE
 + 38;

239 
public
 
fš®
 
	mVM_DATA_DEL
 = 
BASE
 + 39;

244 
public
 
fš®
 
	mVM_DATA_DEL_ACK
 = 
BASE
 + 40;

249 
public
 
fš®
 
	mVM_DATACENTER_EVENT
 = 
BASE
 + 41;

254 
public
 
fš®
 
	mVM_BROKER_EVENT
 = 
BASE
 + 42;

256 
public
 
fš®
 
	mN‘wÜk_Ev’t_UP
 = 
BASE
 + 43;

258 
public
 
fš®
 
	mN‘wÜk_Ev’t_£nd
 = 
BASE
 + 44;

260 
public
 
fš®
 
	mRESOURCE_Regi¡”
 = 
BASE
 + 45;

262 
public
 
fš®
 
	mN‘wÜk_Ev’t_DOWN
 = 
BASE
 + 46;

264 
public
 
fš®
 
	mN‘wÜk_Ev’t_Ho¡
 = 
BASE
 + 47;

266 
public
 
fš®
 
	mNextCyşe
 = 
BASE
 + 48;

269 
´iv©e
 
	$CloudSimTags
() {

270 
throw
 
Ãw
 
	`UnsuµÜ‹dO³¿tiÚExû±iÚ
("CloudSim Tags cannot be instantiated");

273 
	}
}

	@src/org/cloudbus/cloudsim/core/DeferredQueue.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
;

11 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

12 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡I‹¿tÜ
;

25 
public
 cÏs 
	cDeã¼edQueue
 {

28 
´iv©e
 
fš®
 
	mLi¡
<
	mSimEv’t
> 
	mli¡
 = 
Ãw
 
LškedLi¡
<
SimEv’t
>();

31 
´iv©e
 
	mmaxTime
 = -1;

39 
public
 
	$addEv’t
(
SimEv’t
 
ÃwEv’t
) {

42 
ev’tTime
 = 
ÃwEv’t
.
	`ev’tTime
();

43 ià(
ev’tTime
 >ğ
maxTime
) {

44 
li¡
.
	`add
(
ÃwEv’t
);

45 
maxTime
 = 
ev’tTime
;

49 
Li¡I‹¿tÜ
<
SimEv’t
> 
™”©Ü
 = 
li¡
.
	`li¡I‹¿tÜ
();

50 
SimEv’t
 
ev’t
;

51 
™”©Ü
.
	`hasNext
()) {

52 
ev’t
 = 
™”©Ü
.
	`Ãxt
();

53 ià(
ev’t
.
	`ev’tTime
(è> 
ev’tTime
) {

54 
™”©Ü
.
	`´evious
();

55 
™”©Ü
.
	`add
(
ÃwEv’t
);

60 
li¡
.
	`add
(
ÃwEv’t
);

68 
public
 
I‹¿tÜ
<
SimEv’t
> 
	$™”©Ü
() {

69  
li¡
.
	`™”©Ü
();

70 
	}
}

77 
public
 
	$size
() {

78  
li¡
.
	`size
();

79 
	}
}

84 
public
 
	$ş—r
() {

85 
li¡
.
	`ş—r
();

86 
	}
}

	@src/org/cloudbus/cloudsim/core/FutureQueue.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
;

11 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚ
;

12 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

13 
impÜt
 
	gjava
.
	gut
.
	gSÜ‹dS‘
;

14 
impÜt
 
	gjava
.
	gut
.
	gT»eS‘
;

25 
public
 cÏs 
	cFutu»Queue
 {

28 
´iv©e
 
fš®
 
	mSÜ‹dS‘
<
	mSimEv’t
> 
	msÜ‹dS‘
 = 
Ãw
 
T»eS‘
<
SimEv’t
>();

31 
´iv©e
 
	m£rŸl
 = 0;

39 
public
 
	$addEv’t
(
SimEv’t
 
ÃwEv’t
) {

40 
ÃwEv’t
.
	`£tS”Ÿl
(
£rŸl
++);

41 
sÜ‹dS‘
.
	`add
(
ÃwEv’t
);

49 
public
 
	$addEv’tFœ¡
(
SimEv’t
 
ÃwEv’t
) {

50 
ÃwEv’t
.
	`£tS”Ÿl
(0);

51 
sÜ‹dS‘
.
	`add
(
ÃwEv’t
);

52 
	}
}

59 
public
 
	gI‹¿tÜ
<
	gSimEv’t
> 
	$™”©Ü
() {

60  
sÜ‹dS‘
.
	`™”©Ü
();

61 
	}
}

68 
public
 
	$size
() {

69  
sÜ‹dS‘
.
	`size
();

70 
	}
}

78 
public
 
boŞ—n
 
	$»move
(
SimEv’t
 
ev’t
) {

79  
sÜ‹dS‘
.
	`»move
(
ev’t
);

80 
	}
}

88 
public
 
boŞ—n
 
»moveAÎ
(
CŞËùiÚ
<
SimEv’t
> 
ev’ts
) {

89  
	gsÜ‹dS‘
.
»moveAÎ
(
ev’ts
);

95 
public
 
	$ş—r
() {

96 
sÜ‹dS‘
.
	`ş—r
();

97 
	}
}

	@src/org/cloudbus/cloudsim/core/SimEntity.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

12 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gN‘wÜkTİŞogy
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
.
	gP»diÿ‹
;

31 
public
 
ab¡¿ù
 cÏs 
	cSimEÁ™y
 
im¶em’ts
 
	mClÚ—bË
 {

34 
´iv©e
 
SŒšg
 
	mÇme
;

37 
´iv©e
 
	mid
;

40 
´iv©e
 
SimEv’t
 
	mevbuf
;

43 
´iv©e
 
	m¡©e
;

50 
public
 
	$SimEÁ™y
(){

54 
public
 
	$SimEÁ™y
(
SŒšg
 
Çme
) {

55 ià(
Çme
.
	`šdexOf
(" ") != -1) {

56 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Entity‚ames can't contain spaces.");

58 
this
.
Çme
 =‚ame;

59 
id
 = -1;

60 
¡©e
 = 
RUNNABLE
;

61 
CloudSim
.
	`addEÁ™y
(
this
);

62 
	}
}

69 
public
 
SŒšg
 
	$g‘Name
() {

70  
Çme
;

71 
	}
}

78 
public
 
	$g‘Id
() {

79  
id
;

80 
	}
}

93 
public
 
	$scheduË
(
de¡
, 
d–ay
, 
g
, 
Objeù
 
d©a
) {

94 ià(!
CloudSim
.
	`ruÂšg
()) {

97 
CloudSim
.
	`£nd
(
id
, 
de¡
, 
d–ay
, 
g
, 
d©a
);

98 
	}
}

108 
public
 
	$scheduË
(
de¡
, 
d–ay
, 
g
) {

109 
	`scheduË
(
de¡
, 
d–ay
, 
g
, 
nuÎ
);

110 
	}
}

121 
public
 
	$scheduË
(
SŒšg
 
de¡
, 
d–ay
, 
g
, 
Objeù
 
d©a
) {

122 
	`scheduË
(
CloudSim
.
	`g‘EÁ™yId
(
de¡
), 
d–ay
, 
g
, 
d©a
);

123 
	}
}

133 
public
 
	$scheduË
(
SŒšg
 
de¡
, 
d–ay
, 
g
) {

134 
	`scheduË
(
de¡
, 
d–ay
, 
g
, 
nuÎ
);

135 
	}
}

145 
public
 
	$scheduËNow
(
de¡
, 
g
, 
Objeù
 
d©a
) {

146 
	`scheduË
(
de¡
, 0, 
g
, 
d©a
);

147 
	}
}

156 
public
 
	$scheduËNow
(
de¡
, 
g
) {

157 
	`scheduË
(
de¡
, 0, 
g
, 
nuÎ
);

158 
	}
}

168 
public
 
	$scheduËNow
(
SŒšg
 
de¡
, 
g
, 
Objeù
 
d©a
) {

169 
	`scheduË
(
CloudSim
.
	`g‘EÁ™yId
(
de¡
), 0, 
g
, 
d©a
);

170 
	}
}

179 
public
 
	$scheduËNow
(
SŒšg
 
de¡
, 
g
) {

180 
	`scheduË
(
de¡
, 0, 
g
, 
nuÎ
);

181 
	}
}

192 
public
 
	$scheduËFœ¡
(
de¡
, 
d–ay
, 
g
, 
Objeù
 
d©a
) {

193 ià(!
CloudSim
.
	`ruÂšg
()) {

196 
CloudSim
.
	`£ndFœ¡
(
id
, 
de¡
, 
d–ay
, 
g
, 
d©a
);

197 
	}
}

207 
public
 
	$scheduËFœ¡
(
de¡
, 
d–ay
, 
g
) {

208 
	`scheduËFœ¡
(
de¡
, 
d–ay
, 
g
, 
nuÎ
);

209 
	}
}

220 
public
 
	$scheduËFœ¡
(
SŒšg
 
de¡
, 
d–ay
, 
g
, 
Objeù
 
d©a
) {

221 
	`scheduËFœ¡
(
CloudSim
.
	`g‘EÁ™yId
(
de¡
), 
d–ay
, 
g
, 
d©a
);

222 
	}
}

232 
public
 
	$scheduËFœ¡
(
SŒšg
 
de¡
, 
d–ay
, 
g
) {

233 
	`scheduËFœ¡
(
de¡
, 
d–ay
, 
g
, 
nuÎ
);

234 
	}
}

244 
public
 
	$scheduËFœ¡Now
(
de¡
, 
g
, 
Objeù
 
d©a
) {

245 
	`scheduËFœ¡
(
de¡
, 0, 
g
, 
d©a
);

246 
	}
}

255 
public
 
	$scheduËFœ¡Now
(
de¡
, 
g
) {

256 
	`scheduËFœ¡
(
de¡
, 0, 
g
, 
nuÎ
);

257 
	}
}

267 
public
 
	$scheduËFœ¡Now
(
SŒšg
 
de¡
, 
g
, 
Objeù
 
d©a
) {

268 
	`scheduËFœ¡
(
CloudSim
.
	`g‘EÁ™yId
(
de¡
), 0, 
g
, 
d©a
);

269 
	}
}

278 
public
 
	$scheduËFœ¡Now
(
SŒšg
 
de¡
, 
g
) {

279 
	`scheduËFœ¡
(
de¡
, 0, 
g
, 
nuÎ
);

280 
	}
}

287 
public
 
	$·u£
(
d–ay
) {

288 ià(
d–ay
 < 0) {

289 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Negative delay supplied.");

291 ià(!
CloudSim
.
	`ruÂšg
()) {

294 
CloudSim
.
	`·u£
(
id
, 
d–ay
);

295 
	}
}

303 
public
 
	$numEv’tsWa™šg
(
P»diÿ‹
 
p
) {

304  
CloudSim
.
	`wa™šg
(
id
, 
p
);

305 
	}
}

312 
public
 
	$numEv’tsWa™šg
() {

313  
CloudSim
.
	`wa™šg
(
id
, CloudSim.
SIM_ANY
);

314 
	}
}

322 
public
 
SimEv’t
 
	$£ËùEv’t
(
P»diÿ‹
 
p
) {

323 ià(!
CloudSim
.
	`ruÂšg
()) {

324  
nuÎ
;

327  
CloudSim
.
	`£Ëù
(
id
, 
p
);

328 
	}
}

336 
public
 
SimEv’t
 
	$ÿnûlEv’t
(
P»diÿ‹
 
p
) {

337 ià(!
CloudSim
.
	`ruÂšg
()) {

338  
nuÎ
;

341  
CloudSim
.
	`ÿnûl
(
id
, 
p
);

342 
	}
}

351 
public
 
SimEv’t
 
	$g‘NextEv’t
(
P»diÿ‹
 
p
) {

352 ià(!
CloudSim
.
	`ruÂšg
()) {

353  
nuÎ
;

355 ià(
	`numEv’tsWa™šg
(
p
) > 0) {

356  
	`£ËùEv’t
(
p
);

358  
nuÎ
;

359 
	}
}

367 
public
 
	$wa™FÜEv’t
(
P»diÿ‹
 
p
) {

368 ià(!
CloudSim
.
	`ruÂšg
()) {

372 
CloudSim
.
	`wa™
(
id
, 
p
);

373 
¡©e
 = 
WAITING
;

374 
	}
}

382 
public
 
SimEv’t
 
	$g‘NextEv’t
() {

383  
	`g‘NextEv’t
(
CloudSim
.
SIM_ANY
);

384 
	}
}

390 
public
 
ab¡¿ù
 
¡¬tEÁ™y
();

398 
public
 
ab¡¿ù
 
´oûssEv’t
(
SimEv’t
 
ev
);

404 
public
 
ab¡¿ù
 
shutdownEÁ™y
();

406 
public
 
	$run
() {

407 
SimEv’t
 
ev
 = 
evbuf
 !ğ
nuÎ
 ?ƒvbuà: 
	`g‘NextEv’t
();

409 
ev
 !ğ
nuÎ
) {

411 
	`´oûssEv’t
(
ev
);

412 ià(
¡©e
 !ğ
RUNNABLE
) {

416 
ev
 = 
	`g‘NextEv’t
();

419 
evbuf
 = 
nuÎ
;

420 
	}
}

431 @
Ov”ride


432 
´Ùeùed
 
fš®
 
Objeù
 
	$şÚe
(è
throws
 
ClÚeNÙSuµÜ‹dExû±iÚ
 {

433 
SimEÁ™y
 
cİy
 = (SimEÁ™yè
su³r
.
	`şÚe
();

434 
cİy
.
	`£tName
(
Çme
);

435 
cİy
.
	`£tEv’tBufãr
(
nuÎ
);

436  
cİy
;

437 
	}
}

445 
´iv©e
 
	$£tName
(
SŒšg
 
Ãw_Çme
) {

446 
Çme
 = 
Ãw_Çme
;

447 
	}
}

456 
´Ùeùed
 
	$g‘S‹
() {

457  
¡©e
;

458 
	}
}

465 
´Ùeùed
 
SimEv’t
 
	$g‘Ev’tBufãr
() {

466  
evbuf
;

467 
	}
}

471 
public
 
fš®
 
	gRUNNABLE
 = 0;

474 
public
 
fš®
 
	gWAITING
 = 1;

477 
public
 
fš®
 
	gHOLDING
 = 2;

480 
public
 
fš®
 
	gFINISHED
 = 3;

487 
´Ùeùed
 
	$£tS‹
(
¡©e
) {

488 
this
.
¡©e
 = state;

489 
	}
}

496 
´Ùeùed
 
	$£tId
(
id
) {

497 
this
.
id
 = id;

498 
	}
}

505 
´Ùeùed
 
	$£tEv’tBufãr
(
SimEv’t
 
e
) {

506 
evbuf
 = 
e
;

507 
	}
}

525 
´Ùeùed
 
	$£nd
(
’t™yId
, 
d–ay
, 
şoudSimTag
, 
Objeù
 
d©a
) {

526 ià(
’t™yId
 < 0) {

531 ià(
d–ay
 < 0) {

532 
d–ay
 = 0;

535 ià(
DoubË
.
	`isInfš™e
(
d–ay
)) {

536 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("The specified delay is infinite value");

539 ià(
’t™yId
 < 0) {

540 
Log
.
	`´štLše
(
	`g‘Name
(è+ ".£nd(): E¼Ü - " + "šv®idƒÁ™y id " + 
’t™yId
);

544 
¤cId
 = 
	`g‘Id
();

545 ià(
’t™yId
 !ğ
¤cId
) {

546 
d–ay
 +ğ
	`g‘N‘wÜkD–ay
(
¤cId
, 
’t™yId
);

549 
	`scheduË
(
’t™yId
, 
d–ay
, 
şoudSimTag
, 
d©a
);

550 
	}
}

564 
´Ùeùed
 
	$£nd
(
’t™yId
, 
d–ay
, 
şoudSimTag
) {

565 
	`£nd
(
’t™yId
, 
d–ay
, 
şoudSimTag
, 
nuÎ
);

566 
	}
}

582 
´Ùeùed
 
	$£nd
(
SŒšg
 
’t™yName
, 
d–ay
, 
şoudSimTag
, 
Objeù
 
d©a
) {

583 
	`£nd
(
CloudSim
.
	`g‘EÁ™yId
(
’t™yName
), 
d–ay
, 
şoudSimTag
, 
d©a
);

584 
	}
}

598 
´Ùeùed
 
	$£nd
(
SŒšg
 
’t™yName
, 
d–ay
, 
şoudSimTag
) {

599 
	`£nd
(
’t™yName
, 
d–ay
, 
şoudSimTag
, 
nuÎ
);

600 
	}
}

616 
´Ùeùed
 
	$£ndNow
(
’t™yId
, 
şoudSimTag
, 
Objeù
 
d©a
) {

617 
	`£nd
(
’t™yId
, 0, 
şoudSimTag
, 
d©a
);

618 
	}
}

632 
´Ùeùed
 
	$£ndNow
(
’t™yId
, 
şoudSimTag
) {

633 
	`£nd
(
’t™yId
, 0, 
şoudSimTag
, 
nuÎ
);

634 
	}
}

650 
´Ùeùed
 
	$£ndNow
(
SŒšg
 
’t™yName
, 
şoudSimTag
, 
Objeù
 
d©a
) {

651 
	`£nd
(
CloudSim
.
	`g‘EÁ™yId
(
’t™yName
), 0, 
şoudSimTag
, 
d©a
);

652 
	}
}

666 
´Ùeùed
 
	$£ndNow
(
SŒšg
 
’t™yName
, 
şoudSimTag
) {

667 
	`£nd
(
’t™yName
, 0, 
şoudSimTag
, 
nuÎ
);

668 
	}
}

680 
´iv©e
 
	$g‘N‘wÜkD–ay
(
¤c
, 
d¡
) {

681 ià(
N‘wÜkTİŞogy
.
	`isN‘wÜkEÇbËd
()) {

682  
N‘wÜkTİŞogy
.
	`g‘D–ay
(
¤c
, 
d¡
);

685 
	}
}

	@src/org/cloudbus/cloudsim/core/SimEvent.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
;

18 
public
 
şass
 
SimEv’t
 
im¶em’ts
 
	gClÚ—bË
, 
	gCom·¿bË
<
	gSimEv’t
> {

21 
´iv©e
 
fš®
 
	g‘y³
;

24 
´iv©e
 
fš®
 
	gtime
;

27 
´iv©e
 
	g’dWa™šgTime
;

30 
´iv©e
 
	g’tSrc
;

33 
´iv©e
 
	g’tD¡
;

36 
´iv©e
 
fš®
 
	gg
;

39 
´iv©e
 
fš®
 
Objeù
 
	gd©a
;

41 
´iv©e
 
	g£rŸl
 = -1;

45 
public
 
fš®
 
	gENULL
 = 0;

47 
public
 
fš®
 
	gSEND
 = 1;

49 
public
 
fš®
 
	gHOLD_DONE
 = 2;

51 
public
 
fš®
 
	gCREATE
 = 3;

56 
public
 
SimEv’t
() {

57 
	g‘y³
 = 
ENULL
;

58 
	gtime
 = -1L;

59 
	g’dWa™šgTime
 = -1.0;

60 
	g’tSrc
 = -1;

61 
	g’tD¡
 = -1;

62 
	gg
 = -1;

63 
	gd©a
 = 
nuÎ
;

67 
SimEv’t
(
evty³
, 
time
, 
¤c
, 
de¡
, 
g
, 
Objeù
 
ed©a
) {

68 
	g‘y³
 = 
evty³
;

69 
	gthis
.
	gtime
 = 
time
;

70 
	g’tSrc
 = 
¤c
;

71 
	g’tD¡
 = 
de¡
;

72 
	gthis
.
	gg
 = 
g
;

73 
	gd©a
 = 
ed©a
;

76 
SimEv’t
(
evty³
, 
time
, 
¤c
) {

77 
	g‘y³
 = 
evty³
;

78 
	gthis
.
	gtime
 = 
time
;

79 
	g’tSrc
 = 
¤c
;

80 
	g’tD¡
 = -1;

81 
	gg
 = -1;

82 
	gd©a
 = 
nuÎ
;

85 
´Ùeùed
 
£tS”Ÿl
(
£rŸl
) {

86 
	gthis
.
	g£rŸl
 = 
£rŸl
;

94 
´Ùeùed
 
£tEndWa™šgTime
(
’d_wa™šg_time
) {

95 
	g’dWa™šgTime
 = 
’d_wa™šg_time
;

98 @
Ov”ride


99 
public
 
SŒšg
 
toSŒšg
() {

100  "Ev’ˆg = " + 
	gg
 + " sourû = " + 
	gCloudSim
.
g‘EÁ™y
(
’tSrc
).
g‘Name
() + " destination = "

101 + 
	gCloudSim
.
g‘EÁ™y
(
’tD¡
).
g‘Name
();

109 
public
 
g‘Ty³
() {

110  
	g‘y³
;

118 @
Ov”ride


119 
public
 
com·»To
(
SimEv’t
 
ev’t
) {

120 ià(
	gev’t
 =ğ
nuÎ
) {

122 } ià(
	gtime
 < 
	gev’t
.time) {

124 } ià(
	gtime
 > 
	gev’t
.time) {

126 } ià(
	g£rŸl
 < 
	gev’t
.serial) {

128 } ià(
	gthis
 =ğ
ev’t
) {

140 
public
 
g‘De¡š©iÚ
() {

141  
	g’tD¡
;

149 
public
 
g‘Sourû
() {

150  
	g’tSrc
;

158 
public
 
ev’tTime
() {

159  
	gtime
;

167 
public
 
’dWa™šgTime
() {

168  
	g’dWa™šgTime
;

176 
public
 
ty³
() {

177  
	gg
;

185 
public
 
scheduËdBy
() {

186  
	g’tSrc
;

194 
public
 
g‘Tag
() {

195  
	gg
;

203 
public
 
Objeù
 
g‘D©a
() {

204  
	gd©a
;

212 @
Ov”ride


213 
public
 
Objeù
 
şÚe
() {

214  
Ãw
 
SimEv’t
(
‘y³
, 
time
, 
’tSrc
, 
’tD¡
, 
g
, 
d©a
);

222 
public
 
£tSourû
(
s
) {

223 
	g’tSrc
 = 
s
;

231 
public
 
£tDe¡š©iÚ
(
d
) {

232 
	g’tD¡
 = 
d
;

	@src/org/cloudbus/cloudsim/core/predicates/Predicate.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

26 
public
 
ab¡¿ù
 cÏs 
	cP»diÿ‹
 {

37 
public
 
ab¡¿ù
 
boŞ—n
 
m©ch
(
SimEv’t
 
ev’t
);

	@src/org/cloudbus/cloudsim/core/predicates/PredicateAny.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

24 
public
 cÏs 
	cP»diÿ‹Any
 
ex‹nds
 
	mP»diÿ‹
 {

32 @
Ov”ride


33 
public
 
boŞ—n
 
	$m©ch
(
SimEv’t
 
ev
) {

34  
Œue
;

37 
	}
}

	@src/org/cloudbus/cloudsim/core/predicates/PredicateFrom.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

22 
public
 cÏs 
	cP»diÿ‹From
 
ex‹nds
 
	mP»diÿ‹
 {

25 
´iv©e
 
fš®
 [] 
	mids
;

32 
public
 
	$P»diÿ‹From
(
sourûId
) {

33 
ids
 = 
Ãw
 [] { 
sourûId
 };

41 
public
 
	$P»diÿ‹From
([] 
sourûIds
) {

42 
ids
 = 
sourûIds
.
	`şÚe
();

43 
	}
}

51 @
Ov”ride


52 
public
 
boŞ—n
 
	$m©ch
(
SimEv’t
 
ev
) {

53 
¤c
 = 
ev
.
	`g‘Sourû
();

54 
id
 : 
ids
) {

55 ià(
¤c
 =ğ
id
) {

56  
Œue
;

59  
çl£
;

60 
	}
}

	@src/org/cloudbus/cloudsim/core/predicates/PredicateNone.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

24 
public
 cÏs 
	cP»diÿ‹NÚe
 
ex‹nds
 
	mP»diÿ‹
 {

32 @
Ov”ride


33 
public
 
boŞ—n
 
	$m©ch
(
SimEv’t
 
ev
) {

34  
çl£
;

37 
	}
}

	@src/org/cloudbus/cloudsim/core/predicates/PredicateNotFrom.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

21 
public
 cÏs 
	cP»diÿ‹NÙFrom
 
ex‹nds
 
	mP»diÿ‹
 {

24 
´iv©e
 
fš®
 [] 
	mids
;

31 
public
 
	$P»diÿ‹NÙFrom
(
sourûId
) {

32 
ids
 = 
Ãw
 [] { 
sourûId
 };

40 
public
 
	$P»diÿ‹NÙFrom
([] 
sourûIds
) {

41 
ids
 = 
sourûIds
.
	`şÚe
();

42 
	}
}

50 @
Ov”ride


51 
public
 
boŞ—n
 
	$m©ch
(
SimEv’t
 
ev
) {

52 
¤c
 = 
ev
.
	`g‘Sourû
();

53 
id
 : 
ids
) {

54 ià(
¤c
 =ğ
id
) {

55  
çl£
;

58  
Œue
;

59 
	}
}

	@src/org/cloudbus/cloudsim/core/predicates/PredicateNotType.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

21 
public
 cÏs 
	cP»diÿ‹NÙTy³
 
ex‹nds
 
	mP»diÿ‹
 {

24 
´iv©e
 
fš®
 [] 
	mgs
;

31 
public
 
	$P»diÿ‹NÙTy³
(
g
) {

32 
gs
 = 
Ãw
 [] { 
g
 };

40 
public
 
	$P»diÿ‹NÙTy³
([] 
gs
) {

41 
this
.
gs
 =ags.
	`şÚe
();

42 
	}
}

50 @
Ov”ride


51 
public
 
boŞ—n
 
	$m©ch
(
SimEv’t
 
ev
) {

52 
g
 = 
ev
.
	`g‘Tag
();

53 
g2
 : 
gs
) {

54 ià(
g
 =ğ
g2
) {

55  
çl£
;

58  
Œue
;

59 
	}
}

	@src/org/cloudbus/cloudsim/core/predicates/PredicateType.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

21 
public
 cÏs 
	cP»diÿ‹Ty³
 
ex‹nds
 
	mP»diÿ‹
 {

24 
´iv©e
 
fš®
 [] 
	mgs
;

31 
public
 
	$P»diÿ‹Ty³
(
t1
) {

32 
gs
 = 
Ãw
 [] { 
t1
 };

40 
public
 
	$P»diÿ‹Ty³
([] 
gs
) {

41 
this
.
gs
 =ags.
	`şÚe
();

42 
	}
}

50 @
Ov”ride


51 
public
 
boŞ—n
 
	$m©ch
(
SimEv’t
 
ev
) {

52 
g
 = 
ev
.
	`g‘Tag
();

53 
g2
 : 
gs
) {

54 ià(
g
 =ğ
g2
) {

55  
Œue
;

58  
çl£
;

59 
	}
}

	@src/org/cloudbus/cloudsim/distributions/ContinuousDistribution.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gdi¡ributiÚs
;

17 
public
 
š‹rçû
 
	gCÚtšuousDi¡ributiÚ
 {

24 
§m¶e
();

	@src/org/cloudbus/cloudsim/distributions/ExponentialDistr.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gdi¡ributiÚs
;

11 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

19 
public
 cÏs 
	cExpÚ’tŸlDi¡r
 
im¶em’ts
 
	mCÚtšuousDi¡ributiÚ
 {

22 
´iv©e
 
fš®
 
Rªdom
 
	mnumG’
;

25 
´iv©e
 
fš®
 
	mm—n
;

33 
public
 
	$ExpÚ’tŸlDi¡r
(
£ed
, 
m—n
) {

34 ià(
m—n
 <= 0.0) {

35 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Mean must be greaterhan 0.0");

37 
numG’
 = 
Ãw
 
	`Rªdom
(
£ed
);

38 
this
.
m—n
 = mean;

46 
public
 
	$ExpÚ’tŸlDi¡r
(
m—n
) {

47 ià(
m—n
 <= 0.0) {

48 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Mean must be greatedhan 0.0");

50 
numG’
 = 
Ãw
 
	`Rªdom
(
Sy¡em
.
	`cu¼’tTimeMlis
());

51 
this
.
m—n
 = mean;

52 
	}
}

59 @
Ov”ride


60 
public
 
	$§m¶e
() {

61  -
m—n
 * 
M©h
.
	`log
(
numG’
.
	`ÃxtDoubË
());

62 
	}
}

	@src/org/cloudbus/cloudsim/distributions/GammaDistr.java

10 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gdi¡ributiÚs
;

12 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

20 
public
 cÏs 
	cGammaDi¡r
 
im¶em’ts
 
	mCÚtšuousDi¡ributiÚ
 {

23 
´iv©e
 
fš®
 
Rªdom
 
	mnumG’
;

26 
´iv©e
 
fš®
 
	m®pha
;

29 
´iv©e
 
fš®
 
	mb‘a
;

38 
public
 
	$GammaDi¡r
(
Rªdom
 
£ed
, 
®pha
, 
b‘a
) {

39 ià(
®pha
 <ğ0 || 
b‘a
 <= 0.0) {

40 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Alpha‡nd beta must be greaterhan 0.0");

43 
numG’
 = 
£ed
;

44 
this
.
®pha
 =‡lpha;

45 
this
.
b‘a
 = beta;

54 
public
 
	$GammaDi¡r
(
®pha
, 
b‘a
) {

55 ià(
®pha
 <ğ0 || 
b‘a
 <= 0.0) {

56 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Alpha‡nd beta must be greaterhan 0.0");

59 
numG’
 = 
Ãw
 
	`Rªdom
(
Sy¡em
.
	`cu¼’tTimeMlis
());

60 
this
.
®pha
 =‡lpha;

61 
this
.
b‘a
 = beta;

62 
	}
}

68 @
Ov”ride


69 
public
 
	$§m¶e
() {

70 
sum
 = 0.0;

71 
i
 = 0; i < 
®pha
; i++) {

72 
sum
 +ğ
M©h
.
	`log
(
numG’
.
	`ÃxtDoubË
());

75  -
b‘a
 * 
sum
;

76 
	}
}

	@src/org/cloudbus/cloudsim/distributions/LognormalDistr.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gdi¡ributiÚs
;

11 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

19 
public
 cÏs 
	cLognÜm®Di¡r
 
im¶em’ts
 
	mCÚtšuousDi¡ributiÚ
 {

22 
´iv©e
 
fš®
 
Rªdom
 
	mnumG’
;

25 
´iv©e
 
fš®
 
	mm—n
;

28 
´iv©e
 
fš®
 
	mdev
;

37 
public
 
	$LognÜm®Di¡r
(
Rªdom
 
£ed
, 
m—n
, 
dev
) {

38 ià(
m—n
 <ğ0.0 || 
dev
 <= 0.0) {

39 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Mean‡nd deviation must be greaterhan 0.0");

42 
numG’
 = 
£ed
;

43 
this
.
m—n
 = mean;

44 
this
.
dev
 = dev;

53 
public
 
	$LognÜm®Di¡r
(
m—n
, 
dev
) {

54 ià(
m—n
 <ğ0.0 || 
dev
 <= 0.0) {

55 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Mean‡nd deviation must be greaterhan 0.0");

58 
numG’
 = 
Ãw
 
	`Rªdom
(
Sy¡em
.
	`cu¼’tTimeMlis
());

59 
this
.
m—n
 = mean;

60 
this
.
dev
 = dev;

61 
	}
}

67 @
Ov”ride


68 
public
 
	$§m¶e
() {

70 
n
 = 
M©h
.
	`sq¹
(-2 * M©h.
	`log
(
numG’
.
	`ÃxtDoubË
()))

71 * 
M©h
.
	`sš
(2 * M©h.
PI
 * 
numG’
.
	`ÃxtDoubË
());

74  
M©h
.
	`pow
(M©h.
E
, 
m—n
 + 
dev
 * 
n
);

75 
	}
}

	@src/org/cloudbus/cloudsim/distributions/LomaxDistribution.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gdi¡ributiÚs
;

11 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

19 
public
 cÏs 
	cLomaxDi¡ributiÚ
 
ex‹nds
 
P¬‘oDi¡r
 
im¶em’ts
 
	mCÚtšuousDi¡ributiÚ
 {

22 
´iv©e
 
fš®
 
	mshiá
;

31 
public
 
	$LomaxDi¡ributiÚ
(
sh­e
, 
loÿtiÚ
, 
shiá
) {

32 
	`su³r
(
sh­e
, 
loÿtiÚ
);

34 ià(
shiá
 > 
loÿtiÚ
) {

35 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Shift must be smaller orƒqualhan†ocation");

38 
this
.
shiá
 = shift;

49 
public
 
	$LomaxDi¡ributiÚ
(
Rªdom
 
£ed
, 
sh­e
, 
loÿtiÚ
, 
shiá
) {

50 
	`su³r
(
£ed
, 
sh­e
, 
loÿtiÚ
);

52 ià(
shiá
 > 
loÿtiÚ
) {

53 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Shift must be smaller orƒqualhan†ocation");

56 
this
.
shiá
 = shift;

57 
	}
}

63 @
Ov”ride


64 
public
 
	$§m¶e
() {

65  
su³r
.
	`§m¶e
(è- 
shiá
;

66 
	}
}

	@src/org/cloudbus/cloudsim/distributions/ParetoDistr.java

10 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gdi¡ributiÚs
;

12 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

20 
public
 cÏs 
	cP¬‘oDi¡r
 
im¶em’ts
 
	mCÚtšuousDi¡ributiÚ
 {

23 
´iv©e
 
fš®
 
Rªdom
 
	mnumG’
;

26 
´iv©e
 
fš®
 
	msh­e
;

29 
´iv©e
 
fš®
 
	mloÿtiÚ
;

38 
public
 
	$P¬‘oDi¡r
(
Rªdom
 
£ed
, 
sh­e
, 
loÿtiÚ
) {

39 ià(
sh­e
 <ğ0.0 || 
loÿtiÚ
 <= 0.0) {

40 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Mean‡nd deviation must be greaterhan 0.0");

43 
numG’
 = 
£ed
;

44 
this
.
sh­e
 = shape;

45 
this
.
loÿtiÚ
 =†ocation;

54 
public
 
	$P¬‘oDi¡r
(
sh­e
, 
loÿtiÚ
) {

55 ià(
sh­e
 <ğ0.0 || 
loÿtiÚ
 <= 0.0) {

56 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Mean‡nd deviation must be greaterhan 0.0");

59 
numG’
 = 
Ãw
 
	`Rªdom
(
Sy¡em
.
	`cu¼’tTimeMlis
());

60 
this
.
sh­e
 = shape;

61 
this
.
loÿtiÚ
 =†ocation;

62 
	}
}

68 @
Ov”ride


69 
public
 
	$§m¶e
() {

70  
loÿtiÚ
 / 
M©h
.
	`pow
(
numG’
.
	`ÃxtDoubË
(), 1 / 
sh­e
);

71 
	}
}

	@src/org/cloudbus/cloudsim/distributions/UniformDistr.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gdi¡ributiÚs
;

11 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

19 
public
 cÏs 
	cUnifÜmDi¡r
 
im¶em’ts
 
	mCÚtšuousDi¡ributiÚ
 {

22 
´iv©e
 
fš®
 
Rªdom
 
	mnumG’
;

25 
´iv©e
 
fš®
 
	mmag
, 
	mmš
;

33 
public
 
	$UnifÜmDi¡r
(
mš
, 
max
) {

34 ià(
mš
 >ğ
max
) {

35 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Maximum must be greaterhanhe minimum.");

37 
numG’
 = 
Ãw
 
	`Rªdom
();

38 
mag
 = 
max
 - 
mš
;

39 
this
.
mš
 = min;

49 
public
 
	$UnifÜmDi¡r
(
mš
, 
max
, 
£ed
) {

50 ià(
mš
 >ğ
max
) {

51 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Maximum must be greaterhanhe minimum.");

54 
numG’
 = 
Ãw
 
	`Rªdom
(
£ed
);

55 
mag
 = 
max
 - 
mš
;

56 
this
.
mš
 = min;

57 
	}
}

64 @
Ov”ride


65 
public
 
	$§m¶e
() {

66  (
numG’
.
	`ÃxtDoubË
(è* (
mag
)è+ 
mš
;

67 
	}
}

78 
public
 
	$§m¶e
(
Rªdom
 
rd
, 
mš
, 
max
) {

79 ià(
mš
 >ğ
max
) {

80 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Maximum must be greaterhanhe minimum.");

83  (
rd
.
	`ÃxtDoubË
(è* (
max
 - 
mš
)) + min;

84 
	}
}

91 
public
 
	$£tS“d
(
£ed
) {

92 
numG’
.
	`£tS“d
(
£ed
);

93 
	}
}

	@src/org/cloudbus/cloudsim/distributions/WeibullDistr.java

10 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gdi¡ributiÚs
;

12 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

20 
public
 cÏs 
	cWeibuÎDi¡r
 
im¶em’ts
 
	mCÚtšuousDi¡ributiÚ
 {

23 
´iv©e
 
fš®
 
Rªdom
 
	mnumG’
;

26 
´iv©e
 
fš®
 
	m®pha
;

29 
´iv©e
 
fš®
 
	mb‘a
;

38 
public
 
	$WeibuÎDi¡r
(
Rªdom
 
£ed
, 
®pha
, 
b‘a
) {

39 ià(
®pha
 <ğ0.0 || 
b‘a
 <= 0.0) {

40 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Alpha‡nd beta must be greaterhan 0.0");

43 
numG’
 = 
£ed
;

44 
this
.
®pha
 =‡lpha;

45 
this
.
b‘a
 = beta;

54 
public
 
	$WeibuÎDi¡r
(
®pha
, 
b‘a
) {

55 ià(
®pha
 <ğ0.0 || 
b‘a
 <= 0.0) {

56 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Alpha‡nd beta must be greaterhan 0.0");

59 
numG’
 = 
Ãw
 
	`Rªdom
(
Sy¡em
.
	`cu¼’tTimeMlis
());

60 
this
.
®pha
 =‡lpha;

61 
this
.
b‘a
 = beta;

62 
	}
}

68 @
Ov”ride


69 
public
 
	$§m¶e
() {

70  
b‘a
 * 
M©h
.
	`pow
(-M©h.
	`log
(
numG’
.
	`ÃxtDoubË
()), 1 / 
®pha
);

71 
	}
}

	@src/org/cloudbus/cloudsim/distributions/ZipfDistr.java

10 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gdi¡ributiÚs
;

12 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

20 
public
 cÏs 
	cZfDi¡r
 
im¶em’ts
 
	mCÚtšuousDi¡ributiÚ
 {

23 
´iv©e
 
fš®
 
Rªdom
 
	mnumG’
;

26 
´iv©e
 
fš®
 
	msh­e
;

29 
´iv©e
 
	md’
;

38 
public
 
	$ZfDi¡r
(
£ed
, 
sh­e
, 
pİuÏtiÚ
) {

39 ià(
sh­e
 <ğ0.0 || 
pİuÏtiÚ
 < 1) {

40 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Mean must be greaterhan 0.0‡nd…opulation greaterhan 0");

42 
numG’
 = 
Ãw
 
	`Rªdom
(
£ed
);

43 
this
.
sh­e
 = shape;

45 
	`compu‹D’
(
sh­e
, 
pİuÏtiÚ
);

54 
public
 
	$ZfDi¡r
(
sh­e
, 
pİuÏtiÚ
) {

55 ià(
sh­e
 <= 0.0) {

56 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Mean must be greatedhan 0.0‡nd…opulation greaterhan 0");

58 
numG’
 = 
Ãw
 
	`Rªdom
(
Sy¡em
.
	`cu¼’tTimeMlis
());

59 
this
.
sh­e
 = shape;

60 
	`compu‹D’
(
sh­e
, 
pİuÏtiÚ
);

61 
	}
}

68 @
Ov”ride


69 
public
 
	$§m¶e
() {

70 
v¬Ÿ‹
 = 
numG’
.
	`ÃxtDoubË
();

71 
num
 = 1;

72 
ÃxtNum
 = 1 + 1 / 
M©h
.
	`pow
(2, 
sh­e
);

73 
j
 = 3;

75 
v¬Ÿ‹
 > 
ÃxtNum
 / 
d’
) {

76 
num
 = 
ÃxtNum
;

77 
ÃxtNum
 +ğ1 / 
M©h
.
	`pow
(
j
, 
sh­e
);

78 
j
++;

81  
num
 / 
d’
;

82 
	}
}

90 
´iv©e
 
	$compu‹D’
(
sh­e
, 
pİuÏtiÚ
) {

91 
d’
 = 0.0;

92 
j
 = 1; j <ğ
pİuÏtiÚ
; j++) {

93 
d’
 +ğ1 / 
M©h
.
	`pow
(
j
, 
sh­e
);

95 
	}
}

	@src/org/cloudbus/cloudsim/lists/CloudletList.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
;

11 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

12 
impÜt
 
	gjava
.
	gut
.
	gCom·¿tÜ
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

23 
public
 cÏs 
	cCloudËtLi¡
 {

32 
public
 <
T
 
ex‹nds
 
	mCloudËt
> T 
g‘ById
(
Li¡
<T> 
şoudËtLi¡
, 
id
) {

33 
T
 
	mşoudËt
 : 
şoudËtLi¡
) {

34 ià(
şoudËt
.
g‘CloudËtId
(è=ğ
id
) {

35  
şoudËt
;

38  
	mnuÎ
;

47 
public
 <
T
 
ex‹nds
 
	gCloudËt
> 
g‘Pos™iÚById
(
Li¡
<T> 
şoudËtLi¡
, 
id
) {

48 
	gi
 = 0 ;

49 
T
 
	gşoudËt
 : 
şoudËtLi¡
) {

50 ià(
şoudËt
.
g‘CloudËtId
(è=ğ
id
) {

51  
i
;

53 
	gi
++;

65 
public
 <
T
 
ex‹nds
 
	gCloudËt
> 
sÜt
(
Li¡
<T> 
şoudËtLi¡
) {

66 
	gCŞËùiÚs
.
sÜt
(
şoudËtLi¡
, 
Ãw
 
Com·¿tÜ
<
T
>() {

82 @
Ov”ride


83 
public
 
com·»
(
T
 
a
, T 
b
è
throws
 
CÏssCa¡Exû±iÚ
 {

84 
DoubË
 
şa
 = DoubË.
v®ueOf
(
a
.
g‘CloudËtTÙ®L’gth
());

85 
DoubË
 
şb
 = DoubË.
v®ueOf
(
b
.
g‘CloudËtTÙ®L’gth
());

86  
şa
.
com·»To
(
şb
);

	@src/org/cloudbus/cloudsim/lists/HostList.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

21 
public
 cÏs 
	cHo¡Li¡
 {

34 
public
 <
T
 
ex‹nds
 
	mHo¡
> T 
g‘ById
(
Li¡
<T> 
ho¡Li¡
, 
id
) {

35 
T
 
	mho¡
 : 
ho¡Li¡
) {

36 ià(
ho¡
.
g‘Id
(è=ğ
id
) {

37  
ho¡
;

40  
	mnuÎ
;

52 
public
 <
T
 
ex‹nds
 
	gHo¡
> 
g‘Numb”OfPes
(
Li¡
<T> 
ho¡Li¡
) {

53 
	gnumb”OfPes
 = 0;

54 
T
 
	gho¡
 : 
ho¡Li¡
) {

55 
numb”OfPes
 +ğ
ho¡
.
g‘PeLi¡
().
size
();

57  
	gnumb”OfPes
;

69 
public
 <
T
 
ex‹nds
 
	gHo¡
> 
g‘Numb”OfF»ePes
(
Li¡
<T> 
ho¡Li¡
) {

70 
	gnumb”OfF»ePes
 = 0;

71 
T
 
	gho¡
 : 
ho¡Li¡
) {

72 
numb”OfF»ePes
 +ğ
PeLi¡
.
g‘Numb”OfF»ePes
(
ho¡
.
g‘PeLi¡
());

74  
	gnumb”OfF»ePes
;

86 
public
 <
T
 
ex‹nds
 
	gHo¡
> 
g‘Numb”OfBusyPes
(
Li¡
<T> 
ho¡Li¡
) {

87 
	gnumb”OfBusyPes
 = 0;

88 
T
 
	gho¡
 : 
ho¡Li¡
) {

89 
numb”OfBusyPes
 +ğ
PeLi¡
.
g‘Numb”OfBusyPes
(
ho¡
.
g‘PeLi¡
());

91  
	gnumb”OfBusyPes
;

103 
public
 <
T
 
ex‹nds
 
	gHo¡
> T 
g‘Ho¡W™hF»ePe
(
Li¡
<T> 
ho¡Li¡
) {

104  
g‘Ho¡W™hF»ePe
(
ho¡Li¡
, 1);

117 
public
 <
T
 
ex‹nds
 
	gHo¡
> T 
g‘Ho¡W™hF»ePe
(
Li¡
<T> 
ho¡Li¡
, 
³sNumb”
) {

118 
T
 
	gho¡
 : 
ho¡Li¡
) {

119 ià(
PeLi¡
.
g‘Numb”OfF»ePes
(
ho¡
.
g‘PeLi¡
()è>ğ
³sNumb”
) {

120  
ho¡
;

123  
	gnuÎ
;

140 
public
 <
T
 
ex‹nds
 
	gHo¡
> 
boŞ—n
 
£tPeStus
(
Li¡
<T> 
ho¡Li¡
, 
¡©us
, 
ho¡Id
, 
³Id
) {

141 
T
 
	gho¡
 = 
g‘ById
(
ho¡Li¡
, 
ho¡Id
);

142 ià(
	gho¡
 =ğ
nuÎ
) {

143  
çl£
;

145  
	gho¡
.
£tPeStus
(
³Id
, 
¡©us
);

	@src/org/cloudbus/cloudsim/lists/PeList.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

23 
public
 cÏs 
	cPeLi¡
 {

34 
public
 <
T
 
ex‹nds
 
	mPe
> 
Pe
 
g‘ById
(
Li¡
<T> 
³Li¡
, 
id
) {

35 
Pe
 
	m³
 : 
³Li¡
) {

36 ià(
³
.
g‘Id
(è=ğ
id
) {

37  
³
;

40  
	mnuÎ
;

52 
public
 <
T
 
ex‹nds
 
	gPe
> 
g‘Ms
(
Li¡
<T> 
³Li¡
, 
id
) {

53 
Pe
 
	g³
 = 
g‘ById
(
³Li¡
, 
id
);

54 ià(
	g³
 !ğ
nuÎ
) {

55  
³
.
g‘Ms
();

68 
public
 <
T
 
ex‹nds
 
	gPe
> 
g‘TÙ®Ms
(
Li¡
<T> 
³Li¡
) {

69 
	gtÙ®Ms
 = 0;

70 
Pe
 
	g³
 : 
³Li¡
) {

71 
tÙ®Ms
 +ğ
³
.
g‘Ms
();

73  
	gtÙ®Ms
;

82 
public
 <
T
 
ex‹nds
 
	gPe
> 
g‘MaxUtiz©iÚ
(
Li¡
<T> 
³Li¡
) {

83 
	gmaxUtiz©iÚ
 = 0;

84 
Pe
 
	g³
 : 
³Li¡
) {

85 
utiz©iÚ
 = 
³
.
g‘PeProvisiÚ”
().
g‘Utiz©iÚ
();

86 ià(
	gutiz©iÚ
 > 
	gmaxUtiz©iÚ
) {

87 
	gmaxUtiz©iÚ
 = 
utiz©iÚ
;

90  
	gmaxUtiz©iÚ
;

100 
public
 <
T
 
ex‹nds
 
	gPe
> 
g‘MaxUtiz©iÚAmÚgVmsPes
(
Li¡
<T> 
³Li¡
, 
Vm
 
vm
) {

101 
	gmaxUtiz©iÚ
 = 0;

102 
Pe
 
	g³
 : 
³Li¡
) {

103 ià(
³
.
g‘PeProvisiÚ”
().
g‘AÎoÿ‹dMsFÜVm
(
vm
è=ğ
nuÎ
) {

106 
	gutiz©iÚ
 = 
³
.
g‘PeProvisiÚ”
().
g‘Utiz©iÚ
();

107 ià(
	gutiz©iÚ
 > 
	gmaxUtiz©iÚ
) {

108 
	gmaxUtiz©iÚ
 = 
utiz©iÚ
;

111  
	gmaxUtiz©iÚ
;

122 
public
 <
T
 
ex‹nds
 
	gPe
> 
Pe
 
g‘F»ePe
(
Li¡
<T> 
³Li¡
) {

123 
Pe
 
	g³
 : 
³Li¡
) {

124 ià(
³
.
g‘Stus
(è=ğ
Pe
.
FREE
) {

125  
³
;

128  
	gnuÎ
;

139 
public
 <
T
 
ex‹nds
 
	gPe
> 
g‘Numb”OfF»ePes
(
Li¡
<T> 
³Li¡
) {

140 
	gút
 = 0;

141 
Pe
 
	g³
 : 
³Li¡
) {

142 ià(
³
.
g‘Stus
(è=ğ
Pe
.
FREE
) {

143 
út
++;

146  
	gút
;

160 
public
 <
T
 
ex‹nds
 
	gPe
> 
boŞ—n
 
£tPeStus
(
Li¡
<T> 
³Li¡
, 
id
, 
¡©us
) {

161 
Pe
 
	g³
 = 
g‘ById
(
³Li¡
, 
id
);

162 ià(
	g³
 !ğ
nuÎ
) {

163 
³
.
£tStus
(
¡©us
);

164  
	gŒue
;

166  
	gçl£
;

177 
public
 <
T
 
ex‹nds
 
	gPe
> 
g‘Numb”OfBusyPes
(
Li¡
<T> 
³Li¡
) {

178 
	gút
 = 0;

179 
Pe
 
	g³
 : 
³Li¡
) {

180 ià(
³
.
g‘Stus
(è=ğ
Pe
.
BUSY
) {

181 
út
++;

184  
	gút
;

196 
public
 <
T
 
ex‹nds
 
	gPe
> 
£tStusFaed
(

197 
Li¡
<
T
> 
³Li¡
,

198 
SŒšg
 
»sName
,

199 
ho¡Id
,

200 
boŞ—n
 
çed
) {

201 
SŒšg
 
	g¡©us
 = 
nuÎ
;

202 ià(
	gçed
) {

203 
	g¡©us
 = "FAILED";

205 
	g¡©us
 = "WORKING";

208 
	gLog
.
´štLše
(
»sName
 + " - Machše: " + 
ho¡Id
 + " i " + 
¡©us
);

210 
£tStusFaed
(
³Li¡
, 
çed
);

219 
public
 <
T
 
ex‹nds
 
	gPe
> 
£tStusFaed
(
Li¡
<T> 
³Li¡
, 
boŞ—n
 
çed
) {

221 
Pe
 
	g³
 : 
³Li¡
) {

222 ià(
çed
) {

223 
³
.
£tStus
(
Pe
.
FAILED
);

225 
	g³
.
£tStus
(
Pe
.
FREE
);

	@src/org/cloudbus/cloudsim/lists/ResCloudletList.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gResCloudËt
;

21 
public
 cÏs 
	cResCloudËtLi¡
 {

37 
public
 <
T
 
ex‹nds
 
	mResCloudËt
> 
ResCloudËt
 
g‘ByIdAndU£rId
(

38 
Li¡
<
T
> 
li¡
,

39 
şoudËtId
,

40 
u£rId
) {

41 
T
 
	mrş
 : 
li¡
) {

42 ià(
rş
.
g‘CloudËtId
(è=ğ
şoudËtId
 &&„ş.
g‘U£rId
(è=ğ
u£rId
) {

43  
rş
;

46  
	mnuÎ
;

62 
public
 <
T
 
ex‹nds
 
	gResCloudËt
> 
šdexOf
(
Li¡
<T> 
li¡
, 
şoudËtId
, 
u£rId
) {

63 
	gi
 = 0;

64 
T
 
	grş
 : 
li¡
) {

65 ià(
rş
.
g‘CloudËtId
(è=ğ
şoudËtId
 &&„ş.
g‘U£rId
(è=ğ
u£rId
) {

66  
i
;

68 
	gi
++;

84 
public
 <
T
 
ex‹nds
 
	gResCloudËt
> 
boŞ—n
 
move
(
Li¡
<T> 
li¡From
, Li¡<T> 
li¡To
, T 
şoudËt
) {

85 ià(
	gli¡From
.
»move
(
şoudËt
)) {

86 
	gli¡To
.
add
(
şoudËt
);

87  
	gŒue
;

89  
	gçl£
;

98 
public
 <
T
 
ex‹nds
 
	gResCloudËt
> 
g‘Pos™iÚById
(
Li¡
<T> 
şoudËtLi¡
, 
id
) {

99 
	gi
 = 0 ;

100 
T
 
	gşoudËt
 : 
şoudËtLi¡
) {

101 ià(
şoudËt
.
g‘CloudËtId
(è=ğ
id
) {

102  
i
;

104 
	gi
++;

	@src/org/cloudbus/cloudsim/lists/VmList.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

21 
public
 cÏs 
	cVmLi¡
 {

32 
public
 <
T
 
ex‹nds
 
	mVm
> T 
g‘ById
(
Li¡
<T> 
vmLi¡
, 
id
) {

33 
T
 
	mvm
 : 
vmLi¡
) {

34 ià(
vm
.
g‘Id
(è=ğ
id
) {

35  
vm
;

38  
	mnuÎ
;

51 
public
 <
T
 
ex‹nds
 
	gVm
> T 
g‘ByIdAndU£rId
(
Li¡
<T> 
vmLi¡
, 
id
, 
u£rId
) {

52 
T
 
	gvm
 : 
vmLi¡
) {

53 ià(
vm
.
g‘Id
(è=ğ
id
 && vm.
g‘U£rId
(è=ğ
u£rId
) {

54  
vm
;

57  
	gnuÎ
;

	@src/org/cloudbus/cloudsim/network/DelayMatrix_Float.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
;

11 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

19 
public
 cÏs 
	cD–ayM©rix_Flßt
 {

24 
´Ùeùed
 [][] 
	mmD–ayM©rix
 = 
nuÎ
;

29 
´Ùeùed
 
	mmTÙ®NodeNum
 = 0;

34 @
Suµ»ssW¬nšgs
("unused")

35 
´iv©e
 
	$D–ayM©rix_Flßt
() {

44 
public
 
	$D–ayM©rix_Flßt
(
TİŞogiÿlG¿ph
 
g¿ph
, 
boŞ—n
 
dœeùed
) {

47 
	`ü—‹D–ayM©rix
(
g¿ph
, 
dœeùed
);

50 
	`ÿlcuÏ‹ShÜ‹¡P©h
();

51 
	}
}

58 
public
 
	$g‘D–ay
(
¤cID
, 
de¡ID
) {

60 ià(
¤cID
 > 
mTÙ®NodeNum
 || 
de¡ID
 > mTotalNodeNum) {

61 
throw
 
Ãw
 
	`A¼ayIndexOutOfBoundsExû±iÚ
("srcID or destID is higherhan highest stored‚ode-ID!");

64  
mD–ayM©rix
[
¤cID
][
de¡ID
];

65 
	}
}

75 
´iv©e
 
	$ü—‹D–ayM©rix
(
TİŞogiÿlG¿ph
 
g¿ph
, 
boŞ—n
 
dœeùed
) {

78 
mTÙ®NodeNum
 = 
g¿ph
.
	`g‘Numb”OfNodes
();

80 
mD–ayM©rix
 = 
Ãw
 [
mTÙ®NodeNum
][mTotalNodeNum];

83 
row
 = 0;„ow < 
mTÙ®NodeNum
; ++row) {

84 
cŞ
 = 0; cŞ < 
mTÙ®NodeNum
; ++col) {

85 
mD–ayM©rix
[
row
][
cŞ
] = 
Flßt
.
MAX_VALUE
;

89 
I‹¿tÜ
<
TİŞogiÿlLšk
> 
™r
 = 
g¿ph
.
	`g‘LškI‹¿tÜ
();

91 
TİŞogiÿlLšk
 
edge
;

92 
™r
.
	`hasNext
()) {

93 
edge
 = 
™r
.
	`Ãxt
();

95 
mD–ayM©rix
[
edge
.
	`g‘SrcNodeID
()][edge.
	`g‘De¡NodeID
()] =ƒdge.
	`g‘LškD–ay
();

97 ià(!
dœeùed
) {

99 
mD–ayM©rix
[
edge
.
	`g‘De¡NodeID
()][edge.
	`g‘SrcNodeID
()] =ƒdge.
	`g‘LškD–ay
();

103 
	}
}

108 
´iv©e
 
	$ÿlcuÏ‹ShÜ‹¡P©h
() {

109 
FloydW¬sh®l_Flßt
 
æoyd
 = 
Ãw
 
	`FloydW¬sh®l_Flßt
();

111 
æoyd
.
	`š™Ÿlize
(
mTÙ®NodeNum
);

112 
mD–ayM©rix
 = 
æoyd
.
	`®lPaœsShÜ‹¡P©hs
(mDelayMatrix);

113 
	}
}

119 @
Ov”ride


120 
public
 
SŒšg
 
	$toSŒšg
() {

121 
SŒšgBufãr
 
bufãr
 = 
Ãw
 
	`SŒšgBufãr
();

123 
bufãr
.
	`­³nd
("just‡ simple…rintout ofhe distance-aware-topology-class\n");

124 
bufãr
.
	`­³nd
("delay-matrix is:\n");

126 
cŞumn
 = 0; cŞumÀ< 
mTÙ®NodeNum
; ++column) {

127 
bufãr
.
	`­³nd
("\t" + 
cŞumn
);

130 
row
 = 0;„ow < 
mTÙ®NodeNum
; ++row) {

131 
bufãr
.
	`­³nd
("\n" + 
row
);

133 
cŞ
 = 0; cŞ < 
mTÙ®NodeNum
; ++col) {

134 ià(
mD–ayM©rix
[
row
][
cŞ
] =ğ
Flßt
.
MAX_VALUE
) {

135 
bufãr
.
	`­³nd
("\t" + "-");

137 
bufãr
.
	`­³nd
("\t" + 
mD–ayM©rix
[
row
][
cŞ
]);

142  
bufãr
.
	`toSŒšg
();

143 
	}
}

	@src/org/cloudbus/cloudsim/network/FloydWarshall_Float.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
;

19 
public
 cÏs 
	cFloydW¬sh®l_Flßt
 {

24 
´iv©e
 
	mnumV”tiûs
;

37 
´iv©e
 [][] 
	mDk
, 
	mDk_mšus_Úe
;

42 
´iv©e
 [][] 
	mPk
, 
	mPk_mšus_Úe
;

49 
public
 
	$š™Ÿlize
(
numV”tiûs
) {

50 
this
.
numV”tiûs
 =‚umVertices;

53 
Dk
 = 
Ãw
 [
numV”tiûs
][];

54 
Dk_mšus_Úe
 = 
Ãw
 [
numV”tiûs
][];

55 
i
 = 0; i < 
numV”tiûs
; i++) {

56 
Dk
[
i
] = 
Ãw
 [
numV”tiûs
];

57 
Dk_mšus_Úe
[
i
] = 
Ãw
 [
numV”tiûs
];

61 
Pk
 = 
Ãw
 [
numV”tiûs
][];

62 
Pk_mšus_Úe
 = 
Ãw
 [
numV”tiûs
][];

63 
i
 = 0; i < 
numV”tiûs
; i++) {

64 
Pk
[
i
] = 
Ãw
 [
numV”tiûs
];

65 
Pk_mšus_Úe
[
i
] = 
Ãw
 [
numV”tiûs
];

76 
public
 [][] 
	$®lPaœsShÜ‹¡P©hs
([][] 
adjM©rix
) {

78 
i
 = 0; i < 
numV”tiûs
; i++) {

79 
j
 = 0; j < 
numV”tiûs
; j++) {

80 ià(
adjM©rix
[
i
][
j
] != 0) {

81 
Dk_mšus_Úe
[
i
][
j
] = 
adjM©rix
[i][j];

82 
Pk_mšus_Úe
[
i
][
j
] = i;

84 
Dk_mšus_Úe
[
i
][
j
] = 
Flßt
.
MAX_VALUE
;

85 
Pk_mšus_Úe
[
i
][
j
] = -1;

94 
k
 = 0; k < 
numV”tiûs
; k++) {

98 
i
 = 0; i < 
numV”tiûs
; i++) {

99 
j
 = 0; j < 
numV”tiûs
; j++) {

100 ià(
i
 !ğ
j
) {

103 ià(
Dk_mšus_Úe
[
i
][
j
] <ğDk_mšus_Úe[i][
k
] + Dk_minus_one[k][j]) {

104 
Dk
[
i
][
j
] = 
Dk_mšus_Úe
[i][j];

105 
Pk
[
i
][
j
] = 
Pk_mšus_Úe
[i][j];

107 
Dk
[
i
][
j
] = 
Dk_mšus_Úe
[i][
k
] + Dk_minus_one[k][j];

108 
Pk
[
i
][
j
] = 
Pk_mšus_Úe
[
k
][j];

111 
Pk
[
i
][
j
] = -1;

117 
i
 = 0; i < 
numV”tiûs
; i++) {

118 
j
 = 0; j < 
numV”tiûs
; j++) {

119 
Dk_mšus_Úe
[
i
][
j
] = 
Dk
[i][j];

120 
Pk_mšus_Úe
[
i
][
j
] = 
Pk
[i][j];

126  
Dk
;

128 
	}
}

135 
public
 [][] 
	$g‘PK
() {

136  
Pk
;

137 
	}
}

	@src/org/cloudbus/cloudsim/network/GraphReaderBrite.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
;

11 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

12 
impÜt
 
	gjava
.
	gio
.
	gFeR—d”
;

13 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

14 
impÜt
 
	gjava
.
	gut
.
	gSŒšgTok’iz”
;

25 
public
 cÏs 
	cG¿phR—d”Br™e
 
im¶em’ts
 
	mG¿phR—d”IF
 {

27 
´iv©e
 
fš®
 
	mPARSE_NOTHING
 = 0;

29 
´iv©e
 
fš®
 
	mPARSE_NODES
 = 1;

31 
´iv©e
 
fš®
 
	mPARSE_EDGES
 = 2;

33 
´iv©e
 
	m¡©e
 = 
PARSE_NOTHING
;

35 
´iv©e
 
TİŞogiÿlG¿ph
 
	mg¿ph
 = 
nuÎ
;

44 @
Ov”ride


45 
public
 
TİŞogiÿlG¿ph
 
	$»adG¿phFe
(
SŒšg
 
f’ame
è
throws
 
IOExû±iÚ
 {

47 
g¿ph
 = 
Ãw
 
	`TİŞogiÿlG¿ph
();

50 
FeR—d”
 
ä
 = 
Ãw
 
	`FeR—d”
(
f’ame
);

51 
Bufã»dR—d”
 
br
 = 
Ãw
 
	`Bufã»dR—d”
(
ä
);

53 
SŒšg
 
lšeS•
 = 
Sy¡em
.
	`g‘Prİ”ty
("line.separator");

54 
SŒšg
 
ÃxtLše
 = 
nuÎ
;

55 
SŒšgBufãr
 
sb
 = 
Ãw
 
	`SŒšgBufãr
();

57 (
ÃxtLše
 = 
br
.
	`»adLše
()è!ğ
nuÎ
) {

58 
sb
.
	`­³nd
(
ÃxtLše
);

63 
sb
.
	`­³nd
(
lšeS•
);

67 ià(
¡©e
 =ğ
PARSE_NOTHING
) {

68 ià(
ÃxtLše
.
	`cÚšs
("Nodes:")) {

70 
¡©e
 = 
PARSE_NODES
;

75 ià(
¡©e
 =ğ
PARSE_NODES
) {

77 
	`·r£NodeSŒšg
(
ÃxtLše
);

81 ià(
¡©e
 =ğ
PARSE_EDGES
) {

82 
	`·r£EdgesSŒšg
(
ÃxtLše
);

87 
br
.
	`şo£
();

92  
g¿ph
;

95 
´iv©e
 
	$·r£NodeSŒšg
(
SŒšg
 
nodeLše
) {

97 
SŒšgTok’iz”
 
tok’iz”
 = 
Ãw
 
	`SŒšgTok’iz”
(
nodeLše
);

100 
·¿m‘”s
 = 3;

103 ià(
nodeLše
.
	`cÚšs
("Edges:")) {

105 
¡©e
 = 
PARSE_EDGES
;

111 ià(!
tok’iz”
.
	`hasMÜeEËm’ts
()) {

119 
nodeID
 = 0;

120 
SŒšg
 
nodeLab–
 = "";

121 
xPos
 = 0;

122 
yPos
 = 0;

124 
aùu®P¬am
 = 0; 
tok’iz”
.
	`hasMÜeEËm’ts
(è&&‡ùu®P¬am < 
·¿m‘”s
;‡ctualParam++) {

125 
SŒšg
 
tok’
 = 
tok’iz”
.
	`ÃxtTok’
();

126 
aùu®P¬am
) {

129 
nodeID
 = 
IÁeg”
.
	`v®ueOf
(
tok’
);

130 
nodeLab–
 = 
IÁeg”
.
	`toSŒšg
(
nodeID
);

134 
xPos
 = 
IÁeg”
.
	`v®ueOf
(
tok’
);

138 
yPos
 = 
IÁeg”
.
	`v®ueOf
(
tok’
);

144 
TİŞogiÿlNode
 
tİoNode
 = 
Ãw
 
	`TİŞogiÿlNode
(
nodeID
, 
nodeLab–
, 
xPos
, 
yPos
);

145 
g¿ph
.
	`addNode
(
tİoNode
);

147 
	}
}

149 
´iv©e
 
	$·r£EdgesSŒšg
(
SŒšg
 
nodeLše
) {

150 
SŒšgTok’iz”
 
tok’iz”
 = 
Ãw
 
	`SŒšgTok’iz”
(
nodeLše
);

153 
·¿m‘”s
 = 6;

156 ià(!
tok’iz”
.
	`hasMÜeEËm’ts
()) {

165 
äomNode
 = 0;

166 
toNode
 = 0;

168 
lškD–ay
 = 0;

169 
lškBªdw™h
 = 0;

171 
aùu®P¬am
 = 0; 
tok’iz”
.
	`hasMÜeEËm’ts
(è&&‡ùu®P¬am < 
·¿m‘”s
;‡ctualParam++) {

172 
SŒšg
 
tok’
 = 
tok’iz”
.
	`ÃxtTok’
();

173 
aùu®P¬am
) {

179 
äomNode
 = 
IÁeg”
.
	`v®ueOf
(
tok’
);

183 
toNode
 = 
IÁeg”
.
	`v®ueOf
(
tok’
);

191 
lškD–ay
 = 
Flßt
.
	`v®ueOf
(
tok’
);

195 
lškBªdw™h
 = 
Flßt
.
	`v®ueOf
(
tok’
).
	`štV®ue
();

200 
g¿ph
.
	`addLšk
(
Ãw
 
	`TİŞogiÿlLšk
(
äomNode
, 
toNode
, 
lškD–ay
, 
lškBªdw™h
));

202 
	}
}

	@src/org/cloudbus/cloudsim/network/GraphReaderIF.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
;

11 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

19 
public
 
š‹rçû
 
	gG¿phR—d”IF
 {

28 
TİŞogiÿlG¿ph
 
»adG¿phFe
(
SŒšg
 
f’ame
è
throws
 
	gIOExû±iÚ
;

	@src/org/cloudbus/cloudsim/network/TopologicalGraph.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
;

11 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

12 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

23 
public
 cÏs 
	cTİŞogiÿlG¿ph
 {

25 
´iv©e
 
	mLi¡
<
	mTİŞogiÿlLšk
> 
	mlškLi¡
 = 
nuÎ
;

27 
´iv©e
 
	mLi¡
<
	mTİŞogiÿlNode
> 
	mnodeLi¡
 = 
nuÎ
;

32 
public
 
	$TİŞogiÿlG¿ph
() {

33 
lškLi¡
 = 
Ãw
 
LškedLi¡
<
TİŞogiÿlLšk
>();

34 
nodeLi¡
 = 
Ãw
 
LškedLi¡
<
TİŞogiÿlNode
>();

42 
public
 
	$addLšk
(
TİŞogiÿlLšk
 
edge
) {

43 
lškLi¡
.
	`add
(
edge
);

44 
	}
}

51 
public
 
	$addNode
(
TİŞogiÿlNode
 
node
) {

52 
nodeLi¡
.
	`add
(
node
);

53 
	}
}

60 
public
 
	$g‘Numb”OfNodes
() {

61  
nodeLi¡
.
	`size
();

62 
	}
}

69 
public
 
	$g‘Numb”OfLšks
() {

70  
lškLi¡
.
	`size
();

71 
	}
}

78 
public
 
	gI‹¿tÜ
<
	gTİŞogiÿlLšk
> 
	$g‘LškI‹¿tÜ
() {

79  
lškLi¡
.
	`™”©Ü
();

80 
	}
}

87 
public
 
	gI‹¿tÜ
<
	gTİŞogiÿlNode
> 
	$g‘NodeI‹¿tÜ
() {

88  
nodeLi¡
.
	`™”©Ü
();

89 
	}
}

94 @
Ov”ride


95 
public
 
SŒšg
 
	$toSŒšg
() {

96 
SŒšgBufãr
 
bufãr
 = 
Ãw
 
	`SŒšgBufãr
();

97 
bufãr
.
	`­³nd
("topological-node-information: \n");

99 
TİŞogiÿlNode
 
node
 : 
nodeLi¡
) {

100 
bufãr
.
	`­³nd
(
node
.
	`g‘NodeID
(è+ " | x is: " +‚ode.
	`g‘CoÜdš©eX
() + " y is: "

101 + 
node
.
	`g‘CoÜdš©eY
() + "\n");

104 
bufãr
.
	`­³nd
("\n\n‚ode-link-information:\n");

106 
TİŞogiÿlLšk
 
lšk
 : 
lškLi¡
) {

107 
bufãr
.
	`­³nd
("äom: " + 
lšk
.
	`g‘SrcNodeID
(è+ "o: " +†šk.
	`g‘De¡NodeID
() + " delay: "

108 + 
lšk
.
	`g‘LškD–ay
() + "\n");

110  
bufãr
.
	`toSŒšg
();

111 
	}
}

	@src/org/cloudbus/cloudsim/network/TopologicalLink.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
;

17 
public
 cÏs 
	cTİŞogiÿlLšk
 {

22 
´iv©e
 
	m¤cNodeID
 = 0;

27 
´iv©e
 
	mde¡NodeID
 = 0;

32 
´iv©e
 
	mlškD–ay
 = 0;

34 
´iv©e
 
	mlškBw
 = 0;

39 
public
 
	$TİŞogiÿlLšk
(
¤cNode
, 
de¡Node
, 
d–ay
, 
bw
) {

41 
lškD–ay
 = 
d–ay
;

42 
¤cNodeID
 = 
¤cNode
;

43 
de¡NodeID
 = 
de¡Node
;

44 
lškBw
 = 
bw
;

52 
public
 
	$g‘SrcNodeID
() {

53  
¤cNodeID
;

54 
	}
}

61 
public
 
	$g‘De¡NodeID
() {

62  
de¡NodeID
;

63 
	}
}

70 
public
 
	$g‘LškD–ay
() {

71  
lškD–ay
;

72 
	}
}

79 
public
 
	$g‘LškBw
() {

80  
lškBw
;

81 
	}
}

	@src/org/cloudbus/cloudsim/network/TopologicalNode.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
;

18 
public
 cÏs 
	cTİŞogiÿlNode
 {

23 
´iv©e
 
	mnodeID
 = 0;

28 
´iv©e
 
SŒšg
 
	mnodeName
 = 
nuÎ
;

33 
´iv©e
 
	mwÜldX
 = 0;

35 
´iv©e
 
	mwÜldY
 = 0;

40 
public
 
	$TİŞogiÿlNode
(
nodeID
) {

42 
this
.
nodeID
 =‚odeID;

43 
nodeName
 = 
SŒšg
.
	`v®ueOf
(
nodeID
);

49 
public
 
	$TİŞogiÿlNode
(
nodeID
, 
x
, 
y
) {

51 
this
.
nodeID
 =‚odeID;

52 
nodeName
 = 
SŒšg
.
	`v®ueOf
(
nodeID
);

53 
wÜldX
 = 
x
;

54 
wÜldY
 = 
y
;

55 
	}
}

60 
public
 
	$TİŞogiÿlNode
(
nodeID
, 
SŒšg
 
nodeName
, 
x
, 
y
) {

62 
this
.
nodeID
 =‚odeID;

63 
this
.
nodeName
 =‚odeName;

64 
wÜldX
 = 
x
;

65 
wÜldY
 = 
y
;

66 
	}
}

73 
public
 
	$g‘NodeID
() {

74  
nodeID
;

75 
	}
}

82 
public
 
SŒšg
 
	$g‘NodeLab–
() {

83  
nodeName
;

84 
	}
}

91 
public
 
	$g‘CoÜdš©eX
() {

92  
wÜldX
;

93 
	}
}

100 
public
 
	$g‘CoÜdš©eY
() {

101  
wÜldY
;

102 
	}
}

	@src/org/cloudbus/cloudsim/network/datacenter/AggregateSwitch.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
.
	gP»diÿ‹Ty³
;

33 
public
 cÏs 
	cAgg»g©eSw™ch
 
ex‹nds
 
	mSw™ch
 {

43 
public
 
	$Agg»g©eSw™ch
(
SŒšg
 
Çme
, 
Ëv–
, 
N‘wÜkD©aûÁ”
 
dc
) {

44 
	`su³r
(
Çme
, 
Ëv–
, 
dc
);

45 
dowÆšksw™chpki¡
 = 
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
N‘wÜkPack‘
>>();

46 
u¶šksw™chpki¡
 = 
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
N‘wÜkPack‘
>>();

47 
u¶škbªdwidth
 = 
N‘wÜkCÚ¡ªts
.
BªdWidthAggRoÙ
;

48 
dowÆškbªdwidth
 = 
N‘wÜkCÚ¡ªts
.
BªdWidthEdgeAgg
;

49 
Ï‹ncy
 = 
N‘wÜkCÚ¡ªts
.
Sw™chšgD–ayAgg
;

50 
numpÜt
 = 
N‘wÜkCÚ¡ªts
.
AggSw™chPÜt
;

51 
u¶šksw™ches
 = 
Ãw
 
A¼ayLi¡
<
Sw™ch
>();

52 
dowÆšksw™ches
 = 
Ãw
 
A¼ayLi¡
<
Sw™ch
>();

61 @
Ov”ride


62 
´Ùeùed
 
	$´oûs¥ack‘_down
(
SimEv’t
 
ev
) {

68 
N‘wÜkPack‘
 
h¥kt
 = (N‘wÜkPack‘è
ev
.
	`g‘D©a
();

69 
»cvVMid
 = 
h¥kt
.
pkt
.
»c›v”
;

70 
CloudSim
.
	`ÿnûlAÎ
(
	`g‘Id
(), 
Ãw
 
	`P»diÿ‹Ty³
(
CloudSimTags
.
N‘wÜk_Ev’t_£nd
));

71 
	`scheduË
(
	`g‘Id
(), 
Ï‹ncy
, 
CloudSimTags
.
N‘wÜk_Ev’t_£nd
);

73 ià(
Ëv–
 =ğ
N‘wÜkCÚ¡ªts
.
Agg_LEVEL
) {

76 
sw™chid
 = 
dc
.
VmToSw™chid
.
	`g‘
(
»cvVMid
);

77 
Li¡
<
N‘wÜkPack‘
> 
pki¡
 = 
dowÆšksw™chpki¡
.
	`g‘
(
sw™chid
);

78 ià(
pki¡
 =ğ
nuÎ
) {

79 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

80 
dowÆšksw™chpki¡
.
	`put
(
sw™chid
, 
pki¡
);

82 
pki¡
.
	`add
(
h¥kt
);

86 
	}
}

93 @
Ov”ride


94 
´Ùeùed
 
	$´oûs¥ack‘_up
(
SimEv’t
 
ev
) {

101 
N‘wÜkPack‘
 
h¥kt
 = (N‘wÜkPack‘è
ev
.
	`g‘D©a
();

102 
»cvVMid
 = 
h¥kt
.
pkt
.
»c›v”
;

103 
CloudSim
.
	`ÿnûlAÎ
(
	`g‘Id
(), 
Ãw
 
	`P»diÿ‹Ty³
(
CloudSimTags
.
N‘wÜk_Ev’t_£nd
));

104 
	`scheduË
(
	`g‘Id
(), 
sw™chšg_d–ay
, 
CloudSimTags
.
N‘wÜk_Ev’t_£nd
);

106 ià(
Ëv–
 =ğ
N‘wÜkCÚ¡ªts
.
Agg_LEVEL
) {

110 
sw™chid
 = 
dc
.
VmToSw™chid
.
	`g‘
(
»cvVMid
);

111 
boŞ—n
 
æagtoswtich
 = 
çl£
;

112 
Sw™ch
 
sw
 : 
dowÆšksw™ches
) {

113 ià(
sw™chid
 =ğ
sw
.
	`g‘Id
()) {

114 
æagtoswtich
 = 
Œue
;

117 ià(
æagtoswtich
) {

118 
Li¡
<
N‘wÜkPack‘
> 
pki¡
 = 
dowÆšksw™chpki¡
.
	`g‘
(
sw™chid
);

119 ià(
pki¡
 =ğ
nuÎ
) {

120 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

121 
dowÆšksw™chpki¡
.
	`put
(
sw™chid
, 
pki¡
);

123 
pki¡
.
	`add
(
h¥kt
);

126 
Sw™ch
 
sw
 = 
u¶šksw™ches
.
	`g‘
(0);

127 
Li¡
<
N‘wÜkPack‘
> 
pki¡
 = 
u¶šksw™chpki¡
.
	`g‘
(
sw
.
	`g‘Id
());

128 ià(
pki¡
 =ğ
nuÎ
) {

129 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

130 
u¶šksw™chpki¡
.
	`put
(
sw
.
	`g‘Id
(), 
pki¡
);

132 
pki¡
.
	`add
(
h¥kt
);

135 
	}
}

	@src/org/cloudbus/cloudsim/network/datacenter/AppCloudlet.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–FuÎ
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

31 
public
 cÏs 
	cAµCloudËt
 {

33 
public
 
fš®
 
	mAPP_MC
 = 1;

35 
public
 
fš®
 
	mAPP_WÜkæow
 = 3;

37 
public
 
	$AµCloudËt
(
ty³
, 
­pID
, 
d—dlše
, 
numb”vm
, 
u£rId
) {

38 
	`su³r
();

39 
this
.
ty³
 =ype;

40 
this
.
­pID
 =‡ppID;

41 
this
.
d—dlše
 = deadline;

42 
this
.
numb”vm
 =‚umbervm;

43 
this
.
u£rId
 = userId;

44 
şi¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkCloudËt
>();

47 
public
 
ty³
;

49 
public
 
­pID
;

51 
public
 
A¼ayLi¡
<
N‘wÜkCloudËt
> 
şi¡
;

53 
public
 
d—dlše
;

55 
public
 
accu¿cy
;

57 
public
 
numb”vm
;

59 
public
 
u£rId
;

61 
public
 
exeTime
;

63 
public
 
»que¡şass
;

70 
public
 
	`ü—‹CloudËtLi¡
(
Li¡
<
IÁeg”
> 
vmIdLi¡
) {

71 
i
 = 0; i < 
numb”vm
; i++) {

72 
Ëngth
 = 4;

73 
feSize
 = 300;

74 
ouutSize
 = 300;

75 
memÜy
 = 256;

76 
³sNumb”
 = 4;

77 
Utiz©iÚMod–
 
utiz©iÚMod–
 = 
Ãw
 
	`Utiz©iÚMod–FuÎ
();

79 
N‘wÜkCloudËt
 
ş
 = 
Ãw
 
	`N‘wÜkCloudËt
(

80 
N‘wÜkCÚ¡ªts
.
cu¼’tCloudËtId
,

81 
Ëngth
,

82 
³sNumb”
,

83 
feSize
,

84 
ouutSize
,

85 
memÜy
,

86 
utiz©iÚMod–
,

87 
utiz©iÚMod–
,

88 
utiz©iÚMod–
);

90 
N‘wÜkCÚ¡ªts
.
cu¼’tCloudËtId
++;

91 
ş
.
	`£tU£rId
(
u£rId
);

92 
ş
.
subm™time
 = 
CloudSim
.
	`şock
();

93 
ş
.
cu¼Sg’um
 = -1;

94 
şi¡
.
	`add
(
ş
);

99 
	}
}

	@src/org/cloudbus/cloudsim/network/datacenter/EdgeSwitch.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gjava
.
	gut
.
	gM­
.
	gEÁry
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
.
	gP»diÿ‹Ty³
;

35 
public
 cÏs 
	cEdgeSw™ch
 
ex‹nds
 
	mSw™ch
 {

46 
public
 
	$EdgeSw™ch
(
SŒšg
 
Çme
, 
Ëv–
, 
N‘wÜkD©aûÁ”
 
dc
) {

47 
	`su³r
(
Çme
, 
Ëv–
, 
dc
);

48 
ho¡li¡
 = 
Ãw
 
HashM­
<
IÁeg”
, 
N‘wÜkHo¡
>();

49 
u¶šksw™chpki¡
 = 
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
N‘wÜkPack‘
>>();

50 
·ck‘Toho¡
 = 
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
N‘wÜkPack‘
>>();

51 
u¶škbªdwidth
 = 
N‘wÜkCÚ¡ªts
.
BªdWidthEdgeAgg
;

52 
dowÆškbªdwidth
 = 
N‘wÜkCÚ¡ªts
.
BªdWidthEdgeHo¡
;

53 
sw™chšg_d–ay
 = 
N‘wÜkCÚ¡ªts
.
Sw™chšgD–ayEdge
;

54 
numpÜt
 = 
N‘wÜkCÚ¡ªts
.
EdgeSw™chPÜt
;

55 
u¶šksw™ches
 = 
Ãw
 
A¼ayLi¡
<
Sw™ch
>();

63 @
Ov”ride


64 
´Ùeùed
 
	$´oûs¥ack‘_up
(
SimEv’t
 
ev
) {

71 
N‘wÜkPack‘
 
h¥kt
 = (N‘wÜkPack‘è
ev
.
	`g‘D©a
();

72 
»cvVMid
 = 
h¥kt
.
pkt
.
»c›v”
;

73 
CloudSim
.
	`ÿnûlAÎ
(
	`g‘Id
(), 
Ãw
 
	`P»diÿ‹Ty³
(
CloudSimTags
.
N‘wÜk_Ev’t_£nd
));

74 
	`scheduË
(
	`g‘Id
(), 
sw™chšg_d–ay
, 
CloudSimTags
.
N‘wÜk_Ev’t_£nd
);

79 
ho¡id
 = 
dc
.
VmtoHo¡li¡
.
	`g‘
(
»cvVMid
);

80 
N‘wÜkHo¡
 
hs
 = 
ho¡li¡
.
	`g‘
(
ho¡id
);

81 
h¥kt
.
»c›v”ho¡id
 = 
ho¡id
;

84 ià(
hs
 !ğ
nuÎ
) {

86 
Li¡
<
N‘wÜkPack‘
> 
pki¡
 = 
·ck‘Toho¡
.
	`g‘
(
ho¡id
);

87 ià(
pki¡
 =ğ
nuÎ
) {

88 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

89 
·ck‘Toho¡
.
	`put
(
ho¡id
, 
pki¡
);

91 
pki¡
.
	`add
(
h¥kt
);

100 
Sw™ch
 
sw
 = 
u¶šksw™ches
.
	`g‘
(0);

101 
Li¡
<
N‘wÜkPack‘
> 
pki¡
 = 
u¶šksw™chpki¡
.
	`g‘
(
sw
.
	`g‘Id
());

102 ià(
pki¡
 =ğ
nuÎ
) {

103 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

104 
u¶šksw™chpki¡
.
	`put
(
sw
.
	`g‘Id
(), 
pki¡
);

106 
pki¡
.
	`add
(
h¥kt
);

109 
	}
}

116 @
Ov”ride


117 
´Ùeùed
 
	$´oûs¥ack‘fÜw¬d
(
SimEv’t
 
ev
) {

120 ià(
u¶šksw™chpki¡
 !ğ
nuÎ
) {

121 
EÁry
<
IÁeg”
, 
Li¡
<
N‘wÜkPack‘
>> 
es
 : 
u¶šksw™chpki¡
.
	`’ŒyS‘
()) {

122 
to£nd
 = 
es
.
	`g‘Key
();

123 
Li¡
<
N‘wÜkPack‘
> 
h¥ki¡
 = 
es
.
	`g‘V®ue
();

124 ià(!
h¥ki¡
.
	`isEm±y
()) {

126 
avbªd
 = 
u¶škbªdwidth
 / 
h¥ki¡
.
	`size
();

127 
I‹¿tÜ
<
N‘wÜkPack‘
> 
™
 = 
h¥ki¡
.
	`™”©Ü
();

128 
™
.
	`hasNext
()) {

129 
N‘wÜkPack‘
 
h¥kt
 = 
™
.
	`Ãxt
();

130 
d–ay
 = 1000 * 
h¥kt
.
pkt
.
d©a
 / 
avbªd
;

132 
this
.
	`£nd
(
to£nd
, 
d–ay
, 
CloudSimTags
.
N‘wÜk_Ev’t_UP
, 
h¥kt
);

134 
h¥ki¡
.
	`ş—r
();

138 ià(
·ck‘Toho¡
 !ğ
nuÎ
) {

139 
EÁry
<
IÁeg”
, 
Li¡
<
N‘wÜkPack‘
>> 
es
 : 
·ck‘Toho¡
.
	`’ŒyS‘
()) {

140 
Li¡
<
N‘wÜkPack‘
> 
h¥ki¡
 = 
es
.
	`g‘V®ue
();

141 ià(!
h¥ki¡
.
	`isEm±y
()) {

142 
avbªd
 = 
dowÆškbªdwidth
 / 
h¥ki¡
.
	`size
();

143 
I‹¿tÜ
<
N‘wÜkPack‘
> 
™
 = 
h¥ki¡
.
	`™”©Ü
();

144 
™
.
	`hasNext
()) {

145 
N‘wÜkPack‘
 
h¥kt
 = 
™
.
	`Ãxt
();

148 
this
.
	`£nd
(
	`g‘Id
(), 
h¥kt
.
pkt
.
d©a
 / 
avbªd
, 
CloudSimTags
.
N‘wÜk_Ev’t_Ho¡
, hspkt);

150 
h¥ki¡
.
	`ş—r
();

158 
	}
}

	@src/org/cloudbus/cloudsim/network/datacenter/HostPacket.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

24 
public
 cÏs 
	cHo¡Pack‘
 {

26 
public
 
	$Ho¡Pack‘
(

27 
£nd”
,

28 
»c›v”
,

29 
d©a
,

30 
£ndtime
,

31 
»c›v‘ime
,

32 
v¢d
,

33 
vrvd
) {

34 
	`su³r
();

35 
this
.
£nd”
 = sender;

36 
this
.
»c›v”
 =„eciever;

37 
this
.
d©a
 = data;

38 
this
.
£ndtime
 = sendtime;

39 
this
.
»c›v‘ime
 =„ecievetime;

40 
vœtu®»cvid
 = 
vrvd
;

41 
vœtu®£ndid
 = 
v¢d
;

44 
£nd”
;

46 
vœtu®»cvid
;

48 
vœtu®£ndid
;

50 
»c›v”
;

52 
d©a
;

54 
£ndtime
;

56 
»c›v‘ime
;

57 
	}
}

	@src/org/cloudbus/cloudsim/network/datacenter/NetDatacenterBroker.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gjava
.
	gut
.
	gM­
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”Ch¬aù”i¡ics
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEÁ™y
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gdi¡ributiÚs
.
	gUnifÜmDi¡r
;

26 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gVmLi¡
;

37 
public
 cÏs 
	cN‘D©aûÁ”Brok”
 
ex‹nds
 
	mSimEÁ™y
 {

42 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mVm
> 
	mvmLi¡
;

45 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mVm
> 
	mvmsC»©edLi¡
;

48 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mN‘wÜkCloudËt
> 
	mşoudËtLi¡
;

50 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mAµCloudËt
> 
	m­pCloudËtLi¡
;

53 
´iv©e
 
fš®
 
	mM­
<
	mIÁeg”
, IÁeg”> 
	m­pCloudËtRec›ved
;

55 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mCloudËt
> 
	mşoudËtSubm™‹dLi¡
;

58 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mCloudËt
> 
	mşoudËtReûivedLi¡
;

61 
´iv©e
 
	mşoudËtsSubm™‹d
;

64 
´iv©e
 
	mvmsReque¡ed
;

67 
´iv©e
 
	mvmsAcks
;

70 
´iv©e
 
	mvmsDe¡royed
;

73 
´iv©e
 
	mLi¡
<
	mIÁeg”
> 
	md©aûÁ”IdsLi¡
;

76 
´iv©e
 
	mLi¡
<
	mIÁeg”
> 
	md©aûÁ”Reque¡edIdsLi¡
;

79 
´iv©e
 
	mM­
<
	mIÁeg”
, IÁeg”> 
	mvmsToD©aûÁ”sM­
;

82 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mD©aûÁ”Ch¬aù”i¡ics
> 
	md©aûÁ”Ch¬aù”i¡icsLi¡
;

84 
public
 
N‘wÜkD©aûÁ”
 
	mlškDC
;

86 
public
 
boŞ—n
 
	mü—‹vmæag
 = 
Œue
;

88 
public
 
	mÿchedşoudËt
 = 0;

101 
public
 
	$N‘D©aûÁ”Brok”
(
SŒšg
 
Çme
è
throws
 
Exû±iÚ
 {

102 
	`su³r
(
Çme
);

104 
	`£tVmLi¡
(
Ãw
 
A¼ayLi¡
<
N‘wÜkVm
>());

105 
	`£tVmsC»©edLi¡
(
Ãw
 
A¼ayLi¡
<
N‘wÜkVm
>());

106 
	`£tCloudËtLi¡
(
Ãw
 
A¼ayLi¡
<
N‘wÜkCloudËt
>());

107 
	`£tAµCloudËtLi¡
(
Ãw
 
A¼ayLi¡
<
AµCloudËt
>());

108 
	`£tCloudËtSubm™‹dLi¡
(
Ãw
 
A¼ayLi¡
<
CloudËt
>());

109 
	`£tCloudËtReûivedLi¡
(
Ãw
 
A¼ayLi¡
<
CloudËt
>());

110 
­pCloudËtRec›ved
 = 
Ãw
 
HashM­
<
IÁeg”
, Integer>();

112 
şoudËtsSubm™‹d
 = 0;

113 
	`£tVmsReque¡ed
(0);

114 
	`£tVmsAcks
(0);

115 
	`£tVmsDe¡royed
(0);

117 
	`£tD©aûÁ”IdsLi¡
(
Ãw
 
LškedLi¡
<
IÁeg”
>());

118 
	`£tD©aûÁ”Reque¡edIdsLi¡
(
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

119 
	`£tVmsToD©aûÁ”sM­
(
Ãw
 
HashM­
<
IÁeg”
, Integer>());

120 
	`£tD©aûÁ”Ch¬aù”i¡icsLi¡
(
Ãw
 
HashM­
<
IÁeg”
, 
D©aûÁ”Ch¬aù”i¡ics
>());

133 
public
 
	`subm™VmLi¡
(
Li¡
<? 
ex‹nds
 
Vm
> 
li¡
) {

134 
	`g‘VmLi¡
().
	`addAÎ
(
li¡
);

135 
	}
}

145 
public
 
subm™CloudËtLi¡
(
Li¡
<? 
ex‹nds
 
N‘wÜkCloudËt
> 
li¡
) {

146 
g‘CloudËtLi¡
().
addAÎ
(
li¡
);

149 
public
 
	$£tLškDC
(
N‘wÜkD©aûÁ”
 
®škDC
) {

150 
lškDC
 = 
®škDC
;

151 
	}
}

161 @
Ov”ride


162 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

163 
ev
.
	`g‘Tag
()) {

165 
CloudSimTags
.
RESOURCE_CHARACTERISTICS_REQUEST
:

166 
	`´oûssResourûCh¬aù”i¡icsReque¡
(
ev
);

169 
CloudSimTags
.
RESOURCE_CHARACTERISTICS
:

170 
	`´oûssResourûCh¬aù”i¡ics
(
ev
);

175 
CloudSimTags
.
CLOUDLET_RETURN
:

176 
	`´oûssCloudËtR‘uº
(
ev
);

179 
CloudSimTags
.
END_OF_SIMULATION
:

180 
	`shutdownEÁ™y
();

182 
CloudSimTags
.
NextCyşe
:

183 ià(
N‘wÜkCÚ¡ªts
.
BASE
) {

184 
	`ü—‹VmsInD©aûÁ”Ba£
(
lškDC
.
	`g‘Id
());

190 
	`´oûssOth”Ev’t
(
ev
);

193 
	}
}

203 
´Ùeùed
 
	$´oûssResourûCh¬aù”i¡ics
(
SimEv’t
 
ev
) {

204 
D©aûÁ”Ch¬aù”i¡ics
 
ch¬aù”i¡ics
 = (D©aûÁ”Ch¬aù”i¡icsè
ev
.
	`g‘D©a
();

205 
	`g‘D©aûÁ”Ch¬aù”i¡icsLi¡
().
	`put
(
ch¬aù”i¡ics
.
	`g‘Id
(), characteristics);

207 ià(
	`g‘D©aûÁ”Ch¬aù”i¡icsLi¡
().
	`size
(è=ğ
	`g‘D©aûÁ”IdsLi¡
().size()) {

208 
	`£tD©aûÁ”Reque¡edIdsLi¡
(
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

209 
	`ü—‹VmsInD©aûÁ”Ba£
(
	`g‘D©aûÁ”IdsLi¡
().
	`g‘
(0));

211 
	}
}

222 
´Ùeùed
 
	$´oûssResourûCh¬aù”i¡icsReque¡
(
SimEv’t
 
ev
) {

223 
	`£tD©aûÁ”IdsLi¡
(
CloudSim
.
	`g‘CloudResourûLi¡
());

224 
	`£tD©aûÁ”Ch¬aù”i¡icsLi¡
(
Ãw
 
HashM­
<
IÁeg”
, 
D©aûÁ”Ch¬aù”i¡ics
>());

226 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
() + ": Cloud Resource List„eceived with "

227 + 
	`g‘D©aûÁ”IdsLi¡
().
	`size
() + "„esource(s)");

229 
IÁeg”
 
d©aûÁ”Id
 : 
	`g‘D©aûÁ”IdsLi¡
()) {

230 
	`£ndNow
(
d©aûÁ”Id
, 
CloudSimTags
.
RESOURCE_CHARACTERISTICS
, 
	`g‘Id
());

232 
	}
}

251 
´Ùeùed
 
	$´oûssCloudËtR‘uº
(
SimEv’t
 
ev
) {

252 
CloudËt
 
şoudËt
 = (CloudËtè
ev
.
	`g‘D©a
();

253 
	`g‘CloudËtReûivedLi¡
().
	`add
(
şoudËt
);

254 
şoudËtsSubm™‹d
--;

256 ià(
	`g‘CloudËtLi¡
().
	`size
(è=ğ0 && 
şoudËtsSubm™‹d
 =ğ0 && 
N‘wÜkCÚ¡ªts
.
™”©iÚ
 > 10) {

257 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
() + ": All Cloudletsƒxecuted. Finishing...");

258 
	`ş—rD©aûÁ”s
();

259 
	`fšishExecutiÚ
();

261 ià(
	`g‘AµCloudËtLi¡
().
	`size
(è> 0 && 
şoudËtsSubm™‹d
 == 0) {

264 
	`ş—rD©aûÁ”s
();

265 
	`ü—‹VmsInD©aûÁ”Ba£
(0);

269 
	}
}

280 
´Ùeùed
 
	$´oûssOth”Ev’t
(
SimEv’t
 
ev
) {

281 ià(
ev
 =ğ
nuÎ
) {

282 
Log
.
	`´štLše
(
	`g‘Name
() + ".processOtherEvent(): " + "Error -‡nƒvent is‚ull.");

286 
Log
.
	`´štLše
(
	`g‘Name
() + ".processOtherEvent(): "

288 
	}
}

298 
´Ùeùed
 
	$ü—‹VmsInD©aûÁ”Ba£
(
d©aûÁ”Id
) {

301 
»que¡edVms
 = 0;

304 ià(
ü—‹vmæag
) {

305 
	`C»©eVMs
(
d©aûÁ”Id
);

306 
ü—‹vmæag
 = 
çl£
;

310 
i
 = 0; i < 100; i++) {

311 
this
.
	`g‘AµCloudËtLi¡
().
	`add
(

312 
Ãw
 
	`WÜkæowAµ
(
AµCloudËt
.
APP_WÜkæow
, 
N‘wÜkCÚ¡ªts
.
cu¼’tAµId
, 0, 0, 
	`g‘Id
()));

313 
N‘wÜkCÚ¡ªts
.
cu¼’tAµId
++;

316 
k
 = 0;

319 
AµCloudËt
 
­p
 : 
this
.
	`g‘AµCloudËtLi¡
()) {

321 
Li¡
<
IÁeg”
> 
vmids
 = 
Ãw
 
A¼ayLi¡
<Integer>();

322 
numVms
 = 
lškDC
.
	`g‘VmLi¡
().
	`size
();

323 
UnifÜmDi¡r
 
uänd
 = 
Ãw
 
	`UnifÜmDi¡r
(0, 
numVms
, 5);

324 
i
 = 0; i < 
­p
.
numb”vm
; i++) {

326 
vmid
 = (è
uänd
.
	`§m¶e
();

327 
vmids
.
	`add
(
vmid
);

331 ià(
vmids
 !ğ
nuÎ
) {

332 ià(!
vmids
.
	`isEm±y
()) {

334 
­p
.
	`ü—‹CloudËtLi¡
(
vmids
);

335 
i
 = 0; i < 
­p
.
numb”vm
; i++) {

336 
­p
.
şi¡
.
	`g‘
(
i
).
	`£tU£rId
(
	`g‘Id
());

337 
­pCloudËtRec›ved
.
	`put
(
­p
.
­pID
,‡µ.
numb”vm
);

338 
this
.
	`g‘CloudËtSubm™‹dLi¡
().
	`add
(
­p
.
şi¡
.
	`g‘
(
i
));

339 
şoudËtsSubm™‹d
++;

342 
	`£ndNow
(

343 
	`g‘VmsToD©aûÁ”sM­
().
	`g‘
(
this
.
	`g‘VmLi¡
().g‘(0).
	`g‘Id
()),

344 
CloudSimTags
.
CLOUDLET_SUBMIT
,

345 
­p
.
şi¡
.
	`g‘
(
i
));

347 
Sy¡em
.
out
.
	`´šn
("­p" + (
k
++));

352 
	`£tAµCloudËtLi¡
(
Ãw
 
A¼ayLi¡
<
AµCloudËt
>());

353 ià(
N‘wÜkCÚ¡ªts
.
™”©iÚ
 < 10) {

355 
N‘wÜkCÚ¡ªts
.
™”©iÚ
++;

356 
this
.
	`scheduË
(
	`g‘Id
(), 
N‘wÜkCÚ¡ªts
.
Ãx‰ime
, 
CloudSimTags
.
NextCyşe
);

359 
	`£tVmsReque¡ed
(
»que¡edVms
);

360 
	`£tVmsAcks
(0);

361 
	}
}

363 
´iv©e
 
	$C»©eVMs
(
d©aûÁ”Id
) {

365 
numVM
 = 
lškDC
.
	`g‘Ho¡Li¡
().
	`size
(è* 
N‘wÜkCÚ¡ªts
.
maxho¡VM
;

366 
i
 = 0; i < 
numVM
; i++) {

367 
vmid
 = 
i
;

368 
ms
 = 1;

369 
size
 = 10000;

370 
¿m
 = 512;

371 
bw
 = 1000;

372 
³sNumb”
 = 
N‘wÜkCÚ¡ªts
.
HOST_PEs
 / N‘wÜkCÚ¡ªts.
maxho¡VM
;

373 
SŒšg
 
vmm
 = "Xen";

376 
N‘wÜkVm
 
vm
 = 
Ãw
 
	`N‘wÜkVm
(

377 
vmid
,

378 
	`g‘Id
(),

379 
ms
,

380 
³sNumb”
,

381 
¿m
,

382 
bw
,

383 
size
,

384 
vmm
,

385 
Ãw
 
	`N‘wÜkCloudËtS·ûSh¬edScheduËr
());

386 
lškDC
.
	`´oûssVmC»©eN‘wÜk
(
vm
);

388 
	`g‘VmLi¡
().
	`add
(
vm
);

389 
	`g‘VmsToD©aûÁ”sM­
().
	`put
(
vmid
, 
d©aûÁ”Id
);

390 
	`g‘VmsC»©edLi¡
().
	`add
(
VmLi¡
.
	`g‘ById
(
	`g‘VmLi¡
(), 
vmid
));

392 
	}
}

403 
´Ùeùed
 
	$ş—rD©aûÁ”s
() {

404 
Vm
 
vm
 : 
	`g‘VmsC»©edLi¡
()) {

405 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": De¡royšg VM #" + 
vm
.
	`g‘Id
());

406 
	`£ndNow
(
	`g‘VmsToD©aûÁ”sM­
().
	`g‘
(
vm
.
	`g‘Id
()), 
CloudSimTags
.
VM_DESTROY
, vm);

409 
	`g‘VmsC»©edLi¡
().
	`ş—r
();

410 
	}
}

418 
´iv©e
 
	$fšishExecutiÚ
() {

419 
	`£ndNow
(
	`g‘Id
(), 
CloudSimTags
.
END_OF_SIMULATION
);

420 
	}
}

426 @
Ov”ride


427 
public
 
	$shutdownEÁ™y
() {

428 
Log
.
	`´štLše
(
	`g‘Name
() + " is shutting down...");

429 
	}
}

435 @
Ov”ride


436 
public
 
	$¡¬tEÁ™y
() {

437 
Log
.
	`´štLše
(
	`g‘Name
() + " is starting...");

438 
	`scheduË
(
	`g‘Id
(), 0, 
CloudSimTags
.
RESOURCE_CHARACTERISTICS_REQUEST
);

439 
	}
}

447 @
Suµ»ssW¬nšgs
("unchecked")

448 
	gpublic
 <
T
 
ex‹nds
 
	gVm
> 
	gLi¡
<
	gT
> 
	$g‘VmLi¡
() {

449  (
Li¡
<
T
>è
vmLi¡
;

450 
	}
}

458 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gVm
> 
£tVmLi¡
(
Li¡
<T> 
vmLi¡
) {

459 
	gthis
.
	gvmLi¡
 = 
vmLi¡
;

468 @
Suµ»ssW¬nšgs
("unchecked")

469 
	gpublic
 <
T
 
ex‹nds
 
	gN‘wÜkCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtLi¡
() {

470  (
Li¡
<
T
>è
şoudËtLi¡
;

471 
	}
}

479 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gN‘wÜkCloudËt
> 
£tCloudËtLi¡
(
Li¡
<T> 
şoudËtLi¡
) {

480 
	gthis
.
	gşoudËtLi¡
 = 
şoudËtLi¡
;

483 @
Suµ»ssW¬nšgs
("unchecked")

484 
	gpublic
 <
T
 
ex‹nds
 
	gAµCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘AµCloudËtLi¡
() {

485  (
Li¡
<
T
>è
­pCloudËtLi¡
;

486 
	}
}

488 
	gpublic
 <
T
 
ex‹nds
 
	gAµCloudËt
> 
£tAµCloudËtLi¡
(
Li¡
<T> 
­pCloudËtLi¡
) {

489 
	gthis
.
	g­pCloudËtLi¡
 = 
­pCloudËtLi¡
;

498 @
Suµ»ssW¬nšgs
("unchecked")

499 
	gpublic
 <
T
 
ex‹nds
 
	gCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtSubm™‹dLi¡
() {

500  (
Li¡
<
T
>è
şoudËtSubm™‹dLi¡
;

501 
	}
}

509 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gCloudËt
> 
£tCloudËtSubm™‹dLi¡
(
Li¡
<T> 
şoudËtSubm™‹dLi¡
) {

510 
	gthis
.
	gşoudËtSubm™‹dLi¡
 = 
şoudËtSubm™‹dLi¡
;

519 @
Suµ»ssW¬nšgs
("unchecked")

520 
	gpublic
 <
T
 
ex‹nds
 
	gCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtReûivedLi¡
() {

521  (
Li¡
<
T
>è
şoudËtReûivedLi¡
;

522 
	}
}

530 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gCloudËt
> 
£tCloudËtReûivedLi¡
(
Li¡
<T> 
şoudËtReûivedLi¡
) {

531 
	gthis
.
	gşoudËtReûivedLi¡
 = 
şoudËtReûivedLi¡
;

540 @
Suµ»ssW¬nšgs
("unchecked")

541 
	gpublic
 <
T
 
ex‹nds
 
	gVm
> 
	gLi¡
<
	gT
> 
	$g‘VmsC»©edLi¡
() {

542  (
Li¡
<
T
>è
vmsC»©edLi¡
;

543 
	}
}

551 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gVm
> 
£tVmsC»©edLi¡
(
Li¡
<T> 
vmsC»©edLi¡
) {

552 
	gthis
.
	gvmsC»©edLi¡
 = 
vmsC»©edLi¡
;

560 
´Ùeùed
 
	$g‘VmsReque¡ed
() {

561  
vmsReque¡ed
;

562 
	}
}

569 
´Ùeùed
 
	$£tVmsReque¡ed
(
vmsReque¡ed
) {

570 
this
.
vmsReque¡ed
 = vmsRequested;

571 
	}
}

578 
´Ùeùed
 
	$g‘VmsAcks
() {

579  
vmsAcks
;

580 
	}
}

587 
´Ùeùed
 
	$£tVmsAcks
(
vmsAcks
) {

588 
this
.
vmsAcks
 = vmsAcks;

589 
	}
}

594 
´Ùeùed
 
	$šüem’tVmsAcks
() {

595 
vmsAcks
++;

596 
	}
}

603 
´Ùeùed
 
	$g‘VmsDe¡royed
() {

604  
vmsDe¡royed
;

605 
	}
}

612 
´Ùeùed
 
	$£tVmsDe¡royed
(
vmsDe¡royed
) {

613 
this
.
vmsDe¡royed
 = vmsDestroyed;

614 
	}
}

621 
´Ùeùed
 
	gLi¡
<
	gIÁeg”
> 
	$g‘D©aûÁ”IdsLi¡
() {

622  
d©aûÁ”IdsLi¡
;

623 
	}
}

630 
´Ùeùed
 
£tD©aûÁ”IdsLi¡
(
Li¡
<
IÁeg”
> 
d©aûÁ”IdsLi¡
) {

631 
	gthis
.
	gd©aûÁ”IdsLi¡
 = 
d©aûÁ”IdsLi¡
;

639 
´Ùeùed
 
	gM­
<
	gIÁeg”
, IÁeg”> 
	$g‘VmsToD©aûÁ”sM­
() {

640  
vmsToD©aûÁ”sM­
;

641 
	}
}

648 
´Ùeùed
 
£tVmsToD©aûÁ”sM­
(
M­
<
IÁeg”
, IÁeg”> 
vmsToD©aûÁ”sM­
) {

649 
	gthis
.
	gvmsToD©aûÁ”sM­
 = 
vmsToD©aûÁ”sM­
;

657 
´Ùeùed
 
	gM­
<
	gIÁeg”
, 
	gD©aûÁ”Ch¬aù”i¡ics
> 
	$g‘D©aûÁ”Ch¬aù”i¡icsLi¡
() {

658  
d©aûÁ”Ch¬aù”i¡icsLi¡
;

659 
	}
}

666 
´Ùeùed
 
£tD©aûÁ”Ch¬aù”i¡icsLi¡
(

667 
M­
<
IÁeg”
, 
D©aûÁ”Ch¬aù”i¡ics
> 
d©aûÁ”Ch¬aù”i¡icsLi¡
) {

668 
	gthis
.
	gd©aûÁ”Ch¬aù”i¡icsLi¡
 = 
d©aûÁ”Ch¬aù”i¡icsLi¡
;

676 
´Ùeùed
 
	gLi¡
<
	gIÁeg”
> 
	$g‘D©aûÁ”Reque¡edIdsLi¡
() {

677  
d©aûÁ”Reque¡edIdsLi¡
;

678 
	}
}

685 
´Ùeùed
 
£tD©aûÁ”Reque¡edIdsLi¡
(
Li¡
<
IÁeg”
> 
d©aûÁ”Reque¡edIdsLi¡
) {

686 
	gthis
.
	gd©aûÁ”Reque¡edIdsLi¡
 = 
d©aûÁ”Reque¡edIdsLi¡
;

	@src/org/cloudbus/cloudsim/network/datacenter/NetworkCloudlet.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gM­
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–
;

30 
public
 
şass
 
N‘wÜkCloudËt
 
ex‹nds
 
CloudËt
 
im¶em’ts
 
	gCom·¿bË
<
	gObjeù
> {

32 
	gmemÜy
;

34 
public
 
N‘wÜkCloudËt
(

35 
şoudËtId
,

36 
şoudËtL’gth
,

37 
³sNumb”
,

38 
şoudËtFeSize
,

39 
şoudËtOuutSize
,

40 
memÜy
,

41 
Utiz©iÚMod–
 
utiz©iÚMod–Cpu
,

42 
Utiz©iÚMod–
 
utiz©iÚMod–Ram
,

43 
Utiz©iÚMod–
 
utiz©iÚMod–Bw
) {

44 
su³r
(

45 
şoudËtId
,

46 
şoudËtL’gth
,

47 
³sNumb”
,

48 
şoudËtFeSize
,

49 
şoudËtOuutSize
,

50 
utiz©iÚMod–Cpu
,

51 
utiz©iÚMod–Ram
,

52 
utiz©iÚMod–Bw
);

54 
	gcu¼Sg’um
 = -1;

55 
	gthis
.
	gmemÜy
 = 
memÜy
;

56 
	g¡ages
 = 
Ãw
 
A¼ayLi¡
<
TaskSge
>();

59 
public
 
	gsubm™time
;

61 
public
 
	gfšishtime
;

63 
public
 
	gex‘ime
;

65 
public
 
	gnumSge
;

67 
public
 
	gcu¼Sg’um
;

69 
public
 
	gtim‘o¡¬tSge
;

71 
public
 
	gtime¥’tInSge
;

73 
public
 
	gM­
<
	gDoubË
, 
	gHo¡Pack‘
> 
	gtimeCommuniÿ‹
;

75 
public
 
	gA¼ayLi¡
<
	gTaskSge
> 
	g¡ages
;

79 
public
 
	g¡¬‰ime
;

81 @
Ov”ride


82 
public
 
com·»To
(
Objeù
 
¬g0
) {

86 
public
 
g‘Subm™time
() {

87  
	gsubm™time
;

	@src/org/cloudbus/cloudsim/network/datacenter/NetworkCloudletSpaceSharedScheduler.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gjava
.
	gut
.
	gM­
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËr
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gResCloudËt
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

34 
public
 cÏs 
	cN‘wÜkCloudËtS·ûSh¬edScheduËr
 
ex‹nds
 
	mCloudËtScheduËr
 {

37 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mResCloudËt
> 
	mşoudËtWa™šgLi¡
;

40 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mResCloudËt
> 
	mşoudËtExecLi¡
;

43 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mResCloudËt
> 
	mşoudËtPau£dLi¡
;

46 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mResCloudËt
> 
	mşoudËtFšishedLi¡
;

49 
´Ùeùed
 
	mcu¼’tCpus
;

52 
´Ùeùed
 
	mu£dPes
;

56 
public
 
	mM­
<
	mIÁeg”
, 
	mLi¡
<
	mHo¡Pack‘
>> 
	mpk‰o£nd
;

58 
public
 
	mM­
<
	mIÁeg”
, 
	mLi¡
<
	mHo¡Pack‘
>> 
	mpkŒecv
;

67 
public
 
	$N‘wÜkCloudËtS·ûSh¬edScheduËr
() {

68 
	`su³r
();

69 
şoudËtWa™šgLi¡
 = 
Ãw
 
A¼ayLi¡
<
ResCloudËt
>();

70 
şoudËtExecLi¡
 = 
Ãw
 
A¼ayLi¡
<
ResCloudËt
>();

71 
şoudËtPau£dLi¡
 = 
Ãw
 
A¼ayLi¡
<
ResCloudËt
>();

72 
şoudËtFšishedLi¡
 = 
Ãw
 
A¼ayLi¡
<
ResCloudËt
>();

73 
u£dPes
 = 0;

74 
cu¼’tCpus
 = 0;

75 
pk‰o£nd
 = 
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
Ho¡Pack‘
>>();

76 
pkŒecv
 = 
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
Ho¡Pack‘
>>();

89 @
Ov”ride


90 
public
 
	`upd©eVmProûssšg
(
cu¼’tTime
, 
Li¡
<
DoubË
> 
msSh¬e
) {

91 
	`£tCu¼’tMsSh¬e
(
msSh¬e
);

93 
ÿ·c™y
 = 0.0;

94 
ıus
 = 0;

96 
DoubË
 
ms
 : 
msSh¬e
) {

97 
ÿ·c™y
 +ğ
ms
;

98 ià(
ms
 > 0) {

99 
ıus
++;

102 
cu¼’tCpus
 = 
ıus
;

103 
ÿ·c™y
 /ğ
ıus
;

105 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

109 
N‘wÜkCloudËt
 
ş
 = (N‘wÜkCloudËtè
rş
.
	`g‘CloudËt
();

117 ià((
ş
.
cu¼Sg’um
 != -1)) {

118 ià(
ş
.
cu¼Sg’um
 =ğ
N‘wÜkCÚ¡ªts
.
FINISH
) {

121 
TaskSge
 
¡
 = 
ş
.
¡ages
.
	`g‘
(ş.
cu¼Sg’um
);

122 ià(
¡
.
ty³
 =ğ
N‘wÜkCÚ¡ªts
.
EXECUTION
) {

125 
ş
.
time¥’tInSge
 = 
M©h
.
	`round
(
CloudSim
.
	`şock
(è- cl.
tim‘o¡¬tSge
);

126 ià(
ş
.
time¥’tInSge
 >ğ
¡
.
time
) {

127 
	`chªg‘Úext¡age
(
ş
, 
¡
);

131 ià(
¡
.
ty³
 =ğ
N‘wÜkCÚ¡ªts
.
WAIT_RECV
) {

132 
Li¡
<
Ho¡Pack‘
> 
pki¡
 = 
pkŒecv
.
	`g‘
(
¡
.
³”
);

133 
Li¡
<
Ho¡Pack‘
> 
pk‰Üemove
 = 
Ãw
 
A¼ayLi¡
<HostPacket>();

134 ià(
pki¡
 !ğ
nuÎ
) {

135 
I‹¿tÜ
<
Ho¡Pack‘
> 
™
 = 
pki¡
.
	`™”©Ü
();

136 
Ho¡Pack‘
 
pkt
 = 
nuÎ
;

137 ià(
™
.
	`hasNext
()) {

138 
pkt
 = 
™
.
	`Ãxt
();

140 ià(
pkt
.
»c›v”
 =ğ
ş
.
	`g‘VmId
()) {

141 
pkt
.
»c›v‘ime
 = 
CloudSim
.
	`şock
();

142 
¡
.
time
 = 
CloudSim
.
	`şock
(è- 
pkt
.
£ndtime
;

143 
	`chªg‘Úext¡age
(
ş
, 
¡
);

144 
pk‰Üemove
.
	`add
(
pkt
);

147 
pki¡
.
	`»moveAÎ
(
pk‰Üemove
);

154 
ş
.
cu¼Sg’um
 = 0;

155 
ş
.
tim‘o¡¬tSge
 = 
CloudSim
.
	`şock
();

157 ià(
ş
.
¡ages
.
	`g‘
(0).
ty³
 =ğ
N‘wÜkCÚ¡ªts
.
EXECUTION
) {

158 
N‘D©aûÁ”Brok”
.
lškDC
.
	`scheduË
(

159 
N‘D©aûÁ”Brok”
.
lškDC
.
	`g‘Id
(),

160 
ş
.
¡ages
.
	`g‘
(0).
time
,

161 
CloudSimTags
.
VM_DATACENTER_EVENT
);

163 
N‘D©aûÁ”Brok”
.
lškDC
.
	`scheduË
(

164 
N‘D©aûÁ”Brok”
.
lškDC
.
	`g‘Id
(),

166 
CloudSimTags
.
VM_DATACENTER_EVENT
);

173 ià(
	`g‘CloudËtExecLi¡
().
	`size
(è=ğ0 && 
	`g‘CloudËtWa™šgLi¡
().size() == 0) {

175 
	`£tP»viousTime
(
cu¼’tTime
);

180 
fšished
 = 0;

181 
Li¡
<
ResCloudËt
> 
toRemove
 = 
Ãw
 
A¼ayLi¡
<ResCloudlet>();

182 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

184 ià(((
N‘wÜkCloudËt
è(
rş
.
	`g‘CloudËt
())).
cu¼Sg’um
 =ğ
N‘wÜkCÚ¡ªts
.
FINISH
) {

186 ((
N‘wÜkCloudËt
è(
rş
.
	`g‘CloudËt
())).
fšishtime
 = 
CloudSim
.
	`şock
();

187 
toRemove
.
	`add
(
rş
);

188 
	`şoudËtFšish
(
rş
);

189 
fšished
++;

192 
	`g‘CloudËtExecLi¡
().
	`»moveAÎ
(
toRemove
);

197 ià(!
	`g‘CloudËtWa™šgLi¡
().
	`isEm±y
()) {

198 
i
 = 0; i < 
fšished
; i++) {

199 
toRemove
.
	`ş—r
();

200 
ResCloudËt
 
rş
 : 
	`g‘CloudËtWa™šgLi¡
()) {

201 ià((
cu¼’tCpus
 - 
u£dPes
è>ğ
rş
.
	`g‘Numb”OfPes
()) {

202 
rş
.
	`£tCloudËtStus
(
CloudËt
.
INEXEC
);

203 
k
 = 0; k < 
rş
.
	`g‘Numb”OfPes
(); k++) {

204 
rş
.
	`£tMachšeAndPeId
(0, 
i
);

206 
	`g‘CloudËtExecLi¡
().
	`add
(
rş
);

207 
u£dPes
 +ğ
rş
.
	`g‘Numb”OfPes
();

208 
toRemove
.
	`add
(
rş
);

212 
	`g‘CloudËtWa™šgLi¡
().
	`»moveAÎ
(
toRemove
);

217 
ÃxtEv’t
 = 
DoubË
.
MAX_VALUE
;

218 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

219 
»maššgL’gth
 = 
rş
.
	`g‘RemaššgCloudËtL’gth
();

220 
e¡im©edFšishTime
 = 
cu¼’tTime
 + (
»maššgL’gth
 / (
ÿ·c™y
 * 
rş
.
	`g‘Numb”OfPes
()));

221 ià(
e¡im©edFšishTime
 - 
cu¼’tTime
 < 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
()) {

222 
e¡im©edFšishTime
 = 
cu¼’tTime
 + 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
();

224 ià(
e¡im©edFšishTime
 < 
ÃxtEv’t
) {

225 
ÃxtEv’t
 = 
e¡im©edFšishTime
;

228 
	`£tP»viousTime
(
cu¼’tTime
);

229  
ÃxtEv’t
;

230 
	}
}

232 
´iv©e
 
	$chªg‘Úext¡age
(
N‘wÜkCloudËt
 
ş
, 
TaskSge
 
¡
) {

233 
ş
.
time¥’tInSge
 = 0;

234 
ş
.
tim‘o¡¬tSge
 = 
CloudSim
.
	`şock
();

235 
cu¼¡age
 = 
ş
.
cu¼Sg’um
;

236 ià(
cu¼¡age
 >ğ(
ş
.
¡ages
.
	`size
() - 1)) {

237 
ş
.
cu¼Sg’um
 = 
N‘wÜkCÚ¡ªts
.
FINISH
;

239 
ş
.
cu¼Sg’um
 = 
cu¼¡age
 + 1;

240 
i
 = 0;

241 
i
 = 
ş
.
cu¼Sg’um
; i < cl.
¡ages
.
	`size
(); i++) {

242 ià(
ş
.
¡ages
.
	`g‘
(
i
).
ty³
 =ğ
N‘wÜkCÚ¡ªts
.
WAIT_SEND
) {

243 
Ho¡Pack‘
 
pkt
 = 
Ãw
 
	`Ho¡Pack‘
(

244 
ş
.
	`g‘VmId
(),

245 
ş
.
¡ages
.
	`g‘
(
i
).
³”
,

246 
ş
.
¡ages
.
	`g‘
(
i
).
d©a
,

247 
CloudSim
.
	`şock
(),

249 
ş
.
	`g‘CloudËtId
(),

250 
ş
.
¡ages
.
	`g‘
(
i
).
v³”
);

251 
Li¡
<
Ho¡Pack‘
> 
pki¡
 = 
pk‰o£nd
.
	`g‘
(
ş
.
	`g‘VmId
());

252 ià(
pki¡
 =ğ
nuÎ
) {

253 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
Ho¡Pack‘
>();

255 
pki¡
.
	`add
(
pkt
);

256 
pk‰o£nd
.
	`put
(
ş
.
	`g‘VmId
(), 
pki¡
);

263 
N‘D©aûÁ”Brok”
.
lškDC
.
	`scheduË
(

264 
N‘D©aûÁ”Brok”
.
lškDC
.
	`g‘Id
(),

266 
CloudSimTags
.
VM_DATACENTER_EVENT
);

267 ià(
i
 =ğ
ş
.
¡ages
.
	`size
()) {

268 
ş
.
cu¼Sg’um
 = 
N‘wÜkCÚ¡ªts
.
FINISH
;

270 
ş
.
cu¼Sg’um
 = 
i
;

271 ià(
ş
.
¡ages
.
	`g‘
(
i
).
ty³
 =ğ
N‘wÜkCÚ¡ªts
.
EXECUTION
) {

272 
N‘D©aûÁ”Brok”
.
lškDC
.
	`scheduË
(

273 
N‘D©aûÁ”Brok”
.
lškDC
.
	`g‘Id
(),

274 
ş
.
¡ages
.
	`g‘
(
i
).
time
,

275 
CloudSimTags
.
VM_DATACENTER_EVENT
);

281 
	}
}

291 @
Ov”ride


292 
public
 
CloudËt
 
	$şoudËtCªûl
(
şoudËtId
) {

294 
ResCloudËt
 
rş
 : 
	`g‘CloudËtFšishedLi¡
()) {

295 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

296 
	`g‘CloudËtFšishedLi¡
().
	`»move
(
rş
);

297  
rş
.
	`g‘CloudËt
();

302 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

303 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

304 
	`g‘CloudËtExecLi¡
().
	`»move
(
rş
);

305 ià(
rş
.
	`g‘RemaššgCloudËtL’gth
() == 0.0) {

306 
	`şoudËtFšish
(
rş
);

308 
rş
.
	`£tCloudËtStus
(
CloudËt
.
CANCELED
);

310  
rş
.
	`g‘CloudËt
();

315 
ResCloudËt
 
rş
 : 
	`g‘CloudËtPau£dLi¡
()) {

316 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

317 
	`g‘CloudËtPau£dLi¡
().
	`»move
(
rş
);

318  
rş
.
	`g‘CloudËt
();

323 
ResCloudËt
 
rş
 : 
	`g‘CloudËtWa™šgLi¡
()) {

324 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

325 
rş
.
	`£tCloudËtStus
(
CloudËt
.
CANCELED
);

326 
	`g‘CloudËtWa™šgLi¡
().
	`»move
(
rş
);

327  
rş
.
	`g‘CloudËt
();

331  
nuÎ
;

333 
	}
}

343 @
Ov”ride


344 
public
 
boŞ—n
 
	$şoudËtPau£
(
şoudËtId
) {

345 
boŞ—n
 
found
 = 
çl£
;

346 
pos™iÚ
 = 0;

349 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

350 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

351 
found
 = 
Œue
;

354 
pos™iÚ
++;

357 ià(
found
) {

359 
ResCloudËt
 
rgl
 = 
	`g‘CloudËtExecLi¡
().
	`»move
(
pos™iÚ
);

360 ià(
rgl
.
	`g‘RemaššgCloudËtL’gth
() == 0.0) {

361 
	`şoudËtFšish
(
rgl
);

363 
rgl
.
	`£tCloudËtStus
(
CloudËt
.
PAUSED
);

364 
	`g‘CloudËtPau£dLi¡
().
	`add
(
rgl
);

366  
Œue
;

371 
pos™iÚ
 = 0;

372 
found
 = 
çl£
;

373 
ResCloudËt
 
rş
 : 
	`g‘CloudËtWa™šgLi¡
()) {

374 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

375 
found
 = 
Œue
;

378 
pos™iÚ
++;

381 ià(
found
) {

383 
ResCloudËt
 
rgl
 = 
	`g‘CloudËtWa™šgLi¡
().
	`»move
(
pos™iÚ
);

384 ià(
rgl
.
	`g‘RemaššgCloudËtL’gth
() == 0.0) {

385 
	`şoudËtFšish
(
rgl
);

387 
rgl
.
	`£tCloudËtStus
(
CloudËt
.
PAUSED
);

388 
	`g‘CloudËtPau£dLi¡
().
	`add
(
rgl
);

390  
Œue
;

394  
çl£
;

395 
	}
}

404 @
Ov”ride


405 
public
 
	$şoudËtFšish
(
ResCloudËt
 
rş
) {

406 
rş
.
	`£tCloudËtStus
(
CloudËt
.
SUCCESS
);

407 
rş
.
	`fš®izeCloudËt
();

408 
	`g‘CloudËtFšishedLi¡
().
	`add
(
rş
);

409 
u£dPes
 -ğ
rş
.
	`g‘Numb”OfPes
();

410 
	}
}

420 @
Ov”ride


421 
public
 
	$şoudËtResume
(
şoudËtId
) {

422 
boŞ—n
 
found
 = 
çl£
;

423 
pos™iÚ
 = 0;

426 
ResCloudËt
 
rş
 : 
	`g‘CloudËtPau£dLi¡
()) {

427 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

428 
found
 = 
Œue
;

431 
pos™iÚ
++;

434 ià(
found
) {

435 
ResCloudËt
 
rş
 = 
	`g‘CloudËtPau£dLi¡
().
	`»move
(
pos™iÚ
);

438 ià((
cu¼’tCpus
 - 
u£dPes
è>ğ
rş
.
	`g‘Numb”OfPes
()) {

439 
rş
.
	`£tCloudËtStus
(
CloudËt
.
INEXEC
);

440 
i
 = 0; i < 
rş
.
	`g‘Numb”OfPes
(); i++) {

441 
rş
.
	`£tMachšeAndPeId
(0, 
i
);

444 
size
 = 
rş
.
	`g‘RemaššgCloudËtL’gth
();

445 
size
 *ğ
rş
.
	`g‘Numb”OfPes
();

446 
rş
.
	`g‘CloudËt
().
	`£tCloudËtL’gth
(
size
);

448 
	`g‘CloudËtExecLi¡
().
	`add
(
rş
);

449 
u£dPes
 +ğ
rş
.
	`g‘Numb”OfPes
();

452 
ÿ·c™y
 = 0.0;

453 
ıus
 = 0;

454 
DoubË
 
ms
 : 
	`g‘Cu¼’tMsSh¬e
()) {

455 
ÿ·c™y
 +ğ
ms
;

456 ià(
ms
 > 0) {

457 
ıus
++;

460 
cu¼’tCpus
 = 
ıus
;

461 
ÿ·c™y
 /ğ
ıus
;

463 
»maššgL’gth
 = 
rş
.
	`g‘RemaššgCloudËtL’gth
();

464 
e¡im©edFšishTime
 = 
CloudSim
.
	`şock
()

465 + (
»maššgL’gth
 / (
ÿ·c™y
 * 
rş
.
	`g‘Numb”OfPes
()));

467  
e¡im©edFšishTime
;

469 
rş
.
	`£tCloudËtStus
(
CloudËt
.
QUEUED
);

471 
size
 = 
rş
.
	`g‘RemaššgCloudËtL’gth
();

472 
size
 *ğ
rş
.
	`g‘Numb”OfPes
();

473 
rş
.
	`g‘CloudËt
().
	`£tCloudËtL’gth
(
size
);

475 
	`g‘CloudËtWa™šgLi¡
().
	`add
(
rş
);

485 
	}
}

496 @
Ov”ride


497 
public
 
	$şoudËtSubm™
(
CloudËt
 
şoudËt
, 
feT¿nsãrTime
) {

499 ià((
cu¼’tCpus
 - 
u£dPes
è>ğ
şoudËt
.
	`g‘Numb”OfPes
()) {

500 
ResCloudËt
 
rş
 = 
Ãw
 
	`ResCloudËt
(
şoudËt
);

501 
rş
.
	`£tCloudËtStus
(
CloudËt
.
INEXEC
);

502 
i
 = 0; i < 
şoudËt
.
	`g‘Numb”OfPes
(); i++) {

503 
rş
.
	`£tMachšeAndPeId
(0, 
i
);

506 
	`g‘CloudËtExecLi¡
().
	`add
(
rş
);

507 
u£dPes
 +ğ
şoudËt
.
	`g‘Numb”OfPes
();

509 
ResCloudËt
 
rş
 = 
Ãw
 
	`ResCloudËt
(
şoudËt
);

510 
rş
.
	`£tCloudËtStus
(
CloudËt
.
QUEUED
);

511 
	`g‘CloudËtWa™šgLi¡
().
	`add
(
rş
);

516 
ÿ·c™y
 = 0.0;

517 
ıus
 = 0;

518 
DoubË
 
ms
 : 
	`g‘Cu¼’tMsSh¬e
()) {

519 
ÿ·c™y
 +ğ
ms
;

520 ià(
ms
 > 0) {

521 
ıus
++;

525 
cu¼’tCpus
 = 
ıus
;

526 
ÿ·c™y
 /ğ
ıus
;

530 
exŒaSize
 = 
ÿ·c™y
 * 
feT¿nsãrTime
;

531 
Ëngth
 = 
şoudËt
.
	`g‘CloudËtL’gth
();

532 
Ëngth
 +ğ
exŒaSize
;

533 
şoudËt
.
	`£tCloudËtL’gth
(
Ëngth
);

534  
şoudËt
.
	`g‘CloudËtL’gth
(è/ 
ÿ·c™y
;

535 
	}
}

541 @
Ov”ride


542 
public
 
	$şoudËtSubm™
(
CloudËt
 
şoudËt
) {

543 
	`şoudËtSubm™
(
şoudËt
, 0);

545 
	}
}

555 @
Ov”ride


556 
public
 
	$g‘CloudËtStus
(
şoudËtId
) {

557 
ResCloudËt
 
rş
 : 
	`g‘CloudËtExecLi¡
()) {

558 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

559  
rş
.
	`g‘CloudËtStus
();

563 
ResCloudËt
 
rş
 : 
	`g‘CloudËtPau£dLi¡
()) {

564 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

565  
rş
.
	`g‘CloudËtStus
();

569 
ResCloudËt
 
rş
 : 
	`g‘CloudËtWa™šgLi¡
()) {

570 ià(
rş
.
	`g‘CloudËtId
(è=ğ
şoudËtId
) {

571  
rş
.
	`g‘CloudËtStus
();

576 
	}
}

584 @
Ov”ride


585 
public
 
	$g‘TÙ®Utiz©iÚOfCpu
(
time
) {

586 
tÙ®Utiz©iÚ
 = 0;

587 
ResCloudËt
 
gl
 : 
	`g‘CloudËtExecLi¡
()) {

588 
tÙ®Utiz©iÚ
 +ğ
gl
.
	`g‘CloudËt
().
	`g‘Utiz©iÚOfCpu
(
time
);

590  
tÙ®Utiz©iÚ
;

591 
	}
}

600 @
Ov”ride


601 
public
 
boŞ—n
 
	$isFšishedCloudËts
() {

602  
	`g‘CloudËtFšishedLi¡
().
	`size
() > 0;

603 
	}
}

612 @
Ov”ride


613 
public
 
CloudËt
 
	$g‘NextFšishedCloudËt
() {

614 ià(
	`g‘CloudËtFšishedLi¡
().
	`size
() > 0) {

615  
	`g‘CloudËtFšishedLi¡
().
	`»move
(0).
	`g‘CloudËt
();

617  
nuÎ
;

618 
	}
}

627 @
Ov”ride


628 
public
 
	$ruÂšgCloudËts
() {

629  
	`g‘CloudËtExecLi¡
().
	`size
();

630 
	}
}

639 @
Ov”ride


640 
public
 
CloudËt
 
	$mig¿‹CloudËt
() {

641 
ResCloudËt
 
rş
 = 
	`g‘CloudËtExecLi¡
().
	`»move
(0);

642 
rş
.
	`fš®izeCloudËt
();

643 
CloudËt
 
ş
 = 
rş
.
	`g‘CloudËt
();

644 
u£dPes
 -ğ
ş
.
	`g‘Numb”OfPes
();

645  
ş
;

646 
	}
}

654 @
Suµ»ssW¬nšgs
("unchecked")

655 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtWa™šgLi¡
() {

656  (
Li¡
<
T
>è
şoudËtWa™šgLi¡
;

657 
	}
}

665 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
şoudËtWa™šgLi¡
(
Li¡
<T> cloudletWaitingList) {

666 
	gthis
.
	gşoudËtWa™šgLi¡
 = 
şoudËtWa™šgLi¡
;

675 @
Suµ»ssW¬nšgs
("unchecked")

676 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtExecLi¡
() {

677  (
Li¡
<
T
>è
şoudËtExecLi¡
;

678 
	}
}

686 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
£tCloudËtExecLi¡
(
Li¡
<T> 
şoudËtExecLi¡
) {

687 
	gthis
.
	gşoudËtExecLi¡
 = 
şoudËtExecLi¡
;

696 @
Suµ»ssW¬nšgs
("unchecked")

697 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtPau£dLi¡
() {

698  (
Li¡
<
T
>è
şoudËtPau£dLi¡
;

699 
	}
}

707 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
£tCloudËtPau£dLi¡
(
Li¡
<T> 
şoudËtPau£dLi¡
) {

708 
	gthis
.
	gşoudËtPau£dLi¡
 = 
şoudËtPau£dLi¡
;

717 @
Suµ»ssW¬nšgs
("unchecked")

718 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
	gLi¡
<
	gT
> 
	$g‘CloudËtFšishedLi¡
() {

719  (
Li¡
<
T
>è
şoudËtFšishedLi¡
;

720 
	}
}

728 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gResCloudËt
> 
£tCloudËtFšishedLi¡
(
Li¡
<T> 
şoudËtFšishedLi¡
) {

729 
	gthis
.
	gşoudËtFšishedLi¡
 = 
şoudËtFšishedLi¡
;

736 @
Ov”ride


737 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘Cu¼’tReque¡edMs
() {

738 
Li¡
<
DoubË
> 
msSh¬e
 = 
Ãw
 
A¼ayLi¡
<Double>();

739 ià(
	`g‘Cu¼’tMsSh¬e
(è!ğ
nuÎ
) {

740 
DoubË
 
ms
 : 
	`g‘Cu¼’tMsSh¬e
()) {

741 
msSh¬e
.
	`add
(
ms
);

744  
msSh¬e
;

745 
	}
}

752 @
Ov”ride


753 
public
 
g‘TÙ®Cu¼’tAvaabËMsFÜCloudËt
(
ResCloudËt
 
rş
, 
Li¡
<
DoubË
> 
msSh¬e
) {

754 
	gÿ·c™y
 = 0.0;

755 
	gıus
 = 0;

756 
DoubË
 
	gms
 : 
msSh¬e
) {

757 
ÿ·c™y
 +ğ
ms
;

758 ià(
	gms
 > 0) {

759 
	gıus
++;

762 
	gcu¼’tCpus
 = 
ıus
;

763 
	gÿ·c™y
 /ğ
ıus
;

764  
	gÿ·c™y
;

772 @
Ov”ride


773 
public
 
	$g‘TÙ®Cu¼’tAÎoÿ‹dMsFÜCloudËt
(
ResCloudËt
 
rş
, 
time
) {

775 
	}
}

782 @
Ov”ride


783 
public
 
	$g‘TÙ®Cu¼’tReque¡edMsFÜCloudËt
(
ResCloudËt
 
rş
, 
time
) {

785 
	}
}

787 @
Ov”ride


788 
public
 
	$g‘Cu¼’tReque¡edUtiz©iÚOfBw
() {

790 
	}
}

792 @
Ov”ride


793 
public
 
	$g‘Cu¼’tReque¡edUtiz©iÚOfRam
() {

795 
	}
}

	@src/org/cloudbus/cloudsim/network/datacenter/NetworkConstants.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
public
 cÏs 
	cN‘wÜkCÚ¡ªts
 {

13 
public
 
	mmaxho¡VM
 = 2;

14 
public
 
	mHOST_PEs
 = 8;

16 
public
 
	mmaxMem³rVM
 = 1024 * 1024;

18 
public
 
	mcu¼’tCloudËtId
 = 0;

19 
public
 
	mcu¼’tAµId
 = 0;

22 
public
 
fš®
 
	mEXECUTION
 = 0;

23 
public
 
fš®
 
	mWAIT_SEND
 = 1;

24 
public
 
fš®
 
	mWAIT_RECV
 = 2;

25 
public
 
fš®
 
	mFINISH
 = -2;

28 
public
 
fš®
 
	mROOT_LEVEL
 = 0;

29 
public
 
fš®
 
	mAgg_LEVEL
 = 1;

30 
public
 
fš®
 
	mEDGE_LEVEL
 = 2;

32 
public
 
fš®
 
	mPES_NUMBER
 = 4;

33 
public
 
fš®
 
	mFILE_SIZE
 = 300;

34 
public
 
fš®
 
	mOUTPUT_SIZE
 = 300;

36 
public
 
fš®
 
	mCOMMUNICATION_LENGTH
 = 1;

38 
public
 
boŞ—n
 
	mBASE
 = 
Œue
;

40 
public
 
	mBªdWidthEdgeAgg
 = 100 * 1024 * 1024;

41 
public
 
	mBªdWidthEdgeHo¡
 = 100 * 1024 * 1024;

42 
public
 
	mBªdWidthAggRoÙ
 = 20 * 1024 * 1024 * 2;

44 
public
 
	mSw™chšgD–ayRoÙ
 = .00285;

45 
public
 
	mSw™chšgD–ayAgg
 = .00245;

46 
public
 
	mSw™chšgD–ayEdge
 = .00157;

48 
public
 
	mEdgeSw™chPÜt
 = 4;

50 
public
 
	mAggSw™chPÜt
 = 1;

52 
public
 
	mRoÙSw™chPÜt
 = 1;

54 
public
 
	m£ed
 = 199;

56 
public
 
boŞ—n
 
	mlogæag
 = 
çl£
;

58 
public
 
	m™”©iÚ
 = 10;

59 
public
 
	mÃx‰ime
 = 1000;

61 
public
 
	mtÙ®d©©¿nsãr
 = 0;

	@src/org/cloudbus/cloudsim/network/datacenter/NetworkDatacenter.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gM­
;

14 
impÜt
 
	gjava
.
	gut
.
	gM­
.
	gEÁry
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËr
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”Ch¬aù”i¡ics
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicy
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

26 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

27 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

46 
public
 cÏs 
	cN‘wÜkD©aûÁ”
 
ex‹nds
 
	mD©aûÁ”
 {

70 
public
 
N‘wÜkD©aûÁ”
(

71 
SŒšg
 
Çme
,

72 
D©aûÁ”Ch¬aù”i¡ics
 
ch¬aù”i¡ics
,

73 
VmAÎoÿtiÚPŞicy
 
vmAÎoÿtiÚPŞicy
,

74 
Li¡
<
StÜage
> 
¡ÜageLi¡
,

75 
schedulšgIÁ”v®
è
throws
 
	mExû±iÚ
 {

76 
su³r
(
Çme
, 
ch¬aù”i¡ics
, 
vmAÎoÿtiÚPŞicy
, 
¡ÜageLi¡
, 
schedulšgIÁ”v®
);

77 
	mVmToSw™chid
 = 
Ãw
 
HashM­
<
IÁeg”
, 
	mIÁeg”
>();

78 
	mHo¡ToSw™chid
 = 
Ãw
 
HashM­
<
IÁeg”
, 
	mIÁeg”
>();

79 
	mVmtoHo¡li¡
 = 
Ãw
 
HashM­
<
IÁeg”
, 
	mIÁeg”
>();

80 
	mSw™chli¡
 = 
Ãw
 
HashM­
<
IÁeg”
, 
	mSw™ch
>();

83 
public
 
	gM­
<
	gIÁeg”
, IÁeg”> 
	gVmToSw™chid
;

85 
public
 
	gM­
<
	gIÁeg”
, IÁeg”> 
	gHo¡ToSw™chid
;

87 
public
 
	gM­
<
	gIÁeg”
, 
	gSw™ch
> 
	gSw™chli¡
;

89 
public
 
	gM­
<
	gIÁeg”
, IÁeg”> 
	gVmtoHo¡li¡
;

96 
public
 
	gM­
<
	gIÁeg”
, 
	gSw™ch
> 
	$g‘EdgeSw™ch
() {

97 
M­
<
IÁeg”
, 
Sw™ch
> 
edgesw™ch
 = 
Ãw
 
HashM­
<Integer, Switch>();

98 
EÁry
<
IÁeg”
, 
Sw™ch
> 
es
 : 
Sw™chli¡
.
	`’ŒyS‘
()) {

99 ià(
es
.
	`g‘V®ue
().
Ëv–
 =ğ
N‘wÜkCÚ¡ªts
.
EDGE_LEVEL
) {

100 
edgesw™ch
.
	`put
(
es
.
	`g‘Key
(),ƒs.
	`g‘V®ue
());

103  
edgesw™ch
;

105 
	}
}

113 
public
 
boŞ—n
 
	$´oûssVmC»©eN‘wÜk
(
Vm
 
vm
) {

115 
boŞ—n
 
»suÉ
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`®loÿ‹Ho¡FÜVm
(
vm
);

117 ià(
»suÉ
) {

118 
VmToSw™chid
.
	`put
(
vm
.
	`g‘Id
(), ((
N‘wÜkHo¡
èvm.
	`g‘Ho¡
()).
sw
.getId());

119 
VmtoHo¡li¡
.
	`put
(
vm
.
	`g‘Id
(), vm.
	`g‘Ho¡
().getId());

120 
Sy¡em
.
out
.
	`´šn
(
vm
.
	`g‘Id
(è+ " VM i ü—‹d oÀ" + vm.
	`g‘Ho¡
().getId());

122 
	`g‘VmLi¡
().
	`add
(
vm
);

124 
vm
.
	`upd©eVmProûssšg
(
CloudSim
.
	`şock
(), 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡
(vm).
	`g‘VmScheduËr
()

125 .
	`g‘AÎoÿ‹dMsFÜVm
(
vm
));

127  
»suÉ
;

128 
	}
}

139 @
Ov”ride


140 
´Ùeùed
 
	$´oûssCloudËtSubm™
(
SimEv’t
 
ev
, 
boŞ—n
 
ack
) {

141 
	`upd©eCloudËtProûssšg
();

143 
Œy
 {

145 
CloudËt
 
ş
 = (CloudËtè
ev
.
	`g‘D©a
();

148 ià(
ş
.
	`isFšished
()) {

149 
SŒšg
 
Çme
 = 
CloudSim
.
	`g‘EÁ™yName
(
ş
.
	`g‘U£rId
());

150 
Log
.
	`´štLše
(
	`g‘Name
(è+ ": W¬nšg - CloudËˆ#" + 
ş
.
	`g‘CloudËtId
(è+ " owÃd by " + 
Çme


152 
Log
.
	`´štLše
("Therefore, it is‚ot beingƒxecuted‡gain");

153 
Log
.
	`´štLše
();

160 ià(
ack
) {

161 [] 
d©a
 = 
Ãw
 [3];

162 
d©a
[0] = 
	`g‘Id
();

163 
d©a
[1] = 
ş
.
	`g‘CloudËtId
();

164 
d©a
[2] = 
CloudSimTags
.
FALSE
;

167 
g
 = 
CloudSimTags
.
CLOUDLET_SUBMIT_ACK
;

168 
	`£ndNow
(
ş
.
	`g‘U£rId
(), 
g
, 
d©a
);

171 
	`£ndNow
(
ş
.
	`g‘U£rId
(), 
CloudSimTags
.
CLOUDLET_RETURN
, cl);

177 
ş
.
	`£tResourûP¬am‘”
(
	`g‘Id
(), 
	`g‘Ch¬aù”i¡ics
().
	`g‘Co¡P”SecÚd
(), getCharacteristics()

178 .
	`g‘Co¡P”Bw
());

180 
u£rId
 = 
ş
.
	`g‘U£rId
();

181 
vmId
 = 
ş
.
	`g‘VmId
();

184 
feT¿nsãrTime
 = 
	`´ediùFeT¿nsãrTime
(
ş
.
	`g‘RequœedFes
());

186 
Ho¡
 
ho¡
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡
(
vmId
, 
u£rId
);

187 
Vm
 
vm
 = 
ho¡
.
	`g‘Vm
(
vmId
, 
u£rId
);

188 
CloudËtScheduËr
 
scheduËr
 = 
vm
.
	`g‘CloudËtScheduËr
();

189 
e¡im©edFšishTime
 = 
scheduËr
.
	`şoudËtSubm™
(
ş
, 
feT¿nsãrTime
);

191 ià(
e¡im©edFšishTime
 > 0.0) {

193 
e¡im©edFšishTime
 +ğ
feT¿nsãrTime
;

194 
	`£nd
(
	`g‘Id
(), 
e¡im©edFšishTime
, 
CloudSimTags
.
VM_DATACENTER_EVENT
);

197 
	`£nd
(
	`g‘Id
(), 0.0001, 
CloudSimTags
.
VM_DATACENTER_EVENT
);

200 ià(
ack
) {

201 [] 
d©a
 = 
Ãw
 [3];

202 
d©a
[0] = 
	`g‘Id
();

203 
d©a
[1] = 
ş
.
	`g‘CloudËtId
();

204 
d©a
[2] = 
CloudSimTags
.
TRUE
;

207 
g
 = 
CloudSimTags
.
CLOUDLET_SUBMIT_ACK
;

208 
	`£ndNow
(
ş
.
	`g‘U£rId
(), 
g
, 
d©a
);

210 } 
	`ÿtch
 (
CÏssCa¡Exû±iÚ
 
c
) {

211 
Log
.
	`´štLše
(
	`g‘Name
() + ".processCloudletSubmit(): " + "ClassCastExceptionƒrror.");

212 
c
.
	`´štSckT¿û
();

213 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

214 
Log
.
	`´štLše
(
	`g‘Name
() + ".processCloudletSubmit(): " + "Exceptionƒrror.");

215 
e
.
	`´štSckT¿û
();

218 
	`checkCloudËtCom¶‘iÚ
();

219 
	}
}

	@src/org/cloudbus/cloudsim/network/datacenter/NetworkHost.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gM­
.
	gEÁry
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmScheduËr
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gPeLi¡
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gVmLi¡
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gBwProvisiÚ”
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”
;

41 
public
 cÏs 
	cN‘wÜkHo¡
 
ex‹nds
 
	mHo¡
 {

43 
public
 
	mLi¡
<
	mN‘wÜkPack‘
> 
	m·ck‘To£ndLoÿl
;

45 
public
 
	mLi¡
<
	mN‘wÜkPack‘
> 
	m·ck‘To£ndGlob®
;

47 
public
 
	mLi¡
<
	mN‘wÜkPack‘
> 
	m·ck‘»c›ved
;

49 
public
 
	mmemÜy
;

51 
public
 
Sw™ch
 
	msw
;

53 
public
 
	mbªdwidth
;

56 
public
 
	mLi¡
<
	mDoubË
> 
	mCPUfšTimeCPU
 = 
Ãw
 
A¼ayLi¡
<
DoubË
>();

58 
public
 
	mfštime
 = 0;

60 
public
 
N‘wÜkHo¡
(

61 
id
,

62 
RamProvisiÚ”
 
¿mProvisiÚ”
,

63 
BwProvisiÚ”
 
bwProvisiÚ”
,

64 
¡Üage
,

65 
Li¡
<? 
ex‹nds
 
Pe
> 
³Li¡
,

66 
VmScheduËr
 
vmScheduËr
) {

67 
su³r
(
id
, 
¿mProvisiÚ”
, 
bwProvisiÚ”
, 
¡Üage
, 
³Li¡
, 
vmScheduËr
);

69 
	m·ck‘»c›ved
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

70 
	m·ck‘To£ndGlob®
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

71 
	m·ck‘To£ndLoÿl
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

86 @
Ov”ride


87 
public
 
	$upd©eVmsProûssšg
(
cu¼’tTime
) {

88 
sm®ËrTime
 = 
DoubË
.
MAX_VALUE
;

90 
	`»cv·ck‘s
();

91 
Vm
 
vm
 : 
su³r
.
	`g‘VmLi¡
()) {

92 
time
 = ((
N‘wÜkVm
è
vm
).
	`upd©eVmProûssšg
(
cu¼’tTime
, 
	`g‘VmScheduËr
()

93 .
	`g‘AÎoÿ‹dMsFÜVm
(
vm
));

94 ià(
time
 > 0.0 &&im< 
sm®ËrTime
) {

95 
sm®ËrTime
 = 
time
;

99 
	`£nd·ck‘s
();

101  
sm®ËrTime
;

103 
	}
}

110 
´iv©e
 
	$»cv·ck‘s
() {

112 
N‘wÜkPack‘
 
hs
 : 
·ck‘»c›ved
) {

113 
hs
.
pkt
.
»c›v‘ime
 = 
CloudSim
.
	`şock
();

116 
Vm
 
vm
 = 
VmLi¡
.
	`g‘ById
(
	`g‘VmLi¡
(), 
hs
.
pkt
.
»c›v”
);

117 
Li¡
<
Ho¡Pack‘
> 
pki¡
 = ((
N‘wÜkCloudËtS·ûSh¬edScheduËr
è
vm
.
	`g‘CloudËtScheduËr
()).
pkŒecv


118 .
	`g‘
(
hs
.
pkt
.
£nd”
);

120 ià(
pki¡
 =ğ
nuÎ
) {

121 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
Ho¡Pack‘
>();

122 ((
N‘wÜkCloudËtS·ûSh¬edScheduËr
è
vm
.
	`g‘CloudËtScheduËr
()).
pkŒecv
.
	`put
(

123 
hs
.
pkt
.
£nd”
,

124 
pki¡
);

127 
pki¡
.
	`add
(
hs
.
pkt
);

130 
·ck‘»c›ved
.
	`ş—r
();

131 
	}
}

138 
´iv©e
 
	$£nd·ck‘s
() {

140 
Vm
 
vm
 : 
su³r
.
	`g‘VmLi¡
()) {

141 
EÁry
<
IÁeg”
, 
Li¡
<
Ho¡Pack‘
>> 
es
 : ((
N‘wÜkCloudËtS·ûSh¬edScheduËr
è
vm


142 .
	`g‘CloudËtScheduËr
()).
pk‰o£nd
.
	`’ŒyS‘
()) {

143 
Li¡
<
Ho¡Pack‘
> 
pki¡
 = 
es
.
	`g‘V®ue
();

144 
Ho¡Pack‘
 
pkt
 : 
pki¡
) {

145 
N‘wÜkPack‘
 
hpkt
 = 
Ãw
 
	`N‘wÜkPack‘
(
	`g‘Id
(), 
pkt
, 
vm
.g‘Id(),…kt.
£nd”
);

146 
Vm
 
vm2
 = 
VmLi¡
.
	`g‘ById
(
this
.
	`g‘VmLi¡
(), 
hpkt
.
»c›v”vmid
);

147 ià(
vm2
 !ğ
nuÎ
) {

148 
·ck‘To£ndLoÿl
.
	`add
(
hpkt
);

150 
·ck‘To£ndGlob®
.
	`add
(
hpkt
);

153 
pki¡
.
	`ş—r
();

159 
boŞ—n
 
æag
 = 
çl£
;

161 
N‘wÜkPack‘
 
hs
 : 
·ck‘To£ndLoÿl
) {

162 
æag
 = 
Œue
;

163 
hs
.
¡ime
 = hs.
¹ime
;

164 
hs
.
pkt
.
»c›v‘ime
 = 
CloudSim
.
	`şock
();

166 
Vm
 
vm
 = 
VmLi¡
.
	`g‘ById
(
	`g‘VmLi¡
(), 
hs
.
pkt
.
»c›v”
);

168 
Li¡
<
Ho¡Pack‘
> 
pki¡
 = ((
N‘wÜkCloudËtS·ûSh¬edScheduËr
è
vm
.
	`g‘CloudËtScheduËr
()).
pkŒecv


169 .
	`g‘
(
hs
.
pkt
.
£nd”
);

170 ià(
pki¡
 =ğ
nuÎ
) {

171 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
Ho¡Pack‘
>();

172 ((
N‘wÜkCloudËtS·ûSh¬edScheduËr
è
vm
.
	`g‘CloudËtScheduËr
()).
pkŒecv
.
	`put
(

173 
hs
.
pkt
.
£nd”
,

174 
pki¡
);

176 
pki¡
.
	`add
(
hs
.
pkt
);

179 ià(
æag
) {

180 
Vm
 
vm
 : 
su³r
.
	`g‘VmLi¡
()) {

181 
vm
.
	`upd©eVmProûssšg
(
CloudSim
.
	`şock
(), 
	`g‘VmScheduËr
().
	`g‘AÎoÿ‹dMsFÜVm
(vm));

186 
·ck‘To£ndLoÿl
.
	`ş—r
();

187 
avbªd
 = 
bªdwidth
 / 
·ck‘To£ndGlob®
.
	`size
();

188 
N‘wÜkPack‘
 
hs
 : 
·ck‘To£ndGlob®
) {

189 
d–ay
 = (1000 * 
hs
.
pkt
.
d©a
è/ 
avbªd
;

190 
N‘wÜkCÚ¡ªts
.
tÙ®d©©¿nsãr
 +ğ
hs
.
pkt
.
d©a
;

192 
CloudSim
.
	`£nd
(
	`g‘D©aûÁ”
().
	`g‘Id
(), 
sw
.g‘Id(), 
d–ay
, 
CloudSimTags
.
N‘wÜk_Ev’t_UP
, 
hs
);

195 
·ck‘To£ndGlob®
.
	`ş—r
();

196 
	}
}

198 
public
 
	$g‘MaxUtiz©iÚAmÚgVmsPes
(
Vm
 
vm
) {

199  
PeLi¡
.
	`g‘MaxUtiz©iÚAmÚgVmsPes
(
	`g‘PeLi¡
(), 
vm
);

200 
	}
}

	@src/org/cloudbus/cloudsim/network/datacenter/NetworkPacket.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

25 
public
 cÏs 
	cN‘wÜkPack‘
 {

27 
public
 
	$N‘wÜkPack‘
(
id
, 
Ho¡Pack‘
 
pkt2
, 
vmid
, 
şoudËtid
) {

28 
pkt
 = 
pkt2
;

29 
£nd”vmid
 = 
vmid
;

30 
this
.
şoudËtid
 = cloudletid;

31 
£nd”ho¡id
 = 
id
;

32 
¡ime
 = 
pkt
.
£ndtime
;

33 
»c›v”vmid
 = 
pkt2
.
»c›v”
;

37 
Ho¡Pack‘
 
pkt
;

39 
£nd”ho¡id
;

41 
»c›v”ho¡id
;

43 
£nd”vmid
;

45 
»c›v”vmid
;

47 
şoudËtid
;

49 
¡ime
;

51 
¹ime
;

52 
	}
}

	@src/org/cloudbus/cloudsim/network/datacenter/NetworkVm.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËr
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

29 
public
 
şass
 
N‘wÜkVm
 
ex‹nds
 
Vm
 
im¶em’ts
 
	gCom·¿bË
<
	gObjeù
> {

31 
public
 
N‘wÜkVm
(

32 
id
,

33 
u£rId
,

34 
ms
,

35 
³sNumb”
,

36 
¿m
,

37 
bw
,

38 
size
,

39 
SŒšg
 
vmm
,

40 
CloudËtScheduËr
 
şoudËtScheduËr
) {

41 
su³r
(
id
, 
u£rId
, 
ms
, 
³sNumb”
, 
¿m
, 
bw
, 
size
, 
vmm
, 
şoudËtScheduËr
);

43 
	gşoudËi¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkCloudËt
>();

46 
public
 
	gA¼ayLi¡
<
	gN‘wÜkCloudËt
> 
	gşoudËi¡
;

48 
	gty³
;

50 
public
 
	gA¼ayLi¡
<
	gHo¡Pack‘
> 
	g»cvPki¡
;

52 
public
 
	gmemÜy
;

54 
public
 
boŞ—n
 
	gæagä“
;

56 
public
 
	gfšishtime
;

58 
public
 
boŞ—n
 
isF»e
() {

59  
	gæagä“
;

62 @
Ov”ride


63 
public
 
com·»To
(
Objeù
 
¬g0
) {

64 
N‘wÜkVm
 
	ghs
 = (N‘wÜkVmè
¬g0
;

65 ià(
	ghs
.
	gfšishtime
 > finishtime) {

68 ià(
	ghs
.
	gfšishtime
 < finishtime) {

	@src/org/cloudbus/cloudsim/network/datacenter/NetworkVmAllocationPolicy.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gM­
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicy
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

31 
public
 cÏs 
	cN‘wÜkVmAÎoÿtiÚPŞicy
 
ex‹nds
 
	mVmAÎoÿtiÚPŞicy
 {

34 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mHo¡
> 
	mvmTabË
;

37 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	mu£dPes
;

40 
´iv©e
 
	mLi¡
<
	mIÁeg”
> 
	mä“Pes
;

50 
public
 
N‘wÜkVmAÎoÿtiÚPŞicy
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

51 
su³r
(
li¡
);

53 
£tF»ePes
(
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

54 
Ho¡
 
	mho¡
 : 
g‘Ho¡Li¡
()) {

55 
g‘F»ePes
().
add
(
ho¡
.
g‘Numb”OfPes
());

59 
£tVmTabË
(
Ãw
 
HashM­
<
SŒšg
, 
Ho¡
>());

60 
£tU£dPes
(
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

73 @
Ov”ride


74 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

76 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

77 
boŞ—n
 
»suÉ
 = 
çl£
;

78 
Œ›s
 = 0;

79 
Li¡
<
IÁeg”
> 
ä“PesTmp
 = 
Ãw
 
A¼ayLi¡
<Integer>();

80 
IÁeg”
 
ä“Pes
 : 
	`g‘F»ePes
()) {

81 
ä“PesTmp
.
	`add
(
ä“Pes
);

84 ià(!
	`g‘VmTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

86 
mÜeF»e
 = 
IÁeg”
.
MIN_VALUE
;

87 
idx
 = -1;

90 
i
 = 0; i < 
ä“PesTmp
.
	`size
(); i++) {

91 ià(
ä“PesTmp
.
	`g‘
(
i
è> 
mÜeF»e
) {

92 
mÜeF»e
 = 
ä“PesTmp
.
	`g‘
(
i
);

93 
idx
 = 
i
;

97 
N‘wÜkHo¡
 
ho¡
 = 
this
.<N‘wÜkHo¡> 
	`g‘Ho¡Li¡
().
	`g‘
(
idx
);

98 
»suÉ
 = 
ho¡
.
	`vmC»©e
(
vm
);

100 ià(
»suÉ
) {

101 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

102 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

103 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

104 
»suÉ
 = 
Œue
;

107 
ä“PesTmp
.
	`£t
(
idx
, 
IÁeg”
.
MIN_VALUE
);

109 
Œ›s
++;

110 } !
»suÉ
 && 
Œ›s
 < 
	`g‘F»ePes
().
	`size
());

114  
»suÉ
;

115 
	}
}

117 
´Ùeùed
 
	$g‘MaxUtiz©iÚAá”AÎoÿtiÚ
(
N‘wÜkHo¡
 
ho¡
, 
Vm
 
vm
) {

118 
Li¡
<
DoubË
> 
®loÿ‹dMsFÜVm
 = 
nuÎ
;

119 
N‘wÜkHo¡
 
®loÿ‹dHo¡
 = (N‘wÜkHo¡è
vm
.
	`g‘Ho¡
();

121 ià(
®loÿ‹dHo¡
 !ğ
nuÎ
) {

122 
®loÿ‹dMsFÜVm
 = 
vm
.
	`g‘Ho¡
().
	`g‘AÎoÿ‹dMsFÜVm
(vm);

125 ià(!
ho¡
.
	`®loÿ‹PesFÜVm
(
vm
, vm.
	`g‘Cu¼’tReque¡edMs
())) {

129 
maxUtiz©iÚ
 = 
ho¡
.
	`g‘MaxUtiz©iÚAmÚgVmsPes
(
vm
);

131 
ho¡
.
	`d—Îoÿ‹PesFÜVm
(
vm
);

133 ià(
®loÿ‹dHo¡
 !ğ
nuÎ
 && 
®loÿ‹dMsFÜVm
 !=‚ull) {

134 
vm
.
	`g‘Ho¡
().
	`®loÿ‹PesFÜVm
(vm, 
®loÿ‹dMsFÜVm
);

137  
maxUtiz©iÚ
;

138 
	}
}

148 @
Ov”ride


149 
public
 
	$d—Îoÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

150 
Ho¡
 
ho¡
 = 
	`g‘VmTabË
().
	`»move
(
vm
.
	`g‘Uid
());

151 
idx
 = 
	`g‘Ho¡Li¡
().
	`šdexOf
(
ho¡
);

152 
³s
 = 
	`g‘U£dPes
().
	`»move
(
vm
.
	`g‘Uid
());

153 ià(
ho¡
 !ğ
nuÎ
) {

154 
ho¡
.
	`vmDe¡roy
(
vm
);

155 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè+ 
³s
);

157 
	}
}

169 @
Ov”ride


170 
public
 
Ho¡
 
	$g‘Ho¡
(
Vm
 
vm
) {

171  
	`g‘VmTabË
().
	`g‘
(
vm
.
	`g‘Uid
());

172 
	}
}

185 @
Ov”ride


186 
public
 
Ho¡
 
	$g‘Ho¡
(
vmId
, 
u£rId
) {

187  
	`g‘VmTabË
().
	`g‘
(
Vm
.
	`g‘Uid
(
u£rId
, 
vmId
));

188 
	}
}

195 
public
 
	gM­
<
	gSŒšg
, 
	gHo¡
> 
	$g‘VmTabË
() {

196  
vmTabË
;

197 
	}
}

204 
´Ùeùed
 
£tVmTabË
(
M­
<
SŒšg
, 
Ho¡
> 
vmTabË
) {

205 
	gthis
.
	gvmTabË
 = 
vmTabË
;

213 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘U£dPes
() {

214  
u£dPes
;

215 
	}
}

222 
´Ùeùed
 
£tU£dPes
(
M­
<
SŒšg
, 
IÁeg”
> 
u£dPes
) {

223 
	gthis
.
	gu£dPes
 = 
u£dPes
;

231 
´Ùeùed
 
	gLi¡
<
	gIÁeg”
> 
	$g‘F»ePes
() {

232  
ä“Pes
;

233 
	}
}

240 
´Ùeùed
 
£tF»ePes
(
Li¡
<
IÁeg”
> 
ä“Pes
) {

241 
	gthis
.
	gä“Pes
 = 
ä“Pes
;

248 @
Ov”ride


249 
public
 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
İtimizeAÎoÿtiÚ
(
Li¡
<? 
ex‹nds
 
Vm
> 
vmLi¡
) {

251  
	gnuÎ
;

259 @
Ov”ride


260 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
, 
Ho¡
 
ho¡
) {

261 ià(
ho¡
.
	`vmC»©e
(
vm
)) {

262 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

264 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

265 
idx
 = 
	`g‘Ho¡Li¡
().
	`šdexOf
(
ho¡
);

266 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

267 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

269 
Log
.
	`fÜm©Lše
(

270 "%.2f: VM #" + 
vm
.
	`g‘Id
(è+ " ha b“À®loÿ‹dØthho¡ #" + 
ho¡
.getId(),

271 
CloudSim
.
	`şock
());

272  
Œue
;

275  
çl£
;

276 
	}
}

	@src/org/cloudbus/cloudsim/network/datacenter/RootSwitch.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
.
	gP»diÿ‹Ty³
;

33 
public
 cÏs 
	cRoÙSw™ch
 
ex‹nds
 
	mSw™ch
 {

43 
public
 
	$RoÙSw™ch
(
SŒšg
 
Çme
, 
Ëv–
, 
N‘wÜkD©aûÁ”
 
dc
) {

44 
	`su³r
(
Çme
, 
Ëv–
, 
dc
);

45 
dowÆšksw™chpki¡
 = 
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
N‘wÜkPack‘
>>();

46 
dowÆšksw™ches
 = 
Ãw
 
A¼ayLi¡
<
Sw™ch
>();

48 
dowÆškbªdwidth
 = 
N‘wÜkCÚ¡ªts
.
BªdWidthAggRoÙ
;

49 
Ï‹ncy
 = 
N‘wÜkCÚ¡ªts
.
Sw™chšgD–ayRoÙ
;

50 
numpÜt
 = 
N‘wÜkCÚ¡ªts
.
RoÙSw™chPÜt
;

58 @
Ov”ride


59 
´Ùeùed
 
	$´oûs¥ack‘_up
(
SimEv’t
 
ev
) {

66 
N‘wÜkPack‘
 
h¥kt
 = (N‘wÜkPack‘è
ev
.
	`g‘D©a
();

67 
»cvVMid
 = 
h¥kt
.
pkt
.
»c›v”
;

68 
CloudSim
.
	`ÿnûlAÎ
(
	`g‘Id
(), 
Ãw
 
	`P»diÿ‹Ty³
(
CloudSimTags
.
N‘wÜk_Ev’t_£nd
));

69 
	`scheduË
(
	`g‘Id
(), 
sw™chšg_d–ay
, 
CloudSimTags
.
N‘wÜk_Ev’t_£nd
);

71 ià(
Ëv–
 =ğ
N‘wÜkCÚ¡ªts
.
ROOT_LEVEL
) {

73 
edgesw™chid
 = 
dc
.
VmToSw™chid
.
	`g‘
(
»cvVMid
);

75 
aggSwtichid
 = -1;

77 
Sw™ch
 
sw
 : 
dowÆšksw™ches
) {

78 
Sw™ch
 
edge
 : 
sw
.
dowÆšksw™ches
) {

79 ià(
edge
.
	`g‘Id
(è=ğ
edgesw™chid
) {

80 
aggSwtichid
 = 
sw
.
	`g‘Id
();

85 ià(
aggSwtichid
 < 0) {

86 
Sy¡em
.
out
.
	`´šn
(" No destination forhis…acket");

88 
Li¡
<
N‘wÜkPack‘
> 
pki¡
 = 
dowÆšksw™chpki¡
.
	`g‘
(
aggSwtichid
);

89 ià(
pki¡
 =ğ
nuÎ
) {

90 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

91 
dowÆšksw™chpki¡
.
	`put
(
aggSwtichid
, 
pki¡
);

93 
pki¡
.
	`add
(
h¥kt
);

96 
	}
}

	@src/org/cloudbus/cloudsim/network/datacenter/Switch.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gM­
;

15 
impÜt
 
	gjava
.
	gut
.
	gM­
.
	gEÁry
;

16 
impÜt
 
	gjava
.
	gut
.
	gSÜ‹dM­
;

17 
impÜt
 
	gjava
.
	gut
.
	gT»eM­
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEÁ™y
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
.
	gP»diÿ‹Ty³
;

26 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gVmLi¡
;

28 
public
 cÏs 
	cSw™ch
 
ex‹nds
 
	mSimEÁ™y
 {

31 
public
 
	mid
;

33 
public
 
	mËv–
;

35 
public
 
	md©aûÁ”id
;

37 
public
 
	mM­
<
	mIÁeg”
, 
	mLi¡
<
	mN‘wÜkPack‘
>> 
	mu¶šksw™chpki¡
;

39 
public
 
	mM­
<
	mIÁeg”
, 
	mLi¡
<
	mN‘wÜkPack‘
>> 
	mdowÆšksw™chpki¡
;

41 
public
 
	mM­
<
	mIÁeg”
, 
	mN‘wÜkHo¡
> 
	mho¡li¡
;

43 
public
 
	mLi¡
<
	mSw™ch
> 
	mu¶šksw™ches
;

45 
public
 
	mLi¡
<
	mSw™ch
> 
	mdowÆšksw™ches
;

47 
public
 
	mM­
<
	mIÁeg”
, 
	mLi¡
<
	mN‘wÜkPack‘
>> 
	m·ck‘Toho¡
;

49 
	mty³
;

51 
public
 
	mu¶škbªdwidth
;

53 
public
 
	mdowÆškbªdwidth
;

55 
public
 
	mÏ‹ncy
;

57 
public
 
	mnumpÜt
;

59 
public
 
N‘wÜkD©aûÁ”
 
	mdc
;

62 
public
 
	mSÜ‹dM­
<
	mDoubË
, 
	mLi¡
<
	mN‘wÜkHo¡
>> 
	mfštim–i¡Ho¡
 = 
Ãw
 
T»eM­
<
DoubË
, List<NetworkHost>>();

65 
public
 
	mSÜ‹dM­
<
	mDoubË
, 
	mLi¡
<
	mN‘wÜkVm
>> 
	mfštim–i¡VM
 = 
Ãw
 
T»eM­
<
DoubË
, List<NetworkVm>>();

67 
public
 
	mA¼ayLi¡
<
	mN‘wÜkPack‘
> 
	mpki¡
;

69 
public
 
	mLi¡
<
	mVm
> 
	mBagofTaskVm
 = 
Ãw
 
A¼ayLi¡
<
Vm
>();

71 
public
 
	msw™chšg_d–ay
;

73 
public
 
	mM­
<
	mIÁeg”
, 
	mN‘wÜkVm
> 
	mVmli¡
;

75 
public
 
	$Sw™ch
(
SŒšg
 
Çme
, 
Ëv–
, 
N‘wÜkD©aûÁ”
 
dc
) {

76 
	`su³r
(
Çme
);

77 
this
.
Ëv–
 =†evel;

78 
this
.
dc
 = dc;

81 @
Ov”ride


82 
public
 
	$¡¬tEÁ™y
() {

83 
Log
.
	`´štLše
(
	`g‘Name
() + " is starting...");

84 
	`scheduË
(
	`g‘Id
(), 0, 
CloudSimTags
.
RESOURCE_CHARACTERISTICS_REQUEST
);

85 
	}
}

87 @
Ov”ride


88 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

90 
ev
.
	`g‘Tag
()) {

92 
CloudSimTags
.
N‘wÜk_Ev’t_UP
:

94 
	`´oûs¥ack‘_up
(
ev
);

96 
CloudSimTags
.
N‘wÜk_Ev’t_DOWN
:

98 
	`´oûs¥ack‘_down
(
ev
);

100 
CloudSimTags
.
N‘wÜk_Ev’t_£nd
:

101 
	`´oûs¥ack‘fÜw¬d
(
ev
);

104 
CloudSimTags
.
N‘wÜk_Ev’t_Ho¡
:

105 
	`´oûssho¡·ck‘
(
ev
);

108 
CloudSimTags
.
RESOURCE_Regi¡”
:

109 
	`»gi¡”Ho¡
(
ev
);

113 
	`´oûssOth”Ev’t
(
ev
);

116 
	}
}

118 
´Ùeùed
 
	$´oûssho¡·ck‘
(
SimEv’t
 
ev
) {

120 
N‘wÜkPack‘
 
h¥kt
 = (N‘wÜkPack‘è
ev
.
	`g‘D©a
();

121 
N‘wÜkHo¡
 
hs
 = 
ho¡li¡
.
	`g‘
(
h¥kt
.
»c›v”ho¡id
);

122 
hs
.
·ck‘»c›ved
.
	`add
(
h¥kt
);

123 
	}
}

125 
´Ùeùed
 
	$´oûs¥ack‘_down
(
SimEv’t
 
ev
) {

132 
N‘wÜkPack‘
 
h¥kt
 = (N‘wÜkPack‘è
ev
.
	`g‘D©a
();

133 
»cvVMid
 = 
h¥kt
.
pkt
.
»c›v”
;

134 
CloudSim
.
	`ÿnûlAÎ
(
	`g‘Id
(), 
Ãw
 
	`P»diÿ‹Ty³
(
CloudSimTags
.
N‘wÜk_Ev’t_£nd
));

135 
	`scheduË
(
	`g‘Id
(), 
Ï‹ncy
, 
CloudSimTags
.
N‘wÜk_Ev’t_£nd
);

136 ià(
Ëv–
 =ğ
N‘wÜkCÚ¡ªts
.
EDGE_LEVEL
) {

138 
ho¡id
 = 
dc
.
VmtoHo¡li¡
.
	`g‘
(
»cvVMid
);

139 
h¥kt
.
»c›v”ho¡id
 = 
ho¡id
;

140 
Li¡
<
N‘wÜkPack‘
> 
pki¡
 = 
·ck‘Toho¡
.
	`g‘
(
ho¡id
);

141 ià(
pki¡
 =ğ
nuÎ
) {

142 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

143 
·ck‘Toho¡
.
	`put
(
ho¡id
, 
pki¡
);

145 
pki¡
.
	`add
(
h¥kt
);

148 ià(
Ëv–
 =ğ
N‘wÜkCÚ¡ªts
.
Agg_LEVEL
) {

151 
sw™chid
 = 
dc
.
VmToSw™chid
.
	`g‘
(
»cvVMid
);

152 
Li¡
<
N‘wÜkPack‘
> 
pki¡
 = 
dowÆšksw™chpki¡
.
	`g‘
(
sw™chid
);

153 ià(
pki¡
 =ğ
nuÎ
) {

154 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

155 
dowÆšksw™chpki¡
.
	`put
(
sw™chid
, 
pki¡
);

157 
pki¡
.
	`add
(
h¥kt
);

161 
	}
}

163 
´Ùeùed
 
	$´oûs¥ack‘_up
(
SimEv’t
 
ev
) {

170 
N‘wÜkPack‘
 
h¥kt
 = (N‘wÜkPack‘è
ev
.
	`g‘D©a
();

171 
»cvVMid
 = 
h¥kt
.
pkt
.
»c›v”
;

172 
CloudSim
.
	`ÿnûlAÎ
(
	`g‘Id
(), 
Ãw
 
	`P»diÿ‹Ty³
(
CloudSimTags
.
N‘wÜk_Ev’t_£nd
));

173 
	`scheduË
(
	`g‘Id
(), 
sw™chšg_d–ay
, 
CloudSimTags
.
N‘wÜk_Ev’t_£nd
);

174 ià(
Ëv–
 =ğ
N‘wÜkCÚ¡ªts
.
EDGE_LEVEL
) {

179 
ho¡id
 = 
dc
.
VmtoHo¡li¡
.
	`g‘
(
»cvVMid
);

180 
N‘wÜkHo¡
 
hs
 = 
ho¡li¡
.
	`g‘
(
ho¡id
);

181 
h¥kt
.
»c›v”ho¡id
 = 
ho¡id
;

182 ià(
hs
 !ğ
nuÎ
) {

184 
Li¡
<
N‘wÜkPack‘
> 
pki¡
 = 
·ck‘Toho¡
.
	`g‘
(
ho¡id
);

185 ià(
pki¡
 =ğ
nuÎ
) {

186 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

187 
·ck‘Toho¡
.
	`put
(
ho¡id
, 
pki¡
);

189 
pki¡
.
	`add
(
h¥kt
);

196 
Sw™ch
 
sw
 = 
u¶šksw™ches
.
	`g‘
(0);

197 
Li¡
<
N‘wÜkPack‘
> 
pki¡
 = 
u¶šksw™chpki¡
.
	`g‘
(
sw
.
	`g‘Id
());

198 ià(
pki¡
 =ğ
nuÎ
) {

199 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

200 
u¶šksw™chpki¡
.
	`put
(
sw
.
	`g‘Id
(), 
pki¡
);

202 
pki¡
.
	`add
(
h¥kt
);

205 ià(
Ëv–
 =ğ
N‘wÜkCÚ¡ªts
.
Agg_LEVEL
) {

209 
sw™chid
 = 
dc
.
VmToSw™chid
.
	`g‘
(
»cvVMid
);

210 
boŞ—n
 
æagtoswtich
 = 
çl£
;

211 
Sw™ch
 
sw
 : 
dowÆšksw™ches
) {

212 ià(
sw™chid
 =ğ
sw
.
	`g‘Id
()) {

213 
æagtoswtich
 = 
Œue
;

216 ià(
æagtoswtich
) {

217 
Li¡
<
N‘wÜkPack‘
> 
pki¡
 = 
dowÆšksw™chpki¡
.
	`g‘
(
sw™chid
);

218 ià(
pki¡
 =ğ
nuÎ
) {

219 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

220 
dowÆšksw™chpki¡
.
	`put
(
sw™chid
, 
pki¡
);

222 
pki¡
.
	`add
(
h¥kt
);

225 
Sw™ch
 
sw
 = 
u¶šksw™ches
.
	`g‘
(0);

226 
Li¡
<
N‘wÜkPack‘
> 
pki¡
 = 
u¶šksw™chpki¡
.
	`g‘
(
sw
.
	`g‘Id
());

227 ià(
pki¡
 =ğ
nuÎ
) {

228 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

229 
u¶šksw™chpki¡
.
	`put
(
sw
.
	`g‘Id
(), 
pki¡
);

231 
pki¡
.
	`add
(
h¥kt
);

234 ià(
Ëv–
 =ğ
N‘wÜkCÚ¡ªts
.
ROOT_LEVEL
) {

236 
edgesw™chid
 = 
dc
.
VmToSw™chid
.
	`g‘
(
»cvVMid
);

238 
aggSwtichid
 = -1;

240 
Sw™ch
 
sw
 : 
dowÆšksw™ches
) {

241 
Sw™ch
 
edge
 : 
sw
.
dowÆšksw™ches
) {

242 ià(
edge
.
	`g‘Id
(è=ğ
edgesw™chid
) {

243 
aggSwtichid
 = 
sw
.
	`g‘Id
();

248 ià(
aggSwtichid
 < 0) {

249 
Sy¡em
.
out
.
	`´šn
(" No destination forhis…acket");

251 
Li¡
<
N‘wÜkPack‘
> 
pki¡
 = 
dowÆšksw™chpki¡
.
	`g‘
(
aggSwtichid
);

252 ià(
pki¡
 =ğ
nuÎ
) {

253 
pki¡
 = 
Ãw
 
A¼ayLi¡
<
N‘wÜkPack‘
>();

254 
dowÆšksw™chpki¡
.
	`put
(
aggSwtichid
, 
pki¡
);

256 
pki¡
.
	`add
(
h¥kt
);

259 
	}
}

261 
´iv©e
 
	$»gi¡”Ho¡
(
SimEv’t
 
ev
) {

262 
N‘wÜkHo¡
 
hs
 = (N‘wÜkHo¡è
ev
.
	`g‘D©a
();

263 
ho¡li¡
.
	`put
(
hs
.
	`g‘Id
(), (
N‘wÜkHo¡
è
ev
.
	`g‘D©a
());

264 
	}
}

266 
´Ùeùed
 
	$´oûs¥ack‘
(
SimEv’t
 
ev
) {

268 
CloudSim
.
	`ÿnûlAÎ
(
	`g‘Id
(), 
Ãw
 
	`P»diÿ‹Ty³
(
CloudSimTags
.
N‘wÜk_Ev’t_UP
));

269 
	`scheduË
(
	`g‘Id
(), 
sw™chšg_d–ay
, 
CloudSimTags
.
N‘wÜk_Ev’t_UP
);

270 
pki¡
.
	`add
((
N‘wÜkPack‘
è
ev
.
	`g‘D©a
());

274 
	}
}

276 
´iv©e
 
	$´oûssOth”Ev’t
(
SimEv’t
 
ev
) {

278 
	}
}

280 
´Ùeùed
 
	$´oûs¥ack‘fÜw¬d
(
SimEv’t
 
ev
) {

283 ià(
dowÆšksw™chpki¡
 !ğ
nuÎ
) {

284 
EÁry
<
IÁeg”
, 
Li¡
<
N‘wÜkPack‘
>> 
es
 : 
dowÆšksw™chpki¡
.
	`’ŒyS‘
()) {

285 
to£nd
 = 
es
.
	`g‘Key
();

286 
Li¡
<
N‘wÜkPack‘
> 
h¥ki¡
 = 
es
.
	`g‘V®ue
();

287 ià(!
h¥ki¡
.
	`isEm±y
()) {

288 
avbªd
 = 
dowÆškbªdwidth
 / 
h¥ki¡
.
	`size
();

289 
I‹¿tÜ
<
N‘wÜkPack‘
> 
™
 = 
h¥ki¡
.
	`™”©Ü
();

290 
™
.
	`hasNext
()) {

291 
N‘wÜkPack‘
 
h¥kt
 = 
™
.
	`Ãxt
();

292 
d–ay
 = 1000 * 
h¥kt
.
pkt
.
d©a
 / 
avbªd
;

294 
this
.
	`£nd
(
to£nd
, 
d–ay
, 
CloudSimTags
.
N‘wÜk_Ev’t_DOWN
, 
h¥kt
);

296 
h¥ki¡
.
	`ş—r
();

300 ià(
u¶šksw™chpki¡
 !ğ
nuÎ
) {

301 
EÁry
<
IÁeg”
, 
Li¡
<
N‘wÜkPack‘
>> 
es
 : 
u¶šksw™chpki¡
.
	`’ŒyS‘
()) {

302 
to£nd
 = 
es
.
	`g‘Key
();

303 
Li¡
<
N‘wÜkPack‘
> 
h¥ki¡
 = 
es
.
	`g‘V®ue
();

304 ià(!
h¥ki¡
.
	`isEm±y
()) {

305 
avbªd
 = 
u¶škbªdwidth
 / 
h¥ki¡
.
	`size
();

306 
I‹¿tÜ
<
N‘wÜkPack‘
> 
™
 = 
h¥ki¡
.
	`™”©Ü
();

307 
™
.
	`hasNext
()) {

308 
N‘wÜkPack‘
 
h¥kt
 = 
™
.
	`Ãxt
();

309 
d–ay
 = 1000 * 
h¥kt
.
pkt
.
d©a
 / 
avbªd
;

311 
this
.
	`£nd
(
to£nd
, 
d–ay
, 
CloudSimTags
.
N‘wÜk_Ev’t_UP
, 
h¥kt
);

313 
h¥ki¡
.
	`ş—r
();

317 ià(
·ck‘Toho¡
 !ğ
nuÎ
) {

318 
EÁry
<
IÁeg”
, 
Li¡
<
N‘wÜkPack‘
>> 
es
 : 
·ck‘Toho¡
.
	`’ŒyS‘
()) {

319 
Li¡
<
N‘wÜkPack‘
> 
h¥ki¡
 = 
es
.
	`g‘V®ue
();

320 ià(!
h¥ki¡
.
	`isEm±y
()) {

321 
avbªd
 = 
dowÆškbªdwidth
 / 
h¥ki¡
.
	`size
();

322 
I‹¿tÜ
<
N‘wÜkPack‘
> 
™
 = 
h¥ki¡
.
	`™”©Ü
();

323 
™
.
	`hasNext
()) {

324 
N‘wÜkPack‘
 
h¥kt
 = 
™
.
	`Ãxt
();

327 
this
.
	`£nd
(
	`g‘Id
(), 
h¥kt
.
pkt
.
d©a
 / 
avbªd
, 
CloudSimTags
.
N‘wÜk_Ev’t_Ho¡
, hspkt);

329 
h¥ki¡
.
	`ş—r
();

337 
	}
}

343 
´Ùeùed
 
N‘wÜkHo¡
 
	$g‘Ho¡w™hVM
(
vmid
) {

344 
EÁry
<
IÁeg”
, 
N‘wÜkHo¡
> 
es
 : 
ho¡li¡
.
	`’ŒyS‘
()) {

345 
Vm
 
vm
 = 
VmLi¡
.
	`g‘ById
(
es
.
	`g‘V®ue
().
	`g‘VmLi¡
(), 
vmid
);

346 ià(
vm
 !ğ
nuÎ
) {

347  
es
.
	`g‘V®ue
();

350  
nuÎ
;

351 
	}
}

353 
´Ùeùed
 
	gLi¡
<
	gN‘wÜkVm
> 
	$g‘ä“Vmli¡
(
numVMReq
) {

354 
Li¡
<
N‘wÜkVm
> 
ä“ho¡ls
 = 
Ãw
 
A¼ayLi¡
<NetworkVm>();

355 
EÁry
<
IÁeg”
, 
N‘wÜkVm
> 
‘
 : 
Vmli¡
.
	`’ŒyS‘
()) {

356 ià(
‘
.
	`g‘V®ue
().
	`isF»e
()) {

357 
ä“ho¡ls
.
	`add
(
‘
.
	`g‘V®ue
());

359 ià(
ä“ho¡ls
.
	`size
(è=ğ
numVMReq
) {

364  
ä“ho¡ls
;

365 
	}
}

367 
´Ùeùed
 
	gLi¡
<
	gN‘wÜkHo¡
> 
	$g‘ä“ho¡li¡
(
numho¡
) {

368 
Li¡
<
N‘wÜkHo¡
> 
ä“ho¡ls
 = 
Ãw
 
A¼ayLi¡
<NetworkHost>();

369 
EÁry
<
IÁeg”
, 
N‘wÜkHo¡
> 
‘
 : 
ho¡li¡
.
	`’ŒyS‘
()) {

370 ià(
‘
.
	`g‘V®ue
().
	`g‘Numb”OfF»ePes
(è=ğ‘.g‘V®ue().
	`g‘Numb”OfPes
()) {

371 
ä“ho¡ls
.
	`add
(
‘
.
	`g‘V®ue
());

373 ià(
ä“ho¡ls
.
	`size
(è=ğ
numho¡
) {

378  
ä“ho¡ls
;

379 
	}
}

381 @
Ov”ride


382 
public
 
	$shutdownEÁ™y
() {

383 
Log
.
	`´štLše
(
	`g‘Name
() + " is shutting down...");

384 
	}
}

	@src/org/cloudbus/cloudsim/network/datacenter/TaskStage.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

25 
public
 cÏs 
	cTaskSge
 {

27 
public
 
	$TaskSge
(
ty³
, 
d©a
, 
time
, 
¡ageid
, 
memÜy
, 
³”
, 
v³”
) {

28 
	`su³r
();

29 
this
.
ty³
 =ype;

30 
this
.
d©a
 = data;

31 
this
.
time
 =ime;

32 
this
.
¡ageid
 = stageid;

33 
this
.
memÜy
 = memory;

34 
this
.
³”
 =…eer;

35 
this
.
v³”
 = vpeer;

38 
v³”
;

40 
ty³
;

42 
d©a
;

44 
time
;

46 
¡ageid
;

48 
memÜy
;

50 
³”
;

52 
	}
}

	@src/org/cloudbus/cloudsim/network/datacenter/WorkflowApp.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–FuÎ
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

30 
public
 cÏs 
	cWÜkæowAµ
 
ex‹nds
 
	mAµCloudËt
 {

32 
public
 
	$WÜkæowAµ
(
ty³
, 
­pID
, 
d—dlše
, 
numb”vm
, 
u£rId
) {

33 
	`su³r
(
ty³
, 
­pID
, 
d—dlše
, 
numb”vm
, 
u£rId
);

34 
exeTime
 = 100;

35 
this
.
numb”vm
 = 3;

38 @
Ov”ride


39 
public
 
	`ü—‹CloudËtLi¡
(
Li¡
<
IÁeg”
> 
vmIdLi¡
) {

40 
feSize
 = 
N‘wÜkCÚ¡ªts
.
FILE_SIZE
;

41 
ouutSize
 = 
N‘wÜkCÚ¡ªts
.
OUTPUT_SIZE
;

42 
memÜy
 = 100;

43 
Utiz©iÚMod–
 
utiz©iÚMod–
 = 
Ãw
 
	`Utiz©iÚMod–FuÎ
();

44 
i
 = 0;

46 
N‘wÜkCloudËt
 
ş
 = 
Ãw
 
	`N‘wÜkCloudËt
(

47 
N‘wÜkCÚ¡ªts
.
cu¼’tCloudËtId
,

50 
feSize
,

51 
ouutSize
,

52 
memÜy
,

53 
utiz©iÚMod–
,

54 
utiz©iÚMod–
,

55 
utiz©iÚMod–
);

56 
ş
.
numSge
 = 2;

57 
N‘wÜkCÚ¡ªts
.
cu¼’tCloudËtId
++;

58 
ş
.
	`£tU£rId
(
u£rId
);

59 
ş
.
subm™time
 = 
CloudSim
.
	`şock
();

60 
ş
.
cu¼Sg’um
 = -1;

61 
ş
.
	`£tVmId
(
vmIdLi¡
.
	`g‘
(
i
));

64 
ş
.
¡ages
.
	`add
(
Ãw
 
	`TaskSge
(
N‘wÜkCÚ¡ªts
.
EXECUTION
, 0, 1000 * 0.8, 0, 
memÜy
, 
vmIdLi¡
.
	`g‘
(0), cl

65 .
	`g‘CloudËtId
()));

66 
ş
.
¡ages
.
	`add
(
Ãw
 
	`TaskSge
(
N‘wÜkCÚ¡ªts
.
WAIT_SEND
, 1000, 0, 1, 
memÜy
, 
vmIdLi¡
.
	`g‘
(2), cl

67 .
	`g‘CloudËtId
() + 2));

68 
şi¡
.
	`add
(
ş
);

69 
i
++;

71 
N‘wÜkCloudËt
 
şb
 = 
Ãw
 
	`N‘wÜkCloudËt
(

72 
N‘wÜkCÚ¡ªts
.
cu¼’tCloudËtId
,

75 
feSize
,

76 
ouutSize
,

77 
memÜy
,

78 
utiz©iÚMod–
,

79 
utiz©iÚMod–
,

80 
utiz©iÚMod–
);

81 
şb
.
numSge
 = 2;

82 
N‘wÜkCÚ¡ªts
.
cu¼’tCloudËtId
++;

83 
şb
.
	`£tU£rId
(
u£rId
);

84 
şb
.
subm™time
 = 
CloudSim
.
	`şock
();

85 
şb
.
cu¼Sg’um
 = -1;

86 
şb
.
	`£tVmId
(
vmIdLi¡
.
	`g‘
(
i
));

90 
şb
.
¡ages
.
	`add
(
Ãw
 
	`TaskSge
(

91 
N‘wÜkCÚ¡ªts
.
EXECUTION
,

95 
memÜy
,

96 
vmIdLi¡
.
	`g‘
(1),

97 
şb
.
	`g‘CloudËtId
()));

98 
şb
.
¡ages
.
	`add
(
Ãw
 
	`TaskSge
(
N‘wÜkCÚ¡ªts
.
WAIT_SEND
, 1000, 0, 1, 
memÜy
, 
vmIdLi¡
.
	`g‘
(2), clb

99 .
	`g‘CloudËtId
() + 1));

100 
şi¡
.
	`add
(
şb
);

101 
i
++;

104 
N‘wÜkCloudËt
 
şc
 = 
Ãw
 
	`N‘wÜkCloudËt
(

105 
N‘wÜkCÚ¡ªts
.
cu¼’tCloudËtId
,

108 
feSize
,

109 
ouutSize
,

110 
memÜy
,

111 
utiz©iÚMod–
,

112 
utiz©iÚMod–
,

113 
utiz©iÚMod–
);

114 
şc
.
numSge
 = 2;

115 
N‘wÜkCÚ¡ªts
.
cu¼’tCloudËtId
++;

116 
şc
.
	`£tU£rId
(
u£rId
);

117 
şc
.
subm™time
 = 
CloudSim
.
	`şock
();

118 
şc
.
cu¼Sg’um
 = -1;

119 
şc
.
	`£tVmId
(
vmIdLi¡
.
	`g‘
(
i
));

122 
şc
.
¡ages
.
	`add
(
Ãw
 
	`TaskSge
(
N‘wÜkCÚ¡ªts
.
WAIT_RECV
, 1000, 0, 0, 
memÜy
, 
vmIdLi¡
.
	`g‘
(0), 
ş


123 .
	`g‘CloudËtId
()));

124 
şc
.
¡ages
.
	`add
(
Ãw
 
	`TaskSge
(
N‘wÜkCÚ¡ªts
.
WAIT_RECV
, 1000, 0, 1, 
memÜy
, 
vmIdLi¡
.
	`g‘
(1), 
ş


125 .
	`g‘CloudËtId
() + 1));

126 
şc
.
¡ages
.
	`add
(
Ãw
 
	`TaskSge
(

127 
N‘wÜkCÚ¡ªts
.
EXECUTION
,

131 
memÜy
,

132 
vmIdLi¡
.
	`g‘
(0),

133 
şc
.
	`g‘CloudËtId
()));

135 
şi¡
.
	`add
(
şc
);

137 
	}
}

	@src/org/cloudbus/cloudsim/power/MyPowerVmMigration.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

3 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

7 
public
 cÏs 
	cMyPow”VmMig¿tiÚ
 
ex‹nds


8 
	mPow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 {

10 
public
 
MyPow”VmMig¿tiÚ
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
,

11 
Pow”VmS–eùiÚPŞicy
 
vmS–eùiÚPŞicy
) {

12 
su³r
(
ho¡Li¡
, 
vmS–eùiÚPŞicy
);

16 @
Ov”ride


17 
´Ùeùed
 
boŞ—n
 
	$isHo¡Ov”Utized
(
Pow”Ho¡
 
ho¡
) {

19  
çl£
;

20 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerDatacenter.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gM­
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”Ch¬aù”i¡ics
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicy
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
.
	gP»diÿ‹Ty³
;

39 
public
 cÏs 
	cPow”D©aûÁ”
 
ex‹nds
 
	mD©aûÁ”
 {

42 
´iv©e
 
	mpow”
;

45 
´iv©e
 
boŞ—n
 
	mdi§bËMig¿tiÚs
;

48 
´iv©e
 
	mşoudËtSubm™‹d
;

51 
´iv©e
 
	mmig¿tiÚCouÁ
;

64 
public
 
	$Pow”D©aûÁ”
(){

67 
public
 
	$Pow”D©aûÁ”
(
SŒšg
 
Çme
){

68 
	`su³r
(
Çme
);

69 
	}
}

70 
public
 
Pow”D©aûÁ”
(

71 
SŒšg
 
Çme
,

72 
D©aûÁ”Ch¬aù”i¡ics
 
ch¬aù”i¡ics
,

73 
VmAÎoÿtiÚPŞicy
 
vmAÎoÿtiÚPŞicy
,

74 
Li¡
<
StÜage
> 
¡ÜageLi¡
,

75 
schedulšgIÁ”v®
è
throws
 
	gExû±iÚ
 {

76 
su³r
(
Çme
, 
ch¬aù”i¡ics
, 
vmAÎoÿtiÚPŞicy
, 
¡ÜageLi¡
, 
schedulšgIÁ”v®
);

78 
£tPow”
(0.0);

79 
£tDi§bËMig¿tiÚs
(
çl£
);

80 
£tCloudËtSubm™‹d
(-1);

81 
£tMig¿tiÚCouÁ
(0);

92 @
Ov”ride


93 
´Ùeùed
 
	$upd©eCloudËtProûssšg
() {

94 ià(
	`g‘CloudËtSubm™‹d
(è=ğ-1 || g‘CloudËtSubm™‹d(è=ğ
CloudSim
.
	`şock
()) {

95 
CloudSim
.
	`ÿnûlAÎ
(
	`g‘Id
(), 
Ãw
 
	`P»diÿ‹Ty³
(
CloudSimTags
.
VM_DATACENTER_EVENT
));

96 
	`scheduË
(
	`g‘Id
(), 
	`g‘SchedulšgIÁ”v®
(), 
CloudSimTags
.
VM_DATACENTER_EVENT
);

100 
cu¼’tTime
 = 
CloudSim
.
	`şock
();

103 ià(
cu¼’tTime
 > 
	`g‘La¡ProûssTime
()) {

105 
mšTime
 = 
	`upd©eCloud‘ProûssšgW™houtSchedulšgFutu»Ev’tsFÜû
();

106 ià(!
	`isDi§bËMig¿tiÚs
()) {

107 
Li¡
<
M­
<
SŒšg
, 
Objeù
>> 
mig¿tiÚM­
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`İtimizeAÎoÿtiÚ
(

108 
	`g‘VmLi¡
());

110 ià(
mig¿tiÚM­
 !ğ
nuÎ
) {

111 
M­
<
SŒšg
, 
Objeù
> 
mig¿‹
 : 
mig¿tiÚM­
) {

112 
Vm
 
vm
 = (Vmè
mig¿‹
.
	`g‘
("vm");

113 
Pow”Ho¡
 
rg‘Ho¡
 = (Pow”Ho¡è
mig¿‹
.
	`g‘
("host");

114 
Pow”Ho¡
 
ŞdHo¡
 = (Pow”Ho¡è
vm
.
	`g‘Ho¡
();

116 ià(
ŞdHo¡
 =ğ
nuÎ
) {

117 
Log
.
	`fÜm©Lše
(

119 
cu¼’tTime
,

120 
vm
.
	`g‘Id
(),

121 
rg‘Ho¡
.
	`g‘Id
());

123 
Log
.
	`fÜm©Lše
(

125 
cu¼’tTime
,

126 
vm
.
	`g‘Id
(),

127 
ŞdHo¡
.
	`g‘Id
(),

128 
rg‘Ho¡
.
	`g‘Id
());

131 
rg‘Ho¡
.
	`addMig¿tšgInVm
(
vm
);

132 
	`šüem’tMig¿tiÚCouÁ
();

138 
	`£nd
(

139 
	`g‘Id
(),

140 
vm
.
	`g‘Ram
(è/ ((è
rg‘Ho¡
.
	`g‘Bw
() / (2 * 8000)),

141 
CloudSimTags
.
VM_MIGRATE
,

142 
mig¿‹
);

148 ià(
mšTime
 !ğ
DoubË
.
MAX_VALUE
) {

149 
CloudSim
.
	`ÿnûlAÎ
(
	`g‘Id
(), 
Ãw
 
	`P»diÿ‹Ty³
(
CloudSimTags
.
VM_DATACENTER_EVENT
));

150 
	`£nd
(
	`g‘Id
(), 
	`g‘SchedulšgIÁ”v®
(), 
CloudSimTags
.
VM_DATACENTER_EVENT
);

153 
	`£tLa¡ProûssTime
(
cu¼’tTime
);

155 
	}
}

162 
´Ùeùed
 
	$upd©eCloud‘ProûssšgW™houtSchedulšgFutu»Ev’ts
() {

163 ià(
CloudSim
.
	`şock
(è> 
	`g‘La¡ProûssTime
()) {

164  
	`upd©eCloud‘ProûssšgW™houtSchedulšgFutu»Ev’tsFÜû
();

167 
	}
}

174 
´Ùeùed
 
	$upd©eCloud‘ProûssšgW™houtSchedulšgFutu»Ev’tsFÜû
() {

175 
cu¼’tTime
 = 
CloudSim
.
	`şock
();

176 
mšTime
 = 
DoubË
.
MAX_VALUE
;

177 
timeDiff
 = 
cu¼’tTime
 - 
	`g‘La¡ProûssTime
();

178 
timeF¿meD©aûÁ”EÃrgy
 = 0.0;

180 
Log
.
	`´štLše
("\n\n--------------------------------------------------------------\n\n");

181 
Log
.
	`fÜm©Lše
("New„esourû u§gfÜhtimäam¡¬tšg‡ˆ%.2f:", 
cu¼’tTime
);

183 
Pow”Ho¡
 
ho¡
 : 
this
.<Pow”Ho¡> 
	`g‘Ho¡Li¡
()) {

184 
Log
.
	`´štLše
();

186 
time
 = 
ho¡
.
	`upd©eVmsProûssšg
(
cu¼’tTime
);

187 ià(
time
 < 
mšTime
) {

188 
mšTime
 = 
time
;

191 
Log
.
	`fÜm©Lše
(

193 
cu¼’tTime
,

194 
ho¡
.
	`g‘Id
(),

195 
ho¡
.
	`g‘Utiz©iÚOfCpu
() * 100);

198 ià(
timeDiff
 > 0) {

199 
Log
.
	`fÜm©Lše
(

201 
	`g‘La¡ProûssTime
(),

202 
cu¼’tTime
);

204 
Pow”Ho¡
 
ho¡
 : 
this
.<Pow”Ho¡> 
	`g‘Ho¡Li¡
()) {

205 
´eviousUtiz©iÚOfCpu
 = 
ho¡
.
	`g‘P»viousUtiz©iÚOfCpu
();

206 
utiz©iÚOfCpu
 = 
ho¡
.
	`g‘Utiz©iÚOfCpu
();

207 
timeF¿meHo¡EÃrgy
 = 
ho¡
.
	`g‘EÃrgyLš—rIÁ”pŞ©iÚ
(

208 
´eviousUtiz©iÚOfCpu
,

209 
utiz©iÚOfCpu
,

210 
timeDiff
);

211 
timeF¿meD©aûÁ”EÃrgy
 +ğ
timeF¿meHo¡EÃrgy
;

213 
Log
.
	`´štLše
();

214 
Log
.
	`fÜm©Lše
(

216 
cu¼’tTime
,

217 
ho¡
.
	`g‘Id
(),

218 
	`g‘La¡ProûssTime
(),

219 
´eviousUtiz©iÚOfCpu
 * 100,

220 
utiz©iÚOfCpu
 * 100);

221 
Log
.
	`fÜm©Lše
(

223 
cu¼’tTime
,

224 
ho¡
.
	`g‘Id
(),

225 
timeF¿meHo¡EÃrgy
);

228 
Log
.
	`fÜm©Lše
(

230 
cu¼’tTime
,

231 
timeF¿meD©aûÁ”EÃrgy
);

234 
	`£tPow”
(
	`g‘Pow”
(è+ 
timeF¿meD©aûÁ”EÃrgy
);

236 
	`checkCloudËtCom¶‘iÚ
();

240 
Pow”Ho¡
 
ho¡
 : 
this
.<Pow”Ho¡> 
	`g‘Ho¡Li¡
()) {

241 
Vm
 
vm
 : 
ho¡
.
	`g‘Com¶‘edVms
()) {

242 
	`g‘VmAÎoÿtiÚPŞicy
().
	`d—Îoÿ‹Ho¡FÜVm
(
vm
);

243 
	`g‘VmLi¡
().
	`»move
(
vm
);

244 
Log
.
	`´štLše
("VM #" + 
vm
.
	`g‘Id
(è+ " ha b“Àd—Îoÿ‹d from ho¡ #" + 
ho¡
.getId());

248 
Log
.
	`´štLše
();

250 
	`£tLa¡ProûssTime
(
cu¼’tTime
);

251  
mšTime
;

252 
	}
}

259 @
Ov”ride


260 
´Ùeùed
 
	$´oûssVmMig¿‹
(
SimEv’t
 
ev
, 
boŞ—n
 
ack
) {

261 
	`upd©eCloud‘ProûssšgW™houtSchedulšgFutu»Ev’ts
();

262 
su³r
.
	`´oûssVmMig¿‹
(
ev
, 
ack
);

263 
SimEv’t
 
ev’t
 = 
CloudSim
.
	`fšdFœ¡Deã¼ed
(
	`g‘Id
(), 
Ãw
 
	`P»diÿ‹Ty³
(
CloudSimTags
.
VM_MIGRATE
));

264 ià(
ev’t
 =ğ
nuÎ
 ||ƒv’t.
	`ev’tTime
(è> 
CloudSim
.
	`şock
()) {

265 
	`upd©eCloud‘ProûssšgW™houtSchedulšgFutu»Ev’tsFÜû
();

267 
	}
}

273 @
Ov”ride


274 
´Ùeùed
 
	$´oûssCloudËtSubm™
(
SimEv’t
 
ev
, 
boŞ—n
 
ack
) {

275 
su³r
.
	`´oûssCloudËtSubm™
(
ev
, 
ack
);

276 
	`£tCloudËtSubm™‹d
(
CloudSim
.
	`şock
());

277 
	}
}

284 
public
 
	$g‘Pow”
() {

285  
pow”
;

286 
	}
}

293 
´Ùeùed
 
	$£tPow”
(
pow”
) {

294 
this
.
pow”
 =…ower;

295 
	}
}

302 
´Ùeùed
 
boŞ—n
 
	$isInMig¿tiÚ
() {

303 
boŞ—n
 
»suÉ
 = 
çl£
;

304 
Vm
 
vm
 : 
	`g‘VmLi¡
()) {

305 ià(
vm
.
	`isInMig¿tiÚ
()) {

306 
»suÉ
 = 
Œue
;

310  
»suÉ
;

311 
	}
}

318 
public
 
boŞ—n
 
	$isDi§bËMig¿tiÚs
() {

319  
di§bËMig¿tiÚs
;

320 
	}
}

327 
public
 
	$£tDi§bËMig¿tiÚs
(
boŞ—n
 
di§bËMig¿tiÚs
) {

328 
this
.
di§bËMig¿tiÚs
 = disableMigrations;

329 
	}
}

336 
´Ùeùed
 
	$g‘CloudËtSubm™‹d
() {

337  
şoudËtSubm™‹d
;

338 
	}
}

345 
´Ùeùed
 
	$£tCloudËtSubm™‹d
(
şoudËtSubm™‹d
) {

346 
this
.
şoudËtSubm™‹d
 = cloudletSubmitted;

347 
	}
}

354 
public
 
	$g‘Mig¿tiÚCouÁ
() {

355  
mig¿tiÚCouÁ
;

356 
	}
}

363 
´Ùeùed
 
	$£tMig¿tiÚCouÁ
(
mig¿tiÚCouÁ
) {

364 
this
.
mig¿tiÚCouÁ
 = migrationCount;

365 
	}
}

370 
´Ùeùed
 
	$šüem’tMig¿tiÚCouÁ
() {

371 
	`£tMig¿tiÚCouÁ
(
	`g‘Mig¿tiÚCouÁ
() + 1);

372 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerDatacenterBroker.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”Brok”
;

12 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

30 
public
 cÏs 
	cPow”D©aûÁ”Brok”
 
ex‹nds
 
	mD©aûÁ”Brok”
 {

38 
public
 
	$Pow”D©aûÁ”Brok”
(
SŒšg
 
Çme
è
throws
 
Exû±iÚ
 {

39 
	`su³r
(
Çme
);

47 @
Ov”ride


48 
´Ùeùed
 
	$´oûssVmC»©e
(
SimEv’t
 
ev
) {

49 [] 
d©a
 = ([]è
ev
.
	`g‘D©a
();

50 
»suÉ
 = 
d©a
[2];

52 ià(
»suÉ
 !ğ
CloudSimTags
.
TRUE
) {

53 
d©aûÁ”Id
 = 
d©a
[0];

54 
vmId
 = 
d©a
[1];

55 
Sy¡em
.
out
.
	`´šn
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": C»©iÚ oàVM #" + 
vmId


56 + " faed iÀD©aûÁ” #" + 
d©aûÁ”Id
);

57 
Sy¡em
.
	`ex™
(0);

59 
su³r
.
	`´oûssVmC»©e
(
ev
);

60 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerDatacenterNonPowerAware.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gM­
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”Ch¬aù”i¡ics
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicy
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
.
	gP»diÿ‹Ty³
;

38 
public
 cÏs 
	cPow”D©aûÁ”NÚPow”Aw¬e
 
ex‹nds
 
	mPow”D©aûÁ”
 {

52 
public
 
Pow”D©aûÁ”NÚPow”Aw¬e
(

53 
SŒšg
 
Çme
,

54 
D©aûÁ”Ch¬aù”i¡ics
 
ch¬aù”i¡ics
,

55 
VmAÎoÿtiÚPŞicy
 
vmAÎoÿtiÚPŞicy
,

56 
Li¡
<
StÜage
> 
¡ÜageLi¡
,

57 
schedulšgIÁ”v®
è
throws
 
	mExû±iÚ
 {

58 
su³r
(
Çme
, 
ch¬aù”i¡ics
, 
vmAÎoÿtiÚPŞicy
, 
¡ÜageLi¡
, 
schedulšgIÁ”v®
);

69 @
Ov”ride


70 
´Ùeùed
 
	$upd©eCloudËtProûssšg
() {

71 ià(
	`g‘CloudËtSubm™‹d
(è=ğ-1 || g‘CloudËtSubm™‹d(è=ğ
CloudSim
.
	`şock
()) {

72 
CloudSim
.
	`ÿnûlAÎ
(
	`g‘Id
(), 
Ãw
 
	`P»diÿ‹Ty³
(
CloudSimTags
.
VM_DATACENTER_EVENT
));

73 
	`scheduË
(
	`g‘Id
(), 
	`g‘SchedulšgIÁ”v®
(), 
CloudSimTags
.
VM_DATACENTER_EVENT
);

76 
cu¼’tTime
 = 
CloudSim
.
	`şock
();

77 
timeäamePow”
 = 0.0;

79 ià(
cu¼’tTime
 > 
	`g‘La¡ProûssTime
()) {

80 
timeDiff
 = 
cu¼’tTime
 - 
	`g‘La¡ProûssTime
();

81 
mšTime
 = 
DoubË
.
MAX_VALUE
;

83 
Log
.
	`´štLše
("\n");

85 
Pow”Ho¡
 
ho¡
 : 
this
.<Pow”Ho¡> 
	`g‘Ho¡Li¡
()) {

86 
Log
.
	`fÜm©Lše
("%.2f: Ho¡ #%d", 
CloudSim
.
	`şock
(), 
ho¡
.
	`g‘Id
());

88 
ho¡Pow”
 = 0.0;

90 
Œy
 {

91 
ho¡Pow”
 = 
ho¡
.
	`g‘MaxPow”
(è* 
timeDiff
;

92 
timeäamePow”
 +ğ
ho¡Pow”
;

93 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

94 
e
.
	`´štSckT¿û
();

97 
Log
.
	`fÜm©Lše
(

99 
CloudSim
.
	`şock
(),

100 
ho¡
.
	`g‘Id
(),

101 
ho¡
.
	`g‘Utiz©iÚOfCpu
() * 100);

102 
Log
.
	`fÜm©Lše
(

104 
CloudSim
.
	`şock
(),

105 
ho¡
.
	`g‘Id
(),

106 
ho¡Pow”
);

109 
Log
.
	`fÜm©Lše
("\n%.2f: CÚsumedƒÃrgy i %.2àW*£c\n", 
CloudSim
.
	`şock
(), 
timeäamePow”
);

111 
Log
.
	`´štLše
("\n\n--------------------------------------------------------------\n\n");

113 
Pow”Ho¡
 
ho¡
 : 
this
.<Pow”Ho¡> 
	`g‘Ho¡Li¡
()) {

114 
Log
.
	`fÜm©Lše
("\n%.2f: Ho¡ #%d", 
CloudSim
.
	`şock
(), 
ho¡
.
	`g‘Id
());

116 
time
 = 
ho¡
.
	`upd©eVmsProûssšg
(
cu¼’tTime
);

118 ià(
time
 < 
mšTime
) {

119 
mšTime
 = 
time
;

123 
	`£tPow”
(
	`g‘Pow”
(è+ 
timeäamePow”
);

125 
	`checkCloudËtCom¶‘iÚ
();

128 
Pow”Ho¡
 
ho¡
 : 
this
.<Pow”Ho¡> 
	`g‘Ho¡Li¡
()) {

129 
Vm
 
vm
 : 
ho¡
.
	`g‘Com¶‘edVms
()) {

130 
	`g‘VmAÎoÿtiÚPŞicy
().
	`d—Îoÿ‹Ho¡FÜVm
(
vm
);

131 
	`g‘VmLi¡
().
	`»move
(
vm
);

132 
Log
.
	`´štLše
("VM #" + 
vm
.
	`g‘Id
(è+ " ha b“Àd—Îoÿ‹d from ho¡ #" + 
ho¡
.getId());

136 
Log
.
	`´štLše
();

138 ià(!
	`isDi§bËMig¿tiÚs
()) {

139 
Li¡
<
M­
<
SŒšg
, 
Objeù
>> 
mig¿tiÚM­
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`İtimizeAÎoÿtiÚ
(

140 
	`g‘VmLi¡
());

142 ià(
mig¿tiÚM­
 !ğ
nuÎ
) {

143 
M­
<
SŒšg
, 
Objeù
> 
mig¿‹
 : 
mig¿tiÚM­
) {

144 
Vm
 
vm
 = (Vmè
mig¿‹
.
	`g‘
("vm");

145 
Pow”Ho¡
 
rg‘Ho¡
 = (Pow”Ho¡è
mig¿‹
.
	`g‘
("host");

146 
Pow”Ho¡
 
ŞdHo¡
 = (Pow”Ho¡è
vm
.
	`g‘Ho¡
();

148 ià(
ŞdHo¡
 =ğ
nuÎ
) {

149 
Log
.
	`fÜm©Lše
(

151 
CloudSim
.
	`şock
(),

152 
vm
.
	`g‘Id
(),

153 
rg‘Ho¡
.
	`g‘Id
());

155 
Log
.
	`fÜm©Lše
(

157 
CloudSim
.
	`şock
(),

158 
vm
.
	`g‘Id
(),

159 
ŞdHo¡
.
	`g‘Id
(),

160 
rg‘Ho¡
.
	`g‘Id
());

163 
rg‘Ho¡
.
	`addMig¿tšgInVm
(
vm
);

164 
	`šüem’tMig¿tiÚCouÁ
();

167 
	`£nd
(

168 
	`g‘Id
(),

169 
vm
.
	`g‘Ram
(è/ ((èvm.
	`g‘Bw
() / 8000) + 10,

170 
CloudSimTags
.
VM_MIGRATE
,

171 
mig¿‹
);

177 ià(
mšTime
 !ğ
DoubË
.
MAX_VALUE
) {

178 
CloudSim
.
	`ÿnûlAÎ
(
	`g‘Id
(), 
Ãw
 
	`P»diÿ‹Ty³
(
CloudSimTags
.
VM_DATACENTER_EVENT
));

180 
	`£nd
(
	`g‘Id
(), 
	`g‘SchedulšgIÁ”v®
(), 
CloudSimTags
.
VM_DATACENTER_EVENT
);

183 
	`£tLa¡ProûssTime
(
cu¼’tTime
);

185 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerHost.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡DyÇmicWÜklßd
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmScheduËr
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
.
	gPow”Mod–
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gBwProvisiÚ”
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”
;

34 
public
 cÏs 
	cPow”Ho¡
 
ex‹nds
 
	mHo¡DyÇmicWÜklßd
 {

37 
´iv©e
 
Pow”Mod–
 
	mpow”Mod–
;

49 
public
 
Pow”Ho¡
(

50 
id
,

51 
RamProvisiÚ”
 
¿mProvisiÚ”
,

52 
BwProvisiÚ”
 
bwProvisiÚ”
,

53 
¡Üage
,

54 
Li¡
<? 
ex‹nds
 
Pe
> 
³Li¡
,

55 
VmScheduËr
 
vmScheduËr
,

56 
Pow”Mod–
 
pow”Mod–
) {

57 
su³r
(
id
, 
¿mProvisiÚ”
, 
bwProvisiÚ”
, 
¡Üage
, 
³Li¡
, 
vmScheduËr
);

58 
£tPow”Mod–
(
pow”Mod–
);

66 
public
 
	$g‘Pow”
() {

67  
	`g‘Pow”
(
	`g‘Utiz©iÚOfCpu
());

68 
	}
}

76 
´Ùeùed
 
	$g‘Pow”
(
utiz©iÚ
) {

77 
pow”
 = 0;

78 
Œy
 {

79 
pow”
 = 
	`g‘Pow”Mod–
().
	`g‘Pow”
(
utiz©iÚ
);

80 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

81 
e
.
	`´štSckT¿û
();

82 
Sy¡em
.
	`ex™
(0);

84  
pow”
;

85 
	}
}

92 
public
 
	$g‘MaxPow”
() {

93 
pow”
 = 0;

94 
Œy
 {

95 
pow”
 = 
	`g‘Pow”Mod–
().
	`g‘Pow”
(1);

96 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

97 
e
.
	`´štSckT¿û
();

98 
Sy¡em
.
	`ex™
(0);

100  
pow”
;

101 
	}
}

111 
public
 
	$g‘EÃrgyLš—rIÁ”pŞ©iÚ
(
äomUtiz©iÚ
, 
toUtiz©iÚ
, 
time
) {

112 ià(
äomUtiz©iÚ
 == 0) {

115 
äomPow”
 = 
	`g‘Pow”
(
äomUtiz©iÚ
);

116 
toPow”
 = 
	`g‘Pow”
(
toUtiz©iÚ
);

117  (
äomPow”
 + (
toPow”
 - fromPow”è/ 2è* 
time
;

118 
	}
}

125 
´Ùeùed
 
	$£tPow”Mod–
(
Pow”Mod–
 
pow”Mod–
) {

126 
this
.
pow”Mod–
 =…owerModel;

127 
	}
}

134 
public
 
Pow”Mod–
 
	$g‘Pow”Mod–
() {

135  
pow”Mod–
;

136 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerHostUtilizationHistory.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmScheduËr
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
.
	gPow”Mod–
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gBwProvisiÚ”
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
.
	gM©hUt
;

35 
public
 cÏs 
	cPow”Ho¡Utiz©iÚHi¡Üy
 
ex‹nds
 
	mPow”Ho¡
 {

48 
public
 
Pow”Ho¡Utiz©iÚHi¡Üy
(

49 
id
,

50 
RamProvisiÚ”
 
¿mProvisiÚ”
,

51 
BwProvisiÚ”
 
bwProvisiÚ”
,

52 
¡Üage
,

53 
Li¡
<? 
ex‹nds
 
Pe
> 
³Li¡
,

54 
VmScheduËr
 
vmScheduËr
,

55 
Pow”Mod–
 
pow”Mod–
) {

56 
su³r
(
id
, 
¿mProvisiÚ”
, 
bwProvisiÚ”
, 
¡Üage
, 
³Li¡
, 
vmScheduËr
, 
pow”Mod–
);

64 
´Ùeùed
 [] 
	$g‘Utiz©iÚHi¡Üy
() {

65 [] 
utiz©iÚHi¡Üy
 = 
Ãw
 [
Pow”Vm
.
HISTORY_LENGTH
];

66 
ho¡Ms
 = 
	`g‘TÙ®Ms
();

67 
Pow”Vm
 
vm
 : 
this
.<Pow”Vm> 
	`g‘VmLi¡
()) {

68 
i
 = 0; i < 
vm
.
	`g‘Utiz©iÚHi¡Üy
().
	`size
(); i++) {

69 
utiz©iÚHi¡Üy
[
i
] +ğ
vm
.
	`g‘Utiz©iÚHi¡Üy
().
	`g‘
(iè* vm.
	`g‘Ms
(è/ 
ho¡Ms
;

72  
M©hUt
.
	`ŒimZ”oTa
(
utiz©iÚHi¡Üy
);

73 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerVm.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËr
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
.
	gM©hUt
;

34 
public
 cÏs 
	cPow”Vm
 
ex‹nds
 
	mVm
 {

37 
public
 
fš®
 
	mHISTORY_LENGTH
 = 30;

40 
´iv©e
 
fš®
 
	mLi¡
<
	mDoubË
> 
	mutiz©iÚHi¡Üy
 = 
Ãw
 
LškedLi¡
<
DoubË
>();

43 
´iv©e
 
	m´eviousTime
;

46 
´iv©e
 
	mschedulšgIÁ”v®
;

63 
public
 
	$Pow”Vm
(

64 
fš®
 
id
,

65 
fš®
 
u£rId
,

66 
fš®
 
ms
,

67 
fš®
 
³sNumb”
,

68 
fš®
 
¿m
,

69 
fš®
 
bw
,

70 
fš®
 
size
,

71 
fš®
 
´iÜ™y
,

72 
fš®
 
SŒšg
 
vmm
,

73 
fš®
 
CloudËtScheduËr
 
şoudËtScheduËr
,

74 
fš®
 
schedulšgIÁ”v®
) {

75 
	`su³r
(
id
, 
u£rId
, 
ms
, 
³sNumb”
, 
¿m
, 
bw
, 
size
, 
vmm
, 
şoudËtScheduËr
);

76 
	`£tSchedulšgIÁ”v®
(
schedulšgIÁ”v®
);

91 @
Ov”ride


92 
public
 
	`upd©eVmProûssšg
(
fš®
 
cu¼’tTime
, fš® 
Li¡
<
DoubË
> 
msSh¬e
) {

93 
time
 = 
su³r
.
	`upd©eVmProûssšg
(
cu¼’tTime
, 
msSh¬e
);

94 ià(
cu¼’tTime
 > 
	`g‘P»viousTime
(è&& (cu¼’tTim- 0.1è% 
	`g‘SchedulšgIÁ”v®
() == 0) {

95 
utiz©iÚ
 = 
	`g‘TÙ®Utiz©iÚOfCpu
(
	`g‘CloudËtScheduËr
().
	`g‘P»viousTime
());

96 ià(
CloudSim
.
	`şock
(è!ğ0 || 
utiz©iÚ
 != 0) {

97 
	`addUtiz©iÚHi¡ÜyV®ue
(
utiz©iÚ
);

99 
	`£tP»viousTime
(
cu¼’tTime
);

101  
time
;

102 
	}
}

109 
public
 
	$g‘Utiz©iÚMad
() {

110 
mad
 = 0;

111 ià(!
	`g‘Utiz©iÚHi¡Üy
().
	`isEm±y
()) {

112 
n
 = 
HISTORY_LENGTH
;

113 ià(
HISTORY_LENGTH
 > 
	`g‘Utiz©iÚHi¡Üy
().
	`size
()) {

114 
n
 = 
	`g‘Utiz©iÚHi¡Üy
().
	`size
();

116 
medŸn
 = 
M©hUt
.
	`medŸn
(
	`g‘Utiz©iÚHi¡Üy
());

117 [] 
devŸtiÚSum
 = 
Ãw
 [
n
];

118 
i
 = 0; i < 
n
; i++) {

119 
devŸtiÚSum
[
i
] = 
M©h
.
	`abs
(
medŸn
 - 
	`g‘Utiz©iÚHi¡Üy
().
	`g‘
(i));

121 
mad
 = 
M©hUt
.
	`medŸn
(
devŸtiÚSum
);

123  
mad
;

124 
	}
}

131 
public
 
	$g‘Utiz©iÚM—n
() {

132 
m—n
 = 0;

133 ià(!
	`g‘Utiz©iÚHi¡Üy
().
	`isEm±y
()) {

134 
n
 = 
HISTORY_LENGTH
;

135 ià(
HISTORY_LENGTH
 > 
	`g‘Utiz©iÚHi¡Üy
().
	`size
()) {

136 
n
 = 
	`g‘Utiz©iÚHi¡Üy
().
	`size
();

138 
i
 = 0; i < 
n
; i++) {

139 
m—n
 +ğ
	`g‘Utiz©iÚHi¡Üy
().
	`g‘
(
i
);

141 
m—n
 /ğ
n
;

143  
m—n
 * 
	`g‘Ms
();

144 
	}
}

151 
public
 
	$g‘Utiz©iÚV¬Ÿnû
() {

152 
m—n
 = 
	`g‘Utiz©iÚM—n
();

153 
v¬Ÿnû
 = 0;

154 ià(!
	`g‘Utiz©iÚHi¡Üy
().
	`isEm±y
()) {

155 
n
 = 
HISTORY_LENGTH
;

156 ià(
HISTORY_LENGTH
 > 
	`g‘Utiz©iÚHi¡Üy
().
	`size
()) {

157 
n
 = 
	`g‘Utiz©iÚHi¡Üy
().
	`size
();

159 
i
 = 0; i < 
n
; i++) {

160 
tmp
 = 
	`g‘Utiz©iÚHi¡Üy
().
	`g‘
(
i
è* 
	`g‘Ms
(è- 
m—n
;

161 
v¬Ÿnû
 +ğ
tmp
 *mp;

163 
v¬Ÿnû
 /ğ
n
;

165  
v¬Ÿnû
;

166 
	}
}

173 
public
 
	$addUtiz©iÚHi¡ÜyV®ue
(
fš®
 
utiz©iÚ
) {

174 
	`g‘Utiz©iÚHi¡Üy
().
	`add
(0, 
utiz©iÚ
);

175 ià(
	`g‘Utiz©iÚHi¡Üy
().
	`size
(è> 
HISTORY_LENGTH
) {

176 
	`g‘Utiz©iÚHi¡Üy
().
	`»move
(
HISTORY_LENGTH
);

178 
	}
}

185 
´Ùeùed
 
	gLi¡
<
	gDoubË
> 
	$g‘Utiz©iÚHi¡Üy
() {

186  
utiz©iÚHi¡Üy
;

187 
	}
}

194 
public
 
	$g‘P»viousTime
() {

195  
´eviousTime
;

196 
	}
}

203 
public
 
	$£tP»viousTime
(
fš®
 
´eviousTime
) {

204 
this
.
´eviousTime
 =…reviousTime;

205 
	}
}

212 
public
 
	$g‘SchedulšgIÁ”v®
() {

213  
schedulšgIÁ”v®
;

214 
	}
}

221 
´Ùeùed
 
	$£tSchedulšgIÁ”v®
(
fš®
 
schedulšgIÁ”v®
) {

222 
this
.
schedulšgIÁ”v®
 = schedulingInterval;

223 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyAbstract.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gM­
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicy
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

35 
public
 
ab¡¿ù
 cÏs 
	cPow”VmAÎoÿtiÚPŞicyAb¡¿ù
 
ex‹nds
 
	mVmAÎoÿtiÚPŞicy
 {

38 
´iv©e
 
fš®
 
	mM­
<
	mSŒšg
, 
	mHo¡
> 
	mvmTabË
 = 
Ãw
 
HashM­
<
SŒšg
, Host>();

45 
public
 
Pow”VmAÎoÿtiÚPŞicyAb¡¿ù
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

46 
su³r
(
li¡
);

53 @
Ov”ride


54 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

55  
	`®loÿ‹Ho¡FÜVm
(
vm
, 
	`fšdHo¡FÜVm
(vm));

56 
	}
}

63 @
Ov”ride


64 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
, 
Ho¡
 
ho¡
) {

65 ià(
ho¡
 =ğ
nuÎ
) {

66 
Log
.
	`fÜm©Lše
("%.2f: NØsu™abË ho¡ found fÜ VM #" + 
vm
.
	`g‘Id
(è+ "\n", 
CloudSim
.
	`şock
());

67  
çl£
;

69 ià(
ho¡
.
	`vmC»©e
(
vm
)) {

70 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

71 
Log
.
	`fÜm©Lše
(

72 "%.2f: VM #" + 
vm
.
	`g‘Id
(è+ " ha b“À®loÿ‹dØthho¡ #" + 
ho¡
.getId(),

73 
CloudSim
.
	`şock
());

74  
Œue
;

76 
Log
.
	`fÜm©Lše
(

77 "%.2f: C»©iÚ oàVM #" + 
vm
.
	`g‘Id
(è+ " oÀthho¡ #" + 
ho¡
.getId() + " failed\n",

78 
CloudSim
.
	`şock
());

79  
çl£
;

80 
	}
}

88 
public
 
Pow”Ho¡
 
	$fšdHo¡FÜVm
(
Vm
 
vm
) {

89 
Pow”Ho¡
 
ho¡
 : 
this
.<Pow”Ho¡> 
	`g‘Ho¡Li¡
()) {

90 ià(
ho¡
.
	`isSu™abËFÜVm
(
vm
)) {

91  
ho¡
;

94  
nuÎ
;

95 
	}
}

101 @
Ov”ride


102 
public
 
	$d—Îoÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

103 
Ho¡
 
ho¡
 = 
	`g‘VmTabË
().
	`»move
(
vm
.
	`g‘Uid
());

104 ià(
ho¡
 !ğ
nuÎ
) {

105 
ho¡
.
	`vmDe¡roy
(
vm
);

107 
	}
}

113 @
Ov”ride


114 
public
 
Ho¡
 
	$g‘Ho¡
(
Vm
 
vm
) {

115  
	`g‘VmTabË
().
	`g‘
(
vm
.
	`g‘Uid
());

116 
	}
}

122 @
Ov”ride


123 
public
 
Ho¡
 
	$g‘Ho¡
(
vmId
, 
u£rId
) {

124  
	`g‘VmTabË
().
	`g‘
(
Vm
.
	`g‘Uid
(
u£rId
, 
vmId
));

125 
	}
}

132 
public
 
	gM­
<
	gSŒšg
, 
	gHo¡
> 
	$g‘VmTabË
() {

133  
vmTabË
;

134 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyMigrationAbstract.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

14 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

15 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

16 
impÜt
 
	gjava
.
	gut
.
	gM­
;

17 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡DyÇmicWÜklßd
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gli¡s
.
	gPow”VmLi¡
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
.
	gExecutiÚTimeM—su»r
;

42 
public
 
ab¡¿ù
 cÏs 
	cPow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
ex‹nds
 
	mPow”VmAÎoÿtiÚPŞicyAb¡¿ù
 {

45 
´iv©e
 
Pow”VmS–eùiÚPŞicy
 
	mvmS–eùiÚPŞicy
;

48 
´iv©e
 
fš®
 
	mLi¡
<
	mM­
<
	mSŒšg
, 
	mObjeù
>> 
	m§vedAÎoÿtiÚ
 = 
Ãw
 
A¼ayLi¡
<
M­
<
SŒšg
, Object>>();

51 
´iv©e
 
fš®
 
	mM­
<
	mIÁeg”
, 
	mLi¡
<
	mDoubË
>> 
	mutiz©iÚHi¡Üy
 = 
Ãw
 
HashM­
<
IÁeg”
, List<Double>>();

54 
´iv©e
 
fš®
 
	mM­
<
	mIÁeg”
, 
	mLi¡
<
	mDoubË
>> 
	mm‘ricHi¡Üy
 = 
Ãw
 
HashM­
<
IÁeg”
, List<Double>>();

57 
´iv©e
 
fš®
 
	mM­
<
	mIÁeg”
, 
	mLi¡
<
	mDoubË
>> 
	mtimeHi¡Üy
 = 
Ãw
 
HashM­
<
IÁeg”
, List<Double>>();

60 
´iv©e
 
fš®
 
	mLi¡
<
	mDoubË
> 
	mexecutiÚTimeHi¡ÜyVmS–eùiÚ
 = 
Ãw
 
LškedLi¡
<
DoubË
>();

63 
´iv©e
 
fš®
 
	mLi¡
<
	mDoubË
> 
	mexecutiÚTimeHi¡ÜyHo¡S–eùiÚ
 = 
Ãw
 
LškedLi¡
<
DoubË
>();

66 
´iv©e
 
fš®
 
	mLi¡
<
	mDoubË
> 
	mexecutiÚTimeHi¡ÜyVmR—ÎoÿtiÚ
 = 
Ãw
 
LškedLi¡
<
DoubË
>();

69 
´iv©e
 
fš®
 
	mLi¡
<
	mDoubË
> 
	mexecutiÚTimeHi¡ÜyTÙ®
 = 
Ãw
 
LškedLi¡
<
DoubË
>();

77 
public
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
(

78 
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
,

79 
Pow”VmS–eùiÚPŞicy
 
vmS–eùiÚPŞicy
) {

80 
su³r
(
ho¡Li¡
);

81 
£tVmS–eùiÚPŞicy
(
vmS–eùiÚPŞicy
);

91 @
Ov”ride


92 
public
 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
İtimizeAÎoÿtiÚ
(
Li¡
<? 
ex‹nds
 
Vm
> 
vmLi¡
) {

93 
	gExecutiÚTimeM—su»r
.
¡¬t
("optimizeAllocationTotal");

95 
	gExecutiÚTimeM—su»r
.
¡¬t
("optimizeAllocationHostSelection");

96 
	gLi¡
<
	gPow”Ho¡Utiz©iÚHi¡Üy
> 
	gov”UtizedHo¡s
 = 
g‘Ov”UtizedHo¡s
();

97 
g‘ExecutiÚTimeHi¡ÜyHo¡S–eùiÚ
().
add
(

98 
ExecutiÚTimeM—su»r
.
’d
("optimizeAllocationHostSelection"));

100 
´štOv”UtizedHo¡s
(
ov”UtizedHo¡s
);

102 
§veAÎoÿtiÚ
();

104 
	gExecutiÚTimeM—su»r
.
¡¬t
("optimizeAllocationVmSelection");

105 
	gLi¡
<? 
ex‹nds
 
	gVm
> 
	gvmsToMig¿‹
 = 
g‘VmsToMig¿‹FromHo¡s
(
ov”UtizedHo¡s
);

106 
g‘ExecutiÚTimeHi¡ÜyVmS–eùiÚ
().
add
(
ExecutiÚTimeM—su»r
.
’d
("optimizeAllocationVmSelection"));

108 
	gLog
.
´štLše
("Reallocation of VMs fromhe over-utilized hosts:");

109 
	gExecutiÚTimeM—su»r
.
¡¬t
("optimizeAllocationVmReallocation");

110 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
	gmig¿tiÚM­
 = 
g‘NewVmPÏûm’t
(
vmsToMig¿‹
, 
Ãw
 
HashS‘
<
Ho¡
>(

111 
ov”UtizedHo¡s
));

112 
g‘ExecutiÚTimeHi¡ÜyVmR—ÎoÿtiÚ
().
add
(

113 
ExecutiÚTimeM—su»r
.
’d
("optimizeAllocationVmReallocation"));

114 
	gLog
.
´štLše
();

116 
	gmig¿tiÚM­
.
addAÎ
(
g‘Mig¿tiÚM­FromUnd”UtizedHo¡s
(
ov”UtizedHo¡s
));

118 
»¡ÜeAÎoÿtiÚ
();

120 
g‘ExecutiÚTimeHi¡ÜyTÙ®
().
add
(
ExecutiÚTimeM—su»r
.
’d
("optimizeAllocationTotal"));

122  
	gmig¿tiÚM­
;

131 
´Ùeùed
 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
g‘Mig¿tiÚM­FromUnd”UtizedHo¡s
(

132 
Li¡
<
Pow”Ho¡Utiz©iÚHi¡Üy
> 
ov”UtizedHo¡s
) {

133 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
	gmig¿tiÚM­
 = 
Ãw
 
LškedLi¡
<
M­
<
SŒšg
, Object>>();

134 
	gLi¡
<
	gPow”Ho¡
> 
	gsw™chedOffHo¡s
 = 
g‘Sw™chedOffHo¡s
();

137 
	gS‘
<
	gPow”Ho¡
> 
	gexşudedHo¡sFÜFšdšgUnd”UtizedHo¡
 = 
Ãw
 
HashS‘
<
Pow”Ho¡
>();

138 
	gexşudedHo¡sFÜFšdšgUnd”UtizedHo¡
.
addAÎ
(
ov”UtizedHo¡s
);

139 
	gexşudedHo¡sFÜFšdšgUnd”UtizedHo¡
.
addAÎ
(
sw™chedOffHo¡s
);

140 
	gexşudedHo¡sFÜFšdšgUnd”UtizedHo¡
.
addAÎ
(
exŒaùHo¡Li¡FromMig¿tiÚM­
(
mig¿tiÚM­
));

143 
	gS‘
<
	gPow”Ho¡
> 
	gexşudedHo¡sFÜFšdšgNewVmPÏûm’t
 = 
Ãw
 
HashS‘
<
Pow”Ho¡
>();

144 
	gexşudedHo¡sFÜFšdšgNewVmPÏûm’t
.
addAÎ
(
ov”UtizedHo¡s
);

145 
	gexşudedHo¡sFÜFšdšgNewVmPÏûm’t
.
addAÎ
(
sw™chedOffHo¡s
);

147 
	gnumb”OfHo¡s
 = 
g‘Ho¡Li¡
().
size
();

149 
	gŒue
) {

150 ià(
	gnumb”OfHo¡s
 =ğ
exşudedHo¡sFÜFšdšgUnd”UtizedHo¡
.
size
()) {

154 
Pow”Ho¡
 
	gund”UtizedHo¡
 = 
g‘Und”UtizedHo¡
(
exşudedHo¡sFÜFšdšgUnd”UtizedHo¡
);

155 ià(
	gund”UtizedHo¡
 =ğ
nuÎ
) {

159 
	gLog
.
´štLše
("Und”-utized ho¡: ho¡ #" + 
und”UtizedHo¡
.
g‘Id
() + "\n");

161 
	gexşudedHo¡sFÜFšdšgUnd”UtizedHo¡
.
add
(
und”UtizedHo¡
);

162 
	gexşudedHo¡sFÜFšdšgNewVmPÏûm’t
.
add
(
und”UtizedHo¡
);

164 
	gLi¡
<? 
ex‹nds
 
	gVm
> 
	gvmsToMig¿‹FromUnd”UtizedHo¡
 = 
g‘VmsToMig¿‹FromUnd”UtizedHo¡
(
und”UtizedHo¡
);

165 ià(
	gvmsToMig¿‹FromUnd”UtizedHo¡
.
isEm±y
()) {

169 
	gLog
.
´št
("Reallocation of VMs fromhe under-utilized host: ");

170 ià(!
	gLog
.
isDi§bËd
()) {

171 
Vm
 
	gvm
 : 
vmsToMig¿‹FromUnd”UtizedHo¡
) {

172 
Log
.
´št
(
vm
.
g‘Id
() + " ");

175 
	gLog
.
´štLše
();

177 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
	gÃwVmPÏûm’t
 = 
g‘NewVmPÏûm’tFromUnd”UtizedHo¡
(

178 
vmsToMig¿‹FromUnd”UtizedHo¡
,

179 
exşudedHo¡sFÜFšdšgNewVmPÏûm’t
);

181 
	gexşudedHo¡sFÜFšdšgUnd”UtizedHo¡
.
addAÎ
(
exŒaùHo¡Li¡FromMig¿tiÚM­
(
ÃwVmPÏûm’t
));

183 
	gmig¿tiÚM­
.
addAÎ
(
ÃwVmPÏûm’t
);

184 
	gLog
.
´štLše
();

187  
	gmig¿tiÚM­
;

195 
´Ùeùed
 
´štOv”UtizedHo¡s
(
Li¡
<
Pow”Ho¡Utiz©iÚHi¡Üy
> 
ov”UtizedHo¡s
) {

196 ià(!
	gLog
.
isDi§bËd
()) {

197 
	gLog
.
´štLše
("Over-utilized hosts:");

198 
Pow”Ho¡Utiz©iÚHi¡Üy
 
	gho¡
 : 
ov”UtizedHo¡s
) {

199 
Log
.
´štLše
("Ho¡ #" + 
ho¡
.
g‘Id
());

201 
	gLog
.
´štLše
();

212 
public
 
Pow”Ho¡
 
fšdHo¡FÜVm
(
Vm
 
vm
, 
S‘
<? 
ex‹nds
 
Ho¡
> 
exşudedHo¡s
) {

213 
	gmšPow”
 = 
DoubË
.
MAX_VALUE
;

214 
Pow”Ho¡
 
	g®loÿ‹dHo¡
 = 
nuÎ
;

216 
Pow”Ho¡
 
	gho¡
 : 
this
.<Pow”Ho¡> 
g‘Ho¡Li¡
()) {

217 ià(
exşudedHo¡s
.
cÚšs
(
ho¡
)) {

220 ià(
	gho¡
.
isSu™abËFÜVm
(
vm
)) {

221 ià(
g‘Utiz©iÚOfCpuMs
(
ho¡
è!ğ0 && 
isHo¡Ov”UtizedAá”AÎoÿtiÚ
(ho¡, 
vm
)) {

225 
	gŒy
 {

226 
	gpow”Aá”AÎoÿtiÚ
 = 
g‘Pow”Aá”AÎoÿtiÚ
(
ho¡
, 
vm
);

227 ià(
	gpow”Aá”AÎoÿtiÚ
 != -1) {

228 
pow”Diff
 = 
pow”Aá”AÎoÿtiÚ
 - 
ho¡
.
g‘Pow”
();

229 ià(
	gpow”Diff
 < 
	gmšPow”
) {

230 
	gmšPow”
 = 
pow”Diff
;

231 
	g®loÿ‹dHo¡
 = 
ho¡
;

234 } 
ÿtch
 (
Exû±iÚ
 
e
) {

238  
	g®loÿ‹dHo¡
;

248 
´Ùeùed
 
boŞ—n
 
	$isHo¡Ov”UtizedAá”AÎoÿtiÚ
(
Pow”Ho¡
 
ho¡
, 
Vm
 
vm
) {

249 
boŞ—n
 
isHo¡Ov”UtizedAá”AÎoÿtiÚ
 = 
Œue
;

250 ià(
ho¡
.
	`vmC»©e
(
vm
)) {

251 
isHo¡Ov”UtizedAá”AÎoÿtiÚ
 = 
	`isHo¡Ov”Utized
(
ho¡
);

252 
ho¡
.
	`vmDe¡roy
(
vm
);

254  
isHo¡Ov”UtizedAá”AÎoÿtiÚ
;

255 
	}
}

263 @
Ov”ride


264 
public
 
Pow”Ho¡
 
	$fšdHo¡FÜVm
(
Vm
 
vm
) {

265 
S‘
<
Ho¡
> 
exşudedHo¡s
 = 
Ãw
 
HashS‘
<Host>();

266 ià(
vm
.
	`g‘Ho¡
(è!ğ
nuÎ
) {

267 
exşudedHo¡s
.
	`add
(
vm
.
	`g‘Ho¡
());

269  
	`fšdHo¡FÜVm
(
vm
, 
exşudedHo¡s
);

270 
	}
}

278 
´Ùeùed
 
	gLi¡
<
	gPow”Ho¡
> 
exŒaùHo¡Li¡FromMig¿tiÚM­
(
Li¡
<
M­
<
SŒšg
, 
Objeù
>> 
mig¿tiÚM­
) {

279 
	gLi¡
<
	gPow”Ho¡
> 
	gho¡s
 = 
Ãw
 
LškedLi¡
<
Pow”Ho¡
>();

280 
	gM­
<
	gSŒšg
, 
	gObjeù
> 
	gm­
 : 
mig¿tiÚM­
) {

281 
ho¡s
.
add
((
Pow”Ho¡
è
m­
.
g‘
("host"));

283  
	gho¡s
;

293 
´Ùeùed
 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
g‘NewVmPÏûm’t
(

294 
Li¡
<? 
ex‹nds
 
Vm
> 
vmsToMig¿‹
,

295 
S‘
<? 
ex‹nds
 
Ho¡
> 
exşudedHo¡s
) {

296 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
	gmig¿tiÚM­
 = 
Ãw
 
LškedLi¡
<
M­
<
SŒšg
, Object>>();

297 
	gPow”VmLi¡
.
sÜtByCpuUtiz©iÚ
(
vmsToMig¿‹
);

298 
Vm
 
	gvm
 : 
vmsToMig¿‹
) {

299 
Pow”Ho¡
 
®loÿ‹dHo¡
 = 
fšdHo¡FÜVm
(
vm
, 
exşudedHo¡s
);

300 ià(
	g®loÿ‹dHo¡
 !ğ
nuÎ
) {

301 
®loÿ‹dHo¡
.
vmC»©e
(
vm
);

302 
	gLog
.
´štLše
("VM #" + 
vm
.
g‘Id
(è+ "‡Îoÿ‹dØho¡ #" + 
®loÿ‹dHo¡
.getId());

304 
	gM­
<
	gSŒšg
, 
	gObjeù
> 
	gmig¿‹
 = 
Ãw
 
HashM­
<
SŒšg
, Object>();

305 
	gmig¿‹
.
put
("vm", 
vm
);

306 
	gmig¿‹
.
put
("ho¡", 
®loÿ‹dHo¡
);

307 
	gmig¿tiÚM­
.
add
(
mig¿‹
);

310  
	gmig¿tiÚM­
;

320 
´Ùeùed
 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
g‘NewVmPÏûm’tFromUnd”UtizedHo¡
(

321 
Li¡
<? 
ex‹nds
 
Vm
> 
vmsToMig¿‹
,

322 
S‘
<? 
ex‹nds
 
Ho¡
> 
exşudedHo¡s
) {

323 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
	gmig¿tiÚM­
 = 
Ãw
 
LškedLi¡
<
M­
<
SŒšg
, Object>>();

324 
	gPow”VmLi¡
.
sÜtByCpuUtiz©iÚ
(
vmsToMig¿‹
);

325 
Vm
 
	gvm
 : 
vmsToMig¿‹
) {

326 
Pow”Ho¡
 
®loÿ‹dHo¡
 = 
fšdHo¡FÜVm
(
vm
, 
exşudedHo¡s
);

327 ià(
	g®loÿ‹dHo¡
 !ğ
nuÎ
) {

328 
®loÿ‹dHo¡
.
vmC»©e
(
vm
);

329 
	gLog
.
´štLše
("VM #" + 
vm
.
g‘Id
(è+ "‡Îoÿ‹dØho¡ #" + 
®loÿ‹dHo¡
.getId());

331 
	gM­
<
	gSŒšg
, 
	gObjeù
> 
	gmig¿‹
 = 
Ãw
 
HashM­
<
SŒšg
, Object>();

332 
	gmig¿‹
.
put
("vm", 
vm
);

333 
	gmig¿‹
.
put
("ho¡", 
®loÿ‹dHo¡
);

334 
	gmig¿tiÚM­
.
add
(
mig¿‹
);

336 
	gLog
.
´štLše
("Not‡ll VMs can be„eallocated fromhe host,„eallocation cancelled");

337 
	gM­
<
	gSŒšg
, 
	gObjeù
> 
	gm­
 : 
mig¿tiÚM­
) {

338 ((
Ho¡
è
m­
.
g‘
("ho¡")).
vmDe¡roy
((
Vm
) map.get("vm"));

340 
	gmig¿tiÚM­
.
ş—r
();

344  
	gmig¿tiÚM­
;

353 
´Ùeùed


354 
	gLi¡
<? 
ex‹nds
 
	gVm
>

355 
g‘VmsToMig¿‹FromHo¡s
(
Li¡
<
Pow”Ho¡Utiz©iÚHi¡Üy
> 
ov”UtizedHo¡s
) {

356 
	gLi¡
<
	gVm
> 
	gvmsToMig¿‹
 = 
Ãw
 
LškedLi¡
<
Vm
>();

357 
Pow”Ho¡Utiz©iÚHi¡Üy
 
	gho¡
 : 
ov”UtizedHo¡s
) {

358 
Œue
) {

359 
Vm
 
vm
 = 
g‘VmS–eùiÚPŞicy
().
g‘VmToMig¿‹
(
ho¡
);

360 ià(
	gvm
 =ğ
nuÎ
) {

363 
	gvmsToMig¿‹
.
add
(
vm
);

364 
	gho¡
.
vmDe¡roy
(
vm
);

365 ià(!
isHo¡Ov”Utized
(
ho¡
)) {

370  
	gvmsToMig¿‹
;

379 
´Ùeùed
 
	gLi¡
<? 
ex‹nds
 
	gVm
> 
	$g‘VmsToMig¿‹FromUnd”UtizedHo¡
(
Pow”Ho¡
 
ho¡
) {

380 
Li¡
<
Vm
> 
vmsToMig¿‹
 = 
Ãw
 
LškedLi¡
<Vm>();

381 
Vm
 
vm
 : 
ho¡
.
	`g‘VmLi¡
()) {

382 ià(!
vm
.
	`isInMig¿tiÚ
()) {

383 
vmsToMig¿‹
.
	`add
(
vm
);

386  
vmsToMig¿‹
;

387 
	}
}

394 
´Ùeùed
 
	gLi¡
<
	gPow”Ho¡Utiz©iÚHi¡Üy
> 
	$g‘Ov”UtizedHo¡s
() {

395 
Li¡
<
Pow”Ho¡Utiz©iÚHi¡Üy
> 
ov”UtizedHo¡s
 = 
Ãw
 
LškedLi¡
<PowerHostUtilizationHistory>();

396 
Pow”Ho¡Utiz©iÚHi¡Üy
 
ho¡
 : 
this
.<Pow”Ho¡Utiz©iÚHi¡Üy> 
	`g‘Ho¡Li¡
()) {

397 ià(
	`isHo¡Ov”Utized
(
ho¡
)) {

398 
ov”UtizedHo¡s
.
	`add
(
ho¡
);

401  
ov”UtizedHo¡s
;

402 
	}
}

409 
´Ùeùed
 
	gLi¡
<
	gPow”Ho¡
> 
	$g‘Sw™chedOffHo¡s
() {

410 
Li¡
<
Pow”Ho¡
> 
sw™chedOffHo¡s
 = 
Ãw
 
LškedLi¡
<PowerHost>();

411 
Pow”Ho¡
 
ho¡
 : 
this
.<Pow”Ho¡> 
	`g‘Ho¡Li¡
()) {

412 ià(
ho¡
.
	`g‘Utiz©iÚOfCpu
() == 0) {

413 
sw™chedOffHo¡s
.
	`add
(
ho¡
);

416  
sw™chedOffHo¡s
;

417 
	}
}

425 
´Ùeùed
 
Pow”Ho¡
 
g‘Und”UtizedHo¡
(
S‘
<? 
ex‹nds
 
Ho¡
> 
exşudedHo¡s
) {

426 
	gmšUtiz©iÚ
 = 1;

427 
Pow”Ho¡
 
	gund”UtizedHo¡
 = 
nuÎ
;

428 
Pow”Ho¡
 
	gho¡
 : 
this
.<Pow”Ho¡> 
g‘Ho¡Li¡
()) {

429 ià(
exşudedHo¡s
.
cÚšs
(
ho¡
)) {

432 
	gutiz©iÚ
 = 
ho¡
.
g‘Utiz©iÚOfCpu
();

433 ià(
	gutiz©iÚ
 > 0 && utiz©iÚ < 
	gmšUtiz©iÚ


434 && !
¬eAÎVmsMig¿tšgOutOrAnyVmMig¿tšgIn
(
ho¡
)) {

435 
	gmšUtiz©iÚ
 = 
utiz©iÚ
;

436 
	gund”UtizedHo¡
 = 
ho¡
;

439  
	gund”UtizedHo¡
;

448 
´Ùeùed
 
boŞ—n
 
	$¬eAÎVmsMig¿tšgOutOrAnyVmMig¿tšgIn
(
Pow”Ho¡
 
ho¡
) {

449 
Pow”Vm
 
vm
 : 
ho¡
.<Pow”Vm> 
	`g‘VmLi¡
()) {

450 ià(!
vm
.
	`isInMig¿tiÚ
()) {

451  
çl£
;

453 ià(
ho¡
.
	`g‘VmsMig¿tšgIn
().
	`cÚšs
(
vm
)) {

454  
Œue
;

457  
Œue
;

458 
	}
}

466 
´Ùeùed
 
ab¡¿ù
 
boŞ—n
 
isHo¡Ov”Utized
(
Pow”Ho¡
 
ho¡
);

474 
´Ùeùed
 
	$addHi¡ÜyEÁry
(
Ho¡DyÇmicWÜklßd
 
ho¡
, 
m‘ric
) {

475 
ho¡Id
 = 
ho¡
.
	`g‘Id
();

476 ià(!
	`g‘TimeHi¡Üy
().
	`cÚšsKey
(
ho¡Id
)) {

477 
	`g‘TimeHi¡Üy
().
	`put
(
ho¡Id
, 
Ãw
 
LškedLi¡
<
DoubË
>());

479 ià(!
	`g‘Utiz©iÚHi¡Üy
().
	`cÚšsKey
(
ho¡Id
)) {

480 
	`g‘Utiz©iÚHi¡Üy
().
	`put
(
ho¡Id
, 
Ãw
 
LškedLi¡
<
DoubË
>());

482 ià(!
	`g‘M‘ricHi¡Üy
().
	`cÚšsKey
(
ho¡Id
)) {

483 
	`g‘M‘ricHi¡Üy
().
	`put
(
ho¡Id
, 
Ãw
 
LškedLi¡
<
DoubË
>());

485 ià(!
	`g‘TimeHi¡Üy
().
	`g‘
(
ho¡Id
).
	`cÚšs
(
CloudSim
.
	`şock
())) {

486 
	`g‘TimeHi¡Üy
().
	`g‘
(
ho¡Id
).
	`add
(
CloudSim
.
	`şock
());

487 
	`g‘Utiz©iÚHi¡Üy
().
	`g‘
(
ho¡Id
).
	`add
(
ho¡
.
	`g‘Utiz©iÚOfCpu
());

488 
	`g‘M‘ricHi¡Üy
().
	`g‘
(
ho¡Id
).
	`add
(
m‘ric
);

490 
	}
}

495 
´Ùeùed
 
	$§veAÎoÿtiÚ
() {

496 
	`g‘SavedAÎoÿtiÚ
().
	`ş—r
();

497 
Ho¡
 
ho¡
 : 
	`g‘Ho¡Li¡
()) {

498 
Vm
 
vm
 : 
ho¡
.
	`g‘VmLi¡
()) {

499 ià(
ho¡
.
	`g‘VmsMig¿tšgIn
().
	`cÚšs
(
vm
)) {

502 
M­
<
SŒšg
, 
Objeù
> 
m­
 = 
Ãw
 
HashM­
<String, Object>();

503 
m­
.
	`put
("ho¡", 
ho¡
);

504 
m­
.
	`put
("vm", 
vm
);

505 
	`g‘SavedAÎoÿtiÚ
().
	`add
(
m­
);

508 
	}
}

513 
´Ùeùed
 
	$»¡ÜeAÎoÿtiÚ
() {

514 
Ho¡
 
ho¡
 : 
	`g‘Ho¡Li¡
()) {

515 
ho¡
.
	`vmDe¡royAÎ
();

516 
ho¡
.
	`»®loÿ‹Mig¿tšgInVms
();

518 
M­
<
SŒšg
, 
Objeù
> 
m­
 : 
	`g‘SavedAÎoÿtiÚ
()) {

519 
Vm
 
vm
 = (Vmè
m­
.
	`g‘
("vm");

520 
Pow”Ho¡
 
ho¡
 = (Pow”Ho¡è
m­
.
	`g‘
("host");

521 ià(!
ho¡
.
	`vmC»©e
(
vm
)) {

522 
Log
.
	`´štLše
("Couldn'ˆ»¡ÜVM #" + 
vm
.
	`g‘Id
(è+ " oÀho¡ #" + 
ho¡
.getId());

523 
Sy¡em
.
	`ex™
(0);

525 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

527 
	}
}

537 
´Ùeùed
 
	$g‘Pow”Aá”AÎoÿtiÚ
(
Pow”Ho¡
 
ho¡
, 
Vm
 
vm
) {

538 
pow”
 = 0;

539 
Œy
 {

540 
pow”
 = 
ho¡
.
	`g‘Pow”Mod–
().
	`g‘Pow”
(
	`g‘MaxUtiz©iÚAá”AÎoÿtiÚ
(ho¡, 
vm
));

541 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

542 
e
.
	`´štSckT¿û
();

543 
Sy¡em
.
	`ex™
(0);

545  
pow”
;

546 
	}
}

557 
´Ùeùed
 
	$g‘MaxUtiz©iÚAá”AÎoÿtiÚ
(
Pow”Ho¡
 
ho¡
, 
Vm
 
vm
) {

558 
»que¡edTÙ®Ms
 = 
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

559 
ho¡Utiz©iÚMs
 = 
	`g‘Utiz©iÚOfCpuMs
(
ho¡
);

560 
ho¡PÙ’tŸlUtiz©iÚMs
 = 
ho¡Utiz©iÚMs
 + 
»que¡edTÙ®Ms
;

561 
³PÙ’tŸlUtiz©iÚ
 = 
ho¡PÙ’tŸlUtiz©iÚMs
 / 
ho¡
.
	`g‘TÙ®Ms
();

562  
³PÙ’tŸlUtiz©iÚ
;

563 
	}
}

572 
´Ùeùed
 
	$g‘Utiz©iÚOfCpuMs
(
Pow”Ho¡
 
ho¡
) {

573 
ho¡Utiz©iÚMs
 = 0;

574 
Vm
 
vm2
 : 
ho¡
.
	`g‘VmLi¡
()) {

575 ià(
ho¡
.
	`g‘VmsMig¿tšgIn
().
	`cÚšs
(
vm2
)) {

577 
ho¡Utiz©iÚMs
 +ğ
ho¡
.
	`g‘TÙ®AÎoÿ‹dMsFÜVm
(
vm2
) * 0.9 / 0.1;

579 
ho¡Utiz©iÚMs
 +ğ
ho¡
.
	`g‘TÙ®AÎoÿ‹dMsFÜVm
(
vm2
);

581  
ho¡Utiz©iÚMs
;

582 
	}
}

589 
´Ùeùed
 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
	$g‘SavedAÎoÿtiÚ
() {

590  
§vedAÎoÿtiÚ
;

591 
	}
}

598 
´Ùeùed
 
	$£tVmS–eùiÚPŞicy
(
Pow”VmS–eùiÚPŞicy
 
vmS–eùiÚPŞicy
) {

599 
this
.
vmS–eùiÚPŞicy
 = vmSelectionPolicy;

600 
	}
}

607 
´Ùeùed
 
Pow”VmS–eùiÚPŞicy
 
	$g‘VmS–eùiÚPŞicy
() {

608  
vmS–eùiÚPŞicy
;

609 
	}
}

616 
public
 
	gM­
<
	gIÁeg”
, 
	gLi¡
<
	gDoubË
>> 
	$g‘Utiz©iÚHi¡Üy
() {

617  
utiz©iÚHi¡Üy
;

618 
	}
}

625 
public
 
	gM­
<
	gIÁeg”
, 
	gLi¡
<
	gDoubË
>> 
	$g‘M‘ricHi¡Üy
() {

626  
m‘ricHi¡Üy
;

627 
	}
}

634 
public
 
	gM­
<
	gIÁeg”
, 
	gLi¡
<
	gDoubË
>> 
	$g‘TimeHi¡Üy
() {

635  
timeHi¡Üy
;

636 
	}
}

643 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘ExecutiÚTimeHi¡ÜyVmS–eùiÚ
() {

644  
executiÚTimeHi¡ÜyVmS–eùiÚ
;

645 
	}
}

652 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘ExecutiÚTimeHi¡ÜyHo¡S–eùiÚ
() {

653  
executiÚTimeHi¡ÜyHo¡S–eùiÚ
;

654 
	}
}

661 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘ExecutiÚTimeHi¡ÜyVmR—ÎoÿtiÚ
() {

662  
executiÚTimeHi¡ÜyVmR—ÎoÿtiÚ
;

663 
	}
}

670 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘ExecutiÚTimeHi¡ÜyTÙ®
() {

671  
executiÚTimeHi¡ÜyTÙ®
;

672 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyMigrationInterQuartileRange.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
.
	gM©hUt
;

32 
public
 cÏs 
	cPow”VmAÎoÿtiÚPŞicyMig¿tiÚIÁ”Qu¬teRªge
 
ex‹nds


33 
	mPow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 {

36 
´iv©e
 
	m§ãtyP¬am‘”
 = 0;

39 
´iv©e
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
	mçÎbackVmAÎoÿtiÚPŞicy
;

49 
public
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚIÁ”Qu¬teRªge
(

50 
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
,

51 
Pow”VmS–eùiÚPŞicy
 
vmS–eùiÚPŞicy
,

52 
§ãtyP¬am‘”
,

53 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
çÎbackVmAÎoÿtiÚPŞicy
,

54 
utiz©iÚTh»shŞd
) {

55 
su³r
(
ho¡Li¡
, 
vmS–eùiÚPŞicy
);

56 
£tSaãtyP¬am‘”
(
§ãtyP¬am‘”
);

57 
£tF®lbackVmAÎoÿtiÚPŞicy
(
çÎbackVmAÎoÿtiÚPŞicy
);

67 
public
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚIÁ”Qu¬teRªge
(

68 
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
,

69 
Pow”VmS–eùiÚPŞicy
 
vmS–eùiÚPŞicy
,

70 
§ãtyP¬am‘”
,

71 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
çÎbackVmAÎoÿtiÚPŞicy
) {

72 
su³r
(
ho¡Li¡
, 
vmS–eùiÚPŞicy
);

73 
£tSaãtyP¬am‘”
(
§ãtyP¬am‘”
);

74 
£tF®lbackVmAÎoÿtiÚPŞicy
(
çÎbackVmAÎoÿtiÚPŞicy
);

83 @
Ov”ride


84 
´Ùeùed
 
boŞ—n
 
	$isHo¡Ov”Utized
(
Pow”Ho¡
 
ho¡
) {

85 
Pow”Ho¡Utiz©iÚHi¡Üy
 
_ho¡
 = (Pow”Ho¡Utiz©iÚHi¡Üyè
ho¡
;

86 
uµ”Th»shŞd
 = 0;

87 
Œy
 {

88 
uµ”Th»shŞd
 = 1 - 
	`g‘SaãtyP¬am‘”
(è* 
	`g‘Ho¡Utiz©iÚIqr
(
_ho¡
);

89 } 
	`ÿtch
 (
IÎeg®Argum’tExû±iÚ
 
e
) {

90  
	`g‘F®lbackVmAÎoÿtiÚPŞicy
().
	`isHo¡Ov”Utized
(
ho¡
);

92 
	`addHi¡ÜyEÁry
(
ho¡
, 
uµ”Th»shŞd
);

93 
tÙ®Reque¡edMs
 = 0;

94 
Vm
 
vm
 : 
ho¡
.
	`g‘VmLi¡
()) {

95 
tÙ®Reque¡edMs
 +ğ
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

97 
utiz©iÚ
 = 
tÙ®Reque¡edMs
 / 
ho¡
.
	`g‘TÙ®Ms
();

98  
utiz©iÚ
 > 
uµ”Th»shŞd
;

99 
	}
}

107 
´Ùeùed
 
	$g‘Ho¡Utiz©iÚIqr
(
Pow”Ho¡Utiz©iÚHi¡Üy
 
ho¡
è
throws
 
IÎeg®Argum’tExû±iÚ
 {

108 [] 
d©a
 = 
ho¡
.
	`g‘Utiz©iÚHi¡Üy
();

109 ià(
M©hUt
.
	`couÁNÚZ”oBegšnšg
(
d©a
) >= 12) {

110  
M©hUt
.
	`iqr
(
d©a
);

112 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
();

113 
	}
}

120 
´Ùeùed
 
	$£tSaãtyP¬am‘”
(
§ãtyP¬am‘”
) {

121 ià(
§ãtyP¬am‘”
 < 0) {

122 
Log
.
	`´štLše
("The safety…arameter cannot be†esshan zero. The…assed value is: "

123 + 
§ãtyP¬am‘”
);

124 
Sy¡em
.
	`ex™
(0);

126 
this
.
§ãtyP¬am‘”
 = safetyParameter;

127 
	}
}

134 
´Ùeùed
 
	$g‘SaãtyP¬am‘”
() {

135  
§ãtyP¬am‘”
;

136 
	}
}

143 
public
 
	$£tF®lbackVmAÎoÿtiÚPŞicy
(

144 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
çÎbackVmAÎoÿtiÚPŞicy
) {

145 
this
.
çÎbackVmAÎoÿtiÚPŞicy
 = fallbackVmAllocationPolicy;

146 
	}
}

153 
public
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
	$g‘F®lbackVmAÎoÿtiÚPŞicy
() {

154  
çÎbackVmAÎoÿtiÚPŞicy
;

155 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyMigrationLocalRegression.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
.
	gM©hUt
;

31 
public
 cÏs 
	cPow”VmAÎoÿtiÚPŞicyMig¿tiÚLoÿlReg»ssiÚ
 
ex‹nds
 
	mPow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 {

34 
´iv©e
 
	mschedulšgIÁ”v®
;

37 
´iv©e
 
	m§ãtyP¬am‘”
;

40 
´iv©e
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
	mçÎbackVmAÎoÿtiÚPŞicy
;

51 
public
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚLoÿlReg»ssiÚ
(

52 
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
,

53 
Pow”VmS–eùiÚPŞicy
 
vmS–eùiÚPŞicy
,

54 
§ãtyP¬am‘”
,

55 
schedulšgIÁ”v®
,

56 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
çÎbackVmAÎoÿtiÚPŞicy
,

57 
utiz©iÚTh»shŞd
) {

58 
su³r
(
ho¡Li¡
, 
vmS–eùiÚPŞicy
);

59 
£tSaãtyP¬am‘”
(
§ãtyP¬am‘”
);

60 
£tSchedulšgIÁ”v®
(
schedulšgIÁ”v®
);

61 
£tF®lbackVmAÎoÿtiÚPŞicy
(
çÎbackVmAÎoÿtiÚPŞicy
);

72 
public
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚLoÿlReg»ssiÚ
(

73 
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
,

74 
Pow”VmS–eùiÚPŞicy
 
vmS–eùiÚPŞicy
,

75 
§ãtyP¬am‘”
,

76 
schedulšgIÁ”v®
,

77 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
çÎbackVmAÎoÿtiÚPŞicy
) {

78 
su³r
(
ho¡Li¡
, 
vmS–eùiÚPŞicy
);

79 
£tSaãtyP¬am‘”
(
§ãtyP¬am‘”
);

80 
£tSchedulšgIÁ”v®
(
schedulšgIÁ”v®
);

81 
£tF®lbackVmAÎoÿtiÚPŞicy
(
çÎbackVmAÎoÿtiÚPŞicy
);

90 @
Ov”ride


91 
´Ùeùed
 
boŞ—n
 
	$isHo¡Ov”Utized
(
Pow”Ho¡
 
ho¡
) {

92 
Pow”Ho¡Utiz©iÚHi¡Üy
 
_ho¡
 = (Pow”Ho¡Utiz©iÚHi¡Üyè
ho¡
;

93 [] 
utiz©iÚHi¡Üy
 = 
_ho¡
.
	`g‘Utiz©iÚHi¡Üy
();

94 
Ëngth
 = 10;

95 ià(
utiz©iÚHi¡Üy
.
Ëngth
 <†ength) {

96  
	`g‘F®lbackVmAÎoÿtiÚPŞicy
().
	`isHo¡Ov”Utized
(
ho¡
);

98 [] 
utiz©iÚHi¡ÜyRev”£d
 = 
Ãw
 [
Ëngth
];

99 
i
 = 0; i < 
Ëngth
; i++) {

100 
utiz©iÚHi¡ÜyRev”£d
[
i
] = 
utiz©iÚHi¡Üy
[
Ëngth
 - i - 1];

102 [] 
e¡im©es
 = 
nuÎ
;

103 
Œy
 {

104 
e¡im©es
 = 
	`g‘P¬am‘”E¡im©es
(
utiz©iÚHi¡ÜyRev”£d
);

105 } 
	`ÿtch
 (
IÎeg®Argum’tExû±iÚ
 
e
) {

106  
	`g‘F®lbackVmAÎoÿtiÚPŞicy
().
	`isHo¡Ov”Utized
(
ho¡
);

108 
mig¿tiÚIÁ”v®s
 = 
M©h
.
	`û
(
	`g‘MaximumVmMig¿tiÚTime
(
_ho¡
è/ 
	`g‘SchedulšgIÁ”v®
());

109 
´ediùedUtiz©iÚ
 = 
e¡im©es
[0] +ƒ¡im©es[1] * (
Ëngth
 + 
mig¿tiÚIÁ”v®s
);

110 
´ediùedUtiz©iÚ
 *ğ
	`g‘SaãtyP¬am‘”
();

112 
	`addHi¡ÜyEÁry
(
ho¡
, 
´ediùedUtiz©iÚ
);

114  
´ediùedUtiz©iÚ
 >= 1;

115 
	}
}

123 
´Ùeùed
 [] 
	$g‘P¬am‘”E¡im©es
([] 
utiz©iÚHi¡ÜyRev”£d
) {

124  
M©hUt
.
	`g‘LÛssP¬am‘”E¡im©es
(
utiz©iÚHi¡ÜyRev”£d
);

125 
	}
}

133 
´Ùeùed
 
	$g‘MaximumVmMig¿tiÚTime
(
Pow”Ho¡
 
ho¡
) {

134 
maxRam
 = 
IÁeg”
.
MIN_VALUE
;

135 
Vm
 
vm
 : 
ho¡
.
	`g‘VmLi¡
()) {

136 
¿m
 = 
vm
.
	`g‘Ram
();

137 ià(
¿m
 > 
maxRam
) {

138 
maxRam
 = 
¿m
;

141  
maxRam
 / ((è
ho¡
.
	`g‘Bw
() / (2 * 8000));

142 
	}
}

149 
´Ùeùed
 
	$£tSchedulšgIÁ”v®
(
schedulšgIÁ”v®
) {

150 
this
.
schedulšgIÁ”v®
 = schedulingInterval;

151 
	}
}

158 
´Ùeùed
 
	$g‘SchedulšgIÁ”v®
() {

159  
schedulšgIÁ”v®
;

160 
	}
}

167 
public
 
	$£tF®lbackVmAÎoÿtiÚPŞicy
(

168 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
çÎbackVmAÎoÿtiÚPŞicy
) {

169 
this
.
çÎbackVmAÎoÿtiÚPŞicy
 = fallbackVmAllocationPolicy;

170 
	}
}

177 
public
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
	$g‘F®lbackVmAÎoÿtiÚPŞicy
() {

178  
çÎbackVmAÎoÿtiÚPŞicy
;

179 
	}
}

181 
public
 
	$g‘SaãtyP¬am‘”
() {

182  
§ãtyP¬am‘”
;

183 
	}
}

185 
public
 
	$£tSaãtyP¬am‘”
(
§ãtyP¬am‘”
) {

186 
this
.
§ãtyP¬am‘”
 = safetyParameter;

187 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyMigrationLocalRegressionRobust.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
.
	gM©hUt
;

30 
public
 cÏs 
	cPow”VmAÎoÿtiÚPŞicyMig¿tiÚLoÿlReg»ssiÚRobu¡
 
ex‹nds


31 
	mPow”VmAÎoÿtiÚPŞicyMig¿tiÚLoÿlReg»ssiÚ
 {

42 
public
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚLoÿlReg»ssiÚRobu¡
(

43 
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
,

44 
Pow”VmS–eùiÚPŞicy
 
vmS–eùiÚPŞicy
,

45 
§ãtyP¬am‘”
,

46 
schedulšgIÁ”v®
,

47 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
çÎbackVmAÎoÿtiÚPŞicy
,

48 
utiz©iÚTh»shŞd
) {

49 
su³r
(

50 
ho¡Li¡
,

51 
vmS–eùiÚPŞicy
,

52 
§ãtyP¬am‘”
,

53 
schedulšgIÁ”v®
,

54 
çÎbackVmAÎoÿtiÚPŞicy
,

55 
utiz©iÚTh»shŞd
);

66 
public
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚLoÿlReg»ssiÚRobu¡
(

67 
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
,

68 
Pow”VmS–eùiÚPŞicy
 
vmS–eùiÚPŞicy
,

69 
§ãtyP¬am‘”
,

70 
schedulšgIÁ”v®
,

71 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
çÎbackVmAÎoÿtiÚPŞicy
) {

72 
su³r
(
ho¡Li¡
, 
vmS–eùiÚPŞicy
, 
§ãtyP¬am‘”
, 
schedulšgIÁ”v®
, 
çÎbackVmAÎoÿtiÚPŞicy
);

81 @
Ov”ride


82 
´Ùeùed
 [] 
	$g‘P¬am‘”E¡im©es
([] 
utiz©iÚHi¡ÜyRev”£d
) {

83  
M©hUt
.
	`g‘Robu¡LÛssP¬am‘”E¡im©es
(
utiz©iÚHi¡ÜyRev”£d
);

84 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyMigrationMedianAbsoluteDeviation.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
.
	gM©hUt
;

32 
public
 cÏs 
	cPow”VmAÎoÿtiÚPŞicyMig¿tiÚMedŸnAbsŞu‹DevŸtiÚ
 
ex‹nds


33 
	mPow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 {

36 
´iv©e
 
	m§ãtyP¬am‘”
 = 0;

39 
´iv©e
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
	mçÎbackVmAÎoÿtiÚPŞicy
;

49 
public
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚMedŸnAbsŞu‹DevŸtiÚ
(

50 
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
,

51 
Pow”VmS–eùiÚPŞicy
 
vmS–eùiÚPŞicy
,

52 
§ãtyP¬am‘”
,

53 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
çÎbackVmAÎoÿtiÚPŞicy
,

54 
utiz©iÚTh»shŞd
) {

55 
su³r
(
ho¡Li¡
, 
vmS–eùiÚPŞicy
);

56 
£tSaãtyP¬am‘”
(
§ãtyP¬am‘”
);

57 
£tF®lbackVmAÎoÿtiÚPŞicy
(
çÎbackVmAÎoÿtiÚPŞicy
);

67 
public
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚMedŸnAbsŞu‹DevŸtiÚ
(

68 
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
,

69 
Pow”VmS–eùiÚPŞicy
 
vmS–eùiÚPŞicy
,

70 
§ãtyP¬am‘”
,

71 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
çÎbackVmAÎoÿtiÚPŞicy
) {

72 
su³r
(
ho¡Li¡
, 
vmS–eùiÚPŞicy
);

73 
£tSaãtyP¬am‘”
(
§ãtyP¬am‘”
);

74 
£tF®lbackVmAÎoÿtiÚPŞicy
(
çÎbackVmAÎoÿtiÚPŞicy
);

83 @
Ov”ride


84 
´Ùeùed
 
boŞ—n
 
	$isHo¡Ov”Utized
(
Pow”Ho¡
 
ho¡
) {

85 
Pow”Ho¡Utiz©iÚHi¡Üy
 
_ho¡
 = (Pow”Ho¡Utiz©iÚHi¡Üyè
ho¡
;

86 
uµ”Th»shŞd
 = 0;

87 
Œy
 {

88 
uµ”Th»shŞd
 = 1 - 
	`g‘SaãtyP¬am‘”
(è* 
	`g‘Ho¡Utiz©iÚMad
(
_ho¡
);

89 } 
	`ÿtch
 (
IÎeg®Argum’tExû±iÚ
 
e
) {

90  
	`g‘F®lbackVmAÎoÿtiÚPŞicy
().
	`isHo¡Ov”Utized
(
ho¡
);

92 
	`addHi¡ÜyEÁry
(
ho¡
, 
uµ”Th»shŞd
);

93 
tÙ®Reque¡edMs
 = 0;

94 
Vm
 
vm
 : 
ho¡
.
	`g‘VmLi¡
()) {

95 
tÙ®Reque¡edMs
 +ğ
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

97 
utiz©iÚ
 = 
tÙ®Reque¡edMs
 / 
ho¡
.
	`g‘TÙ®Ms
();

98  
utiz©iÚ
 > 
uµ”Th»shŞd
;

99 
	}
}

107 
´Ùeùed
 
	$g‘Ho¡Utiz©iÚMad
(
Pow”Ho¡Utiz©iÚHi¡Üy
 
ho¡
è
throws
 
IÎeg®Argum’tExû±iÚ
 {

108 [] 
d©a
 = 
ho¡
.
	`g‘Utiz©iÚHi¡Üy
();

109 ià(
M©hUt
.
	`couÁNÚZ”oBegšnšg
(
d©a
) >= 12) {

110  
M©hUt
.
	`mad
(
d©a
);

112 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
();

113 
	}
}

120 
´Ùeùed
 
	$£tSaãtyP¬am‘”
(
§ãtyP¬am‘”
) {

121 ià(
§ãtyP¬am‘”
 < 0) {

122 
Log
.
	`´štLše
("The safety…arameter cannot be†esshan zero. The…assed value is: "

123 + 
§ãtyP¬am‘”
);

124 
Sy¡em
.
	`ex™
(0);

126 
this
.
§ãtyP¬am‘”
 = safetyParameter;

127 
	}
}

134 
´Ùeùed
 
	$g‘SaãtyP¬am‘”
() {

135  
§ãtyP¬am‘”
;

136 
	}
}

143 
public
 
	$£tF®lbackVmAÎoÿtiÚPŞicy
(

144 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
çÎbackVmAÎoÿtiÚPŞicy
) {

145 
this
.
çÎbackVmAÎoÿtiÚPŞicy
 = fallbackVmAllocationPolicy;

146 
	}
}

153 
public
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 
	$g‘F®lbackVmAÎoÿtiÚPŞicy
() {

154  
çÎbackVmAÎoÿtiÚPŞicy
;

155 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyMigrationStaticThreshold.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

30 
public
 cÏs 
	cPow”VmAÎoÿtiÚPŞicyMig¿tiÚSticTh»shŞd
 
ex‹nds
 
	mPow”VmAÎoÿtiÚPŞicyMig¿tiÚAb¡¿ù
 {

33 
´iv©e
 
	mutiz©iÚTh»shŞd
 = 0.9;

42 
public
 
Pow”VmAÎoÿtiÚPŞicyMig¿tiÚSticTh»shŞd
(

43 
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
,

44 
Pow”VmS–eùiÚPŞicy
 
vmS–eùiÚPŞicy
,

45 
utiz©iÚTh»shŞd
) {

46 
su³r
(
ho¡Li¡
, 
vmS–eùiÚPŞicy
);

47 
£tUtiz©iÚTh»shŞd
(
utiz©iÚTh»shŞd
);

56 @
Ov”ride


57 
´Ùeùed
 
boŞ—n
 
	$isHo¡Ov”Utized
(
Pow”Ho¡
 
ho¡
) {

58 
	`addHi¡ÜyEÁry
(
ho¡
, 
	`g‘Utiz©iÚTh»shŞd
());

59 
tÙ®Reque¡edMs
 = 0;

60 
Vm
 
vm
 : 
ho¡
.
	`g‘VmLi¡
()) {

61 
tÙ®Reque¡edMs
 +ğ
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

63 
utiz©iÚ
 = 
tÙ®Reque¡edMs
 / 
ho¡
.
	`g‘TÙ®Ms
();

64  
utiz©iÚ
 > 
	`g‘Utiz©iÚTh»shŞd
();

65 
	}
}

72 
´Ùeùed
 
	$£tUtiz©iÚTh»shŞd
(
utiz©iÚTh»shŞd
) {

73 
this
.
utiz©iÚTh»shŞd
 = utilizationThreshold;

74 
	}
}

81 
´Ùeùed
 
	$g‘Utiz©iÚTh»shŞd
() {

82  
utiz©iÚTh»shŞd
;

83 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicySimple.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gM­
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

32 
public
 cÏs 
	cPow”VmAÎoÿtiÚPŞicySim¶e
 
ex‹nds
 
	mPow”VmAÎoÿtiÚPŞicyAb¡¿ù
 {

39 
public
 
Pow”VmAÎoÿtiÚPŞicySim¶e
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

40 
su³r
(
li¡
);

47 @
Ov”ride


48 
public
 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
İtimizeAÎoÿtiÚ
(
Li¡
<? 
ex‹nds
 
Vm
> 
vmLi¡
) {

50  
	gnuÎ
;

	@src/org/cloudbus/cloudsim/power/PowerVmSelectionPolicy.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

30 
public
 
ab¡¿ù
 cÏs 
	cPow”VmS–eùiÚPŞicy
 {

38 
public
 
ab¡¿ù
 
Vm
 
g‘VmToMig¿‹
(
Pow”Ho¡
 
ho¡
);

46 
´Ùeùed
 
	mLi¡
<
	mPow”Vm
> 
	$g‘Mig¿bËVms
(
Pow”Ho¡
 
ho¡
) {

47 
Li¡
<
Pow”Vm
> 
mig¿bËVms
 = 
Ãw
 
A¼ayLi¡
<PowerVm>();

48 
Pow”Vm
 
vm
 : 
ho¡
.<Pow”Vm> 
	`g‘VmLi¡
()) {

49 ià(!
vm
.
	`isInMig¿tiÚ
()) {

50 
mig¿bËVms
.
	`add
(
vm
);

53  
mig¿bËVms
;

56 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerVmSelectionPolicyMaximumCorrelation.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	glš—r
.
	gA¼ay2DRowR—lM©rix
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
.
	gM©hUt
;

32 
public
 cÏs 
	cPow”VmS–eùiÚPŞicyMaximumCÜ»ÏtiÚ
 
ex‹nds
 
	mPow”VmS–eùiÚPŞicy
 {

35 
´iv©e
 
Pow”VmS–eùiÚPŞicy
 
	mçÎbackPŞicy
;

42 
public
 
	$Pow”VmS–eùiÚPŞicyMaximumCÜ»ÏtiÚ
(
fš®
 
Pow”VmS–eùiÚPŞicy
 
çÎbackPŞicy
) {

43 
	`su³r
();

44 
	`£tF®lbackPŞicy
(
çÎbackPŞicy
);

53 @
Ov”ride


54 
public
 
Vm
 
	$g‘VmToMig¿‹
(
fš®
 
Pow”Ho¡
 
ho¡
) {

55 
Li¡
<
Pow”Vm
> 
mig¿bËVms
 = 
	`g‘Mig¿bËVms
(
ho¡
);

56 ià(
mig¿bËVms
.
	`isEm±y
()) {

57  
nuÎ
;

59 
Li¡
<
DoubË
> 
m‘rics
 = 
nuÎ
;

60 
Œy
 {

61 
m‘rics
 = 
	`g‘CÜ»ÏtiÚCÛffic›Ás
(
	`g‘Utiz©iÚM©rix
(
mig¿bËVms
));

62 } 
	`ÿtch
 (
IÎeg®Argum’tExû±iÚ
 
e
) {

63  
	`g‘F®lbackPŞicy
().
	`g‘VmToMig¿‹
(
ho¡
);

65 
maxM‘ric
 = 
DoubË
.
MIN_VALUE
;

66 
maxIndex
 = 0;

67 
i
 = 0; i < 
m‘rics
.
	`size
(); i++) {

68 
m‘ric
 = 
m‘rics
.
	`g‘
(
i
);

69 ià(
m‘ric
 > 
maxM‘ric
) {

70 
maxM‘ric
 = 
m‘ric
;

71 
maxIndex
 = 
i
;

74  
mig¿bËVms
.
	`g‘
(
maxIndex
);

75 
	}
}

83 
´Ùeùed
 [][] 
g‘Utiz©iÚM©rix
(
fš®
 
Li¡
<
Pow”Vm
> 
vmLi¡
) {

84 
	gn
 = 
vmLi¡
.
size
();

85 
	gm
 = 
g‘MšUtiz©iÚHi¡ÜySize
(
vmLi¡
);

86 [][] 
	gutiz©iÚ
 = 
Ãw
 [
n
][
m
];

87 
	gi
 = 0; i < 
	gn
; i++) {

88 
	gLi¡
<
	gDoubË
> 
	gvmUtiz©iÚ
 = 
vmLi¡
.
g‘
(
i
).
g‘Utiz©iÚHi¡Üy
();

89 
	gj
 = 0; j < 
	gvmUtiz©iÚ
.
size
(); j++) {

90 
	gutiz©iÚ
[
i
][
j
] = 
vmUtiz©iÚ
.
g‘
(j);

93  
	gutiz©iÚ
;

102 
´Ùeùed
 
g‘MšUtiz©iÚHi¡ÜySize
(
fš®
 
Li¡
<
Pow”Vm
> 
vmLi¡
) {

103 
	gmšSize
 = 
IÁeg”
.
MAX_VALUE
;

104 
Pow”Vm
 
	gvm
 : 
vmLi¡
) {

105 
size
 = 
vm
.
g‘Utiz©iÚHi¡Üy
().size();

106 ià(
	gsize
 < 
	gmšSize
) {

107 
	gmšSize
 = 
size
;

110  
	gmšSize
;

119 
´Ùeùed
 
	gLi¡
<
	gDoubË
> 
	$g‘CÜ»ÏtiÚCÛffic›Ás
(
fš®
 [][] 
d©a
) {

120 
n
 = 
d©a
.
Ëngth
;

121 
m
 = 
d©a
[0].
Ëngth
;

122 
Li¡
<
DoubË
> 
cÜ»ÏtiÚCÛffic›Ás
 = 
Ãw
 
LškedLi¡
<Double>();

123 
i
 = 0; i < 
n
; i++) {

124 [][] 
x
 = 
Ãw
 [
n
 - 1][
m
];

125 
k
 = 0;

126 
j
 = 0; j < 
n
; j++) {

127 ià(
j
 !ğ
i
) {

128 
x
[
k
++] = 
d©a
[
j
];

133 [][] 
xT
 = 
Ãw
 
	`A¼ay2DRowR—lM©rix
(
x
).
	`Œª¥o£
().
	`g‘D©a
();

136 
cÜ»ÏtiÚCÛffic›Ás
.
	`add
(
M©hUt
.
	`ü—‹Lš—rReg»ssiÚ
(
xT
,

137 
d©a
[
i
]).
	`ÿlcuÏ‹RSqu¬ed
());

139  
cÜ»ÏtiÚCÛffic›Ás
;

140 
	}
}

147 
public
 
Pow”VmS–eùiÚPŞicy
 
	$g‘F®lbackPŞicy
() {

148  
çÎbackPŞicy
;

149 
	}
}

156 
public
 
	$£tF®lbackPŞicy
(
fš®
 
Pow”VmS–eùiÚPŞicy
 
çÎbackPŞicy
) {

157 
this
.
çÎbackPŞicy
 = fallbackPolicy;

158 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerVmSelectionPolicyMinimumMigrationTime.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

29 
public
 cÏs 
	cPow”VmS–eùiÚPŞicyMšimumMig¿tiÚTime
 
ex‹nds
 
	mPow”VmS–eùiÚPŞicy
 {

37 @
Ov”ride


38 
public
 
Vm
 
	$g‘VmToMig¿‹
(
Pow”Ho¡
 
ho¡
) {

39 
Li¡
<
Pow”Vm
> 
mig¿bËVms
 = 
	`g‘Mig¿bËVms
(
ho¡
);

40 ià(
mig¿bËVms
.
	`isEm±y
()) {

41  
nuÎ
;

43 
Vm
 
vmToMig¿‹
 = 
nuÎ
;

44 
mšM‘ric
 = 
DoubË
.
MAX_VALUE
;

45 
Vm
 
vm
 : 
mig¿bËVms
) {

46 ià(
vm
.
	`isInMig¿tiÚ
()) {

49 
m‘ric
 = 
vm
.
	`g‘Ram
();

50 ià(
m‘ric
 < 
mšM‘ric
) {

51 
mšM‘ric
 = 
m‘ric
;

52 
vmToMig¿‹
 = 
vm
;

55  
vmToMig¿‹
;

58 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerVmSelectionPolicyMinimumUtilization.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

30 
public
 cÏs 
	cPow”VmS–eùiÚPŞicyMšimumUtiz©iÚ
 
ex‹nds
 
	mPow”VmS–eùiÚPŞicy
 {

38 @
Ov”ride


39 
public
 
Vm
 
	$g‘VmToMig¿‹
(
Pow”Ho¡
 
ho¡
) {

40 
Li¡
<
Pow”Vm
> 
mig¿bËVms
 = 
	`g‘Mig¿bËVms
(
ho¡
);

41 ià(
mig¿bËVms
.
	`isEm±y
()) {

42  
nuÎ
;

44 
Vm
 
vmToMig¿‹
 = 
nuÎ
;

45 
mšM‘ric
 = 
DoubË
.
MAX_VALUE
;

46 
Vm
 
vm
 : 
mig¿bËVms
) {

47 ià(
vm
.
	`isInMig¿tiÚ
()) {

50 
m‘ric
 = 
vm
.
	`g‘TÙ®Utiz©iÚOfCpuMs
(
CloudSim
.
	`şock
()è/ vm.
	`g‘Ms
();

51 ià(
m‘ric
 < 
mšM‘ric
) {

52 
mšM‘ric
 = 
m‘ric
;

53 
vmToMig¿‹
 = 
vm
;

56  
vmToMig¿‹
;

59 
	}
}

	@src/org/cloudbus/cloudsim/power/PowerVmSelectionPolicyRandomSelection.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

30 
public
 cÏs 
	cPow”VmS–eùiÚPŞicyRªdomS–eùiÚ
 
ex‹nds
 
	mPow”VmS–eùiÚPŞicy
 {

38 @
Ov”ride


39 
public
 
Vm
 
	$g‘VmToMig¿‹
(
Pow”Ho¡
 
ho¡
) {

40 
Li¡
<
Pow”Vm
> 
mig¿bËVms
 = 
	`g‘Mig¿bËVms
(
ho¡
);

41 ià(
mig¿bËVms
.
	`isEm±y
()) {

42  
nuÎ
;

44 
šdex
 = (
Ãw
 
	`Rªdom
()).
	`ÃxtIÁ
(
mig¿bËVms
.
	`size
());

45  
mig¿bËVms
.
	`g‘
(
šdex
);

48 
	}
}

	@src/org/cloudbus/cloudsim/power/lists/PowerVmList.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gli¡s
;

11 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

12 
impÜt
 
	gjava
.
	gut
.
	gCom·¿tÜ
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gVmLi¡
;

35 
public
 cÏs 
	cPow”VmLi¡
 
ex‹nds
 
	mVmLi¡
 {

42 
public
 <
T
 
ex‹nds
 
	mVm
> 
sÜtByCpuUtiz©iÚ
(
Li¡
<T> 
vmLi¡
) {

43 
	mCŞËùiÚs
.
sÜt
(
vmLi¡
, 
Ãw
 
Com·¿tÜ
<
T
>() {

45 @
Ov”ride


46 
public
 
com·»
(
T
 
a
, T 
b
è
throws
 
CÏssCa¡Exû±iÚ
 {

47 
DoubË
 
aUtiz©iÚ
 = 
a
.
g‘TÙ®Utiz©iÚOfCpuMs
(
CloudSim
.
şock
());

48 
DoubË
 
bUtiz©iÚ
 = 
b
.
g‘TÙ®Utiz©iÚOfCpuMs
(
CloudSim
.
şock
());

49  
bUtiz©iÚ
.
com·»To
(
aUtiz©iÚ
);

	@src/org/cloudbus/cloudsim/power/models/PowerModel.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
;

28 
public
 
š‹rçû
 
	gPow”Mod–
 {

37 
g‘Pow”
(
utiz©iÚ
è
throws
 
	gIÎeg®Argum’tExû±iÚ
;

	@src/org/cloudbus/cloudsim/power/models/PowerModelCubic.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
;

27 
public
 cÏs 
	cPow”Mod–Cubic
 
im¶em’ts
 
	mPow”Mod–
 {

30 
´iv©e
 
	mmaxPow”
;

33 
´iv©e
 
	mcÚ¡ªt
;

36 
´iv©e
 
	m¡©icPow”
;

44 
public
 
	$Pow”Mod–Cubic
(
maxPow”
, 
¡©icPow”P”ûÁ
) {

45 
	`£tMaxPow”
(
maxPow”
);

46 
	`£tSticPow”
(
¡©icPow”P”ûÁ
 * 
maxPow”
);

47 
	`£tCÚ¡ªt
((
maxPow”
 - 
	`g‘SticPow”
()è/ 
M©h
.
	`pow
(100, 3));

54 @
Ov”ride


55 
public
 
	$g‘Pow”
(
utiz©iÚ
è
throws
 
IÎeg®Argum’tExû±iÚ
 {

56 ià(
utiz©iÚ
 < 0 || utilization > 1) {

57 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Utilization value must be between 0‡nd 1");

59 ià(
utiz©iÚ
 == 0) {

62  
	`g‘SticPow”
(è+ 
	`g‘CÚ¡ªt
(è* 
M©h
.
	`pow
(
utiz©iÚ
 * 100, 3);

63 
	}
}

70 
´Ùeùed
 
	$g‘MaxPow”
() {

71  
maxPow”
;

72 
	}
}

79 
´Ùeùed
 
	$£tMaxPow”
(
maxPow”
) {

80 
this
.
maxPow”
 = maxPower;

81 
	}
}

88 
´Ùeùed
 
	$g‘CÚ¡ªt
() {

89  
cÚ¡ªt
;

90 
	}
}

97 
´Ùeùed
 
	$£tCÚ¡ªt
(
cÚ¡ªt
) {

98 
this
.
cÚ¡ªt
 = constant;

99 
	}
}

106 
´Ùeùed
 
	$g‘SticPow”
() {

107  
¡©icPow”
;

108 
	}
}

115 
´Ùeùed
 
	$£tSticPow”
(
¡©icPow”
) {

116 
this
.
¡©icPow”
 = staticPower;

117 
	}
}

	@src/org/cloudbus/cloudsim/power/models/PowerModelLinear.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
;

27 
public
 cÏs 
	cPow”Mod–Lš—r
 
im¶em’ts
 
	mPow”Mod–
 {

30 
´iv©e
 
	mmaxPow”
;

33 
´iv©e
 
	mcÚ¡ªt
;

36 
´iv©e
 
	m¡©icPow”
;

44 
public
 
	$Pow”Mod–Lš—r
(
maxPow”
, 
¡©icPow”P”ûÁ
) {

45 
	`£tMaxPow”
(
maxPow”
);

46 
	`£tSticPow”
(
¡©icPow”P”ûÁ
 * 
maxPow”
);

47 
	`£tCÚ¡ªt
((
maxPow”
 - 
	`g‘SticPow”
()) / 100);

54 @
Ov”ride


55 
public
 
	$g‘Pow”
(
utiz©iÚ
è
throws
 
IÎeg®Argum’tExû±iÚ
 {

56 ià(
utiz©iÚ
 < 0 || utilization > 1) {

57 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Utilization value must be between 0‡nd 1");

59 ià(
utiz©iÚ
 == 0) {

62  
	`g‘SticPow”
(è+ 
	`g‘CÚ¡ªt
(è* 
utiz©iÚ
 * 100;

63 
	}
}

70 
´Ùeùed
 
	$g‘MaxPow”
() {

71  
maxPow”
;

72 
	}
}

79 
´Ùeùed
 
	$£tMaxPow”
(
maxPow”
) {

80 
this
.
maxPow”
 = maxPower;

81 
	}
}

88 
´Ùeùed
 
	$g‘CÚ¡ªt
() {

89  
cÚ¡ªt
;

90 
	}
}

97 
´Ùeùed
 
	$£tCÚ¡ªt
(
cÚ¡ªt
) {

98 
this
.
cÚ¡ªt
 = constant;

99 
	}
}

106 
´Ùeùed
 
	$g‘SticPow”
() {

107  
¡©icPow”
;

108 
	}
}

115 
´Ùeùed
 
	$£tSticPow”
(
¡©icPow”
) {

116 
this
.
¡©icPow”
 = staticPower;

117 
	}
}

	@src/org/cloudbus/cloudsim/power/models/PowerModelSpecPower.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
;

26 
public
 
ab¡¿ù
 cÏs 
	cPow”Mod–S³cPow”
 
im¶em’ts
 
	mPow”Mod–
 {

32 @
Ov”ride


33 
public
 
	$g‘Pow”
(
utiz©iÚ
è
throws
 
IÎeg®Argum’tExû±iÚ
 {

34 ià(
utiz©iÚ
 < 0 || utilization > 1) {

35 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Utilization value must be between 0‡nd 1");

37 ià(
utiz©iÚ
 % 0.1 == 0) {

38  
	`g‘Pow”D©a
((è(
utiz©iÚ
 * 10));

40 
utiz©iÚ1
 = (è
M©h
.
	`æoÜ
(
utiz©iÚ
 * 10);

41 
utiz©iÚ2
 = (è
M©h
.
	`û
(
utiz©iÚ
 * 10);

42 
pow”1
 = 
	`g‘Pow”D©a
(
utiz©iÚ1
);

43 
pow”2
 = 
	`g‘Pow”D©a
(
utiz©iÚ2
);

44 
d–
 = (
pow”2
 - 
pow”1
) / 10;

45 
pow”
 = 
pow”1
 + 
d–
 * (
utiz©iÚ
 - (è
utiz©iÚ1
 / 10) * 100;

46  
pow”
;

55 
´Ùeùed
 
ab¡¿ù
 
	`g‘Pow”D©a
(
šdex
);

57 
	}
}

	@src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerHpProLiantMl110G3PentiumD930.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
;

26 
public
 cÏs 
	cPow”Mod–S³cPow”HpProLŸÁMl110G3P’tiumD930
 
ex‹nds
 
	mPow”Mod–S³cPow”
 {

29 
´iv©e
 
fš®
 [] 
	mpow”
 = { 105, 112, 118, 125, 131, 137, 147, 153, 157, 164, 169 };

35 @
Ov”ride


36 
´Ùeùed
 
	$g‘Pow”D©a
(
šdex
) {

37  
pow”
[
šdex
];

38 
	}
}

	@src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerHpProLiantMl110G4Xeon3040.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
;

26 
public
 cÏs 
	cPow”Mod–S³cPow”HpProLŸÁMl110G4XeÚ3040
 
ex‹nds
 
	mPow”Mod–S³cPow”
 {

29 
´iv©e
 
fš®
 [] 
	mpow”
 = { 86, 89.4, 92.6, 96, 99.5, 102, 106, 108, 112, 114, 117 };

35 @
Ov”ride


36 
´Ùeùed
 
	$g‘Pow”D©a
(
šdex
) {

37  
pow”
[
šdex
];

38 
	}
}

	@src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerHpProLiantMl110G5Xeon3075.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
;

26 
public
 cÏs 
	cPow”Mod–S³cPow”HpProLŸÁMl110G5XeÚ3075
 
ex‹nds
 
	mPow”Mod–S³cPow”
 {

29 
´iv©e
 
fš®
 [] 
	mpow”
 = { 93.7, 97, 101, 105, 110, 116, 121, 125, 129, 133, 135 };

35 @
Ov”ride


36 
´Ùeùed
 
	$g‘Pow”D©a
(
šdex
) {

37  
pow”
[
šdex
];

38 
	}
}

	@src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerIbmX3250XeonX3470.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
;

26 
public
 cÏs 
	cPow”Mod–S³cPow”IbmX3250XeÚX3470
 
ex‹nds
 
	mPow”Mod–S³cPow”
 {

29 
´iv©e
 
fš®
 [] 
	mpow”
 = { 41.6, 46.7, 52.3, 57.9, 65.4, 73, 80.7, 89.5, 99.6, 105, 113 };

35 @
Ov”ride


36 
´Ùeùed
 
	$g‘Pow”D©a
(
šdex
) {

37  
pow”
[
šdex
];

38 
	}
}

	@src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerIbmX3250XeonX3480.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
;

26 
public
 cÏs 
	cPow”Mod–S³cPow”IbmX3250XeÚX3480
 
ex‹nds
 
	mPow”Mod–S³cPow”
 {

29 
´iv©e
 
fš®
 [] 
	mpow”
 = { 42.3, 46.7, 49.7, 55.4, 61.8, 69.3, 76.1, 87, 96.1, 106, 113 };

35 @
Ov”ride


36 
´Ùeùed
 
	$g‘Pow”D©a
(
šdex
) {

37  
pow”
[
šdex
];

38 
	}
}

	@src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerIbmX3550XeonX5670.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
;

26 
public
 cÏs 
	cPow”Mod–S³cPow”IbmX3550XeÚX5670
 
ex‹nds
 
	mPow”Mod–S³cPow”
 {

29 
´iv©e
 
fš®
 [] 
	mpow”
 = { 66, 107, 120, 131, 143, 156, 173, 191, 211, 229, 247 };

35 @
Ov”ride


36 
´Ùeùed
 
	$g‘Pow”D©a
(
šdex
) {

37  
pow”
[
šdex
];

38 
	}
}

	@src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerIbmX3550XeonX5675.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
;

26 
public
 cÏs 
	cPow”Mod–S³cPow”IbmX3550XeÚX5675
 
ex‹nds
 
	mPow”Mod–S³cPow”
 {

29 
´iv©e
 
fš®
 [] 
	mpow”
 = { 58.4, 98, 109, 118, 128, 140, 153, 170, 189, 205, 222 };

35 @
Ov”ride


36 
´Ùeùed
 
	$g‘Pow”D©a
(
šdex
) {

37  
pow”
[
šdex
];

38 
	}
}

	@src/org/cloudbus/cloudsim/power/models/PowerModelSqrt.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
;

25 
public
 cÏs 
	cPow”Mod–Sq¹
 
im¶em’ts
 
	mPow”Mod–
 {

28 
´iv©e
 
	mmaxPow”
;

31 
´iv©e
 
	mcÚ¡ªt
;

34 
´iv©e
 
	m¡©icPow”
;

42 
public
 
	$Pow”Mod–Sq¹
(
maxPow”
, 
¡©icPow”P”ûÁ
) {

43 
	`£tMaxPow”
(
maxPow”
);

44 
	`£tSticPow”
(
¡©icPow”P”ûÁ
 * 
maxPow”
);

45 
	`£tCÚ¡ªt
((
maxPow”
 - 
	`g‘SticPow”
()è/ 
M©h
.
	`sq¹
(100));

52 @
Ov”ride


53 
public
 
	$g‘Pow”
(
utiz©iÚ
è
throws
 
IÎeg®Argum’tExû±iÚ
 {

54 ià(
utiz©iÚ
 < 0 || utilization > 1) {

55 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Utilization value must be between 0‡nd 1");

57 ià(
utiz©iÚ
 == 0) {

60  
	`g‘SticPow”
(è+ 
	`g‘CÚ¡ªt
(è* 
M©h
.
	`sq¹
(
utiz©iÚ
 * 100);

61 
	}
}

68 
´Ùeùed
 
	$g‘MaxPow”
() {

69  
maxPow”
;

70 
	}
}

77 
´Ùeùed
 
	$£tMaxPow”
(
maxPow”
) {

78 
this
.
maxPow”
 = maxPower;

79 
	}
}

86 
´Ùeùed
 
	$g‘CÚ¡ªt
() {

87  
cÚ¡ªt
;

88 
	}
}

95 
´Ùeùed
 
	$£tCÚ¡ªt
(
cÚ¡ªt
) {

96 
this
.
cÚ¡ªt
 = constant;

97 
	}
}

104 
´Ùeùed
 
	$g‘SticPow”
() {

105  
¡©icPow”
;

106 
	}
}

113 
´Ùeùed
 
	$£tSticPow”
(
¡©icPow”
) {

114 
this
.
¡©icPow”
 = staticPower;

115 
	}
}

	@src/org/cloudbus/cloudsim/power/models/PowerModelSquare.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
;

25 
public
 cÏs 
	cPow”Mod–Squ¬e
 
im¶em’ts
 
	mPow”Mod–
 {

28 
´iv©e
 
	mmaxPow”
;

31 
´iv©e
 
	mcÚ¡ªt
;

34 
´iv©e
 
	m¡©icPow”
;

42 
public
 
	$Pow”Mod–Squ¬e
(
maxPow”
, 
¡©icPow”P”ûÁ
) {

43 
	`£tMaxPow”
(
maxPow”
);

44 
	`£tSticPow”
(
¡©icPow”P”ûÁ
 * 
maxPow”
);

45 
	`£tCÚ¡ªt
((
maxPow”
 - 
	`g‘SticPow”
()è/ 
M©h
.
	`pow
(100, 2));

52 @
Ov”ride


53 
public
 
	$g‘Pow”
(
utiz©iÚ
è
throws
 
IÎeg®Argum’tExû±iÚ
 {

54 ià(
utiz©iÚ
 < 0 || utilization > 1) {

55 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Utilization value must be between 0‡nd 1");

57 ià(
utiz©iÚ
 == 0) {

60  
	`g‘SticPow”
(è+ 
	`g‘CÚ¡ªt
(è* 
M©h
.
	`pow
(
utiz©iÚ
 * 100, 2);

61 
	}
}

68 
´Ùeùed
 
	$g‘MaxPow”
() {

69  
maxPow”
;

70 
	}
}

77 
´Ùeùed
 
	$£tMaxPow”
(
maxPow”
) {

78 
this
.
maxPow”
 = maxPower;

79 
	}
}

86 
´Ùeùed
 
	$g‘CÚ¡ªt
() {

87  
cÚ¡ªt
;

88 
	}
}

95 
´Ùeùed
 
	$£tCÚ¡ªt
(
cÚ¡ªt
) {

96 
this
.
cÚ¡ªt
 = constant;

97 
	}
}

104 
´Ùeùed
 
	$g‘SticPow”
() {

105  
¡©icPow”
;

106 
	}
}

113 
´Ùeùed
 
	$£tSticPow”
(
¡©icPow”
) {

114 
this
.
¡©icPow”
 = staticPower;

115 
	}
}

	@src/org/cloudbus/cloudsim/provisioners/BwProvisioner.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

23 
public
 
ab¡¿ù
 cÏs 
	cBwProvisiÚ”
 {

26 
´iv©e
 
	mbw
;

29 
´iv©e
 
	mavaabËBw
;

39 
public
 
	$BwProvisiÚ”
(
bw
) {

40 
	`£tBw
(
bw
);

41 
	`£tAvaabËBw
(
bw
);

55 
public
 
ab¡¿ù
 
boŞ—n
 
	`®loÿ‹BwFÜVm
(
Vm
 
vm
, 
bw
);

64 
public
 
ab¡¿ù
 
	`g‘AÎoÿ‹dBwFÜVm
(
Vm
 
vm
);

74 
public
 
ab¡¿ù
 
	`d—Îoÿ‹BwFÜVm
(
Vm
 
vm
);

82 
public
 
	$d—Îoÿ‹BwFÜAÎVms
() {

83 
	`£tAvaabËBw
(
	`g‘Bw
());

84 
	}
}

94 
public
 
ab¡¿ù
 
boŞ—n
 
isSu™abËFÜVm
(
Vm
 
vm
, 
bw
);

101 
public
 
	$g‘Bw
() {

102  
bw
;

103 
	}
}

110 
´Ùeùed
 
	$£tBw
(
bw
) {

111 
this
.
bw
 = bw;

112 
	}
}

122 
public
 
	$g‘AvaabËBw
() {

123  
avaabËBw
;

124 
	}
}

134 
public
 
	$g‘U£dBw
() {

135  
bw
 - 
avaabËBw
;

136 
	}
}

143 
´Ùeùed
 
	$£tAvaabËBw
(
avaabËBw
) {

144 
this
.
avaabËBw
 =‡vailableBw;

145 
	}
}

	@src/org/cloudbus/cloudsim/provisioners/BwProvisionerSimple.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gM­
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

24 
public
 cÏs 
	cBwProvisiÚ”Sim¶e
 
ex‹nds
 
	mBwProvisiÚ”
 {

27 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLÚg
> 
	mbwTabË
;

34 
public
 
	$BwProvisiÚ”Sim¶e
(
bw
) {

35 
	`su³r
(
bw
);

36 
	`£tBwTabË
(
Ãw
 
HashM­
<
SŒšg
, 
LÚg
>());

43 @
Ov”ride


44 
public
 
boŞ—n
 
	$®loÿ‹BwFÜVm
(
Vm
 
vm
, 
bw
) {

45 
	`d—Îoÿ‹BwFÜVm
(
vm
);

47 ià(
	`g‘AvaabËBw
(è>ğ
bw
) {

48 
	`£tAvaabËBw
(
	`g‘AvaabËBw
(è- 
bw
);

49 
	`g‘BwTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
bw
);

50 
vm
.
	`£tCu¼’tAÎoÿ‹dBw
(
	`g‘AÎoÿ‹dBwFÜVm
(vm));

51  
Œue
;

54 
vm
.
	`£tCu¼’tAÎoÿ‹dBw
(
	`g‘AÎoÿ‹dBwFÜVm
(vm));

55  
çl£
;

56 
	}
}

62 @
Ov”ride


63 
public
 
	$g‘AÎoÿ‹dBwFÜVm
(
Vm
 
vm
) {

64 ià(
	`g‘BwTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

65  
	`g‘BwTabË
().
	`g‘
(
vm
.
	`g‘Uid
());

68 
	}
}

74 @
Ov”ride


75 
public
 
	$d—Îoÿ‹BwFÜVm
(
Vm
 
vm
) {

76 ià(
	`g‘BwTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

77 
amouÁF»ed
 = 
	`g‘BwTabË
().
	`»move
(
vm
.
	`g‘Uid
());

78 
	`£tAvaabËBw
(
	`g‘AvaabËBw
(è+ 
amouÁF»ed
);

79 
vm
.
	`£tCu¼’tAÎoÿ‹dBw
(0);

81 
	}
}

87 @
Ov”ride


88 
public
 
	$d—Îoÿ‹BwFÜAÎVms
() {

89 
su³r
.
	`d—Îoÿ‹BwFÜAÎVms
();

90 
	`g‘BwTabË
().
	`ş—r
();

91 
	}
}

99 @
Ov”ride


100 
public
 
boŞ—n
 
	$isSu™abËFÜVm
(
Vm
 
vm
, 
bw
) {

101 
®loÿ‹dBw
 = 
	`g‘AÎoÿ‹dBwFÜVm
(
vm
);

102 
boŞ—n
 
»suÉ
 = 
	`®loÿ‹BwFÜVm
(
vm
, 
bw
);

103 
	`d—Îoÿ‹BwFÜVm
(
vm
);

104 ià(
®loÿ‹dBw
 > 0) {

105 
	`®loÿ‹BwFÜVm
(
vm
, 
®loÿ‹dBw
);

107  
»suÉ
;

108 
	}
}

115 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLÚg
> 
	$g‘BwTabË
() {

116  
bwTabË
;

117 
	}
}

124 
´Ùeùed
 
£tBwTabË
(
M­
<
SŒšg
, 
LÚg
> 
bwTabË
) {

125 
	gthis
.
	gbwTabË
 = 
bwTabË
;

	@src/org/cloudbus/cloudsim/provisioners/PeProvisioner.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

21 
public
 
ab¡¿ù
 cÏs 
	cPeProvisiÚ”
 {

24 
´iv©e
 
	mms
;

27 
´iv©e
 
	mavaabËMs
;

37 
public
 
	$PeProvisiÚ”
(
ms
) {

38 
	`£tMs
(
ms
);

39 
	`£tAvaabËMs
(
ms
);

53 
public
 
ab¡¿ù
 
boŞ—n
 
	`®loÿ‹MsFÜVm
(
Vm
 
vm
, 
ms
);

66 
public
 
ab¡¿ù
 
boŞ—n
 
	`®loÿ‹MsFÜVm
(
SŒšg
 
vmUid
, 
ms
);

79 
public
 
ab¡¿ù
 
boŞ—n
 
	`®loÿ‹MsFÜVm
(
Vm
 
vm
, 
Li¡
<
DoubË
> 
ms
);

91 
public
 
ab¡¿ù
 
Li¡
<
DoubË
> 
	`g‘AÎoÿ‹dMsFÜVm
(
Vm
 
vm
);

103 
public
 
ab¡¿ù
 
	`g‘TÙ®AÎoÿ‹dMsFÜVm
(
Vm
 
vm
);

116 
public
 
ab¡¿ù
 
	`g‘AÎoÿ‹dMsFÜVmByVœtu®PeId
(
Vm
 
vm
, 
³Id
);

126 
public
 
ab¡¿ù
 
	`d—Îoÿ‹MsFÜVm
(
Vm
 
vm
);

134 
public
 
	$d—Îoÿ‹MsFÜAÎVms
() {

135 
	`£tAvaabËMs
(
	`g‘Ms
());

136 
	}
}

143 
public
 
	$g‘Ms
() {

144  
ms
;

145 
	}
}

152 
public
 
	$£tMs
(
ms
) {

153 
this
.
ms
 = mips;

154 
	}
}

164 
public
 
	$g‘AvaabËMs
() {

165  
avaabËMs
;

166 
	}
}

173 
´Ùeùed
 
	$£tAvaabËMs
(
avaabËMs
) {

174 
this
.
avaabËMs
 =‡vailableMips;

175 
	}
}

182 
public
 
	$g‘TÙ®AÎoÿ‹dMs
() {

183 
tÙ®AÎoÿ‹dMs
 = 
	`g‘Ms
(è- 
	`g‘AvaabËMs
();

184 ià(
tÙ®AÎoÿ‹dMs
 > 0) {

185  
tÙ®AÎoÿ‹dMs
;

188 
	}
}

195 
public
 
	$g‘Utiz©iÚ
() {

196  
	`g‘TÙ®AÎoÿ‹dMs
(è/ 
	`g‘Ms
();

197 
	}
}

	@src/org/cloudbus/cloudsim/provisioners/PeProvisionerSimple.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gM­
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

24 
public
 cÏs 
	cPeProvisiÚ”Sim¶e
 
ex‹nds
 
	mPeProvisiÚ”
 {

27 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLi¡
<
	mDoubË
>> 
	m³TabË
;

37 
public
 
	$PeProvisiÚ”Sim¶e
(
avaabËMs
) {

38 
	`su³r
(
avaabËMs
);

39 
	`£tPeTabË
(
Ãw
 
HashM­
<
SŒšg
, 
A¼ayLi¡
<
DoubË
>>());

46 @
Ov”ride


47 
public
 
boŞ—n
 
	$®loÿ‹MsFÜVm
(
Vm
 
vm
, 
ms
) {

48  
	`®loÿ‹MsFÜVm
(
vm
.
	`g‘Uid
(), 
ms
);

49 
	}
}

55 @
Ov”ride


56 
public
 
boŞ—n
 
	$®loÿ‹MsFÜVm
(
SŒšg
 
vmUid
, 
ms
) {

57 ià(
	`g‘AvaabËMs
(è< 
ms
) {

58  
çl£
;

61 
Li¡
<
DoubË
> 
®loÿ‹dMs
;

63 ià(
	`g‘PeTabË
().
	`cÚšsKey
(
vmUid
)) {

64 
®loÿ‹dMs
 = 
	`g‘PeTabË
().
	`g‘
(
vmUid
);

66 
®loÿ‹dMs
 = 
Ãw
 
A¼ayLi¡
<
DoubË
>();

69 
®loÿ‹dMs
.
	`add
(
ms
);

71 
	`£tAvaabËMs
(
	`g‘AvaabËMs
(è- 
ms
);

72 
	`g‘PeTabË
().
	`put
(
vmUid
, 
®loÿ‹dMs
);

74  
Œue
;

75 
	}
}

82 @
Ov”ride


83 
public
 
boŞ—n
 
®loÿ‹MsFÜVm
(
Vm
 
vm
, 
Li¡
<
DoubË
> 
ms
) {

84 
	gtÙ®MsToAÎoÿ‹
 = 0;

85 
	g_ms
 : 
ms
) {

86 
tÙ®MsToAÎoÿ‹
 +ğ
_ms
;

89 ià(
g‘AvaabËMs
(è+ 
g‘TÙ®AÎoÿ‹dMsFÜVm
(
vm
è< 
	gtÙ®MsToAÎoÿ‹
) {

90  
	gçl£
;

93 
£tAvaabËMs
(
g‘AvaabËMs
(è+ 
g‘TÙ®AÎoÿ‹dMsFÜVm
(
vm
è- 
tÙ®MsToAÎoÿ‹
);

95 
g‘PeTabË
().
put
(
vm
.
g‘Uid
(), 
ms
);

97  
	gŒue
;

104 @
Ov”ride


105 
public
 
	$d—Îoÿ‹MsFÜAÎVms
() {

106 
su³r
.
	`d—Îoÿ‹MsFÜAÎVms
();

107 
	`g‘PeTabË
().
	`ş—r
();

108 
	}
}

116 @
Ov”ride


117 
public
 
	$g‘AÎoÿ‹dMsFÜVmByVœtu®PeId
(
Vm
 
vm
, 
³Id
) {

118 ià(
	`g‘PeTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

119 
Œy
 {

120  
	`g‘PeTabË
().
	`g‘
(
vm
.
	`g‘Uid
()).g‘(
³Id
);

121 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

125 
	}
}

131 @
Ov”ride


132 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘AÎoÿ‹dMsFÜVm
(
Vm
 
vm
) {

133 ià(
	`g‘PeTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

134  
	`g‘PeTabË
().
	`g‘
(
vm
.
	`g‘Uid
());

136  
nuÎ
;

137 
	}
}

143 @
Ov”ride


144 
public
 
	$g‘TÙ®AÎoÿ‹dMsFÜVm
(
Vm
 
vm
) {

145 ià(
	`g‘PeTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

146 
tÙ®AÎoÿ‹dMs
 = 0.0;

147 
ms
 : 
	`g‘PeTabË
().
	`g‘
(
vm
.
	`g‘Uid
())) {

148 
tÙ®AÎoÿ‹dMs
 +ğ
ms
;

150  
tÙ®AÎoÿ‹dMs
;

153 
	}
}

159 @
Ov”ride


160 
public
 
	$d—Îoÿ‹MsFÜVm
(
Vm
 
vm
) {

161 ià(
	`g‘PeTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

162 
ms
 : 
	`g‘PeTabË
().
	`g‘
(
vm
.
	`g‘Uid
())) {

163 
	`£tAvaabËMs
(
	`g‘AvaabËMs
(è+ 
ms
);

165 
	`g‘PeTabË
().
	`»move
(
vm
.
	`g‘Uid
());

167 
	}
}

174 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLi¡
<
	gDoubË
>> 
	$g‘PeTabË
() {

175  
³TabË
;

176 
	}
}

183 @
Suµ»ssW¬nšgs
("unchecked")

184 
´Ùeùed
 
£tPeTabË
(
M­
<
SŒšg
, ? 
ex‹nds
 
Li¡
<
DoubË
>> 
³TabË
) {

185 
	gthis
.
	g³TabË
 = (
M­
<
SŒšg
, 
	gLi¡
<
	gDoubË
>>)…eTable;

	@src/org/cloudbus/cloudsim/provisioners/RamProvisioner.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

22 
public
 
ab¡¿ù
 cÏs 
	cRamProvisiÚ”
 {

25 
´iv©e
 
	m¿m
;

28 
´iv©e
 
	mavaabËRam
;

38 
public
 
	$RamProvisiÚ”
(
¿m
) {

39 
	`£tRam
(
¿m
);

40 
	`£tAvaabËRam
(
¿m
);

54 
public
 
ab¡¿ù
 
boŞ—n
 
	`®loÿ‹RamFÜVm
(
Vm
 
vm
, 
¿m
);

63 
public
 
ab¡¿ù
 
	`g‘AÎoÿ‹dRamFÜVm
(
Vm
 
vm
);

73 
public
 
ab¡¿ù
 
	`d—Îoÿ‹RamFÜVm
(
Vm
 
vm
);

81 
public
 
	$d—Îoÿ‹RamFÜAÎVms
() {

82 
	`£tAvaabËRam
(
	`g‘Ram
());

83 
	}
}

93 
public
 
ab¡¿ù
 
boŞ—n
 
isSu™abËFÜVm
(
Vm
 
vm
, 
¿m
);

100 
public
 
	$g‘Ram
() {

101  
¿m
;

102 
	}
}

109 
´Ùeùed
 
	$£tRam
(
¿m
) {

110 
this
.
¿m
 =„am;

111 
	}
}

121 
public
 
	$g‘U£dRam
() {

122  
¿m
 - 
avaabËRam
;

123 
	}
}

133 
public
 
	$g‘AvaabËRam
() {

134  
avaabËRam
;

135 
	}
}

142 
´Ùeùed
 
	$£tAvaabËRam
(
avaabËRam
) {

143 
this
.
avaabËRam
 =‡vailableRam;

144 
	}
}

	@src/org/cloudbus/cloudsim/provisioners/RamProvisionerSimple.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gM­
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

24 
public
 cÏs 
	cRamProvisiÚ”Sim¶e
 
ex‹nds
 
	mRamProvisiÚ”
 {

27 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	m¿mTabË
;

34 
public
 
	$RamProvisiÚ”Sim¶e
(
avaabËRam
) {

35 
	`su³r
(
avaabËRam
);

36 
	`£tRamTabË
(
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

43 @
Ov”ride


44 
public
 
boŞ—n
 
	$®loÿ‹RamFÜVm
(
Vm
 
vm
, 
¿m
) {

45 
maxRam
 = 
vm
.
	`g‘Ram
();

47 ià(
¿m
 >ğ
maxRam
) {

48 
¿m
 = 
maxRam
;

51 
	`d—Îoÿ‹RamFÜVm
(
vm
);

53 ià(
	`g‘AvaabËRam
(è>ğ
¿m
) {

54 
	`£tAvaabËRam
(
	`g‘AvaabËRam
(è- 
¿m
);

55 
	`g‘RamTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
¿m
);

56 
vm
.
	`£tCu¼’tAÎoÿ‹dRam
(
	`g‘AÎoÿ‹dRamFÜVm
(vm));

57  
Œue
;

60 
vm
.
	`£tCu¼’tAÎoÿ‹dRam
(
	`g‘AÎoÿ‹dRamFÜVm
(vm));

62  
çl£
;

63 
	}
}

69 @
Ov”ride


70 
public
 
	$g‘AÎoÿ‹dRamFÜVm
(
Vm
 
vm
) {

71 ià(
	`g‘RamTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

72  
	`g‘RamTabË
().
	`g‘
(
vm
.
	`g‘Uid
());

75 
	}
}

81 @
Ov”ride


82 
public
 
	$d—Îoÿ‹RamFÜVm
(
Vm
 
vm
) {

83 ià(
	`g‘RamTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

84 
amouÁF»ed
 = 
	`g‘RamTabË
().
	`»move
(
vm
.
	`g‘Uid
());

85 
	`£tAvaabËRam
(
	`g‘AvaabËRam
(è+ 
amouÁF»ed
);

86 
vm
.
	`£tCu¼’tAÎoÿ‹dRam
(0);

88 
	}
}

94 @
Ov”ride


95 
public
 
	$d—Îoÿ‹RamFÜAÎVms
() {

96 
su³r
.
	`d—Îoÿ‹RamFÜAÎVms
();

97 
	`g‘RamTabË
().
	`ş—r
();

98 
	}
}

104 @
Ov”ride


105 
public
 
boŞ—n
 
	$isSu™abËFÜVm
(
Vm
 
vm
, 
¿m
) {

106 
®loÿ‹dRam
 = 
	`g‘AÎoÿ‹dRamFÜVm
(
vm
);

107 
boŞ—n
 
»suÉ
 = 
	`®loÿ‹RamFÜVm
(
vm
, 
¿m
);

108 
	`d—Îoÿ‹RamFÜVm
(
vm
);

109 ià(
®loÿ‹dRam
 > 0) {

110 
	`®loÿ‹RamFÜVm
(
vm
, 
®loÿ‹dRam
);

112  
»suÉ
;

113 
	}
}

120 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘RamTabË
() {

121  
¿mTabË
;

122 
	}
}

129 
´Ùeùed
 
£tRamTabË
(
M­
<
SŒšg
, 
IÁeg”
> 
¿mTabË
) {

130 
	gthis
.
	g¿mTabË
 = 
¿mTabË
;

	@src/org/cloudbus/cloudsim/sdn/Activity.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

18 
public
 
š‹rçû
 
	gAùiv™y
 {

	@src/org/cloudbus/cloudsim/sdn/AggregationSwitch.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

18 
public
 cÏs 
	cAgg»g©iÚSw™ch
 
ex‹nds
 
	mSw™ch
 {

20 
public
 
	$Agg»g©iÚSw™ch
(
SŒšg
 
Çme
,
bw
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
N‘wÜkO³¿tšgSy¡em
 
nos
) {

21 
	`su³r
(
Çme
, 
bw
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
nos
);

24 
	}
}

	@src/org/cloudbus/cloudsim/sdn/Arc.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

18 
public
 cÏs 
	cArc
 {

20 
	m¤cId
;

21 
	md¡Id
;

22 
	mæowId
;

23 
	m»quœedBªdwidth
;

24 
	m»quœedL©’cy
;

26 
public
 
	$Arc
(
¤cId
, 
d¡Id
, 
æowId
, 
»qBW
, 
»qL©’cy
) {

27 
	`su³r
();

28 
this
.
¤cId
 = srcId;

29 
this
.
d¡Id
 = dstId;

30 
this
.
æowId
 = flowId;

31 
this
.
»quœedBªdwidth
 = 
»qBW
;

32 
this
.
»quœedL©’cy
 = 
»qL©’cy
;

35 
public
 
	$g‘SrcId
() {

36  
¤cId
;

37 
	}
}

39 
public
 
	$g‘D¡Id
() {

40  
d¡Id
;

41 
	}
}

42 
public
 
	$g‘FlowId
() {

43  
æowId
;

44 
	}
}

46 
public
 
	$g‘Bw
() {

47  
»quœedBªdwidth
;

48 
	}
}

50 
public
 
	$g‘L©’cy
() {

51  
»quœedL©’cy
;

52 
	}
}

	@src/org/cloudbus/cloudsim/sdn/Channel.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

11 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

31 
public
 cÏs 
	cChªÃl
 {

32 
´iv©e
 
	mLi¡
<
	mNode
> 
	mnodes
;

33 
´iv©e
 
	mLi¡
<
	mLšk
> 
	mlšks
;

35 
´iv©e
 
	m®loÿ‹dBªdwidth
;

36 
´iv©e
 
	m´eviousTime
;

38 
´iv©e
 
	mLškedLi¡
<
	mT¿nsmissiÚ
> 
	mšT¿nsmissiÚ
;

39 
´iv©e
 
	mLškedLi¡
<
	mT¿nsmissiÚ
> 
	mcom¶‘ed
;

41 
´iv©e
 
fš®
 
	m¤cId
;

42 
´iv©e
 
fš®
 
	md¡Id
;

43 
´iv©e
 
fš®
 
	mchId
;

44 
´iv©e
 
fš®
 
	m»que¡edBªdwidth
;

46 
public
 
ChªÃl
(
chId
, 
¤cId
, 
d¡Id
, 
Li¡
<
Node
> 
nodes
, Li¡<
Lšk
> 
lšks
, 
bªdwidth
) {

47 
	mthis
.
	mchId
 = 
chId
;

48 
	mthis
.
	m¤cId
 = 
¤cId
;

49 
	mthis
.
	md¡Id
 = 
d¡Id
;

50 
	mthis
.
	mnodes
 = 
nodes
;

51 
	mthis
.
	mlšks
 = 
lšks
;

52 
	mthis
.
	m®loÿ‹dBªdwidth
 = 
bªdwidth
;

53 
	mthis
.
	m»que¡edBªdwidth
 = 
bªdwidth
;

54 
	mthis
.
	mšT¿nsmissiÚ
 = 
Ãw
 
LškedLi¡
<
T¿nsmissiÚ
>();

55 
	mthis
.
	mcom¶‘ed
 = 
Ãw
 
LškedLi¡
<
T¿nsmissiÚ
>();

58 
public
 
	$š™Ÿlize
() {

60 
i
=0; i<
nodes
.
	`size
()-1; i++) {

61 
Node
 
äom
 = 
nodes
.
	`g‘
(
i
);

62 
Lšk
 
lšk
 = 
lšks
.
	`g‘
(
i
);

64 
lšk
.
	`addChªÃl
(
äom
, 
this
);

66 
äom
.
	`upd©eN‘wÜkUtiz©iÚ
();

68 
nodes
.
	`g‘
Òodes.
	`size
()-1).
	`upd©eN‘wÜkUtiz©iÚ
();

69 
	}
}

71 
public
 
	$‹rmš©e
() {

73 
i
=0; i<
nodes
.
	`size
()-1; i++) {

74 
Lšk
 
lšk
 = 
lšks
.
	`g‘
(
i
);

76 
lšk
.
	`»moveChªÃl
(
this
);

78 
Node
 
node
 = 
nodes
.
	`g‘
(
i
);

79 
node
.
	`upd©eN‘wÜkUtiz©iÚ
();

81 
nodes
.
	`g‘
Òodes.
	`size
()-1).
	`upd©eN‘wÜkUtiz©iÚ
();

82 
	}
}

84 
´iv©e
 
	$g‘Lowe¡Sh¬edBªdwidth
() {

86 
lowe¡Sh¬edBw
 = 
DoubË
.
POSITIVE_INFINITY
;

88 
i
=0; i<
nodes
.
	`size
()-1; i++) {

89 
Node
 
äom
 = 
nodes
.
	`g‘
(
i
);

90 
Node
 
to
 = 
nodes
.
	`g‘
(
i
+1);

91 
Lšk
 
lšk
 = 
lšks
.
	`g‘
(
i
);

93 if(
lowe¡Sh¬edBw
 > 
lšk
.
	`g‘Sh¬edBªdwidthP”ChªÃl
(
äom
, 
to
))

94 
lowe¡Sh¬edBw
 = 
lšk
.
	`g‘Sh¬edBªdwidthP”ChªÃl
(
äom
, 
to
);

96  
lowe¡Sh¬edBw
;

98 
	}
}

100 
public
 
	$g‘Adju¡edReque¡edBªdwidth
() {

101 
lowe¡_çùÜ
 = 1.0;

104 
i
=0; i<
nodes
.
	`size
()-1; i++) {

105 
Node
 
äom
 = 
nodes
.
	`g‘
(
i
);

106 
Lšk
 
lšk
 = 
lšks
.
	`g‘
(
i
);

108 
çùÜ
 = 
lšk
.
	`g‘Dediÿ‹dChªÃlAdju¡FaùÜ
(
äom
);

109 if(
lowe¡_çùÜ
 > 
çùÜ
)

110 
lowe¡_çùÜ
 = 
çùÜ
;

113  
lowe¡_çùÜ
;

115 
	}
}

116 
public
 
boŞ—n
 
	$adju¡Dediÿ‹dBªdwidthAlÚgLšk
() {

117 if(
chId
 == -1)

118  
çl£
;

120 
lowe¡LškBwSh¬ed
 = 
DoubË
.
POSITIVE_INFINITY
;

121 
çùÜ
 = 
this
.
	`g‘Adju¡edReque¡edBªdwidth
();

122 
adju¡edBªdwidth
 = 
this
.
	`g‘Reque¡edBªdwidth
(è* 
çùÜ
;

123 if(
çùÜ
 < 1.0) {

124 
Log
.
	`´štLše
("Link.adjustDedicatedBandwidthAlongLink(): Cannot‡llocate„equested‡mount of BW"

125 +
adju¡edBªdwidth
+"/"+
this
.
	`g‘Reque¡edBªdwidth
());

129 
i
=0; i<
nodes
.
	`size
()-1; i++) {

130 
Node
 
äom
 = 
nodes
.
	`g‘
(
i
);

131 
Lšk
 
lšk
 = 
lšks
.
	`g‘
(
i
);

133 
lšk_bw
 = 
lšk
.
	`g‘Bw
();

134 
numChªÃls
 = 
lšk
.
	`g‘ChªÃlCouÁ
(
äom
);

136 
lšk_bw_³r_chªÃl
 = 
lšk_bw
 / 
numChªÃls
;

138 if(
lowe¡LškBwSh¬ed
 > 
lšk_bw_³r_chªÃl
)

139 
lowe¡LškBwSh¬ed
 = 
lšk_bw_³r_chªÃl
;

143 if(
adju¡edBªdwidth
 < 
lowe¡LškBwSh¬ed
) {

144 
	`chªgeBªdwidth
(
lowe¡LškBwSh¬ed
);

145  
Œue
;

147 if(
this
.
®loÿ‹dBªdwidth
 !ğ
adju¡edBªdwidth
) {

148 
	`chªgeBªdwidth
(
adju¡edBªdwidth
);

149  
Œue
;

152  
çl£
;

153 
	}
}

154 
public
 
boŞ—n
 
	$adju¡Sh¬edBªdwidthAlÚgLšk
() {

155 if(
chId
 != -1)

156  
çl£
;

159 
lowe¡LškBw
 = 
	`g‘Lowe¡Sh¬edBªdwidth
();

161 if(
this
.
®loÿ‹dBªdwidth
 !ğ
lowe¡LškBw
) {

162 
	`chªgeBªdwidth
(
lowe¡LškBw
);

163  
Œue
;

165  
çl£
;

166 
	}
}

168 
public
 
boŞ—n
 
	$chªgeBªdwidth
(
ÃwBªdwidth
){

169 ià(
ÃwBªdwidth
 =ğ
®loÿ‹dBªdwidth
)

170  
çl£
;

172 
boŞ—n
 
isChªged
 = 
this
.
	`upd©ePackageProûssšg
();

173 
this
.
®loÿ‹dBªdwidth
=
ÃwBªdwidth
;

175  
isChªged
;

176 
	}
}

178 
public
 
	$g‘AÎoÿ‹dBªdwidth
() {

179  
®loÿ‹dBªdwidth
;

180 
	}
}

182 
´iv©e
 
	$g‘AÎoÿ‹dBªdwidthP”T¿nsmissiÚ
() {

184 if(
šT¿nsmissiÚ
.
	`size
() == 0) {

185  
	`g‘AÎoÿ‹dBªdwidth
();

188  
	`g‘AÎoÿ‹dBªdwidth
()/
šT¿nsmissiÚ
.
	`size
();

189 
	}
}

191 
public
 
	$g‘AùiveT¿nsmissiÚNum
() {

192  
šT¿nsmissiÚ
.
	`size
();

193 
	}
}

200 
public
 
boŞ—n
 
	$upd©ePackageProûssšg
(){

201 
cu¼’tTime
 = 
CloudSim
.
	`şock
();

202 
timeS³Á
 = 
N‘wÜkO³¿tšgSy¡em
.
	`round
(
cu¼’tTime
 - 
this
.
´eviousTime
);

204 if(
timeS³Á
 <ğ0 || 
šT¿nsmissiÚ
.
	`size
() == 0)

205  
çl£
;

208 
´oûs£dThisRound
 = 
M©h
.
	`round
(
timeS³Á
*
	`g‘AÎoÿ‹dBªdwidthP”T¿nsmissiÚ
());

211 
LškedLi¡
<
T¿nsmissiÚ
> 
com¶‘edT¿nsmissiÚs
 = 
Ãw
 LinkedList<Transmission>();

212 
T¿nsmissiÚ
 
ŒªsmissiÚ
: 
šT¿nsmissiÚ
){

213 
ŒªsmissiÚ
.
	`addCom¶‘edL’gth
(
´oûs£dThisRound
);

215 ià(
ŒªsmissiÚ
.
	`isCom¶‘ed
()){

216 
com¶‘edT¿nsmissiÚs
.
	`add
(
ŒªsmissiÚ
);

217 
this
.
com¶‘ed
.
	`add
(
ŒªsmissiÚ
);

221 
this
.
šT¿nsmissiÚ
.
	`»moveAÎ
(
com¶‘edT¿nsmissiÚs
);

222 
´eviousTime
=
cu¼’tTime
;

224 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": ChªÃl.upd©ePackageProûssšg(è("+
this
.
	`toSŒšg
()+"):Tim¥’t:"+
timeS³Á
+

225 ", BW/ho¡:"+
	`g‘AÎoÿ‹dBªdwidthP”T¿nsmissiÚ
()+", Proûs£d:"+
´oûs£dThisRound
);

227 if(
com¶‘edT¿nsmissiÚs
.
	`isEm±y
())

228  
çl£
;

229  
Œue
;

230 
	}
}

233 
´iv©e
 
	$e¡im©eFšishTime
(
T¿nsmissiÚ
 
t
) {

234 
bw
 = 
	`g‘AÎoÿ‹dBªdwidthP”T¿nsmissiÚ
();

236 if(
bw
 == 0) {

237  
DoubË
.
POSITIVE_INFINITY
;

240 
eá
ğ()
t
.
	`g‘Size
()/
bw
;

241  
eá
;

242 
	}
}

245 
public
 
	$ÃxtFšishTime
() {

247 
d–ay
 = 
DoubË
.
POSITIVE_INFINITY
;

249 
T¿nsmissiÚ
 
ŒªsmissiÚ
:
this
.
šT¿nsmissiÚ
){

250 
eá
 = 
	`e¡im©eFšishTime
(
ŒªsmissiÚ
);

251 ià(
eá
<
d–ay
)

252 
d–ay
 = 
eá
;

255 if(
d–ay
 =ğ
DoubË
.
POSITIVE_INFINITY
) {

256  
d–ay
;

258 if(
d–ay
 < 0) {

259 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("ChªÃl.ÃxtFšishTime: d–ay"+
d–ay
);

262 
d–ay
=
N‘wÜkO³¿tšgSy¡em
.
	`round
(delay);

264 ià(
d–ay
 < 
N‘wÜkO³¿tšgSy¡em
.
	`g‘MšTimeB‘w“nN‘wÜkEv’ts
()) {

266 
d–ay
 = 
N‘wÜkO³¿tšgSy¡em
.
	`g‘MšTimeB‘w“nN‘wÜkEv’ts
();

269  
d–ay
;

270 
	}
}

278 
public
 
	$addT¿nsmissiÚ
(
T¿nsmissiÚ
 
ŒªsmissiÚ
){

279 ià(
this
.
šT¿nsmissiÚ
.
	`isEm±y
())

280 
´eviousTime
=
CloudSim
.
	`şock
();

282 
this
.
šT¿nsmissiÚ
.
	`add
(
ŒªsmissiÚ
);

283 
eá
 = 
	`e¡im©eFšishTime
(
ŒªsmissiÚ
);

285  
eá
;

286 
	}
}

293 
public
 
	$»moveT¿nsmissiÚ
(
T¿nsmissiÚ
 
ŒªsmissiÚ
){

294 
šT¿nsmissiÚ
.
	`»move
(
ŒªsmissiÚ
);

295 
	}
}

301 
public
 
	gLškedLi¡
<
	gT¿nsmissiÚ
> 
	$g‘A¼ivedPackages
(){

302 
LškedLi¡
<
T¿nsmissiÚ
> 
»tuºLi¡
 = 
Ãw
 LinkedList<Transmission>();

304 ià(!
com¶‘ed
.
	`isEm±y
()){

305 
»tuºLi¡
.
	`addAÎ
(
com¶‘ed
);

307 
com¶‘ed
.
	`»moveAÎ
(
»tuºLi¡
);

309  
»tuºLi¡
;

310 
	}
}

312 
public
 
	$g‘ChId
() {

313  
chId
;

314 
	}
}

316 
public
 
	$g‘La¡Upd©eTime
(){

317  
´eviousTime
;

318 
	}
}

320 
public
 
SŒšg
 
	$toSŒšg
() {

321  "ChªÃl("+
this
.
¤cId
+"->"+this.
d¡Id
+"|"+this.
chId


322 +"): BW:"+
®loÿ‹dBªdwidth
+", T¿nsmissiÚs:"+
šT¿nsmissiÚ
.
	`size
();

323 
	}
}

325 
public
 
Node
 
	$g‘La¡Node
() {

326 
Node
 
node
 = 
this
.
nodes
.
	`g‘
Ñhis.nodes.
	`size
()-1);

327  
node
;

328 
	}
}

330 
public
 
	$g‘SrcId
() {

331  
¤cId
;

332 
	}
}

334 
public
 
	$g‘D¡Id
() {

335  
d¡Id
;

336 
	}
}

338 
public
 
	$g‘Reque¡edBªdwidth
() {

339  
»que¡edBªdwidth
;

340 
	}
}

	@src/org/cloudbus/cloudsim/sdn/Constants.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

18 
public
 cÏs 
	cCÚ¡ªts
 {

20 
´iv©e
 
fš®
 
	mSDN_BASE
 = 89000000;

22 
public
 
fš®
 
	mSDN_PACKAGE
 = 
SDN_BASE
 + 1;

23 
public
 
fš®
 
	mSDN_INTERNAL_PACKAGE_PROCESS
 = 
SDN_BASE
 + 2;

24 
public
 
fš®
 
	mREQUEST_SUBMIT
 = 
SDN_BASE
 + 10;

25 
public
 
fš®
 
	mREQUEST_COMPLETED
 = 
SDN_BASE
 + 11;

26 
public
 
fš®
 
	mAPPLICATION_SUBMIT
 = 
SDN_BASE
 + 20;

27 
public
 
fš®
 
	mAPPLICATION_SUBMIT_ACK
 = 
SDN_BASE
 + 21;

	@src/org/cloudbus/cloudsim/sdn/CoreSwitch.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

18 
public
 cÏs 
	cCÜeSw™ch
 
ex‹nds
 
	mSw™ch
 {

20 
public
 
	$CÜeSw™ch
(
SŒšg
 
Çme
,
bw
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
N‘wÜkO³¿tšgSy¡em
 
nos
) {

21 
	`su³r
(
Çme
, 
bw
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
nos
);

25 
	}
}

	@src/org/cloudbus/cloudsim/sdn/EdgeSwitch.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

18 
public
 cÏs 
	cEdgeSw™ch
 
ex‹nds
 
	mSw™ch
 {

20 
public
 
	$EdgeSw™ch
(
SŒšg
 
Çme
,
bw
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
N‘wÜkO³¿tšgSy¡em
 
nos
) {

21 
	`su³r
(
Çme
, 
bw
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
nos
);

24 
	}
}

	@src/org/cloudbus/cloudsim/sdn/ForwardingRule.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gM­
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

16 
impÜt
 
	gcom
.
	ggoogË
.
	gcommÚ
.
	gcŞËù
.
	gHashBa£dTabË
;

17 
impÜt
 
	gcom
.
	ggoogË
.
	gcommÚ
.
	gcŞËù
.
	gTabË
;

28 
public
 cÏs 
	cFÜw¬dšgRuË
 {

30 
	mTabË
<
	mIÁeg”
, IÁeg”, 
	mM­
<IÁeg”,
	mNode
>> 
	mbË
;

32 
public
 
	$FÜw¬dšgRuË
(){

33 
this
.
bË
 = 
HashBa£dTabË
.
	`ü—‹
();

36 
public
 
	$ş—r
(){

37 
bË
.
	`ş—r
();

38 
	}
}

40 
public
 
	$addRuË
(
¤c
, 
de¡
, 
æowId
, 
Node
 
to
){

41 
M­
<
IÁeg”
, 
Node
> 
m­
 = 
bË
.
	`g‘
(
¤c
, 
de¡
);

42 if(
m­
 =ğ
nuÎ
)

43 
m­
 = 
Ãw
 
HashM­
<
IÁeg”
, 
Node
>();

44 
m­
.
	`put
(
æowId
, 
to
);

45 
bË
.
	`put
(
¤c
, 
de¡
, 
m­
);

46 
	}
}

48 
public
 
	$»moveRuË
(
¤c
, 
de¡
, 
æowId
){

49 
M­
<
IÁeg”
, 
Node
> 
m­
 = 
bË
.
	`g‘
(
¤c
, 
de¡
);

50 
m­
.
	`»move
(
æowId
);

51 if(
m­
.
	`isEm±y
())

52 
bË
.
	`»move
(
¤c
, 
de¡
);

54 
bË
.
	`put
(
¤c
, 
de¡
, 
m­
);

55 
	}
}

57 
public
 
Node
 
	$g‘Rou‹
(
¤c
, 
de¡
, 
æowId
) {

58 
M­
<
IÁeg”
, 
Node
> 
m­
 = 
bË
.
	`g‘
(
¤c
, 
de¡
);

59 if(
m­
==
nuÎ
)

60  
nuÎ
;

62  
m­
.
	`g‘
(
æowId
);

63 
	}
}

65 
public
 
	$´štFÜw¬dšgTabË
(
SŒšg
 
thisNode
) {

66 
IÁeg”
 
rowK
:
bË
.
	`rowKeyS‘
()) {

67 
M­
<
IÁeg”
, M­<IÁeg”,
Node
>> 
row
 = 
bË
.
	`row
(
rowK
);

68 
IÁeg”
 
cŞK
: 
row
.
	`keyS‘
()) {

69 
M­
<
IÁeg”
, 
Node
> 
nodes
 = 
row
.
	`g‘
(
cŞK
);

71 
IÁeg”
 
æowId
:
nodes
.
	`keyS‘
()) {

72 
Node
 
node
 = 
nodes
.
	`g‘
(
æowId
);

73 if(
node
 
š¡ªûof
 
SDNHo¡
) {

74 
Log
.
	`´štLše
(
thisNode
 + ": "+

75 
N‘wÜkO³¿tšgSy¡em
.
debugVmIdName
.
	`g‘
(
rowK
) + "->" +

76 
N‘wÜkO³¿tšgSy¡em
.
debugVmIdName
.
	`g‘
(
cŞK
è+ "->"+"(æow:"+
æowId
+")" +

77 ((
SDNHo¡
è
node
).
	`g‘Name
());

79 if(
node
 
š¡ªûof
 
Sw™ch
) {

80 
Log
.
	`´štLše
(
thisNode
 + ": "+

81 
N‘wÜkO³¿tšgSy¡em
.
debugVmIdName
.
	`g‘
(
rowK
) + "->" +

82 
N‘wÜkO³¿tšgSy¡em
.
debugVmIdName
.
	`g‘
(
cŞK
è+ "->"+"(æow:"+
æowId
+")" +

83 ((
Sw™ch
è
node
).
	`g‘Name
());

86 
Log
.
	`´štLše
(
thisNode
 + ": "+

87 
N‘wÜkO³¿tšgSy¡em
.
debugVmIdName
.
	`g‘
(
rowK
) + "->" +

88 
N‘wÜkO³¿tšgSy¡em
.
debugVmIdName
.
	`g‘
(
cŞK
è+ "->"+"(æow:"+
æowId
+")" +

89 
node
.
	`g‘Add»ss
());

94 
	}
}

	@src/org/cloudbus/cloudsim/sdn/Link.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

24 
public
 cÏs 
	cLšk
 {

26 
Node
 
	mhighOrd”
;

27 
Node
 
	mlowOrd”
;

28 
	mupBW
;

29 
	mdownBW
;

30 
	mÏ‹ncy
;

32 
´iv©e
 
	mLi¡
<
	mChªÃl
> 
	mupChªÃls
;

33 
´iv©e
 
	mLi¡
<
	mChªÃl
> 
	mdownChªÃls
;

35 
public
 
	$Lšk
(
Node
 
highOrd”
, Nod
lowOrd”
, 
Ï‹ncy
, 
bw
) {

36 
this
.
highOrd”
 = highOrder;

37 
this
.
lowOrd”
 =†owOrder;

38 
this
.
upBW
 =his.
downBW
 = 
bw
;

39 
this
.
Ï‹ncy
 =†atency;

41 
this
.
upChªÃls
 = 
Ãw
 
A¼ayLi¡
<
ChªÃl
>();

42 
this
.
downChªÃls
 = 
Ãw
 
A¼ayLi¡
<
ChªÃl
>();

45 
public
 
	$Lšk
(
Node
 
highOrd”
, Nod
lowOrd”
, 
Ï‹ncy
, 
upBW
, 
downBW
) {

46 
	`this
(
highOrd”
, 
lowOrd”
, 
Ï‹ncy
, 
upBW
);

47 
this
.
downBW
 = downBW;

48 
	}
}

50 
public
 
Node
 
	$g‘HighOrd”
() {

51  
highOrd”
;

52 
	}
}

54 
public
 
Node
 
	$g‘LowOrd”
() {

55  
lowOrd”
;

56 
	}
}

58 
public
 
Node
 
	$g‘Oth”Node
(
Node
 
äom
) {

59 if(
highOrd”
.
	`equ®s
(
äom
))

60  
lowOrd”
;

62  
highOrd”
;

63 
	}
}

65 
´iv©e
 
boŞ—n
 
	$isU¶šk
(
Node
 
äom
) {

66 if(
äom
.
	`equ®s
(
lowOrd”
)) {

67  
Œue
;

69 if(
äom
.
	`equ®s
(
highOrd”
)) {

70  
çl£
;

73 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Lšk.isU¶šk(): from("+
äom
+") Node is wrong!!");

75 
	}
}

77 
public
 
	$g‘Bw
(
Node
 
äom
) {

78 if(
	`isU¶šk
(
äom
)) {

79  
upBW
;

82  
downBW
;

84 
	}
}

86 
public
 
	$g‘Bw
() {

87 if(
upBW
 !ğ
downBW
) {

88 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Downlink/Uplink BW‡re different!");

90  
upBW
;

91 
	}
}

93 
public
 
	$g‘L©’cy
() {

94  
Ï‹ncy
;

95 
	}
}

97 
´iv©e
 
	gLi¡
<
	gChªÃl
> 
	$g‘ChªÃls
(
Node
 
äom
) {

98 
Li¡
<
ChªÃl
> 
chªÃls
;

99 if(
	`isU¶šk
(
äom
)) {

100 
chªÃls
 = 
this
.
upChªÃls
;

103 
chªÃls
 = 
this
.
downChªÃls
;

106  
chªÃls
;

107 
	}
}

109 
public
 
	$g‘Dediÿ‹dChªÃlAdju¡FaùÜ
(
Node
 
äom
) {

110 
çùÜ
 = 1.0;

111 
tÙ®Reque¡ed
 = 
	`g‘Reque¡edBªdwidthFÜDediÿ‹dChªÃls
(
äom
);

113 if(
tÙ®Reque¡ed
 > 
this
.
	`g‘Bw
()) {

114 
Log
.
	`´štLše
("Link.getDedicatedChannelAdjustFactor() Exceeds†ink bandwidth. Reduce„equested bandwidth");

115 
çùÜ
 = 
this
.
	`g‘Bw
(è/ 
tÙ®Reque¡ed
;

117  
çùÜ
;

118 
	}
}

120 
public
 
boŞ—n
 
	$addChªÃl
(
Node
 
äom
, 
ChªÃl
 
ch
) {

121 
	`g‘ChªÃls
(
äom
).
	`add
(
ch
);

122  
Œue
;

123 
	}
}

125 
public
 
boŞ—n
 
	$»moveChªÃl
(
ChªÃl
 
ch
) {

126 
boŞ—n
 
»t
 = 
this
.
upChªÃls
.
	`»move
(
ch
);

127 if(!
»t
) {

129 
»t
 = 
this
.
downChªÃls
.
	`»move
(
ch
);

131  
»t
;

132 
	}
}

134 
public
 
	$g‘AÎoÿ‹dBªdwidthFÜDediÿ‹dChªÃls
(
Node
 
äom
) {

136 
bw
=0;

137 
ChªÃl
 
ch
: 
	`g‘ChªÃls
(
äom
)) {

138 if(
ch
.
	`g‘ChId
() != -1) {

140 
bw
 +ğ
ch
.
	`g‘AÎoÿ‹dBªdwidth
();

143  
bw
;

144 
	}
}

146 
public
 
	$g‘Reque¡edBªdwidthFÜDediÿ‹dChªÃls
(
Node
 
äom
) {

148 
bw
=0;

149 
ChªÃl
 
ch
: 
	`g‘ChªÃls
(
äom
)) {

150 if(
ch
.
	`g‘ChId
() != -1) {

152 
bw
 +ğ
ch
.
	`g‘Reque¡edBªdwidth
();

155  
bw
;

156 
	}
}

158 
public
 
	$g‘ChªÃlCouÁ
(
Node
 
äom
) {

159 
Li¡
<
ChªÃl
> 
chªÃls
 = 
	`g‘ChªÃls
(
äom
);

160  
chªÃls
.
	`size
();

161 
	}
}

163 
public
 
	$g‘Dediÿ‹dChªÃlCouÁ
(
Node
 
äom
) {

164 
num
=0;

165 
ChªÃl
 
ch
: 
	`g‘ChªÃls
(
äom
)) {

166 if(
ch
.
	`g‘ChId
() != -1) {

168 
num
 ++;

171  
num
;

172 
	}
}

174 
public
 
	$g‘Sh¬edChªÃlCouÁ
(
Node
 
äom
) {

175 
num
 = 
	`g‘ChªÃls
(
äom
).
	`size
(è- 
	`g‘Dediÿ‹dChªÃlCouÁ
(from);

176  
num
;

177 
	}
}

179 
public
 
	$g‘F»eBªdwidth
(
Node
 
äom
) {

180 
bw
 = 
this
.
	`g‘Bw
(
äom
);

181 
dediÿ‹dBw
 = 
	`g‘AÎoÿ‹dBªdwidthFÜDediÿ‹dChªÃls
(
äom
);

183  
bw
-
dediÿ‹dBw
;

184 
	}
}

186 
public
 
	$g‘F»eBªdwidthFÜDediÿ‹dChªÃl
(
Node
 
äom
) {

187 
bw
 = 
this
.
	`g‘Bw
(
äom
);

188 
dediÿ‹dBw
 = 
	`g‘Reque¡edBªdwidthFÜDediÿ‹dChªÃls
(
äom
);

190  
bw
-
dediÿ‹dBw
;

191 
	}
}

193 
public
 
	$g‘Sh¬edBªdwidthP”ChªÃl
(
Node
 
äom
, Nod
to
) {

194 
ä“Bw
 = 
	`g‘F»eBªdwidth
(
äom
);

195 
sh¬edBwEachChªÃl
 = 
ä“Bw
 / 
	`g‘Sh¬edChªÃlCouÁ
(
äom
);

197  
sh¬edBwEachChªÃl
;

198 
	}
}

200 
public
 
SŒšg
 
	$toSŒšg
() {

201  "Lšk:"+
this
.
highOrd”
.
	`toSŒšg
(è+ " <-> "+this.
lowOrd”
.toSŒšg(è+ ", upBW:" + 
upBW
 + ", L©’cy:"+ 
Ï‹ncy
;

202 
	}
}

204 
public
 
boŞ—n
 
	$isAùive
() {

205 if(
this
.
upChªÃls
.
	`size
(è>0 ||his.
downChªÃls
.size() >0)

206  
Œue
;

208  
çl£
;

210 
	}
}

	@src/org/cloudbus/cloudsim/sdn/Middlebox.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

12 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–FuÎ
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

23 
public
 
ab¡¿ù
 cÏs 
	cMiddËbox
 {

25 
Vm
 
	mvm
;

26 
	mmsP”Op
;

27 
SDNHo¡
 
	mho¡
;

28 
	mid
=0;

30 
public
 
	$MiddËbox
(
Vm
 
vm
, 
misP”O³¿tiÚ
){

31 
this
.
vm
=vm;

32 
this
.
msP”Op
=
misP”O³¿tiÚ
;

35 
public
 
ab¡¿ù
 
	`ed™Reque¡
(
Reque¡
 
»q
);

37 
public
 
	$g‘Id
(){

38  
vm
.
	`g‘Id
();

39 
	}
}

41 
public
 
Vm
 
	$g‘Vm
(){

42  
vm
;

43 
	}
}

45 
public
 
	$£tHo¡
(
SDNHo¡
 
ho¡
){

46 
this
.
ho¡
=host;

47 
	}
}

49 
public
 
	$subm™Reque¡
(
Reque¡
 
»q
){

50 
CloudËt
 
ş
 = 
Ãw
 
	`CloudËt
(
id
++,
msP”Op
,1,0,0,Ãw 
	`Utiz©iÚMod–FuÎ
(),new UtilizationModelFull(),new UtilizationModelFull());

51 
ş
.
	`£tVmId
(
vm
.
	`g‘Id
());

53 
ho¡
.
	`scheduË
(ho¡.
	`g‘Ho¡
().
	`g‘D©aûÁ”
().
	`g‘Id
(), 0.0, 
CloudSimTags
.
CLOUDLET_SUBMIT
, 
ş
);

54 
	}
}

	@src/org/cloudbus/cloudsim/sdn/NetworkOperatingSystem.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

11 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

12 
impÜt
 
	gjava
.
	gio
.
	gFeR—d”
;

13 
impÜt
 
	gjava
.
	gm©h
.
	gBigDecim®
;

14 
impÜt
 
	gjava
.
	gm©h
.
	gRoundšgMode
;

15 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

16 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

17 
impÜt
 
	gjava
.
	gut
.
	gHashbË
;

18 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

19 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

20 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

21 
impÜt
 
	gjava
.
	gut
.
	gM­
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËrTimeSh¬ed
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

26 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

27 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

28 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmScheduËr
;

29 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

30 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

31 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEÁ™y
;

32 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

33 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	g´ediÿ‹s
.
	gP»diÿ‹Ty³
;

34 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gBwProvisiÚ”
;

35 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gBwProvisiÚ”Sim¶e
;

36 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gPeProvisiÚ”Sim¶e
;

37 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”
;

38 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”Sim¶e
;

39 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gpŞic›s
.
	gVmScheduËrTimeSh¬edEÃrgy
;

40 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONA¼ay
;

41 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONObjeù
;

42 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONV®ue
;

53 
public
 
ab¡¿ù
 cÏs 
	cN‘wÜkO³¿tšgSy¡em
 
ex‹nds
 
	mSimEÁ™y
 {

55 
SŒšg
 
	mphysiÿlTİŞogyFeName
;

56 
´Ùeùed
 
PhysiÿlTİŞogy
 
	mtİŞogy
;

58 
	mHashbË
<
	mPackage
,
	mNode
> 
	mpkgTabË
;

60 
	mHashbË
<
	mSŒšg
, 
	mChªÃl
> 
	mchªÃlTabË
;

62 
	mLi¡
<
	mHo¡
> 
	mho¡s
;

63 
´Ùeùed
 
	mLi¡
<
	mSDNHo¡
> 
	msdnho¡s
;

64 
´Ùeùed
 
	mLi¡
<
	mSw™ch
> 
	msw™ches
ğ
Ãw
 
A¼ayLi¡
<
Sw™ch
>();

65 
	mvmId
=0;

66 
´Ùeùed
 
SDND©aûÁ”
 
	md©aûÁ”
;

67 
´Ùeùed
 
	mLškedLi¡
<
	mVm
> 
	mvmLi¡
;

68 
´Ùeùed
 
	mLškedLi¡
<
	mArc
> 
	m¬cLi¡
;

69 
	mM­
<
	mIÁeg”
, 
	mArc
> 
	mæowIdArcTabË
;

70 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	mvmNameIdTabË
;

71 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	mæowNameIdTabË
;

73 
public
 
	mM­
<
	mIÁeg”
, 
	mSŒšg
> 
	mdebugVmIdName
 = 
Ãw
 
HashM­
<
IÁeg”
, String>();

74 
public
 
	mM­
<
	mIÁeg”
, 
	mSŒšg
> 
	mdebugFlowIdName
 = 
Ãw
 
HashM­
<
IÁeg”
, String>();

76 
boŞ—n
 
	misAµliÿtiÚD•loyed
 = 
çl£
;

79 
public
 
	mmšTimeB‘w“nEv’ts
 = 0.001;

80 
public
 
	m»sŞutiÚPÏûs
 = 5;

81 
public
 
	mtimeUn™
 = 1;

91 
´Ùeùed
 
ab¡¿ù
 
boŞ—n
 
d•loyAµliÿtiÚ
(
Li¡
<
Vm
> 
vms
, Li¡<
MiddËbox
> 
middËboxes
, Li¡<
Arc
> 
lšks
);

92 
´Ùeùed
 
ab¡¿ù
 
MiddËbox
 
d•loyMiddËbox
(
SŒšg
 
ty³
, 
Vm
 
vm
);

94 
public
 
	$N‘wÜkO³¿tšgSy¡em
(
SŒšg
 
feName
) {

95 
	`su³r
("NOS");

97 
this
.
physiÿlTİŞogyFeName
 = 
feName
;

99 
this
.
pkgTabË
 = 
Ãw
 
HashbË
<
Package
, 
Node
>();

100 
this
.
chªÃlTabË
 = 
Ãw
 
HashbË
<
SŒšg
, 
ChªÃl
>();

102 
	`š™PhysiÿlTİŞogy
();

105 
public
 
	$g‘MšTimeB‘w“nN‘wÜkEv’ts
() {

106  
mšTimeB‘w“nEv’ts
* 
timeUn™
;

107 
	}
}

108 
public
 
	$round
(
v®ue
) {

109 
¶aûs
 = 
»sŞutiÚPÏûs
;

110 ià(
¶aûs
 < 0è
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
();

112 if(
timeUn™
 >ğ1000è
v®ue
 = 
M©h
.
	`æoÜ
(value*timeUnit);

114 
BigDecim®
 
bd
 = 
Ãw
 
	`BigDecim®
(
v®ue
);

115 
bd
 = bd.
	`£tSÿË
(
¶aûs
, 
RoundšgMode
.
CEILING
);

116  
bd
.
	`doubËV®ue
();

118 
	}
}

122 @
Ov”ride


123 
public
 
	$¡¬tEÁ™y
(è{
	}
}

125 @
Ov”ride


126 
public
 
	$shutdownEÁ™y
(è{
	}
}

128 @
Ov”ride


129 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

130 
g
 = 
ev
.
	`g‘Tag
();

132 
g
){

133 
CÚ¡ªts
.
SDN_INTERNAL_PACKAGE_PROCESS
:

134 
	`š‹º®PackageProûss
();

136 
CloudSimTags
.
VM_CREATE_ACK
:

137 
	`´oûssVmC»©eAck
(
ev
);

139 
CloudSimTags
.
VM_DESTROY
:

140 
	`´oûssVmDe¡royAck
(
ev
);

142 : 
Sy¡em
.
out
.
	`´šn
("UnknowÀev’ˆ»ûived by "+
su³r
.
	`g‘Name
()+". Tag:"+
ev
.
	`g‘Tag
());

144 
	}
}

146 
public
 
	$´oûssVmC»©eAck
(
SimEv’t
 
ev
) {

147 
	}
}

148 
´Ùeùed
 
	$´oûssVmDe¡royAck
(
SimEv’t
 
ev
) {

149 
Vm
 
de¡royedVm
 = (Vmè
ev
.
	`g‘D©a
();

151 
Vm
 
vm
:
this
.
vmLi¡
) {

152 
ChªÃl
 
ch
 = 
this
.
	`fšdChªÃl
(
vm
.
	`g‘Id
(), 
de¡royedVm
.getId(), -1);

153 if(
ch
 !ğ
nuÎ
) {

154 
this
.
	`»moveChªÃl
(
	`g‘Key
(
vm
.
	`g‘Id
(), 
de¡royedVm
.getId(), -1));

157 
ch
 = 
this
.
	`fšdChªÃl
(
de¡royedVm
.
	`g‘Id
(), 
vm
.getId(), -1);

158 if(
ch
 !ğ
nuÎ
) {

159 
this
.
	`»moveChªÃl
(
	`g‘Key
(
de¡royedVm
.
	`g‘Id
(), 
vm
.getId(), -1));

164 
	`£ndIÁ”ÇlEv’t
();

166 
	}
}

168 
public
 
	$addPackageToChªÃl
(
Node
 
£nd”
, 
Package
 
pkg
) {

169 
¤c
 = 
pkg
.
	`g‘Origš
();

170 
d¡
 = 
pkg
.
	`g‘De¡š©iÚ
();

171 
æowId
 = 
pkg
.
	`g‘FlowId
();

173 if(
£nd”
.
	`equ®s
(£nd”.
	`g‘VMRou‹
(
¤c
, 
d¡
, 
æowId
))) {

176 
	`£ndNow
(
£nd”
.
	`g‘Add»ss
(),
CÚ¡ªts
.
SDN_PACKAGE
,
pkg
);

180 
	`upd©ePackageProûssšg
();

182 
pkgTabË
.
	`put
(
pkg
,
£nd”
);

184 
ChªÃl
 
chªÃl
=
	`fšdChªÃl
(
¤c
, 
d¡
, 
æowId
);

185 if(
chªÃl
 =ğ
nuÎ
) {

187 
chªÃl
 = 
	`ü—‹ChªÃl
(
¤c
, 
d¡
, 
æowId
, 
£nd”
);

189 if(
chªÃl
 =ğ
nuÎ
) {

193 
	`addChªÃl
(
¤c
, 
d¡
, 
æowId
, 
chªÃl
);

196 
eá
 = 
chªÃl
.
	`addT¿nsmissiÚ
(
Ãw
 
	`T¿nsmissiÚ
(
pkg
));

197 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ".addPackageToChªÃÈ("+
chªÃl


199 
N‘wÜkO³¿tšgSy¡em
.
debugVmIdName
.
	`g‘
(
¤c
) + "->"+

200 
N‘wÜkO³¿tšgSy¡em
.
debugVmIdName
.
	`g‘
(
d¡
è+ ", flow ="+
æowId
 + " /ƒá="+
eá
);

202 
	`£ndIÁ”ÇlEv’t
();

203 
	}
}

206 
´iv©e
 
	$š‹º®PackageProûss
() {

207 if(
	`upd©ePackageProûssšg
()) {

208 
	`£ndIÁ”ÇlEv’t
();

210 
	}
}

212 
´iv©e
 
	$£ndIÁ”ÇlEv’t
() {

213 
CloudSim
.
	`ÿnûlAÎ
(
	`g‘Id
(), 
Ãw
 
	`P»diÿ‹Ty³
(
CÚ¡ªts
.
SDN_INTERNAL_PACKAGE_PROCESS
));

215 if(
chªÃlTabË
.
	`size
() != 0) {

217 
d–ay
 = 
this
.
	`ÃxtFšishTime
();

218 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ".£ndIÁ”ÇlEv’t():‚exˆfšishime: "+ 
d–ay
);

220 
	`£nd
(
this
.
	`g‘Id
(), 
d–ay
, 
CÚ¡ªts
.
SDN_INTERNAL_PACKAGE_PROCESS
);

222 
	}
}

224 
´iv©e
 
	$ÃxtFšishTime
() {

225 
—¾›¡Eá
 = 
DoubË
.
POSITIVE_INFINITY
;

226 
ChªÃl
 
ch
:
chªÃlTabË
.
	`v®ues
()){

228 
eá
 = 
ch
.
	`ÃxtFšishTime
();

229 ià(
eá
<
—¾›¡Eá
){

230 
—¾›¡Eá
=
eá
;

234 if(
—¾›¡Eá
 =ğ
DoubË
.
POSITIVE_INFINITY
) {

235 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("NOS.nextFinishTime():‚ext finishime is infinite!");

237  
—¾›¡Eá
;

239 
	}
}

241 
´iv©e
 
boŞ—n
 
	$upd©ePackageProûssšg
() {

242 
boŞ—n
 
ÃedS’dEv’t
 = 
çl£
;

244 
LškedLi¡
<
ChªÃl
> 
com¶‘eChªÃls
 = 
Ãw
 LinkedList<Channel>();

246 
ChªÃl
 
ch
:
chªÃlTabË
.
	`v®ues
()){

247 
boŞ—n
 
isCom¶‘ed
 = 
ch
.
	`upd©ePackageProûssšg
();

248 
ÃedS’dEv’t
 =‚“dS’dEv’ˆ|| 
isCom¶‘ed
;

250 
com¶‘eChªÃls
.
	`add
(
ch
);

253 if(
com¶‘eChªÃls
.
	`size
() != 0) {

254 
	`´oûssCom¶‘ePackages
(
com¶‘eChªÃls
);

255 
	`upd©eChªÃl
();

258  
ÃedS’dEv’t
;

259 
	}
}

261 
´iv©e
 
´oûssCom¶‘ePackages
(
Li¡
<
ChªÃl
> 
chªÃls
){

262 
ChªÃl
 
	gch
:
chªÃls
) {

264 
Node
 
de¡
 = 
ch
.
g‘La¡Node
();

266 
T¿nsmissiÚ
 
	gŒ
:
ch
.
g‘A¼ivedPackages
()){

267 
Package
 
pkg
 = 
Œ
.
g‘Package
();

271 
	gLog
.
´štLše
(
CloudSim
.
şock
(è+ ": " + 
g‘Name
(è+ ": Packagcom¶‘ed: "+
pkg
 +". S’dØde¡š©iÚ:"+
de¡
);

272 
£ndNow
(
de¡
.
g‘Add»ss
(),
CÚ¡ªts
.
SDN_PACKAGE
,
pkg
);

277 
public
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘VmNameIdTabË
() {

278  
this
.
vmNameIdTabË
;

279 
	}
}

280 
public
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘FlowNameIdTabË
() {

281  
this
.
æowNameIdTabË
;

282 
	}
}

284 
´iv©e
 
ChªÃl
 
	$fšdChªÃl
(
äom
, 
to
, 
chªÃlId
) {

286 
ChªÃl
 
chªÃl
=
chªÃlTabË
.
	`g‘
(
	`g‘Key
(
äom
,
to
, 
chªÃlId
));

288 ià(
chªÃl
 =ğ
nuÎ
) {

290 
chªÃl
=
chªÃlTabË
.
	`g‘
(
	`g‘Key
(
äom
,
to
));

292  
chªÃl
;

293 
	}
}

295 
´iv©e
 
	$addChªÃl
(
¤c
, 
d¡
, 
chId
, 
ChªÃl
 
ch
) {

297 
this
.
chªÃlTabË
.
	`put
(
	`g‘Key
(
¤c
, 
d¡
, 
chId
), 
ch
);

298 
ch
.
	`š™Ÿlize
();

299 
	`adju¡AÎChªÃls
();

300 
	}
}

302 
´iv©e
 
ChªÃl
 
	$»moveChªÃl
(
SŒšg
 
key
) {

304 
ChªÃl
 
ch
 = 
this
.
chªÃlTabË
.
	`»move
(
key
);

305 
ch
.
	`‹rmš©e
();

306 
	`adju¡AÎChªÃls
();

307  
ch
;

308 
	}
}

310 
´iv©e
 
	$adju¡AÎChªÃls
() {

311 
ChªÃl
 
ch
:
this
.
chªÃlTabË
.
	`v®ues
()) {

312 if(
ch
.
	`adju¡Dediÿ‹dBªdwidthAlÚgLšk
()) {

317 
ChªÃl
 
ch
:
this
.
chªÃlTabË
.
	`v®ues
()) {

318 if(
ch
.
	`adju¡Sh¬edBªdwidthAlÚgLšk
()) {

322 
	}
}

324 
´iv©e
 
ChªÃl
 
	$ü—‹ChªÃl
(
¤c
, 
d¡
, 
æowId
, 
Node
 
¤cNode
) {

325 
Li¡
<
Node
> 
nodes
 = 
Ãw
 
A¼ayLi¡
<Node>();

326 
Li¡
<
Lšk
> 
lšks
 = 
Ãw
 
A¼ayLi¡
<Link>();

328 
Node
 
Üigš
 = 
¤cNode
;

329 
Node
 
de¡
 = 
Üigš
.
	`g‘VMRou‹
(
¤c
, 
d¡
, 
æowId
);

331 if(
de¡
==
nuÎ
)

332  
nuÎ
;

334 
Lšk
 
lšk
;

335 
lowe¡Bw
 = 
DoubË
.
POSITIVE_INFINITY
;

336 
»qBw
 = 0;

337 if(
æowId
 != -1) {

338 
Arc
 
æow
 = 
this
.
æowIdArcTabË
.
	`g‘
(
æowId
);

339 
»qBw
 = 
æow
.
	`g‘Bw
();

342 
nodes
.
	`add
(
Üigš
);

344 
Œue
) {

345 
lšk
 = 
this
.
tİŞogy
.
	`g‘Lšk
(
Üigš
.
	`g‘Add»ss
(), 
de¡
.getAddress());

346 
lšks
.
	`add
(
lšk
);

347 
nodes
.
	`add
(
de¡
);

349 if(
lowe¡Bw
 > 
lšk
.
	`g‘F»eBªdwidth
(
Üigš
)) {

350 
lowe¡Bw
 = 
lšk
.
	`g‘F»eBªdwidth
(
Üigš
);

353 if(
de¡
 
š¡ªûof
 
SDNHo¡
)

356 
Üigš
 = 
de¡
;

357 
de¡
 = 
Üigš
.
	`g‘VMRou‹
(
¤c
, 
d¡
, 
æowId
);

360 if(
æowId
 !ğ-1 && 
lowe¡Bw
 < 
»qBw
) {

363 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": F»bªdwidth i Ës thª„equœed.("+
	`g‘Key
(
¤c
,
d¡
,
æowId
)+"): ReqBW="+ 
»qBw
 + "/ F»e="+
lowe¡Bw
);

367 
ChªÃl
 
chªÃl
=
Ãw
 
	`ChªÃl
(
æowId
, 
¤c
, 
d¡
, 
nodes
, 
lšks
, 
»qBw
);

369  
chªÃl
;

370 
	}
}

372 
´iv©e
 
	$upd©eChªÃl
() {

373 
Li¡
<
SŒšg
> 
»moveCh
 = 
Ãw
 
A¼ayLi¡
<String>();

374 
SŒšg
 
key
:
this
.
chªÃlTabË
.
	`keyS‘
()) {

375 
ChªÃl
 
ch
 = 
this
.
chªÃlTabË
.
	`g‘
(
key
);

376 if(
ch
.
	`g‘AùiveT¿nsmissiÚNum
() == 0) {

378 
»moveCh
.
	`add
(
key
);

382 
SŒšg
 
key
:
»moveCh
) {

383 
	`»moveChªÃl
(
key
);

385 
	}
}

387 
´iv©e
 
SŒšg
 
	$g‘Key
(
Üigš
, 
de¡š©iÚ
) {

388  
Üigš
+"-"+
de¡š©iÚ
;

389 
	}
}

391 
´iv©e
 
SŒšg
 
	$g‘Key
(
Üigš
, 
de¡š©iÚ
, 
­pId
) {

392  
	`g‘Key
(
Üigš
,
de¡š©iÚ
)+"-"+
­pId
;

393 
	}
}

396 
public
 
	$£tD©aûÁ”
(
SDND©aûÁ”
 
dc
) {

397 
this
.
d©aûÁ”
 = 
dc
;

398 
	}
}

400 
public
 
	gLi¡
<
	gHo¡
> 
	$g‘Ho¡Li¡
() {

401  
this
.
ho¡s
;

402 
	}
}

404 
public
 
	gLi¡
<
	gSw™ch
> 
	$g‘Sw™chLi¡
() {

405  
this
.
sw™ches
;

406 
	}
}

408 
public
 
boŞ—n
 
	$isAµliÿtiÚD•loyed
() {

409  
isAµliÿtiÚD•loyed
;

410 
	}
}

412 
´Ùeùed
 
Vm
 
	$fšdVm
(
vmId
) {

413 
Vm
 
vm
:
vmLi¡
) {

414 if(
vm
.
	`g‘Id
(è=ğ
vmId
)

415  
vm
;

417  
nuÎ
;

418 
	}
}

419 
´Ùeùed
 
SDNHo¡
 
	$fšdSDNHo¡
(
Ho¡
 
ho¡
) {

420 
SDNHo¡
 
sdnho¡
:
sdnho¡s
) {

421 if(
sdnho¡
.
	`g‘Ho¡
().
	`equ®s
(
ho¡
)) {

422  
sdnho¡
;

425  
nuÎ
;

426 
	}
}

427 
´Ùeùed
 
SDNHo¡
 
	$fšdSDNHo¡
(
vmId
) {

428 
Vm
 
vm
 = 
	`fšdVm
(
vmId
);

429 if(
vm
 =ğ
nuÎ
)

430  
nuÎ
;

432 
SDNHo¡
 
sdnho¡
:
sdnho¡s
) {

433 if(
sdnho¡
.
	`g‘Ho¡
().
	`equ®s
(
vm
.getHost())) {

434  
sdnho¡
;

438  
nuÎ
;

439 
	}
}

441 
public
 
	$g‘Ho¡Add»ssByVmId
(
vmId
) {

442 
Vm
 
vm
 = 
	`fšdVm
(
vmId
);

443 if(
vm
 =ğ
nuÎ
) {

444 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": CªnÙ fšd VM w™h vmId = "+ 
vmId
);

448 
Ho¡
 
ho¡
 = 
vm
.
	`g‘Ho¡
();

449 
SDNHo¡
 
sdnho¡
 = 
	`fšdSDNHo¡
(
ho¡
);

450 if(
sdnho¡
 =ğ
nuÎ
) {

451 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": CªnÙ fšd SDN Ho¡ w™h vmId = "+ 
vmId
);

455  
sdnho¡
.
	`g‘Add»ss
();

456 
	}
}

458 
´Ùeùed
 
Ho¡
 
	$ü—‹Ho¡
(
ho¡Id
, 
¿m
, 
bw
, 
¡Üage
, 
³s
, 
ms
) {

459 
LškedLi¡
<
Pe
> 
³Li¡
 = 
Ãw
 LinkedList<Pe>();

460 
³Id
=0;

461 
i
=0;i<
³s
;i++è
³Li¡
.
	`add
(
Ãw
 
	`Pe
(
³Id
++,Ãw 
	`PeProvisiÚ”Sim¶e
(
ms
)));

463 
RamProvisiÚ”
 
¿mPro
 = 
Ãw
 
	`RamProvisiÚ”Sim¶e
(
¿m
);

464 
BwProvisiÚ”
 
bwPro
 = 
Ãw
 
	`BwProvisiÚ”Sim¶e
(
bw
);

465 
VmScheduËr
 
vmScheduËr
 = 
Ãw
 
	`VmScheduËrTimeSh¬edEÃrgy
(
³Li¡
);

466 
Ho¡
 
ÃwHo¡
 = 
Ãw
 
	`Ho¡
(
ho¡Id
, 
¿mPro
, 
bwPro
, 
¡Üage
, 
³Li¡
, 
vmScheduËr
);

468  
ÃwHo¡
;

469 
	}
}

471 
´Ùeùed
 
	$š™PhysiÿlTİŞogy
() {

472 
this
.
tİŞogy
 = 
Ãw
 
	`PhysiÿlTİŞogy
();

473 
this
.
ho¡s
 = 
Ãw
 
A¼ayLi¡
<
Ho¡
>();

474 
this
.
sdnho¡s
 = 
Ãw
 
A¼ayLi¡
<
SDNHo¡
>();

476 
ho¡Id
=0;

477 
HashbË
<
SŒšg
,
IÁeg”
> 
ÇmeIdTabË
 = 
Ãw
 Hashtable<String, Integer>();

478 
Œy
 {

479 
JSONObjeù
 
doc
 = (JSONObjeùè
JSONV®ue
.
	`·r£
(
Ãw
 
	`FeR—d”
(
this
.
physiÿlTİŞogyFeName
));

481 
JSONA¼ay
 
nodes
 = (JSONA¼ayè
doc
.
	`g‘
("nodes");

482 @
	`Suµ»ssW¬nšgs
("unchecked")

483 
I‹¿tÜ
<
JSONObjeù
> 
™”
 =
nodes
.
	`™”©Ü
();

484 
™”
.
	`hasNext
()){

485 
JSONObjeù
 
node
 = 
™”
.
	`Ãxt
();

486 
SŒšg
 
nodeTy³
 = (SŒšgè
node
.
	`g‘
("type");

487 
SŒšg
 
nodeName
 = (SŒšgè
node
.
	`g‘
("name");

489 if(
nodeTy³
.
	`equ®sIgnÜeCa£
("host")){

490 
³s
 = (
LÚg
è
node
.
	`g‘
("pes");

491 
ms
 = (
LÚg
è
node
.
	`g‘
("mips");

492 
¿m
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("¿m")).
	`štV®ueExaù
();

493 
¡Üage
 = (
LÚg
è
node
.
	`g‘
("storage");

494 
bw
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("bw")).
	`štV®ueExaù
();

496 
num
 = 1;

497 ià(
node
.
	`g‘
("nums")!ğ
nuÎ
)

498 
num
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("nums")).
	`štV®ueExaù
();

500 
n
 = 0;‚< 
num
;‚++) {

501 
SŒšg
 
nodeName2
 = 
nodeName
;

502 if(
num
 >1è
nodeName2
 = 
nodeName
 + 
n
;

504 
Ho¡
 
ho¡
 = 
	`ü—‹Ho¡
(
ho¡Id
, 
¿m
, 
bw
, 
¡Üage
, 
³s
, 
ms
);

505 
SDNHo¡
 
sdnHo¡
 = 
Ãw
 
	`SDNHo¡
(
ho¡
, 
this
);

506 
ÇmeIdTabË
.
	`put
(
nodeName2
, 
sdnHo¡
.
	`g‘Add»ss
());

507 
ho¡Id
++;

509 
tİŞogy
.
	`addNode
(
sdnHo¡
);

510 
this
.
ho¡s
.
	`add
(
ho¡
);

511 
this
.
sdnho¡s
.
	`add
(
sdnHo¡
);

515 
MAX_PORTS
 = 256;

517 
bw
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("bw")).
	`štV®ueExaù
();

518 
iİs
 = (
LÚg
è
node
.
	`g‘
("iops");

519 
uµÜts
 = 
MAX_PORTS
;

520 
dowÅÜts
 = 
MAX_PORTS
;

521 ià(
node
.
	`g‘
("uµÜts")!ğ
nuÎ
)

522 
uµÜts
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("uµÜts")).
	`štV®ueExaù
();

523 ià(
node
.
	`g‘
("dowÅÜts")!ğ
nuÎ
)

524 
dowÅÜts
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("dowÅÜts")).
	`štV®ueExaù
();

525 
Sw™ch
 
sw
 = 
nuÎ
;

527 if(
nodeTy³
.
	`equ®sIgnÜeCa£
("core")) {

528 
sw
 = 
Ãw
 
	`CÜeSw™ch
(
nodeName
, 
bw
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
this
);

529 } ià(
nodeTy³
.
	`equ®sIgnÜeCa£
("aggregate")){

530 
sw
 = 
Ãw
 
	`Agg»g©iÚSw™ch
(
nodeName
, 
bw
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
this
);

531 } ià(
nodeTy³
.
	`equ®sIgnÜeCa£
("edge")){

532 
sw
 = 
Ãw
 
	`EdgeSw™ch
(
nodeName
, 
bw
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
this
);

534 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("No switch found!");

537 if(
sw
 !ğ
nuÎ
) {

538 
ÇmeIdTabË
.
	`put
(
nodeName
, 
sw
.
	`g‘Add»ss
());

539 
tİŞogy
.
	`addNode
(
sw
);

540 
this
.
sw™ches
.
	`add
(
sw
);

545 
JSONA¼ay
 
lšks
 = (JSONA¼ayè
doc
.
	`g‘
("links");

546 @
	`Suµ»ssW¬nšgs
("unchecked")

547 
I‹¿tÜ
<
JSONObjeù
> 
lšksI‹r
 =
lšks
.
	`™”©Ü
();

548 
lšksI‹r
.
	`hasNext
()){

549 
JSONObjeù
 
lšk
 = 
lšksI‹r
.
	`Ãxt
();

550 
SŒšg
 
¤c
 = (SŒšgè
lšk
.
	`g‘
("source");

551 
SŒšg
 
d¡
 = (SŒšgè
lšk
.
	`g‘
("destination");

552 
Ït
 = (
DoubË
è
lšk
.
	`g‘
("latency");

554 
¤cAdd»ss
 = 
ÇmeIdTabË
.
	`g‘
(
¤c
);

555 
d¡Add»ss
 = 
ÇmeIdTabË
.
	`g‘
(
d¡
);

556 
tİŞogy
.
	`addLšk
(
¤cAdd»ss
, 
d¡Add»ss
, 
Ït
);

560 } 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

561 
e
.
	`´štSckT¿û
();

564 
tİŞogy
.
	`budDeçuÉRoutšg
();

565 
	}
}

567 
´iv©e
 
	gæowNumb”s
=0;

568 
public
 
boŞ—n
 
	$d•loyAµliÿtiÚ
(
u£rId
, 
SŒšg
 
vmsFeName
){

570 
vmNameIdTabË
 = 
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>();

571 
vmLi¡
 = 
Ãw
 
LškedLi¡
<
Vm
>();

572 
LškedLi¡
<
MiddËbox
> 
mbLi¡
 = 
Ãw
 LinkedList<Middlebox>();

573 
¬cLi¡
 = 
Ãw
 
LškedLi¡
<
Arc
>();

574 
æowIdArcTabË
 = 
Ãw
 
HashM­
<
IÁeg”
, 
Arc
>();

575 
æowNameIdTabË
 = 
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>();

576 
æowNameIdTabË
.
	`put
("default", -1);

578 
Œy
 {

579 
JSONObjeù
 
doc
 = (JSONObjeùè
JSONV®ue
.
	`·r£
(
Ãw
 
	`FeR—d”
(
vmsFeName
));

580 
JSONA¼ay
 
nodes
 = (JSONA¼ayè
doc
.
	`g‘
("nodes");

582 @
	`Suµ»ssW¬nšgs
("unchecked")

583 
I‹¿tÜ
<
JSONObjeù
> 
™”
 = 
nodes
.
	`™”©Ü
();

584 
™”
.
	`hasNext
()){

585 
JSONObjeù
 
node
 = 
™”
.
	`Ãxt
();

587 
SŒšg
 
nodeTy³
 = (SŒšgè
node
.
	`g‘
("type");

588 
SŒšg
 
nodeName
 = (SŒšgè
node
.
	`g‘
("name");

589 
³s
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("³s")).
	`štV®ueExaù
();

590 
ms
 = (
LÚg
è
node
.
	`g‘
("mips");

591 
¿m
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("¿m")).
	`štV®ueExaù
();

592 
size
 = (
LÚg
è
node
.
	`g‘
("size");

593 
bw
 = 1000;

594 if(
node
.
	`g‘
("bw"è!ğ
nuÎ
)

595 
bw
 = (
LÚg
è
node
.
	`g‘
("bw");

597 
¡¬‰ime
 = 0;

598 
’dtime
 = 
DoubË
.
POSITIVE_INFINITY
;

599 if(
node
.
	`g‘
("¡¬‰ime"è!ğ
nuÎ
)

600 
¡¬‰ime
 = (
DoubË
è
node
.
	`g‘
("starttime");

601 if(
node
.
	`g‘
("’dtime"è!ğ
nuÎ
)

602 
’dtime
 = (
DoubË
è
node
.
	`g‘
("endtime");

604 
nums
 =1;

605 if(
node
.
	`g‘
("nums"è!ğ
nuÎ
)

606 
nums
 = (
LÚg
è
node
.
	`g‘
("nums");

608 
n
=0;‚<
nums
;‚++) {

609 
SŒšg
 
nodeName2
 = 
nodeName
;

610 if(
nums
 > 1) {

612 
nodeName2
 = 
nodeName
 + 
n
;

614 if(
nodeTy³
.
	`equ®sIgnÜeCa£
("vm")){

616 
Vm
 
vm
 = 
Ãw
 
	`TimedVm
(
vmId
,
u£rId
,
ms
,
³s
,
¿m
,
bw
,
size
,"VMM",Ãw 
	`CloudËtScheduËrTimeSh¬ed
(), 
¡¬‰ime
, 
’dtime
);

617 
vmNameIdTabË
.
	`put
(
nodeName2
, 
vmId
);

618 
N‘wÜkO³¿tšgSy¡em
.
debugVmIdName
.
	`put
(
vmId
, 
nodeName2
);

620 
vmLi¡
.
	`add
(
vm
);

621 
vmId
++;

624 
Vm
 
vm
 = 
Ãw
 
	`Vm
(
vmId
,
u£rId
,
ms
,
³s
,
¿m
,
bw
,
size
,"VMM",Ãw 
	`CloudËtScheduËrTimeSh¬ed
());

625 
MiddËbox
 
m
 = 
	`d•loyMiddËbox
(
nodeTy³
,
vm
);

626 
vmNameIdTabË
.
	`put
(
nodeName2
, 
vmId
);

627 
mbLi¡
.
	`add
(
m
);

628 
vmId
++;

633 
JSONA¼ay
 
lšks
 = (JSONA¼ayè
doc
.
	`g‘
("links");

635 @
	`Suµ»ssW¬nšgs
("unchecked")

636 
I‹¿tÜ
<
JSONObjeù
> 
lšksI‹r
 = 
lšks
.
	`™”©Ü
();

637 
lšksI‹r
.
	`hasNext
()){

638 
JSONObjeù
 
lšk
 = 
lšksI‹r
.
	`Ãxt
();

639 
SŒšg
 
Çme
 = (SŒšgè
lšk
.
	`g‘
("name");

640 
SŒšg
 
¤c
 = (SŒšgè
lšk
.
	`g‘
("source");

641 
SŒšg
 
d¡
 = (SŒšgè
lšk
.
	`g‘
("destination");

643 
Objeù
 
»qL©
 = 
lšk
.
	`g‘
("latency");

644 
Objeù
 
»qBw
 = 
lšk
.
	`g‘
("bandwidth");

646 
Ït
 = 0.0;

647 
bw
 = 0;

649 if(
»qL©
 !ğ
nuÎ
)

650 
Ït
 = (
DoubË
è
»qL©
;

651 if(
»qBw
 !ğ
nuÎ
)

652 
bw
 = (
LÚg
è
»qBw
;

654 
¤cId
 = 
vmNameIdTabË
.
	`g‘
(
¤c
);

655 
d¡Id
 = 
vmNameIdTabË
.
	`g‘
(
d¡
);

657 
æowId
 = -1;

659 if(
Çme
 =ğ
nuÎ
 || "deçuÉ".
	`equ®sIgnÜeCa£
(name)) {

661 
æowId
 = -1;

664 
æowId
 = 
æowNumb”s
++;

665 
æowNameIdTabË
.
	`put
(
Çme
, 
æowId
);

668 
Arc
 
¬c
 = 
Ãw
 
	`Arc
(
¤cId
, 
d¡Id
, 
æowId
, 
bw
, 
Ït
);

669 
¬cLi¡
.
	`add
(
¬c
);

670 if(
æowId
 != -1) {

671 
æowIdArcTabË
.
	`put
(
æowId
, 
¬c
);

676 
boŞ—n
 
»suÉ
 = 
	`d•loyAµliÿtiÚ
(
vmLi¡
, 
mbLi¡
, 
¬cLi¡
);

677 ià(
»suÉ
){

678 
isAµliÿtiÚD•loyed
 = 
Œue
;

679  
Œue
;

681 } 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

682 
e
.
	`´štSckT¿û
();

684  
çl£
;

685 
	}
}

	@src/org/cloudbus/cloudsim/sdn/Node.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

20 
public
 
š‹rçû
 
	gNode
 {

22 
g‘Add»ss
();

23 
public
 
g‘Bªdwidth
();

24 
public
 
£tRªk
(
¿nk
);

25 
public
 
g‘Rªk
();

27 
public
 
ş—rVMRoutšgTabË
();

28 
public
 
addVMRou‹
(
¤cVM
, 
de¡VM
, 
æowId
, 
Node
 
to
);

29 
public
 
Node
 
g‘VMRou‹
(
¤cVM
, 
de¡VM
, 
æowId
);

30 
public
 
»moveVMRou‹
(
¤cVM
, 
de¡VM
, 
æowId
);

31 
public
 
´štVMRou‹
();

33 
public
 
addRou‹
(
Node
 
de¡Ho¡
, 
Lšk
 
to
);

34 
public
 
	gLi¡
<
	gLšk
> 
g‘Rou‹
(
Node
 
de¡Ho¡
);

36 
public
 
RoutšgTabË
 
g‘RoutšgTabË
();

38 
public
 
addLšk
(
Lšk
 
l
);

39 
public
 
upd©eN‘wÜkUtiz©iÚ
();

	@src/org/cloudbus/cloudsim/sdn/Package.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

20 
public
 cÏs 
	cPackage
 {

22 
	mÜigš
;

23 
	mde¡š©iÚ
;

24 
	msize
;

25 
	mæowId
;

26 
Reque¡
 
	m·ylßd
;

28 
´iv©e
 
	m¡¬tTime
=-1;

29 
´iv©e
 
	mfšishTime
=-1;

31 
public
 
	$Package
(
Üigš
, 
de¡š©iÚ
, 
size
, 
æowId
, 
Reque¡
 
·ylßd
) {

32 
this
.
Üigš
 = origin;

33 
this
.
de¡š©iÚ
 = destination;

34 
this
.
size
 = size;

35 
this
.
æowId
 = flowId;

36 
this
.
·ylßd
 =…ayload;

40 
public
 
	$g‘Origš
() {

41  
Üigš
;

42 
	}
}

44 
public
 
	$g‘De¡š©iÚ
() {

45  
de¡š©iÚ
;

46 
	}
}

48 
public
 
	$g‘Size
() {

49  
size
;

50 
	}
}

52 
public
 
Reque¡
 
	$g‘Paylßd
() {

53  
·ylßd
;

54 
	}
}

56 
public
 
	$g‘FlowId
() {

57  
æowId
;

58 
	}
}

60 
public
 
SŒšg
 
	$toSŒšg
() {

61  "PKG:"+
Üigš
 + "->" + 
de¡š©iÚ
 + " - " + 
·ylßd
.
	`toSŒšg
();

62 
	}
}

64 
public
 
	$£tS¹Time
(
time
) {

65 
this
.
¡¬tTime
 = 
time
;

66 
	}
}

67 
public
 
	$£tFšishTime
(
time
) {

68 
this
.
fšishTime
 = 
time
;

69 
	}
}

70 
public
 
	$g‘S¹Time
() {

71  
this
.
¡¬tTime
;

72 
	}
}

73 
public
 
	$g‘FšishTime
() {

74  
this
.
fšishTime
;

75 
	}
}

	@src/org/cloudbus/cloudsim/sdn/PhysicalTopology.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

11 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚ
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashbË
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gd©aûÁ”
.
	gAgg»g©eSw™ch
;

16 
impÜt
 
	gcom
.
	ggoogË
.
	gcommÚ
.
	gcŞËù
.
	gHashBa£dTabË
;

17 
impÜt
 
	gcom
.
	ggoogË
.
	gcommÚ
.
	gcŞËù
.
	gHashMuÉim­
;

18 
impÜt
 
	gcom
.
	ggoogË
.
	gcommÚ
.
	gcŞËù
.
	gMuÉim­
;

19 
impÜt
 
	gcom
.
	ggoogË
.
	gcommÚ
.
	gcŞËù
.
	gTabË
;

29 
public
 cÏs 
	cPhysiÿlTİŞogy
 {

31 
	mHashbË
<
	mIÁeg”
,
	mNode
> 
	mnodesTabË
;

32 
	mTabË
<
	mIÁeg”
, IÁeg”, 
	mLšk
> 
	mlšks
;

33 
	mMuÉim­
<
	mNode
,
	mLšk
> 
	mnodeLšks
;

35 
public
 
	$PhysiÿlTİŞogy
() {

36 
nodesTabË
 = 
Ãw
 
HashbË
<
IÁeg”
,
Node
>();

37 
nodeLšks
 = 
HashMuÉim­
.
	`ü—‹
();

38 
lšks
 = 
HashBa£dTabË
.
	`ü—‹
();

41 
public
 
Lšk
 
	$g‘Lšk
(
äom
, 
to
) {

42  
lšks
.
	`g‘
(
äom
, 
to
);

43 
	}
}

44 
public
 
Node
 
	$g‘Node
(
id
) {

45  
nodesTabË
.
	`g‘
(
id
);

46 
	}
}

47 
public
 
	$g‘LškBªdwidth
(
äom
, 
to
){

48  
	`g‘Lšk
(
äom
, 
to
).
	`g‘Bw
(
	`g‘Node
(from));

49 
	}
}

51 
public
 
	$g‘LškL©’cy
(
äom
, 
to
){

52  
	`g‘Lšk
(
äom
, 
to
).
	`g‘L©’cy
();

53 
	}
}

55 
public
 
	$addNode
(
Node
 
node
){

56 
nodesTabË
.
	`put
(
node
.
	`g‘Add»ss
(),‚ode);

57 ià(
node
 
š¡ªûof
 
CÜeSw™ch
){

58 
node
.
	`£tRªk
(0);

59 } ià(
node
 
š¡ªûof
 
Agg»g©eSw™ch
){

60 
node
.
	`£tRªk
(1);

61 } ià(
node
 
š¡ªûof
 
EdgeSw™ch
){

62 
node
.
	`£tRªk
(2);

63 } ià(
node
 
š¡ªûof
 
SDNHo¡
){

64 
node
.
	`£tRªk
(3);

66 
	}
}

67 
public
 
	$budDeçuÉRoutšg
() {

68 
CŞËùiÚ
<
Node
> 
nodes
 = 
	`g‘AÎNodes
();

72 
Node
 
sdnho¡
:
nodes
) {

73 if(
sdnho¡
.
	`g‘Rªk
() == 3) {

74 
CŞËùiÚ
<
Lšk
> 
lšks
 = 
	`g‘AdjaûÁLšks
(
sdnho¡
);

75 
Lšk
 
l
:
lšks
) {

76 if(
l
.
	`g‘LowOrd”
().
	`equ®s
(
sdnho¡
)) {

77 
sdnho¡
.
	`addRou‹
(
nuÎ
, 
l
);

78 
Node
 
edge
 = 
l
.
	`g‘HighOrd”
();

79 
edge
.
	`addRou‹
(
sdnho¡
, 
l
);

86 
Node
 
low”Node
:
nodes
) {

87 if(
low”Node
.
	`g‘Rªk
() == 2) {

88 
CŞËùiÚ
<
Lšk
> 
lšks
 = 
	`g‘AdjaûÁLšks
(
low”Node
);

89 
Lšk
 
l
:
lšks
) {

90 if(
l
.
	`g‘LowOrd”
().
	`equ®s
(
low”Node
)) {

92 
low”Node
.
	`addRou‹
(
nuÎ
, 
l
);

93 
Node
 
high”Node
 = 
l
.
	`g‘HighOrd”
();

96 
Node
 
de¡š©iÚ
: 
low”Node
.
	`g‘RoutšgTabË
().
	`g‘KnownDe¡š©iÚ
()) {

97 if(
de¡š©iÚ
 !ğ
nuÎ
)

98 
high”Node
.
	`addRou‹
(
de¡š©iÚ
, 
l
);

106 
Node
 
agg
:
nodes
) {

107 if(
agg
.
	`g‘Rªk
() == 1) {

108 
CŞËùiÚ
<
Lšk
> 
lšks
 = 
	`g‘AdjaûÁLšks
(
agg
);

109 
Lšk
 
l
:
lšks
) {

110 if(
l
.
	`g‘LowOrd”
().
	`equ®s
(
agg
)) {

112 
agg
.
	`addRou‹
(
nuÎ
, 
l
);

113 
Node
 
cÜe
 = 
l
.
	`g‘HighOrd”
();

116 
Node
 
de¡š©iÚ
: 
agg
.
	`g‘RoutšgTabË
().
	`g‘KnownDe¡š©iÚ
()) {

117 if(
de¡š©iÚ
 !ğ
nuÎ
)

118 
cÜe
.
	`addRou‹
(
de¡š©iÚ
, 
l
);

125 
Node
 
n
:
nodes
) {

126 
Sy¡em
.
out
.
	`´šn
("============================================");

127 
Sy¡em
.
out
.
	`´šn
("Node: "+
n
);

128 
n
.
	`g‘RoutšgTabË
().
	`´štRoutšgTabË
();

131 
	}
}

133 
public
 
	$addLšk
(
äom
, 
to
, 
Ï‹ncy
){

134 
Node
 
äomNode
 = 
nodesTabË
.
	`g‘
(
äom
);

135 
Node
 
toNode
 = 
nodesTabË
.
	`g‘
(
to
);

137 
bw
 = (
äomNode
.
	`g‘Bªdwidth
()<
toNode
.getBandwidth())? fromNode.getBandwidth():toNode.getBandwidth();

139 if(!
nodesTabË
.
	`cÚšsKey
(
äom
)||!nodesTabË.cÚšsKey(
to
)){

140 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("UnknowÀnodÚ†šk:"+
nodesTabË
.
	`g‘
(
äom
).
	`g‘Add»ss
()+"->"+nodesTabË.g‘(
to
).getAddress());

143 ià(
lšks
.
	`cÚšs
(
äomNode
.
	`g‘Add»ss
(), 
toNode
.getAddress())){

144 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Lšk‡ddedwiû:"+
äomNode
.
	`g‘Add»ss
()+"->"+
toNode
.getAddress());

147 if(
äomNode
.
	`g‘Rªk
()==-1&&
toNode
.getRank()==-1){

148 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("UÇbËØe¡ablish ord” fÜ‚ode Ú†šk:"+
nodesTabË
.
	`g‘
(
äom
).
	`g‘Add»ss
()+"->"+nodesTabË.g‘(
to
).getAddress());

151 ià(
äomNode
.
	`g‘Rªk
()>=0 && 
toNode
.getRank()>=0){

153 ià((
toNode
.
	`g‘Rªk
()-
äomNode
.getRank())!=1) {

158 if(
äomNode
.
	`g‘Rªk
()>=0&&
toNode
.getRank()==-1){

160 
toNode
.
	`£tRªk
(
äomNode
.
	`g‘Rªk
()+1);

163 if(
äomNode
.
	`g‘Rªk
()==-1&&
toNode
.getRank()>=1){

165 
äomNode
.
	`£tRªk
(
toNode
.
	`g‘Rªk
()-1);

167 
Lšk
 
l
 = 
Ãw
 
	`Lšk
(
äomNode
, 
toNode
, 
Ï‹ncy
, 
bw
);

170 
lšks
.
	`put
(
äom
, 
to
, 
l
);

171 
lšks
.
	`put
(
to
, 
äom
, 
l
);

173 
nodeLšks
.
	`put
(
äomNode
, 
l
);

174 
nodeLšks
.
	`put
(
toNode
, 
l
);

176 
äomNode
.
	`addLšk
(
l
);

177 
toNode
.
	`addLšk
(
l
);

178 
	}
}

180 
public
 
	gCŞËùiÚ
<
	gLšk
> 
	$g‘AdjaûÁLšks
(
Node
 
node
) {

181  
nodeLšks
.
	`g‘
(
node
);

182 
	}
}

184 
public
 
	gCŞËùiÚ
<
	gNode
> 
	$g‘AÎNodes
() {

185  
nodesTabË
.
	`v®ues
();

186 
	}
}

188 
public
 
	gCŞËùiÚ
<
	gLšk
> 
	$g‘AÎLšks
() {

189  
nodeLšks
.
	`v®ues
();

190 
	}
}

	@src/org/cloudbus/cloudsim/sdn/Processing.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

10 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

19 
public
 cÏs 
	cProûssšg
 
im¶em’ts
 
	mAùiv™y
 {

21 
	m»que¡Id
;

22 
CloudËt
 
	mş
;

24 
public
 
	$Proûssšg
(
CloudËt
 
ş
){

25 
this
.
ş
=cl;

28 
public
 
CloudËt
 
	$g‘CloudËt
(){

29  
ş
;

30 
	}
}

	@src/org/cloudbus/cloudsim/sdn/Request.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

11 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

23 
public
 cÏs 
	cReque¡
 {

25 
	m»que¡Id
;

26 
	mu£rId
;

27 
	mLškedLi¡
<
	mAùiv™y
> 
	maùiv™›s
;

29 
´iv©e
 
	mLškedLi¡
<
	mAùiv™y
> 
	m»movedAùiv™es
;

31 
public
 
	$Reque¡
(
»que¡Id
, 
u£rId
){

32 
this
.
»que¡Id
=requestId;

33 
this
.
u£rId
=userId;

34 
this
.
aùiv™›s
 = 
Ãw
 
LškedLi¡
<
Aùiv™y
>();

36 
this
.
»movedAùiv™es
 = 
Ãw
 
LškedLi¡
<
Aùiv™y
>();

40 
public
 
	$g‘Reque¡Id
(){

41  
»que¡Id
;

42 
	}
}

44 
public
 
	$g‘U£rId
(){

45  
u£rId
;

46 
	}
}

48 
public
 
boŞ—n
 
	$isFšished
(){

49  
aùiv™›s
.
	`size
()==0;

50 
	}
}

52 
public
 
	$addAùiv™y
(
Aùiv™y
 
aù
){

53 
aùiv™›s
.
	`add
(
aù
);

54 
	}
}

56 
public
 
Aùiv™y
 
	$g‘NextAùiv™y
(){

57 
Aùiv™y
 
aù
 = 
aùiv™›s
.
	`g‘
(0);

58  
aù
;

59 
	}
}

61 
public
 
T¿nsmissiÚ
 
	$g‘NextT¿nsmissiÚ
() {

62 
Aùiv™y
 
aù
:
aùiv™›s
) {

63 if(
aù
 
š¡ªûof
 
T¿nsmissiÚ
)

64  (
T¿nsmissiÚ
è
aù
;

66  
nuÎ
;

67 
	}
}

69 
public
 
Aùiv™y
 
	$»moveNextAùiv™y
(){

70 
Aùiv™y
 
aù
 = 
aùiv™›s
.
	`»move
(0);

72 
this
.
»movedAùiv™es
.
	`add
(
aù
);

74  
aù
;

75 
	}
}

76 
public
 
SŒšg
 
	$toSŒšg
() {

77  "Reque¡. U£rID:"+ 
this
.
u£rId
 + ",Req ID:"+this.
»que¡Id
;

78 
	}
}

80 
public
 
	gLi¡
<
	gAùiv™y
> 
	$g‘RemovedAùiv™›s
() {

81  
this
.
»movedAùiv™es
;

82 
	}
}

	@src/org/cloudbus/cloudsim/sdn/RoutingTable.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gM­
;

14 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

25 
public
 cÏs 
	cRoutšgTabË
 {

27 
	mM­
<
	mNode
, 
	mLi¡
<
	mLšk
>> 
	mbË
;

29 
public
 
	$RoutšgTabË
(){

30 
this
.
bË
 = 
Ãw
 
HashM­
<
Node
, 
Li¡
<
Lšk
>>();

33 
public
 
	$ş—r
(){

34 
bË
.
	`ş—r
();

35 
	}
}

37 
public
 
	$addRou‹
(
Node
 
de¡Ho¡
, 
Lšk
 
to
){

38 
Li¡
<
Lšk
> 
lšks
 = 
bË
.
	`g‘
(
de¡Ho¡
);

39 if(
lšks
 =ğ
nuÎ
)

41 
lšks
 = 
Ãw
 
A¼ayLi¡
<
Lšk
>();

43 
lšks
.
	`add
(
to
);

44 
bË
.
	`put
(
de¡Ho¡
, 
lšks
);

45 
	}
}

47 
public
 
	$»moveRou‹
(
Node
 
de¡Ho¡
){

48 
bË
.
	`»move
(
de¡Ho¡
);

49 
	}
}

51 
public
 
	gLi¡
<
	gLšk
> 
	$g‘Rou‹
(
Node
 
de¡Ho¡
) {

52 
Li¡
<
Lšk
> 
lšks
 = 
bË
.
	`g‘
(
de¡Ho¡
);

53 if(
lšks
 =ğ
nuÎ
)

54 
lšks
 = 
bË
.
	`g‘
(
nuÎ
);

55  
lšks
;

56 
	}
}

58 
public
 
	gS‘
<
	gNode
> 
	$g‘KnownDe¡š©iÚ
() {

59  
bË
.
	`keyS‘
();

60 
	}
}

62 
public
 
	$´štRoutšgTabË
() {

63 
Node
 
key
:
bË
.
	`keyS‘
()) {

64 
Lšk
 
l
: 
bË
.
	`g‘
(
key
)) {

65 
Sy¡em
.
out
.
	`´šn
("d¡:"+
key
+" : "+
l
);

68 
	}
}

	@src/org/cloudbus/cloudsim/sdn/SDNDatacenter.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

10 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gM­
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”Ch¬aù”i¡ics
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicy
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

33 
public
 cÏs 
	cSDND©aûÁ”
 
ex‹nds
 
	mD©aûÁ”
 {

35 
N‘wÜkO³¿tšgSy¡em
 
	mnos
;

37 
public
 
SDND©aûÁ”
(
SŒšg
 
Çme
, 
D©aûÁ”Ch¬aù”i¡ics
 
ch¬aù”i¡ics
, 
VmAÎoÿtiÚPŞicy
 
vmAÎoÿtiÚPŞicy
, 
Li¡
<
StÜage
> 
¡ÜageLi¡
, 
schedulšgIÁ”v®
, 
N‘wÜkO³¿tšgSy¡em
 
nos
è
throws
 
	mExû±iÚ
 {

38 
su³r
(
Çme
, 
ch¬aù”i¡ics
, 
vmAÎoÿtiÚPŞicy
, 
¡ÜageLi¡
, 
schedulšgIÁ”v®
);

40 
	mthis
.
	mnos
=
nos
;

44 
public
 
	$addVm
(
Vm
 
vm
){

45 
	`g‘VmLi¡
().
	`add
(
vm
);

46 ià(
vm
.
	`isBešgIn¡ªtŸ‹d
()èvm.
	`£tBešgIn¡ªtŸ‹d
(
çl£
);

47 
vm
.
	`upd©eVmProûssšg
(
CloudSim
.
	`şock
(), 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡
(vm).
	`g‘VmScheduËr
().
	`g‘AÎoÿ‹dMsFÜVm
(vm));

48 
	}
}

50 @
Ov”ride


51 
´Ùeùed
 
	$´oûssVmC»©e
(
SimEv’t
 
ev
, 
boŞ—n
 
ack
) {

52 
su³r
.
	`´oûssVmC»©e
(
ev
, 
ack
);

53 if(
ack
) {

54 
	`£nd
(
nos
.
	`g‘Id
(), 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
(), 
CloudSimTags
.
VM_CREATE_ACK
, 
ev
.
	`g‘D©a
());

57 
	}
}

59 @
Ov”ride


60 
public
 
	$´oûssOth”Ev’t
(
SimEv’t
 
ev
){

61 
ev
.
	`g‘Tag
()){

62 
CÚ¡ªts
.
REQUEST_SUBMIT
: 
	`´oûssReque¡
((
Reque¡
è
ev
.
	`g‘D©a
()); ;

63 
CÚ¡ªts
.
APPLICATION_SUBMIT
: 
	`´oûssAµliÿtiÚ
(
ev
.
	`g‘Sourû
(),(
SŒšg
èev.
	`g‘D©a
()); ;

64 : 
Sy¡em
.
out
.
	`´šn
("UnknowÀev’ˆ»ûv›d by SdnD©aûÁ”. Tag:"+
ev
.
	`g‘Tag
());

66 
	}
}

68 @
Ov”ride


69 
´Ùeùed
 
	$checkCloudËtCom¶‘iÚ
() {

70 if(!
nos
.
	`isAµliÿtiÚD•loyed
())

72 
su³r
.
	`checkCloudËtCom¶‘iÚ
();

76 
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡Li¡
();

77 
i
 = 0; i < 
li¡
.
	`size
(); i++) {

78 
Ho¡
 
ho¡
 = 
li¡
.
	`g‘
(
i
);

79 
Vm
 
vm
 : 
ho¡
.
	`g‘VmLi¡
()) {

80 
vm
.
	`g‘CloudËtScheduËr
().
	`isFšishedCloudËts
()) {

81 
CloudËt
 
ş
 = 
vm
.
	`g‘CloudËtScheduËr
().
	`g‘NextFšishedCloudËt
();

82 ià(
ş
 !ğ
nuÎ
) {

83 
ho¡Add»ss
 = 
nos
.
	`g‘Ho¡Add»ssByVmId
(
ş
.
	`g‘VmId
());

84 
	`£ndNow
(
ho¡Add»ss
, 
CloudSimTags
.
CLOUDLET_RETURN
, 
ş
);

89 
	}
}

91 
´iv©e
 
	$´oûssReque¡
(
Reque¡
 
»q
) {

92 
Aùiv™y
 
ac
 = 
»q
.
	`g‘NextAùiv™y
();

93 if(
ac
 
š¡ªûof
 
Proûssšg
) {

94 
CloudËt
 
ş
 = ((
Proûssšg
è
ac
).
	`g‘CloudËt
();

95 
ho¡Add»ss
 = 
nos
.
	`g‘Ho¡Add»ssByVmId
(
ş
.
	`g‘VmId
());

98 
Package
 
pkg
 = 
Ãw
 
	`Package
(
su³r
.
	`g‘Id
(), 
ş
.
	`g‘VmId
(), -1, -1, 
»q
);

99 
	`£ndNow
(
ho¡Add»ss
, 
CÚ¡ªts
.
SDN_PACKAGE
, 
pkg
);

102 
Sy¡em
.
”r
.
	`´šn
("Request should start with Processing!!");

104 
	}
}

106 
´iv©e
 
	$´oûssAµliÿtiÚ
(
u£rId
, 
SŒšg
 
f’ame
) {

107 
nos
.
	`d•loyAµliÿtiÚ
(
u£rId
,
f’ame
);

108 
	`£nd
(
u£rId
, 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
(), 
CÚ¡ªts
.
APPLICATION_SUBMIT_ACK
, 
f’ame
);

109 
	}
}

111 
public
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘VmNameIdTabË
() {

112  
this
.
nos
.
	`g‘VmNameIdTabË
();

113 
	}
}

114 
public
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘FlowNameIdTabË
() {

115  
this
.
nos
.
	`g‘FlowNameIdTabË
();

116 
	}
}

	@src/org/cloudbus/cloudsim/sdn/SDNHost.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashbË
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEÁ™y
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

32 
public
 cÏs 
	cSDNHo¡
 
ex‹nds
 
SimEÁ™y
 
im¶em’ts
 
	mNode
 {

33 
´iv©e
 
fš®
 
	mPROCESSING_DELAY
= 0.1;

35 
Ho¡
 
	mho¡
;

36 
EdgeSw™ch
 
	msw
;

38 
	mHashbË
<
	mIÁeg”
,
	mMiddËbox
> 
	mmiddËboxes
;

39 
	mHashbË
<
	mCloudËt
,
	mReque¡
> 
	m»que¡sTabË
;

40 
FÜw¬dšgRuË
 
	mfÜw¬dšgTabË
;

41 
RoutšgTabË
 
	mroutšgTabË
;

42 
	m¿nk
 = -1;

43 
N‘wÜkO³¿tšgSy¡em
 
	mnos
;

45 
	$SDNHo¡
(
Ho¡
 
ho¡
, 
N‘wÜkO³¿tšgSy¡em
 
nos
){

46 
	`su³r
("Ho¡"+
ho¡
.
	`g‘Id
());

47 
this
.
ho¡
=host;

48 
this
.
nos
 =‚os;

51 
this
.
middËboxes
 = 
Ãw
 
HashbË
<
IÁeg”
, 
MiddËbox
>();

52 
this
.
»que¡sTabË
 = 
Ãw
 
HashbË
<
CloudËt
, 
Reque¡
>();

53 
this
.
fÜw¬dšgTabË
 = 
Ãw
 
	`FÜw¬dšgRuË
();

54 
this
.
routšgTabË
 = 
Ãw
 
	`RoutšgTabË
();

57 
public
 
Ho¡
 
	$g‘Ho¡
(){

58  
ho¡
;

59 
	}
}

61 
public
 
	$£tEdgeSw™ch
(
EdgeSw™ch
 
sw
){

62 
this
.
sw
=sw;

63 
	}
}

70 
public
 
	$addMiddËbox
(
MiddËbox
 
m
){

71 
middËboxes
.
	`put
(
m
.
	`g‘Id
(), m);

72 
ho¡
.
	`vmC»©e
(
m
.
	`g‘Vm
());

73 
	}
}

75 @
Ov”ride


76 
public
 
	$¡¬tEÁ™y
(){
	}
}

78 @
Ov”ride


79 
public
 
	$shutdownEÁ™y
(){
	}
}

81 @
Ov”ride


82 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

83 
g
 = 
ev
.
	`g‘Tag
();

85 
g
){

86 
CÚ¡ªts
.
SDN_PACKAGE
: 
	`´oûssPackage
((
Package
è
ev
.
	`g‘D©a
()); ;

87 
CloudSimTags
.
CLOUDLET_RETURN
: 
	`´oûssCloudËtR‘uº
((
CloudËt
è
ev
.
	`g‘D©a
()); ;

88 : 
Sy¡em
.
out
.
	`´šn
("UnknowÀev’ˆ»ûived by "+
su³r
.
	`g‘Name
()+". Tag:"+
ev
.
	`g‘Tag
());

90 
	}
}

92 
´iv©e
 
Vm
 
	$fšdVm
(
vmId
) {

93 
Li¡
<
Vm
> 
vms
 = 
ho¡
.
	`g‘VmLi¡
();

94 
Vm
 
vm
:
vms
) {

95 if(
vm
.
	`g‘Id
(è=ğ
vmId
) {

96  
vm
;

99  
nuÎ
;

100 
	}
}

102 
´iv©e
 
	$´oûssPackage
(
Package
 
d©a
) {

103 
vmId
 = 
d©a
.
	`g‘De¡š©iÚ
();

104 
Vm
 
d¡Vm
 = 
	`fšdVm
(
vmId
);

106 ià(
d¡Vm
 !ğ
nuÎ
){

109 
d©a
.
	`£tFšishTime
(
CloudSim
.
	`şock
());

111 
Reque¡
 
»q
 = 
d©a
.
	`g‘Paylßd
();

112 
Aùiv™y
 
ac
 = 
»q
.
	`»moveNextAùiv™y
();

113 
	`´oûssAùiv™y
(
ac
, 
»q
, 
vmId
);

114 } ià(
middËboxes
.
	`cÚšsKey
(
vmId
)){

115 
Reque¡
 
»q
 = 
d©a
.
	`g‘Paylßd
();

116 
MiddËbox
 
m
 = 
middËboxes
.
	`g‘
(
vmId
);

117 
m
.
	`subm™Reque¡
(
»q
);

119 
Sy¡em
.
out
.
	`´šn
("W¬nšg…ackag£ÁØwrÚg ho¡. Ho¡ ID="+
ho¡
.
	`g‘Id
()+" DST VM ID="+
vmId
+", SRC VM ID="+
d©a
.
	`g‘De¡š©iÚ
());

121 
	}
}

123 
´iv©e
 
	$´oûssCloudËtR‘uº
(
CloudËt
 
d©a
) {

124 
Reque¡
 
»q
 = 
»que¡sTabË
.
	`»move
(
d©a
);

125 ià(
»q
.
	`isFšished
()){

126 
	`£nd
(
»q
.
	`g‘U£rId
(),
PROCESSING_DELAY
,
CÚ¡ªts
.
REQUEST_COMPLETED
,req);

128 
Aùiv™y
 
ac
 = 
»q
.
	`»moveNextAùiv™y
();

129 
	`´oûssAùiv™y
(
ac
, 
»q
, 
d©a
.
	`g‘VmId
());

131 
	}
}

133 
´iv©e
 
	$´oûssAùiv™y
(
Aùiv™y
 
ac
, 
Reque¡
 
»q
, 
vmId
) {

134 if(
ac
 
š¡ªûof
 
T¿nsmissiÚ
) {

135 
T¿nsmissiÚ
 
Œ
 = (T¿nsmissiÚ)
ac
;

137 
Package
 
pkg
 = 
Œ
.
	`g‘Package
();

139 
nos
.
	`addPackageToChªÃl
(
this
, 
pkg
);

141 
pkg
.
	`£tS¹Time
(
CloudSim
.
	`şock
());

143 if(
ac
 
š¡ªûof
 
Proûssšg
) {

144 
CloudËt
 
ş
 = ((
Proûssšg
è
ac
).
	`g‘CloudËt
();

145 
ş
.
	`£tVmId
(
vmId
);

147 
»que¡sTabË
.
	`put
(
ş
, 
»q
);

148 
	`£ndNow
(
ho¡
.
	`g‘D©aûÁ”
().
	`g‘Id
(),
CloudSimTags
.
CLOUDLET_SUBMIT
,
ş
);

150 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
() + ": Activity is unknown..");

154 
	}
}

158 @
Ov”ride


159 
public
 
	$g‘Add»ss
() {

160  
su³r
.
	`g‘Id
();

161 
	}
}

163 @
Ov”ride


164 
public
 
	$g‘Bªdwidth
() {

165  
ho¡
.
	`g‘Bw
();

166 
	}
}

168 @
Ov”ride


169 
public
 
	$ş—rVMRoutšgTabË
(){

170 
this
.
fÜw¬dšgTabË
.
	`ş—r
();

171 
	}
}

173 @
Ov”ride


174 
public
 
	$addVMRou‹
(
¤c
, 
de¡
, 
æowId
, 
Node
 
to
){

175 
fÜw¬dšgTabË
.
	`addRuË
(
¤c
, 
de¡
, 
æowId
, 
to
);

176 
	}
}

178 @
Ov”ride


179 
public
 
Node
 
	$g‘VMRou‹
(
¤c
, 
de¡
, 
æowId
){

180 
Node
 
rou‹
ğ
this
.
fÜw¬dšgTabË
.
	`g‘Rou‹
(
¤c
, 
de¡
, 
æowId
);

181 if(
rou‹
 =ğ
nuÎ
) {

182 
this
.
	`´štVMRou‹
();

183 
Sy¡em
.
”r
.
	`´šn
("SDNHo¡: ERROR: CªnÙ fšd„ou‹:" + 
¤c
 + "->"+
de¡
 + ", flow ="+
æowId
);

186  
rou‹
;

187 
	}
}

189 @
Ov”ride


190 
public
 
	$»moveVMRou‹
(
¤c
, 
de¡
, 
æowId
){

191 
fÜw¬dšgTabË
.
	`»moveRuË
(
¤c
, 
de¡
, 
æowId
);

192 
	}
}

194 @
Ov”ride


195 
public
 
	$£tRªk
(
¿nk
) {

196 
this
.
¿nk
=rank;

197 
	}
}

199 @
Ov”ride


200 
public
 
	$g‘Rªk
() {

201  
¿nk
;

202 
	}
}

204 @
Ov”ride


205 
public
 
	$´štVMRou‹
() {

206 
fÜw¬dšgTabË
.
	`´štFÜw¬dšgTabË
(
	`g‘Name
());

207 
	}
}

209 
public
 
SŒšg
 
	$toSŒšg
() {

210  "SDNHo¡: "+
this
.
	`g‘Name
();

211 
	}
}

213 @
Ov”ride


214 
public
 
	$addLšk
(
Lšk
 
l
) {

217 
	}
}

219 @
Ov”ride


220 
public
 
	$upd©eN‘wÜkUtiz©iÚ
() {

223 
	}
}

225 @
Ov”ride


226 
public
 
	$addRou‹
(
Node
 
de¡Ho¡
, 
Lšk
 
to
) {

227 
this
.
routšgTabË
.
	`addRou‹
(
de¡Ho¡
, 
to
);

229 
	}
}

231 @
Ov”ride


232 
public
 
	gLi¡
<
	gLšk
> 
	$g‘Rou‹
(
Node
 
de¡Ho¡
) {

233  
this
.
routšgTabË
.
	`g‘Rou‹
(
de¡Ho¡
);

234 
	}
}

236 @
Ov”ride


237 
public
 
RoutšgTabË
 
	$g‘RoutšgTabË
() {

238  
this
.
routšgTabË
;

239 
	}
}

	@src/org/cloudbus/cloudsim/sdn/Switch.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashbË
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEÁ™y
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

29 
public
 cÏs 
	cSw™ch
 
ex‹nds
 
SimEÁ™y
 
im¶em’ts
 
	mNode
{

34 
´iv©e
 
	mPOWER_CONSUMPTION_IDLE
 = 66.7;

35 
´iv©e
 
	mPOWER_CONSUMPTION_PER_ACTIVE_PORT
 = 1;

38 
	mbw
;

39 
	miİs
;

40 
	m´eviousTime
;

41 
	m¿nk
 = -1;

42 
	mcu¼’tuµÜts
=0;

43 
	mcu¼’tdowÅÜts
=0;

44 
N‘wÜkO³¿tšgSy¡em
 
	mnos
;

46 
	mNode
[] 
	muµÜts
;

47 
	mNode
[] 
	mdowÅÜts
;

49 
	mA¼ayLi¡
<
	mLšk
> 
	mlšks
 = 
Ãw
 
A¼ayLi¡
<
Lšk
>();

51 
FÜw¬dšgRuË
 
	mfÜw¬dšgTabË
;

52 
RoutšgTabË
 
	mroutšgTabË
;

53 
	mHashbË
<
	mPackage
,
	mLÚg
> 
	m´oûssšgTabË
;

55 
public
 
	$Sw™ch
(
SŒšg
 
Çme
, 
bw
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
N‘wÜkO³¿tšgSy¡em
 
nos
) {

56 
	`su³r
(
Çme
);

57 
this
.
bw
 = bw;

58 
this
.
iİs
 = iops;

59 
this
.
´eviousTime
 = 0.0;

60 
this
.
nos
=nos;

62 ià(
uµÜts
>0è
this
.uµÜt ğ
Ãw
 
Node
[upports];

63 
this
.
dowÅÜts
 = 
Ãw
 
Node
[downports];

65 
this
.
fÜw¬dšgTabË
 = 
Ãw
 
	`FÜw¬dšgRuË
();

66 
this
.
´oûssšgTabË
 = 
Ãw
 
HashbË
<
Package
,
LÚg
>();

67 
this
.
routšgTabË
 = 
Ãw
 
	`RoutšgTabË
();

70 @
Ov”ride


71 
public
 
	$¡¬tEÁ™y
(è{
	}
}

73 @
Ov”ride


74 
public
 
	$shutdownEÁ™y
(è{
	}
}

76 @
Ov”ride


77 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

78 
g
 = 
ev
.
	`g‘Tag
();

80 
g
){

83 : 
Sy¡em
.
out
.
	`´šn
("UnknowÀev’ˆ»ûived by "+
su³r
.
	`g‘Name
()+". Tag:"+
ev
.
	`g‘Tag
());

85 
	}
}

87 
public
 
	$addLšk
(
Lšk
 
l
){

88 
this
.
lšks
.
	`add
(
l
);

89 
	}
}

95 
´iv©e
 
	gLi¡
<
	gHi¡ÜyEÁry
> 
	gutiz©iÚHi¡Ü›s
 = 
nuÎ
;

96 
´iv©e
 
	gpow”OffDu¿tiÚ
 = 0;

98 
public
 cÏs 
	cHi¡ÜyEÁry
 {

99 
public
 
	g¡¬tTime
;

100 
public
 
	gnumAùivePÜts
;

101 
Hi¡ÜyEÁry
(
t
, 
n
è{ 
	g¡¬tTime
ñ; 
	gnumAùivePÜts
=n;}

103 
public
 
	gLi¡
<
	gHi¡ÜyEÁry
> 
	$g‘Utiz©iÚHisÙry
() {

104  
utiz©iÚHi¡Ü›s
;

105 
	}
}

107 
public
 
	$g‘Utiz©iÚEÃrgyCÚsum±iÚ
() {

109 
tÙ®
=0;

110 
Ï¡Time
=0;

111 
Ï¡PÜt
=0;

112 if(
this
.
utiz©iÚHi¡Ü›s
 =ğ
nuÎ
)

115 
Hi¡ÜyEÁry
 
h
:
this
.
utiz©iÚHi¡Ü›s
) {

116 
du¿tiÚ
 = 
h
.
¡¬tTime
 - 
Ï¡Time
;

117 
pow”
 = 
	`ÿlcuÏ‹Pow”
(
Ï¡PÜt
);

118 
’”gyCÚsum±iÚ
 = 
pow”
 * 
du¿tiÚ
;

121 if(
du¿tiÚ
 > 
pow”OffDu¿tiÚ
 && 
Ï¡PÜt
 == 0)

122 
’”gyCÚsum±iÚ
 = 0;

124 
tÙ®
 +ğ
’”gyCÚsum±iÚ
;

125 
Ï¡Time
 = 
h
.
¡¬tTime
;

126 
Ï¡PÜt
 = 
h
.
numAùivePÜts
;

128  
tÙ®
/3600;

129 
	}
}

130 
public
 
	$upd©eN‘wÜkUtiz©iÚ
() {

131 
this
.
	`addUtiz©iÚEÁry
();

132 
	}
}

134 
public
 
	$addUtiz©iÚEÁryT”mš©iÚ
(
fšishTime
) {

135 if(
this
.
utiz©iÚHi¡Ü›s
 !ğ
nuÎ
)

136 
this
.
utiz©iÚHi¡Ü›s
.
	`add
(
Ãw
 
	`Hi¡ÜyEÁry
(
fšishTime
, 0));

137 
	}
}

139 
´iv©e
 
	$addUtiz©iÚEÁry
() {

140 
time
 = 
CloudSim
.
	`şock
();

141 
tÙ®AùivePÜts
 = 
	`g‘TÙ®AùivePÜts
();

142 if(
utiz©iÚHi¡Ü›s
 =ğ
nuÎ
)

143 
utiz©iÚHi¡Ü›s
 = 
Ãw
 
A¼ayLi¡
<
Hi¡ÜyEÁry
>();

145 
Hi¡ÜyEÁry
 
hi¡
 = 
this
.
utiz©iÚHi¡Ü›s
.
	`g‘
Ñhis.utiz©iÚHi¡Ü›s.
	`size
()-1);

146 if(
hi¡
.
numAùivePÜts
 =ğ
tÙ®AùivePÜts
) {

150 
this
.
utiz©iÚHi¡Ü›s
.
	`add
(
Ãw
 
	`Hi¡ÜyEÁry
(
time
, 
tÙ®AùivePÜts
));

151 
	}
}

152 
´iv©e
 
	$ÿlcuÏ‹Pow”
(
numAùivePÜt
) {

153 
pow”
 = 
POWER_CONSUMPTION_IDLE
 + 
POWER_CONSUMPTION_PER_ACTIVE_PORT
 * 
numAùivePÜt
;

154  
pow”
;

155 
	}
}

156 
´iv©e
 
	$g‘TÙ®AùivePÜts
() {

157 
num
 = 0;

158 
Lšk
 
l
:
this
.
lšks
) {

159 if(
l
.
	`isAùive
())

160 
num
++;

162  
num
;

163 
	}
}

280 @
Ov”ride


281 
public
 
	$g‘Add»ss
() {

282  
su³r
.
	`g‘Id
();

283 
	}
}

285 @
Ov”ride


286 
public
 
	$g‘Bªdwidth
() {

287  
bw
;

288 
	}
}

290 @
Ov”ride


291 
public
 
	$ş—rVMRoutšgTabË
(){

292 
this
.
fÜw¬dšgTabË
.
	`ş—r
();

293 
	}
}

295 @
Ov”ride


296 
public
 
	$addVMRou‹
(
¤c
, 
de¡
, 
æowId
, 
Node
 
to
){

297 
this
.
fÜw¬dšgTabË
.
	`addRuË
(
¤c
, 
de¡
, 
æowId
, 
to
);

298 
	}
}

300 @
Ov”ride


301 
public
 
Node
 
	$g‘VMRou‹
(
¤c
, 
de¡
, 
æowId
){

302 
Node
 
rou‹
ğ
this
.
fÜw¬dšgTabË
.
	`g‘Rou‹
(
¤c
, 
de¡
, 
æowId
);

303 if(
rou‹
 =ğ
nuÎ
) {

304 
this
.
	`´štVMRou‹
();

305 
Sy¡em
.
”r
.
	`´šn
("SDNSwitch.getRoute() ERROR: Cannot find„oute:" +

306 
N‘wÜkO³¿tšgSy¡em
.
debugVmIdName
.
	`g‘
(
¤c
) + "->"+

307 
N‘wÜkO³¿tšgSy¡em
.
debugVmIdName
.
	`g‘
(
de¡
è+ ", flow ="+
æowId
);

310  
rou‹
;

311 
	}
}

313 @
Ov”ride


314 
public
 
	$»moveVMRou‹
(
¤c
, 
de¡
, 
æowId
){

315 
fÜw¬dšgTabË
.
	`»moveRuË
(
¤c
, 
de¡
, 
æowId
);

316 
	}
}

318 @
Ov”ride


319 
public
 
	$£tRªk
(
¿nk
) {

320 
this
.
¿nk
 =„ank;

321 
	}
}

323 @
Ov”ride


324 
public
 
	$g‘Rªk
() {

325  
¿nk
;

326 
	}
}

328 @
Ov”ride


329 
public
 
	$´štVMRou‹
() {

330 
fÜw¬dšgTabË
.
	`´štFÜw¬dšgTabË
(
	`g‘Name
());

331 
	}
}

333 
public
 
SŒšg
 
	$toSŒšg
() {

334  "Sw™ch: "+
this
.
	`g‘Name
();

335 
	}
}

336 @
Ov”ride


337 
public
 
	$addRou‹
(
Node
 
de¡Ho¡
, 
Lšk
 
to
) {

338 
this
.
routšgTabË
.
	`addRou‹
(
de¡Ho¡
, 
to
);

340 
	}
}

341 @
Ov”ride


342 
public
 
	gLi¡
<
	gLšk
> 
	$g‘Rou‹
(
Node
 
de¡Ho¡
) {

343  
this
.
routšgTabË
.
	`g‘Rou‹
(
de¡Ho¡
);

344 
	}
}

345 @
Ov”ride


346 
public
 
RoutšgTabË
 
	$g‘RoutšgTabË
() {

347  
this
.
routšgTabË
;

348 
	}
}

	@src/org/cloudbus/cloudsim/sdn/TimedVm.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

10 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËr
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

22 
public
 cÏs 
	cTimedVm
 
ex‹nds
 
	mVm
 {

24 
´iv©e
 
	m¡¬tTime
;

25 
´iv©e
 
	mfšishTime
;

27 
public
 
	$TimedVm
(
id
, 
u£rId
, 
ms
, 
numb”OfPes
, 
¿m
,

28 
bw
, 
size
, 
SŒšg
 
vmm
, 
CloudËtScheduËr
 
şoudËtScheduËr
) {

29 
	`su³r
(
id
, 
u£rId
, 
ms
, 
numb”OfPes
, 
¿m
, 
bw
, 
size
, 
vmm
, 
şoudËtScheduËr
);

32 
public
 
	$TimedVm
(
id
, 
u£rId
, 
ms
, 
numb”OfPes
, 
¿m
,

33 
bw
, 
size
, 
SŒšg
 
vmm
, 
CloudËtScheduËr
 
şoudËtScheduËr
, 
¡¬tTime
, 
fšishTime
) {

34 
	`su³r
(
id
, 
u£rId
, 
ms
, 
numb”OfPes
, 
¿m
, 
bw
, 
size
, 
vmm
, 
şoudËtScheduËr
);

36 
this
.
¡¬tTime
 = startTime;

37 
this
.
fšishTime
 = finishTime;

38 
	}
}

40 
public
 
	$g‘S¹Time
() {

41  
¡¬tTime
;

42 
	}
}

44 
public
 
	$g‘FšishTime
() {

45  
fšishTime
;

46 
	}
}

	@src/org/cloudbus/cloudsim/sdn/Transmission.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
;

23 
public
 cÏs 
	cT¿nsmissiÚ
 
im¶em’ts
 
	mAùiv™y
 {

24 
Package
 
	mpkg
;

25 
	mamouÁToBeProûs£d
;

27 
public
 
	$T¿nsmissiÚ
(
Üigš
, 
de¡š©iÚ
, 
size
, 
æowId
, 
Reque¡
 
·ylßd
) {

28 
this
.
pkg
 = 
Ãw
 
	`Package
(
Üigš
, 
de¡š©iÚ
, 
size
, 
æowId
, 
·ylßd
);

29 
this
.
amouÁToBeProûs£d
=
pkg
.
	`g‘Size
();

32 
public
 
	$T¿nsmissiÚ
(
Package
 
pkg
){

33 
this
.
pkg
 =…kg;

34 
this
.
amouÁToBeProûs£d
=
pkg
.
	`g‘Size
();

35 
	}
}

37 
public
 
	$g‘Size
(){

38  
amouÁToBeProûs£d
;

39 
	}
}

41 
public
 
Package
 
	$g‘Package
(){

42  
pkg
;

43 
	}
}

49 
public
 
	$addCom¶‘edL’gth
(
com¶‘ed
){

50 
amouÁToBeProûs£d
-=
com¶‘ed
;

51 ià(
amouÁToBeProûs£d
<=0)‡mountToBeProcessed = 0;

52 
	}
}

58 
public
 
boŞ—n
 
	$isCom¶‘ed
(){

59  
amouÁToBeProûs£d
==0;

60 
	}
}

62 
public
 
SŒšg
 
	$toSŒšg
() {

63  "T¿nsmissiÚ:"+
this
.
pkg
.
	`toSŒšg
();

64 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/LogPrinter.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gAùiv™y
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gProûssšg
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gReque¡
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gSw™ch
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gT¿nsmissiÚ
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gSw™ch
.
	gHi¡ÜyEÁry
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gpow”
.
	gPow”Utiz©iÚHi¡ÜyEÁry
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gpow”
.
	gPow”Utiz©iÚIÁ”çû
;

31 
public
 cÏs 
	cLogPrš‹r
 {

32 
public
 
´štEÃrgyCÚsum±iÚ
(
Li¡
<
Ho¡
> 
ho¡Li¡
, Li¡<
Sw™ch
> 
sw™chLi¡
, 
fšishTime
) {

33 
	mho¡EÃrgyCÚsum±iÚ
 = 0, 
	msw™chEÃrgyCÚsum±iÚ
 = 0;

35 
	mLog
.
´štLše
("========== HOST POWER CONSUMPTION AND DETAILED UTILIZATION ===========");

36 
Ho¡
 
	mho¡
:
ho¡Li¡
) {

37 
Pow”Utiz©iÚIÁ”çû
 
scheduËr
 = (Pow”Utiz©iÚIÁ”çûè
ho¡
.
g‘VmScheduËr
();

38 
	mscheduËr
.
addUtiz©iÚEÁryT”mš©iÚ
(
fšishTime
);

40 
	m’”gy
 = 
scheduËr
.
g‘Utiz©iÚEÃrgyCÚsum±iÚ
();

41 
	mLog
.
´štLše
("Ho¡ #"+
ho¡
.
g‘Id
()+": "+
’”gy
);

42 
	mho¡EÃrgyCÚsum±iÚ
+ğ
’”gy
;

44 
´štHo¡Utiz©iÚHi¡Üy
(
scheduËr
.
g‘Utiz©iÚHisÙry
());

48 
	mLog
.
´štLše
("========== SWITCH POWER CONSUMPTION AND DETAILED UTILIZATION ===========");

49 
Sw™ch
 
	msw
:
sw™chLi¡
) {

50 
sw
.
addUtiz©iÚEÁryT”mš©iÚ
(
fšishTime
);

51 
	m’”gy
 = 
sw
.
g‘Utiz©iÚEÃrgyCÚsum±iÚ
();

52 
	mLog
.
´štLše
("Sw™ch #"+
sw
.
g‘Id
()+": "+
’”gy
);

53 
	msw™chEÃrgyCÚsum±iÚ
+ğ
’”gy
;

55 
´štSw™chUtiz©iÚHi¡Üy
(
sw
.
g‘Utiz©iÚHisÙry
());

58 
	mLog
.
´štLše
("========== TOTAL POWER CONSUMPTION ===========");

59 
	mLog
.
´štLše
("Ho¡ƒÃrgy cÚsumed: "+
ho¡EÃrgyCÚsum±iÚ
);

60 
	mLog
.
´štLše
("Sw™chƒÃrgy cÚsumed: "+
sw™chEÃrgyCÚsum±iÚ
);

61 
	mLog
.
´štLše
("TÙ®ƒÃrgy cÚsumed: "+(
ho¡EÃrgyCÚsum±iÚ
+
sw™chEÃrgyCÚsum±iÚ
));

65 
´iv©e
 
´štHo¡Utiz©iÚHi¡Üy
(

66 
Li¡
<
Pow”Utiz©iÚHi¡ÜyEÁry
> 
utiz©iÚHisÙry
) {

67 if(
	gutiz©iÚHisÙry
 !ğ
nuÎ
)

68 
Pow”Utiz©iÚHi¡ÜyEÁry
 
h
:
utiz©iÚHisÙry
) {

69 
Log
.
´štLše
(
h
.
¡¬tTime
+", "+h.
u£dMs
);

72 
´iv©e
 
´štSw™chUtiz©iÚHi¡Üy
(
Li¡
<
Hi¡ÜyEÁry
> 
utiz©iÚHisÙry
) {

73 if(
	gutiz©iÚHisÙry
 !ğ
nuÎ
)

74 
Hi¡ÜyEÁry
 
h
:
utiz©iÚHisÙry
) {

75 
Log
.
´štLše
(
h
.
¡¬tTime
+", "+h.
numAùivePÜts
);

79 
public
 
SŒšg
 
	gšd’t
 = ",";

80 
public
 
SŒšg
 
	gbSize
 = "10";

81 
public
 
SŒšg
 
	gfSŒšg
 = "%"+
bSize
+"s"+
šd’t
;

82 
public
 
SŒšg
 
	gfIÁ
 = "%"+
bSize
+"d"+
šd’t
;

83 
public
 
SŒšg
 
	gfFlßt
 = "%"+
bSize
+".3f"+
šd’t
;

85 
public
 
´štCloudËtLi¡
(
Li¡
<
CloudËt
> 
li¡
) {

86 
	gsize
 = 
li¡
.
size
();

87 
CloudËt
 
	gşoudËt
;

89 
	gLog
.
´štLše
();

90 
	gLog
.
´štLše
("========== OUTPUT ==========");

92 
	gLog
.
´št
(
SŒšg
.
fÜm©
(
fSŒšg
, "Cloudlet_ID"));

93 
	gLog
.
´št
(
SŒšg
.
fÜm©
(
fSŒšg
, "STATUS" ));

94 
	gLog
.
´št
(
SŒšg
.
fÜm©
(
fSŒšg
, "DataCenter_ID"));

95 
	gLog
.
´št
(
SŒšg
.
fÜm©
(
fSŒšg
, "VM_ID"));

96 
	gLog
.
´št
(
SŒšg
.
fÜm©
(
fSŒšg
, "Length"));

97 
	gLog
.
´št
(
SŒšg
.
fÜm©
(
fSŒšg
, "Time"));

98 
	gLog
.
´št
(
SŒšg
.
fÜm©
(
fSŒšg
, "Start Time"));

99 
	gLog
.
´št
(
SŒšg
.
fÜm©
(
fSŒšg
, "Finish Time"));

100 
	gLog
.
´št
("\n");

103 
	gi
 = 0; i < 
	gsize
; i++) {

104 
	gşoudËt
 = 
li¡
.
g‘
(
i
);

105 
´štCloudËt
(
şoudËt
);

109 
´iv©e
 
	$´štCloudËt
(
CloudËt
 
şoudËt
) {

110 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fIÁ
, 
şoudËt
.
	`g‘CloudËtId
()));

112 ià(
şoudËt
.
	`g‘CloudËtStus
(è=ğ
CloudËt
.
SUCCESS
) {

113 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fSŒšg
, "SUCCESS"));

114 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fIÁ
, 
şoudËt
.
	`g‘ResourûId
()));

115 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fIÁ
, 
şoudËt
.
	`g‘VmId
()));

116 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fIÁ
, 
şoudËt
.
	`g‘CloudËtL’gth
()));

117 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fFlßt
, 
şoudËt
.
	`g‘Aùu®CPUTime
()));

118 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fFlßt
, 
şoudËt
.
	`g‘ExecS¹Time
()));

119 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fFlßt
, 
şoudËt
.
	`g‘FšishTime
()));

120 
Log
.
	`´št
("\n");

123 
Log
.
	`´štLše
("FAILED");

125 
	}
}

127 
´iv©e
 
	g¡¬tTime
, 
	gfšishTime
;

128 
public
 
´štWÜklßdLi¡
(
Li¡
<
WÜklßd
> 
wls
) {

129 [] 
	g­pIdNum
 = 
Ãw
 [
SDNBrok”
.
­pId
];

130 [] 
	g­pIdTime
 = 
Ãw
 [
SDNBrok”
.
­pId
];

131 [] 
	g­pIdS¹Time
 = 
Ãw
 [
SDNBrok”
.
­pId
];

132 [] 
	g­pIdFšishTime
 = 
Ãw
 [
SDNBrok”
.
­pId
];

134 
	g£rveTime
, 
	gtÙ®Time
 = 0;

136 
	gLog
.
´štLše
();

137 
	gLog
.
´štLše
("========== DETAILED RESPONSE TIME OF WORKLOADS ===========");

139 if(
	gwls
.
size
() == 0) ;

141 
	gLog
.
´št
(
SŒšg
.
fÜm©
(
fSŒšg
, "App_ID"));

142 
´štReque¡T™Ë
(
wls
.
g‘
(0).
»que¡
);

143 
	gLog
.
´št
(
SŒšg
.
fÜm©
(
fSŒšg
, "ResponseTime"));

144 
	gLog
.
´štLše
();

146 
WÜklßd
 
	gwl
:
wls
) {

147 
Log
.
´št
(
SŒšg
.
fÜm©
(
fIÁ
, 
wl
.
­pId
));

149 
	g¡¬tTime
 = 
fšishTime
 = -1;

150 
´štReque¡
(
wl
.
»que¡
);

152 
	g£rveTime
ğ(
fšishTime
 - 
¡¬tTime
);

153 
	gLog
.
´št
(
SŒšg
.
fÜm©
(
fFlßt
, 
£rveTime
));

154 
	gtÙ®Time
 +ğ
£rveTime
;

156 
	g­pIdNum
[
wl
.
­pId
] ++;

157 
	g­pIdTime
[
wl
.
­pId
] +ğ
£rveTime
;

158 if(
	g­pIdS¹Time
[
wl
.
­pId
] <=0) {

159 
­pIdS¹Time
[
wl
.
­pId
] = wl.
time
;

161 
	g­pIdFšishTime
[
wl
.
­pId
] = wl.
time
;

162 
	gLog
.
´štLše
();

165 
	gLog
.
´štLše
("========== AVERAGE RESULT OF WORKLOADS ===========");

166 
	gi
=0; i<
	gSDNBrok”
.
	g­pId
; i++) {

167 
	gLog
.
´štLše
("Aµ Id ("+
i
+"): "+
­pIdNum
[i]+"„eque¡s, S¹=" + 
­pIdS¹Time
[i]+

168 ", Fšish="+
­pIdFšishTime
[
i
]+", R©e="+()
­pIdNum
[i]/×µIdFšishTime[i] - 
­pIdS¹Time
[i])+

169 "„eq/£c, Re¥Ú£ime=" + 
­pIdTime
[
i
]/
­pIdNum
[i]);

174 
	gLog
.
´štLše
("Av”agRe¥Ú£ Time:"+(
tÙ®Time
 / 
wls
.
size
()));

178 
´iv©e
 
	$´štReque¡T™Ë
(
Reque¡
 
»q
) {

183 
Li¡
<
Aùiv™y
> 
aùs
 = 
»q
.
	`g‘RemovedAùiv™›s
();

184 
Aùiv™y
 
aù
:
aùs
) {

185 if(
aù
 
š¡ªûof
 
T¿nsmissiÚ
) {

186 
T¿nsmissiÚ
 
Œ
=(T¿nsmissiÚ)
aù
;

187 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fSŒšg
, "Tr:Size"));

188 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fSŒšg
, "Tr:Channel"));

190 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fSŒšg
, "Tr:time"));

191 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fSŒšg
, "Tr:Start"));

192 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fSŒšg
, "Tr:End"));

194 
	`´štReque¡T™Ë
(
Œ
.
	`g‘Package
().
	`g‘Paylßd
());

197 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fSŒšg
, "Pr:Size"));

199 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fSŒšg
, "Pr:time"));

200 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fSŒšg
, "Pr:Start"));

201 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fSŒšg
, "Pr:End"));

204 
	}
}

206 
´iv©e
 
	$´štReque¡
(
Reque¡
 
»q
) {

211 
Li¡
<
Aùiv™y
> 
aùs
 = 
»q
.
	`g‘RemovedAùiv™›s
();

212 
Aùiv™y
 
aù
:
aùs
) {

213 if(
aù
 
š¡ªûof
 
T¿nsmissiÚ
) {

214 
T¿nsmissiÚ
 
Œ
=(T¿nsmissiÚ)
aù
;

215 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fIÁ
, 
Œ
.
	`g‘Package
().
	`g‘Size
()));

216 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fIÁ
, 
Œ
.
	`g‘Package
().
	`g‘FlowId
()));

218 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fFlßt
, 
Œ
.
	`g‘Package
().
	`g‘FšishTime
(è-r.g‘Package().
	`g‘S¹Time
()));

219 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fFlßt
, 
Œ
.
	`g‘Package
().
	`g‘S¹Time
()));

220 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fFlßt
, 
Œ
.
	`g‘Package
().
	`g‘FšishTime
()));

222 
	`´štReque¡
(
Œ
.
	`g‘Package
().
	`g‘Paylßd
());

225 
Proûssšg
 
´
=(Proûssšg)
aù
;

226 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fIÁ
, 
´
.
	`g‘CloudËt
().
	`g‘CloudËtL’gth
()));

228 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fFlßt
, 
´
.
	`g‘CloudËt
().
	`g‘Aùu®CPUTime
()));

229 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fFlßt
, 
´
.
	`g‘CloudËt
().
	`g‘ExecS¹Time
()));

230 
Log
.
	`´št
(
SŒšg
.
	`fÜm©
(
fFlßt
, 
´
.
	`g‘CloudËt
().
	`g‘FšishTime
()));

232 if(
¡¬tTime
 =ğ-1è¡¬tTimğ
´
.
	`g‘CloudËt
().
	`g‘ExecS¹Time
();

233 
fšishTime
=
´
.
	`g‘CloudËt
().
	`g‘FšishTime
();

236 
	}
}

238 
public
 
	$´štGroupSti¡ics
(
groupS•”©eNum
, [] 
­pIdNum
, [] 
­pIdTime
) {

240 
´iÜ™ySum
 = 0, 
¡ªd¬dSum
 = 0;

241 
´iÜ™yReqNum
 = 0, 
¡ªd¬dReqNum
 =0;

243 
i
=0; i<
SDNBrok”
.
­pId
; i++) {

244 
avgRe¥Ú£Time
 = 
­pIdTime
[
i
]/
­pIdNum
[i];

245 if(
i
<
groupS•”©eNum
) {

246 
´iÜ™ySum
 +ğ
avgRe¥Ú£Time
;

247 
´iÜ™yReqNum
 +ğ
­pIdNum
[
i
];

250 
¡ªd¬dSum
 +ğ
avgRe¥Ú£Time
;

251 
¡ªd¬dReqNum
 +ğ
­pIdNum
[
i
];

255 
Log
.
	`´štLše
("Av”agRe¥Ú£ Time(PriÜ™y):"+(
´iÜ™ySum
 / 
´iÜ™yReqNum
));

256 
Log
.
	`´štLše
("Av”agRe¥Ú£ Time(Snd¬d):"+(
¡ªd¬dSum
 / 
¡ªd¬dReqNum
));

257 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/SDNBroker.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–FuÎ
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEÁ™y
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gCÚ¡ªts
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gSDND©aûÁ”
;

31 
public
 cÏs 
	cSDNBrok”
 
ex‹nds
 
	mSimEÁ™y
 {

33 
´iv©e
 
SDND©aûÁ”
 
	md©aûÁ”
 = 
nuÎ
;

34 
´iv©e
 
SŒšg
 
	m­¶iÿtiÚFeName
 = 
nuÎ
;

35 
´iv©e
 
	mLi¡
<
	mSŒšg
> 
	mwÜklßdFeNames
=
nuÎ
;

37 
´iv©e
 
	mLi¡
<
	mCloudËt
> 
	mşoudËtLi¡
;

38 
´iv©e
 
	mLi¡
<
	mWÜklßd
> 
	mwÜklßds
;

40 
public
 
	$SDNBrok”
(
SŒšg
 
Çme
è
throws
 
Exû±iÚ
 {

41 
	`su³r
(
Çme
);

42 
this
.
wÜklßdFeNames
 = 
Ãw
 
A¼ayLi¡
<
SŒšg
>();

43 
this
.
şoudËtLi¡
 = 
Ãw
 
A¼ayLi¡
<
CloudËt
>();

44 
this
.
wÜklßds
 = 
Ãw
 
A¼ayLi¡
<
WÜklßd
>();

47 @
Ov”ride


48 
public
 
	$¡¬tEÁ™y
() {

49 
	`£ndNow
(
this
.
d©aûÁ”
.
	`g‘Id
(), 
CÚ¡ªts
.
APPLICATION_SUBMIT
,his.
­¶iÿtiÚFeName
);

50 
	}
}

51 @
Ov”ride


52 
public
 
	$shutdownEÁ™y
() {

53 
Li¡
<
Vm
> 
vmLi¡
 = 
this
.
d©aûÁ”
.
	`g‘VmLi¡
();

54 
Vm
 
vm
:
vmLi¡
) {

55 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": Shu‰šgdown.. VM:" + 
vm
.
	`g‘Id
());

57 
	}
}

58 
public
 
	$subm™D•loyAµliÿtiÚ
(
SDND©aûÁ”
 
dc
, 
SŒšg
 
f’ame
) {

59 
this
.
d©aûÁ”
 = 
dc
;

60 
this
.
­¶iÿtiÚFeName
 = 
f’ame
;

61 
	}
}

63 
public
 
	$subm™Reque¡s
(
SŒšg
 
f’ame
) {

64 
this
.
wÜklßdFeNames
.
	`add
(
f’ame
);

65 
	}
}

67 @
Ov”ride


68 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

69 
g
 = 
ev
.
	`g‘Tag
();

71 
g
){

72 
CloudSimTags
.
VM_CREATE_ACK
: 
	`´oûssVmC»©e
(
ev
); ;

73 
CÚ¡ªts
.
APPLICATION_SUBMIT_ACK
: 
	`­¶iÿtiÚSubm™Com¶‘ed
(
ev
); ;

74 
CÚ¡ªts
.
REQUEST_COMPLETED
: 
	`»que¡Com¶‘ed
(
ev
); ;

75 : 
Sy¡em
.
out
.
	`´šn
("UnknowÀev’ˆ»ûived by "+
su³r
.
	`g‘Name
()+". Tag:"+
ev
.
	`g‘Tag
());

77 
	}
}

78 
´iv©e
 
	$´oûssVmC»©e
(
SimEv’t
 
ev
) {

80 
	}
}

82 
´iv©e
 
	$»que¡Com¶‘ed
(
SimEv’t
 
ev
) {

84 
	}
}

86 
public
 
	gLi¡
<
	gCloudËt
> 
	$g‘CloudËtReûivedLi¡
() {

87  
şoudËtLi¡
;

88 
	}
}

90 
public
 
	g­pId
 = 0;

92 
´iv©e
 
	$­¶iÿtiÚSubm™Com¶‘ed
(
SimEv’t
 
ev
) {

93 
SŒšg
 
wÜklßdFeName
:
this
.
wÜklßdFeNames
) {

94 
	`scheduËReque¡
(
wÜklßdFeName
);

95 
SDNBrok”
.
­pId
++;

97 
	}
}

99 
´iv©e
 
	$scheduËReque¡
(
SŒšg
 
wÜklßdFe
) {

100 
WÜklßdP¬£r
 
½
 = 
Ãw
 
	`WÜklßdP¬£r
(
wÜklßdFe
, 
this
.
	`g‘Id
(),‚ew 
	`Utiz©iÚMod–FuÎ
(),

101 
this
.
d©aûÁ”
.
	`g‘VmNameIdTabË
(),his.d©aûÁ”.
	`g‘FlowNameIdTabË
());

103 
WÜklßd
 
wl
: 
½
.
	`g‘WÜklßds
()) {

104 
	`£nd
(
this
.
d©aûÁ”
.
	`g‘Id
(), 
wl
.
time
, 
CÚ¡ªts
.
REQUEST_SUBMIT
, wl.
»que¡
);

105 
wl
.
­pId
 = 
SDNBrok”
.appId;

108 
this
.
şoudËtLi¡
.
	`addAÎ
(
½
.
	`g‘AÎCloudËts
());

109 
this
.
wÜklßds
.
	`addAÎ
(
½
.
	`g‘WÜklßds
());

110 
	}
}

112 
public
 
	gLi¡
<
	gWÜklßd
> 
	$g‘WÜklßds
() {

113  
this
.
wÜklßds
;

114 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/SDNExample.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

12 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

13 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”Ch¬aù”i¡ics
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicy
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gN‘wÜkO³¿tšgSy¡em
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gSDND©aûÁ”
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gSw™ch
;

26 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gpŞic›s
.
	gVmAÎoÿtiÚPŞicyCombšedL—¡FuÎFœ¡
;

27 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gpŞic›s
.
	gVmAÎoÿtiÚPŞicyCombšedMo¡FuÎFœ¡
;

28 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gpŞic›s
.
	gVmAÎoÿtiÚPŞicyMsL—¡FuÎFœ¡
;

29 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gpŞic›s
.
	gVmAÎoÿtiÚPŞicyMsMo¡FuÎFœ¡
;

30 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gOv”bookšgN‘wÜkO³¿tšgSy¡em
;

31 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gVmAÎoÿtiÚPŞicyOv”bookšg
;

32 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gpow”
.
	gPow”Utiz©iÚMaxHo¡IÁ”çû
;

42 
public
 cÏs 
	cSDNExam¶e
 {

43 
´Ùeùed
 
SŒšg
 
	mphysiÿlTİŞogyFe
 = "dataset-energy/energy-physical.json";

44 
´Ùeùed
 
SŒšg
 
	md•loym’tFe
 = "dataset-energy/energy-virtual.json";

45 
´Ùeùed
 
	mSŒšg
 [] 
	mwÜklßd_fes
 = {

52 
´Ùeùed
 
	gLi¡
<
	gSŒšg
> 
	gwÜklßds
;

54 
´iv©e
 
boŞ—n
 
	glogEÇbËd
 = 
Œue
;

56 
public
 
š‹rçû
 
	gVmAÎoÿtiÚPŞicyFaùÜy
 {

57 
public
 
VmAÎoÿtiÚPŞicy
 
ü—‹
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
);

59 
	eVmAÎoÿtiÚPŞicyEnum
{ 
	gCombLFF
, 
	gCombMFF
, 
	gMLFF
, 
	gMMFF
, 
	gOv”LFF
, 
	gOv”MFF
, 
	gLFF
, 
	gMFF
, 
	gOv”bookšg
}

61 
´iv©e
 
	$´štU§ge
() {

62 
SŒšg
 
runCmd
 = "java SDNExample";

63 
Sy¡em
.
out
.
	`fÜm©
("U§ge: % <LFF|MFF> [physiÿl.jsÚ] [vœtu®.jsÚ] [wÜklßd1.csv] [wÜklßd2.csv] [...]\n", 
runCmd
);

64 
	}
}

71 @
Suµ»ssW¬nšgs
("unused")

72 
public
 
	$maš
(
SŒšg
[] 
¬gs
) {

74 
wÜklßds
 = 
Ãw
 
A¼ayLi¡
<
SŒšg
>();

77 if(
¬gs
.
Ëngth
 < 1) {

78 
	`´štU§ge
();

79 
Sy¡em
.
	`ex™
(1);

82 
VmAÎoÿtiÚPŞicyEnum
 
vmAÎocPŞicy
 = VmAÎoÿtiÚPŞicyEnum.
	`v®ueOf
(
¬gs
[0]);

83 if(
¬gs
.
Ëngth
 > 1)

84 
physiÿlTİŞogyFe
 = 
¬gs
[1];

85 if(
¬gs
.
Ëngth
 > 2)

86 
d•loym’tFe
 = 
¬gs
[2];

87 if(
¬gs
.
Ëngth
 > 3)

88 
i
=3; i<
¬gs
.
Ëngth
; i++) {

89 
wÜklßds
.
	`add
(
¬gs
[
i
]);

92 
wÜklßds
 = (
Li¡
<
SŒšg
>è
A¼ays
.
	`asLi¡
(
wÜklßd_fes
);

94 
	`´štArgum’ts
(
physiÿlTİŞogyFe
, 
d•loym’tFe
, 
wÜklßds
);

95 
Log
.
	`´štLše
("Starting CloudSim SDN...");

97 
Œy
 {

99 
num_u£r
 = 1;

100 
C®’d¬
 
ÿËnd¬
 = C®’d¬.
	`g‘In¡ªû
();

101 
boŞ—n
 
Œaû_æag
 = 
çl£
;

102 
CloudSim
.
	`š™
(
num_u£r
, 
ÿËnd¬
, 
Œaû_æag
);

104 
VmAÎoÿtiÚPŞicyFaùÜy
 
vmAÎoÿtiÚFac
 = 
nuÎ
;

105 
N‘wÜkO³¿tšgSy¡em
 
¢os
 = 
nuÎ
;

106 
vmAÎocPŞicy
) {

107 
CombMFF
:

108 
MFF
:

109 
vmAÎoÿtiÚFac
 = 
Ãw
 
	`VmAÎoÿtiÚPŞicyFaùÜy
() {

110 
public
 
VmAÎoÿtiÚPŞicy
 
	`ü—‹
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
è{  
Ãw
 
	`VmAÎoÿtiÚPŞicyCombšedMo¡FuÎFœ¡
(hostList); }

112 
¢os
 = 
Ãw
 
	`Sim¶eN‘wÜkO³¿tšgSy¡em
(
physiÿlTİŞogyFe
);

114 
CombLFF
:

115 
LFF
:

116 
vmAÎoÿtiÚFac
 = 
Ãw
 
	`VmAÎoÿtiÚPŞicyFaùÜy
() {

117 
public
 
VmAÎoÿtiÚPŞicy
 
	`ü—‹
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
è{  
Ãw
 
	`VmAÎoÿtiÚPŞicyCombšedL—¡FuÎFœ¡
(hostList); }

119 
¢os
 = 
Ãw
 
	`Sim¶eN‘wÜkO³¿tšgSy¡em
(
physiÿlTİŞogyFe
);

121 
MMFF
:

122 
vmAÎoÿtiÚFac
 = 
Ãw
 
	`VmAÎoÿtiÚPŞicyFaùÜy
() {

123 
public
 
VmAÎoÿtiÚPŞicy
 
	`ü—‹
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
è{  
Ãw
 
	`VmAÎoÿtiÚPŞicyMsMo¡FuÎFœ¡
(hostList); }

125 
¢os
 = 
Ãw
 
	`Sim¶eN‘wÜkO³¿tšgSy¡em
(
physiÿlTİŞogyFe
);

127 
MLFF
:

128 
vmAÎoÿtiÚFac
 = 
Ãw
 
	`VmAÎoÿtiÚPŞicyFaùÜy
() {

129 
public
 
VmAÎoÿtiÚPŞicy
 
	`ü—‹
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
è{  
Ãw
 
	`VmAÎoÿtiÚPŞicyMsL—¡FuÎFœ¡
(hostList); }

131 
¢os
 = 
Ãw
 
	`Sim¶eN‘wÜkO³¿tšgSy¡em
(
physiÿlTİŞogyFe
);

133 
Ov”bookšg
:

134 
vmAÎoÿtiÚFac
 = 
Ãw
 
	`VmAÎoÿtiÚPŞicyFaùÜy
() {

135 
public
 
VmAÎoÿtiÚPŞicy
 
	`ü—‹
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
ho¡Li¡
è{  
Ãw
 
	`VmAÎoÿtiÚPŞicyOv”bookšg
(hostList); }

137 
¢os
 = 
Ãw
 
	`Ov”bookšgN‘wÜkO³¿tšgSy¡em
(
physiÿlTİŞogyFe
);

140 
Sy¡em
.
”r
.
	`´šn
("Choose…roper VM…lacement…olilcy!");

141 
	`´štU§ge
();

142 
Sy¡em
.
	`ex™
(1);

146 
SDND©aûÁ”
 
d©aûÁ”
 = 
	`ü—‹SDND©aûÁ”
("D©aûÁ”_0", 
physiÿlTİŞogyFe
, 
¢os
, 
vmAÎoÿtiÚFac
);

149 
SDNBrok”
 
brok”
 = 
	`ü—‹Brok”
();

150 
brok”Id
 = 
brok”
.
	`g‘Id
();

153 
brok”
.
	`subm™D•loyAµliÿtiÚ
(
d©aûÁ”
, 
d•loym’tFe
);

156 
	`subm™WÜklßds
(
brok”
);

159 if(!
SDNExam¶e
.
logEÇbËd
)

160 
Log
.
	`di§bË
();

162 
fšishTime
 = 
CloudSim
.
	`¡¬tSimuÏtiÚ
();

163 
CloudSim
.
	`¡İSimuÏtiÚ
();

164 
Log
.
	`’abË
();

166 
Log
.
	`´štLše
(
fšishTime
+": ========== EXPERIMENT FINISHED ===========");

170 
Li¡
<
CloudËt
> 
ÃwLi¡
 = 
brok”
.
	`g‘CloudËtReûivedLi¡
();

172 if(
SDNExam¶e
.
logEÇbËd
)

173 
LogPrš‹r
.
	`´štCloudËtLi¡
(
ÃwLi¡
);

175 
Li¡
<
WÜklßd
> 
wls
 = 
brok”
.
	`g‘WÜklßds
();

176 
LogPrš‹r
.
	`´štWÜklßdLi¡
(
wls
);

180 
Li¡
<
Ho¡
> 
ho¡Li¡
 = 
nos
.
	`g‘Ho¡Li¡
();

181 
Li¡
<
Sw™ch
> 
sw™chLi¡
 = 
nos
.
	`g‘Sw™chLi¡
();

182 
LogPrš‹r
.
	`´štEÃrgyCÚsum±iÚ
(
ho¡Li¡
, 
sw™chLi¡
, 
fšishTime
);

184 
Log
.
	`´štLše
("SimuÉªou¦y u£d ho¡s:"+
maxHo¡HªdËr
.
	`g‘MaxNumHo¡sU£d
());

185 
Log
.
	`´štLše
("CloudSim SDN finished!");

187 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

188 
e
.
	`´štSckT¿û
();

189 
Log
.
	`´štLše
("Unwantedƒrrors happen");

191 
	}
}

193 
public
 
	$subm™WÜklßds
(
SDNBrok”
 
brok”
) {

195 if(
wÜklßds
 !ğ
nuÎ
) {

196 
SŒšg
 
wÜklßd
:
wÜklßds
)

197 
brok”
.
	`subm™Reque¡s
(
wÜklßd
);

202 
	}
}

204 
public
 
´štArgum’ts
(
SŒšg
 
physiÿl
, SŒšg 
vœtu®
, 
Li¡
<SŒšg> 
wÜklßds
) {

205 
	gSy¡em
.
	gout
.
´šn
("D©¨ûÁ” inäa¡ruùu» (PhysiÿÈTİŞogyè: "+ 
physiÿl
);

206 
	gSy¡em
.
	gout
.
´šn
("Vœtu® Machšªd N‘wÜk„eque¡ (Vœtu® TİŞogyè: "+ 
vœtu®
);

207 
	gSy¡em
.
	gout
.
´šn
("Workloads: ");

208 
SŒšg
 
	gwÜk
:
wÜklßds
)

209 
Sy¡em
.
out
.
´šn
(" "+
wÜk
);

219 
´Ùeùed
 
N‘wÜkO³¿tšgSy¡em
 
	gnos
;

220 
´Ùeùed
 
Pow”Utiz©iÚMaxHo¡IÁ”çû
 
	gmaxHo¡HªdËr
 = 
nuÎ
;

221 
´Ùeùed
 
SDND©aûÁ”
 
	$ü—‹SDND©aûÁ”
(
SŒšg
 
Çme
, SŒšg 
physiÿlTİŞogy
, 
N‘wÜkO³¿tšgSy¡em
 
¢os
, 
VmAÎoÿtiÚPŞicyFaùÜy
 
vmAÎoÿtiÚFaùÜy
) {

223 
nos
=
¢os
;

224 
Li¡
<
Ho¡
> 
ho¡Li¡
 = 
nos
.
	`g‘Ho¡Li¡
();

226 
SŒšg
 
¬ch
 = "x86";

227 
SŒšg
 
os
 = "Linux";

228 
SŒšg
 
vmm
 = "Xen";

230 
time_zÚe
 = 10.0;

231 
co¡
 = 3.0;

232 
co¡P”Mem
 = 0.05;

233 
co¡P”StÜage
 = 0.001;

235 
co¡P”Bw
 = 0.0;

236 
LškedLi¡
<
StÜage
> 
¡ÜageLi¡
 = 
Ãw
 LinkedList<Storage>();

239 
D©aûÁ”Ch¬aù”i¡ics
 
ch¬aù”i¡ics
 = 
Ãw
 
	`D©aûÁ”Ch¬aù”i¡ics
(

240 
¬ch
, 
os
, 
vmm
, 
ho¡Li¡
, 
time_zÚe
, 
co¡
, 
co¡P”Mem
,

241 
co¡P”StÜage
, 
co¡P”Bw
);

244 
SDND©aûÁ”
 
d©aûÁ”
 = 
nuÎ
;

245 
Œy
 {

246 
VmAÎoÿtiÚPŞicy
 
vmPŞicy
 = 
vmAÎoÿtiÚFaùÜy
.
	`ü—‹
(
ho¡Li¡
);

247 
maxHo¡HªdËr
 = (
Pow”Utiz©iÚMaxHo¡IÁ”çû
)
vmPŞicy
;

248 
d©aûÁ”
 = 
Ãw
 
	`SDND©aûÁ”
(
Çme
, 
ch¬aù”i¡ics
, 
vmPŞicy
, 
¡ÜageLi¡
, 0, 
nos
);

251 
nos
.
	`£tD©aûÁ”
(
d©aûÁ”
);

252 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

253 
e
.
	`´štSckT¿û
();

256  
d©aûÁ”
;

257 
	}
}

267 
´Ùeùed
 
SDNBrok”
 
	$ü—‹Brok”
() {

268 
SDNBrok”
 
brok”
 = 
nuÎ
;

269 
Œy
 {

270 
brok”
 = 
Ãw
 
	`SDNBrok”
("Broker");

271 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

272 
e
.
	`´štSckT¿û
();

273  
nuÎ
;

275  
brok”
;

276 
	}
}

279 
SŒšg
 
	gWORKLOAD_GROUP_FILENAME
 = "workload_10sec_100_default.csv";

280 
SŒšg
 
	gWORKLOAD_GROUP_FILENAME_BG
 = "workload_10sec_100.csv";

281 
	gWORKLOAD_GROUP_NUM
 = 50;

282 
	gWORKLOAD_GROUP_PRIORITY
 = 1;

284 
public
 
	$subm™GroupWÜklßds
(
SDNBrok”
 
brok”
, 
wÜklßdsNum
, 
groupS•”©eNum
, 
SŒšg
 
f’ame_suffix_group1
, SŒšg 
f’ame_suffix_group2
) {

285 
£t
=0; s‘<
wÜklßdsNum
; set++) {

286 
SŒšg
 
f’ame
 = 
f’ame_suffix_group1
;

287 if(
£t
>=
groupS•”©eNum
)

288 
f’ame
 = 
f’ame_suffix_group2
;

290 
f’ame
 = 
£t
+"_"+filename;

291 
brok”
.
	`subm™Reque¡s
(
f’ame
);

293 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/SimpleNetworkOperatingSystem.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
;

10 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

12 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gArc
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gLšk
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gMiddËbox
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gN‘wÜkO³¿tšgSy¡em
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gNode
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gSDNHo¡
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gTimedVm
;

33 
public
 cÏs 
	cSim¶eN‘wÜkO³¿tšgSy¡em
 
ex‹nds
 
	mN‘wÜkO³¿tšgSy¡em
 {

35 
public
 
	$Sim¶eN‘wÜkO³¿tšgSy¡em
(
SŒšg
 
feName
) {

36 
	`su³r
(
feName
);

39 @
Ov”ride


40 
public
 
boŞ—n
 
	`d•loyAµliÿtiÚ
(
Li¡
<
Vm
> 
vms
, Li¡<
MiddËbox
> 
middËboxes
, Li¡<
Arc
> 
lšks
) {

41 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
() + ": Starting deploying‡pplication..");

43 
Vm
 
vm
:
vms
)

45 
TimedVm
 
tvm
 = (TimedVmè
vm
;

46 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": TryšgØC»©VM #" + 
vm
.
	`g‘Id
()

47 + " iÀ" + 
d©aûÁ”
.
	`g‘Name
(è+ ", (" + 
tvm
.
	`g‘S¹Time
(è+ "~" +tvm.
	`g‘FšishTime
() + ")");

48 
	`£nd
(
d©aûÁ”
.
	`g‘Id
(), 
tvm
.
	`g‘S¹Time
(), 
CloudSimTags
.
VM_CREATE_ACK
, 
vm
);

50 if(
tvm
.
	`g‘FšishTime
(è!ğ
DoubË
.
POSITIVE_INFINITY
) {

52 
	`£nd
(
d©aûÁ”
.
	`g‘Id
(), 
tvm
.
	`g‘FšishTime
(), 
CloudSimTags
.
VM_DESTROY
, 
vm
);

53 
	`£nd
(
this
.
	`g‘Id
(), 
tvm
.
	`g‘FšishTime
(), 
CloudSimTags
.
VM_DESTROY
, 
vm
);

56  
Œue
;

57 
	}
}

59 
public
 
boŞ—n
 
d•loyFlow
(
Li¡
<
Arc
> 
lšks
) {

60 
Arc
 
	glšk
:
lšks
) {

61 
¤cVm
 = 
lšk
.
g‘SrcId
();

62 
	gd¡Vm
 = 
lšk
.
g‘D¡Id
();

63 
	gæowId
 = 
lšk
.
g‘FlowId
();

65 
SDNHo¡
 
	g¤cho¡
 = 
fšdSDNHo¡
(
¤cVm
);

66 
SDNHo¡
 
	gd¡ho¡
 = 
fšdSDNHo¡
(
d¡Vm
);

67 if(
	g¤cho¡
 =ğ
nuÎ
 || 
d¡ho¡
 ==‚ull) {

71 if(
	g¤cho¡
.
equ®s
(
d¡ho¡
)) {

72 
	gLog
.
´štLše
(
CloudSim
.
şock
(è+ ": " + 
g‘Name
() + ": Source SDN Host is same‡s Destination. Go†oopback");

73 
	g¤cho¡
.
addVMRou‹
(
¤cVm
, 
d¡Vm
, 
æowId
, 
d¡ho¡
);

76 
	gLog
.
´štLše
(
CloudSim
.
şock
(è+ ": " + 
g‘Name
() + ": VMs‡re in different hosts. Createƒntire„outingable (hosts, switches)");

77 
boŞ—n
 
	gfšdRou‹
 = 
budFÜw¬dšgTabËs
(
¤cho¡
, 
¤cVm
, 
d¡Vm
, 
æowId
, 
nuÎ
);

79 if(!
	gfšdRou‹
) {

80 
	gSy¡em
.
	g”r
.
´šn
("SimpleNetworkOperatingSystem.deployFlow: Could‚ot find„oute!!" +

81 
N‘wÜkO³¿tšgSy¡em
.
debugVmIdName
.
g‘
(
¤cVm
è+ "->"+N‘wÜkO³¿tšgSy¡em.debugVmIdName.g‘(
d¡Vm
));

88 
Node
 
	gnode
:
this
.
tİŞogy
.
g‘AÎNodes
()) {

89 
node
.
´štVMRou‹
();

91  
	gŒue
;

94 
´iv©e
 
Lšk
 
£ËùLškFœ¡
(
Li¡
<Lšk> 
lšks
) {

95  
	glšks
.
g‘
(0);

98 
	gi
=0;

99 
´iv©e
 
Lšk
 
£ËùLškRªdom
(
Li¡
<Lšk> 
lšks
) {

100  
	glšks
.
g‘
(
i
++ % 
lšks
.
size
());

103 
´iv©e
 
Lšk
 
£ËùLškByFlow
(
Li¡
<Lšk> 
lšks
, 
æowId
) {

104 if(
	gæowId
 == -1)

105  
lšks
.
g‘
(0);

107  
	glšks
.
g‘
(1 % 
lšks
.
size
());

111 
´iv©e
 
Lšk
 
£ËùLškByChªÃlCouÁ
(
Node
 
äom
, 
Li¡
<Lšk> 
lšks
) {

112 
Lšk
 
	gligh‹r
 = 
lšks
.
g‘
(0);

113 
Lšk
 
	gl
:
lšks
) {

114 if(
l
.
g‘ChªÃlCouÁ
(
äom
è< 
ligh‹r
.getChannelCount(from)) {

116 
ligh‹r
 = 
l
;

119  
	gligh‹r
;

122 
´iv©e
 
Lšk
 
£ËùLškByDe¡š©iÚ
(
Li¡
<Lšk> 
lšks
, 
SDNHo¡
 
de¡Ho¡
) {

123 
	gnumLšks
 = 
lšks
.
size
();

124 
	glškid
 = 
de¡Ho¡
.
g‘Add»ss
(è% 
numLšks
;

125 
Lšk
 
	glšk
 = 
lšks
.
g‘
(
lškid
);

126  
	glšk
;

129 
´iv©e
 
boŞ—n
 
	$budFÜw¬dšgTabËs
(
Node
 
node
, 
¤cVm
, 
d¡Vm
, 
æowId
, Nod
´evNode
) {

131 
SDNHo¡
 
de¡ho¡
 = 
	`fšdSDNHo¡
(
d¡Vm
);

132 if(
node
.
	`equ®s
(
de¡ho¡
))

133  
Œue
;

135 
Li¡
<
Lšk
> 
ÃxtLšks
 = 
node
.
	`g‘Rou‹
(
de¡ho¡
);

138 
Lšk
 
ÃxtLšk
 = 
	`£ËùLškByFlow
(
ÃxtLšks
, 
æowId
);

142 
Node
 
ÃxtHİ
 = 
ÃxtLšk
.
	`g‘Oth”Node
(
node
);

144 
node
.
	`addVMRou‹
(
¤cVm
, 
d¡Vm
, 
æowId
, 
ÃxtHİ
);

145 
	`budFÜw¬dšgTabËs
(
ÃxtHİ
, 
¤cVm
, 
d¡Vm
, 
æowId
, 
nuÎ
);

147  
Œue
;

200 
	}
}

202 @
Ov”ride


203 
´Ùeùed
 
MiddËbox
 
	$d•loyMiddËbox
(
SŒšg
 
ty³
,
Vm
 
vm
) {

204  
nuÎ
;

205 
	}
}

207 @
Ov”ride


208 
public
 
	$´oûssVmC»©eAck
(
SimEv’t
 
ev
) {

210 
TimedVm
 
vm
 = (TimedVmè
ev
.
	`g‘D©a
();

211 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": VM C»©ed: " + 
vm
.
	`g‘Id
(è+ " iÀ" + 
this
.
	`fšdSDNHo¡
(vm.getId()));

212 
	`d•loyFlow
(
this
.
¬cLi¡
);

213 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/VmAllocationPolicyCombinedLeastFullFirst.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
;

3 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

6 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

8 
public
 cÏs 
	cVmAÎoÿtiÚPŞicyCombšedL—¡FuÎFœ¡
 
ex‹nds
 
	mVmAÎoÿtiÚPŞicyCombšedMo¡FuÎFœ¡
{

10 
public
 
VmAÎoÿtiÚPŞicyCombšedL—¡FuÎFœ¡
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

11 
su³r
(
li¡
);

22 @
Ov”ride


23 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

24 ià(
	`g‘VmTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

25  
çl£
;

28 
numHo¡s
 = 
	`g‘Ho¡Li¡
().
	`size
();

31 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

32 
»quœedMs
 = 
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

33 
»quœedBw
 = 
vm
.
	`g‘Cu¼’tReque¡edBw
();

35 
boŞ—n
 
»suÉ
 = 
çl£
;

37 [] 
ä“Resourûs
 = 
Ãw
 [
numHo¡s
];

38 
i
 = 0; i < 
numHo¡s
; i++) {

39 
msF»eP”ûÁ
 = ()
	`g‘F»eMs
().
	`g‘
(
i
è/ 
ho¡TÙ®Ms
;

40 
bwF»eP”ûÁ
 = ()
	`g‘F»eBw
().
	`g‘
(
i
è/ 
ho¡TÙ®Bw
;

42 
ä“Resourûs
[
i
] = 
	`cÚv”tWeigh‹dM‘ric
(
msF»eP”ûÁ
, 
bwF»eP”ûÁ
);

45 
Œ›s
 = 0;r› < 
numHo¡s
;ries++) {

46 
mÜeF»e
 = 
DoubË
.
NEGATIVE_INFINITY
;

47 
idx
 = -1;

50 
i
 = 0; i < 
numHo¡s
; i++) {

51 ià(
ä“Resourûs
[
i
] > 
mÜeF»e
) {

52 
mÜeF»e
 = 
ä“Resourûs
[
i
];

53 
idx
 = 
i
;

57 if(
idx
==-1) {

58 
Sy¡em
.
”r
.
	`´šn
("CªnÙ‡ssigÀthVMØªy ho¡:"+
Œ›s
+"/"+
numHo¡s
);

59  
çl£
;

62 
ä“Resourûs
[
idx
] = 
DoubË
.
NEGATIVE_INFINITY
;

64 
Ho¡
 
ho¡
 = 
	`g‘Ho¡Li¡
().
	`g‘
(
idx
);

67 if(
	`g‘F»eMs
().
	`g‘
(
idx
è< 
»quœedMs
 ||

68 
	`g‘F»eBw
().
	`g‘
(
idx
è< 
»quœedBw
 ||

69 
	`g‘F»ePes
().
	`g‘
(
idx
è< 
»quœedPes
) {

74 
»suÉ
 = 
ho¡
.
	`vmC»©e
(
vm
);

76 ià(
»suÉ
) {

77 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

78 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

79 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

81 
	`g‘U£dMs
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedMs
);

82 
	`g‘F»eMs
().
	`£t
(
idx
, (è(g‘F»eMs().
	`g‘
(idxè- 
»quœedMs
));

84 
	`g‘U£dBw
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedBw
);

85 
	`g‘F»eBw
().
	`£t
(
idx
, (è(g‘F»eBw().
	`g‘
(idxè- 
»quœedBw
));

89 
	`logMaxNumHo¡sU£d
();

90  
»suÉ
;

91 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/VmAllocationPolicyCombinedMostFullFirst.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

5 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

6 
impÜt
 
	gjava
.
	gut
.
	gM­
;

8 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

9 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

10 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicy
;

12 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

14 
public
 cÏs 
	cVmAÎoÿtiÚPŞicyCombšedMo¡FuÎFœ¡
 
ex‹nds
 
	mVmAÎoÿtiÚPŞicy
 {

16 
´Ùeùed
 
fš®
 
	mho¡TÙ®Ms
;

17 
´Ùeùed
 
fš®
 
	mho¡TÙ®Bw
;

18 
´Ùeùed
 
fš®
 
	mho¡TÙ®Pes
;

21 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mHo¡
> 
	mvmTabË
;

24 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	mu£dPes
;

27 
´iv©e
 
	mLi¡
<
	mIÁeg”
> 
	mä“Pes
;

29 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLÚg
> 
	mu£dMs
;

30 
´iv©e
 
	mLi¡
<
	mLÚg
> 
	mä“Ms
;

31 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLÚg
> 
	mu£dBw
;

32 
´iv©e
 
	mLi¡
<
	mLÚg
> 
	mä“Bw
;

41 
public
 
VmAÎoÿtiÚPŞicyCombšedMo¡FuÎFœ¡
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

42 
su³r
(
li¡
);

44 
£tF»ePes
(
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

45 
£tF»eMs
(
Ãw
 
A¼ayLi¡
<
LÚg
>());

46 
£tF»eBw
(
Ãw
 
A¼ayLi¡
<
LÚg
>());

48 
Ho¡
 
	mho¡
 : 
g‘Ho¡Li¡
()) {

49 
g‘F»ePes
().
add
(
ho¡
.
g‘Numb”OfPes
());

50 
g‘F»eMs
().
add
((è
ho¡
.
g‘TÙ®Ms
());

51 
g‘F»eBw
().
add
(
ho¡
.
g‘Bw
());

53 
	mho¡TÙ®Ms
 = 
g‘Ho¡Li¡
().
g‘
(0).
g‘TÙ®Ms
();

54 
	mho¡TÙ®Bw
 = 
g‘Ho¡Li¡
().
g‘
(0).
g‘Bw
();

55 
	mho¡TÙ®Pes
 = 
g‘Ho¡Li¡
().
g‘
(0).
g‘Numb”OfPes
();

57 
£tVmTabË
(
Ãw
 
HashM­
<
SŒšg
, 
Ho¡
>());

58 
£tU£dPes
(
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

59 
£tU£dMs
(
Ãw
 
HashM­
<
SŒšg
, 
LÚg
>());

60 
£tU£dBw
(
Ãw
 
HashM­
<
SŒšg
, 
LÚg
>());

63 
´Ùeùed
 
	$cÚv”tWeigh‹dM‘ric
(
msP”ûÁ
, 
bwP”ûÁ
) {

64 
»t
 = 
msP”ûÁ
 * 
bwP”ûÁ
;

65  
»t
;

66 
	}
}

75 @
Ov”ride


76 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

77 ià(
	`g‘VmTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

78  
çl£
;

81 
numHo¡s
 = 
	`g‘Ho¡Li¡
().
	`size
();

84 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

85 
»quœedMs
 = 
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

86 
»quœedBw
 = 
vm
.
	`g‘Cu¼’tReque¡edBw
();

88 
boŞ—n
 
»suÉ
 = 
çl£
;

90 [] 
ä“Resourûs
 = 
Ãw
 [
numHo¡s
];

91 
i
 = 0; i < 
numHo¡s
; i++) {

92 
msF»eP”ûÁ
 = ()
	`g‘F»eMs
().
	`g‘
(
i
è/ 
this
.
ho¡TÙ®Ms
;

93 
bwF»eP”ûÁ
 = ()
	`g‘F»eBw
().
	`g‘
(
i
è/ 
this
.
ho¡TÙ®Bw
;

95 
ä“Resourûs
[
i
] = 
this
.
	`cÚv”tWeigh‹dM‘ric
(
msF»eP”ûÁ
, 
bwF»eP”ûÁ
);

98 
Œ›s
 = 0; 
»suÉ
 =ğ
çl£
 &&r› < 
numHo¡s
;ries++) {

99 
ËssF»e
 = 
DoubË
.
POSITIVE_INFINITY
;

100 
idx
 = -1;

103 
i
 = 0; i < 
numHo¡s
; i++) {

104 ià(
ä“Resourûs
[
i
] < 
ËssF»e
) {

105 
ËssF»e
 = 
ä“Resourûs
[
i
];

106 
idx
 = 
i
;

109 
ä“Resourûs
[
idx
] = 
DoubË
.
POSITIVE_INFINITY
;

110 
Ho¡
 
ho¡
 = 
	`g‘Ho¡Li¡
().
	`g‘
(
idx
);

113 if(
	`g‘F»eMs
().
	`g‘
(
idx
è< 
»quœedMs
 ||

114 
	`g‘F»eBw
().
	`g‘
(
idx
è< 
»quœedBw
 ||

115 
	`g‘F»ePes
().
	`g‘
(
idx
è< 
»quœedPes
) {

120 
»suÉ
 = 
ho¡
.
	`vmC»©e
(
vm
);

122 ià(
»suÉ
) {

123 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

124 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

125 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

127 
	`g‘U£dMs
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedMs
);

128 
	`g‘F»eMs
().
	`£t
(
idx
, (è(g‘F»eMs().
	`g‘
(idxè- 
»quœedMs
));

130 
	`g‘U£dBw
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedBw
);

131 
	`g‘F»eBw
().
	`£t
(
idx
, (è(g‘F»eBw().
	`g‘
(idxè- 
»quœedBw
));

137 
	`logMaxNumHo¡sU£d
();

138  
»suÉ
;

139 
	}
}

141 
´Ùeùed
 
	gmaxNumHo¡sU£d
=0;

142 
´Ùeùed
 
	$logMaxNumHo¡sU£d
() {

144 
numHo¡sU£d
=0;

145 
ä“Pes
:
	`g‘F»ePes
()) {

146 if(
ä“Pes
 < 
ho¡TÙ®Pes
) {

147 
numHo¡sU£d
++;

150 if(
maxNumHo¡sU£d
 < 
numHo¡sU£d
)

151 
maxNumHo¡sU£d
 = 
numHo¡sU£d
;

152 
Sy¡em
.
”r
.
	`´šn
("Numb” oàÚlšho¡s:"+
numHo¡sU£d
 + ", max wa ="+
maxNumHo¡sU£d
);

155 
	}
}

156 
public
 
	$g‘MaxNumHo¡sU£d
(è{  
maxNumHo¡sU£d
;
	}
}

165 @
Ov”ride


166 
public
 
	$d—Îoÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

167 
Ho¡
 
ho¡
 = 
	`g‘VmTabË
().
	`»move
(
vm
.
	`g‘Uid
());

168 ià(
ho¡
 !ğ
nuÎ
) {

169 
idx
 = 
	`g‘Ho¡Li¡
().
	`šdexOf
(
ho¡
);

170 
ho¡
.
	`vmDe¡roy
(
vm
);

172 
IÁeg”
 
³s
 = 
	`g‘U£dPes
().
	`»move
(
vm
.
	`g‘Uid
());

173 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè+ 
³s
);

175 
LÚg
 
ms
 = 
	`g‘U£dMs
().
	`»move
(
vm
.
	`g‘Uid
());

176 
	`g‘F»eMs
().
	`£t
(
idx
, g‘F»eMs().
	`g‘
(idxè+ 
ms
);

178 
LÚg
 
bw
 = 
	`g‘U£dBw
().
	`»move
(
vm
.
	`g‘Uid
());

179 
	`g‘F»eBw
().
	`£t
(
idx
, g‘F»eBw().
	`g‘
(idxè+ 
bw
);

181 
	}
}

191 @
Ov”ride


192 
public
 
Ho¡
 
	$g‘Ho¡
(
Vm
 
vm
) {

193  
	`g‘VmTabË
().
	`g‘
(
vm
.
	`g‘Uid
());

194 
	}
}

205 @
Ov”ride


206 
public
 
Ho¡
 
	$g‘Ho¡
(
vmId
, 
u£rId
) {

207  
	`g‘VmTabË
().
	`g‘
(
Vm
.
	`g‘Uid
(
u£rId
, 
vmId
));

208 
	}
}

215 
public
 
	gM­
<
	gSŒšg
, 
	gHo¡
> 
	$g‘VmTabË
() {

216  
vmTabË
;

217 
	}
}

224 
´Ùeùed
 
£tVmTabË
(
M­
<
SŒšg
, 
Ho¡
> 
vmTabË
) {

225 
	gthis
.
	gvmTabË
 = 
vmTabË
;

233 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘U£dPes
() {

234  
u£dPes
;

235 
	}
}

242 
´Ùeùed
 
£tU£dPes
(
M­
<
SŒšg
, 
IÁeg”
> 
u£dPes
) {

243 
	gthis
.
	gu£dPes
 = 
u£dPes
;

251 
´Ùeùed
 
	gLi¡
<
	gIÁeg”
> 
	$g‘F»ePes
() {

252  
ä“Pes
;

253 
	}
}

260 
´Ùeùed
 
£tF»ePes
(
Li¡
<
IÁeg”
> 
ä“Pes
) {

261 
	gthis
.
	gä“Pes
 = 
ä“Pes
;

264 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLÚg
> 
	$g‘U£dMs
() {

265  
u£dMs
;

266 
	}
}

267 
´Ùeùed
 
£tU£dMs
(
M­
<
SŒšg
, 
LÚg
> 
u£dMs
) {

268 
	gthis
.
	gu£dMs
 = 
u£dMs
;

270 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLÚg
> 
	$g‘U£dBw
() {

271  
u£dBw
;

272 
	}
}

273 
´Ùeùed
 
£tU£dBw
(
M­
<
SŒšg
, 
LÚg
> 
u£dBw
) {

274 
	gthis
.
	gu£dBw
 = 
u£dBw
;

276 
´Ùeùed
 
	gLi¡
<
	gLÚg
> 
	$g‘F»eMs
() {

277  
this
.
ä“Ms
;

278 
	}
}

279 
´Ùeùed
 
£tF»eMs
(
Li¡
<
LÚg
> 
ä“Ms
) {

280 
	gthis
.
	gä“Ms
 = 
ä“Ms
;

283 
´Ùeùed
 
	gLi¡
<
	gLÚg
> 
	$g‘F»eBw
() {

284  
this
.
ä“Bw
;

285 
	}
}

286 
´Ùeùed
 
£tF»eBw
(
Li¡
<
LÚg
> 
ä“Bw
) {

287 
	gthis
.
	gä“Bw
 = 
ä“Bw
;

294 @
Ov”ride


295 
public
 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
İtimizeAÎoÿtiÚ
(
Li¡
<? 
ex‹nds
 
Vm
> 
vmLi¡
) {

297  
	gnuÎ
;

305 @
Ov”ride


306 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
, 
Ho¡
 
ho¡
) {

307 ià(
ho¡
.
	`vmC»©e
(
vm
)) {

308 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

310 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

311 
idx
 = 
	`g‘Ho¡Li¡
().
	`šdexOf
(
ho¡
);

312 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

313 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

315 
Log
.
	`fÜm©Lše
(

316 "%.2f: VM #" + 
vm
.
	`g‘Id
(è+ " ha b“À®loÿ‹dØthho¡ #" + 
ho¡
.getId(),

317 
CloudSim
.
	`şock
());

318  
Œue
;

321  
çl£
;

322 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/VmAllocationPolicyMipsLeastFullFirst.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
;

3 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

6 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

8 
public
 cÏs 
	cVmAÎoÿtiÚPŞicyMsL—¡FuÎFœ¡
 
ex‹nds
 
	mVmAÎoÿtiÚPŞicyCombšedMo¡FuÎFœ¡
{

10 
public
 
VmAÎoÿtiÚPŞicyMsL—¡FuÎFœ¡
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

11 
su³r
(
li¡
);

22 @
Ov”ride


23 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

24 ià(
	`g‘VmTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

25  
çl£
;

28 
numHo¡s
 = 
	`g‘Ho¡Li¡
().
	`size
();

31 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

32 
»quœedMs
 = 
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

33 
»quœedBw
 = 
vm
.
	`g‘Cu¼’tReque¡edBw
();

35 
boŞ—n
 
»suÉ
 = 
çl£
;

37 [] 
ä“Resourûs
 = 
Ãw
 [
numHo¡s
];

38 
i
 = 0; i < 
numHo¡s
; i++) {

39 
msF»eP”ûÁ
 = ()
	`g‘F»eMs
().
	`g‘
(
i
è/ 
ho¡TÙ®Ms
;

42 
ä“Resourûs
[
i
] = 
msF»eP”ûÁ
;

45 
Œ›s
 = 0;r› < 
numHo¡s
;ries++) {

46 
mÜeF»e
 = 
DoubË
.
NEGATIVE_INFINITY
;

47 
idx
 = -1;

50 
i
 = 0; i < 
numHo¡s
; i++) {

51 ià(
ä“Resourûs
[
i
] > 
mÜeF»e
) {

52 
mÜeF»e
 = 
ä“Resourûs
[
i
];

53 
idx
 = 
i
;

57 if(
idx
==-1) {

58 
Sy¡em
.
”r
.
	`´šn
("CªnÙ‡ssigÀthVMØªy ho¡:"+
Œ›s
+"/"+
numHo¡s
);

59  
çl£
;

62 
ä“Resourûs
[
idx
] = 
DoubË
.
NEGATIVE_INFINITY
;

64 
Ho¡
 
ho¡
 = 
	`g‘Ho¡Li¡
().
	`g‘
(
idx
);

67 if(
	`g‘F»eMs
().
	`g‘
(
idx
è< 
»quœedMs
 ||

68 
	`g‘F»eBw
().
	`g‘
(
idx
è< 
»quœedBw
 ||

69 
	`g‘F»ePes
().
	`g‘
(
idx
è< 
»quœedPes
) {

74 
»suÉ
 = 
ho¡
.
	`vmC»©e
(
vm
);

76 ià(
»suÉ
) {

77 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

78 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

79 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

81 
	`g‘U£dMs
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedMs
);

82 
	`g‘F»eMs
().
	`£t
(
idx
, (è(g‘F»eMs().
	`g‘
(idxè- 
»quœedMs
));

84 
	`g‘U£dBw
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedBw
);

85 
	`g‘F»eBw
().
	`£t
(
idx
, (è(g‘F»eBw().
	`g‘
(idxè- 
»quœedBw
));

89 
	`logMaxNumHo¡sU£d
();

90  
»suÉ
;

91 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/VmAllocationPolicyMipsMostFullFirst.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
;

3 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

6 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

8 
public
 cÏs 
	cVmAÎoÿtiÚPŞicyMsMo¡FuÎFœ¡
 
ex‹nds
 
	mVmAÎoÿtiÚPŞicyCombšedMo¡FuÎFœ¡
{

10 
public
 
VmAÎoÿtiÚPŞicyMsMo¡FuÎFœ¡
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

11 
su³r
(
li¡
);

22 @
Ov”ride


23 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

24 ià(
	`g‘VmTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

25  
çl£
;

28 
numHo¡s
 = 
	`g‘Ho¡Li¡
().
	`size
();

31 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

32 
»quœedMs
 = 
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

33 
»quœedBw
 = 
vm
.
	`g‘Cu¼’tReque¡edBw
();

35 
boŞ—n
 
»suÉ
 = 
çl£
;

37 [] 
ä“Resourûs
 = 
Ãw
 [
numHo¡s
];

38 
i
 = 0; i < 
numHo¡s
; i++) {

39 
msF»eP”ûÁ
 = ()
	`g‘F»eMs
().
	`g‘
(
i
è/ 
this
.
ho¡TÙ®Ms
;

41 
ä“Resourûs
[
i
] = 
msF»eP”ûÁ
;

44 
Œ›s
 = 0; 
»suÉ
 =ğ
çl£
 &&r› < 
numHo¡s
;ries++) {

45 
ËssF»e
 = 
DoubË
.
POSITIVE_INFINITY
;

46 
idx
 = -1;

49 
i
 = 0; i < 
numHo¡s
; i++) {

50 ià(
ä“Resourûs
[
i
] < 
ËssF»e
) {

51 
ËssF»e
 = 
ä“Resourûs
[
i
];

52 
idx
 = 
i
;

55 
ä“Resourûs
[
idx
] = 
DoubË
.
POSITIVE_INFINITY
;

56 
Ho¡
 
ho¡
 = 
	`g‘Ho¡Li¡
().
	`g‘
(
idx
);

59 if(
	`g‘F»eMs
().
	`g‘
(
idx
è< 
»quœedMs
 ||

60 
	`g‘F»eBw
().
	`g‘
(
idx
è< 
»quœedBw
 ||

61 
	`g‘F»ePes
().
	`g‘
(
idx
è< 
»quœedPes
) {

66 
»suÉ
 = 
ho¡
.
	`vmC»©e
(
vm
);

68 ià(
»suÉ
) {

69 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

70 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

71 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

73 
	`g‘U£dMs
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedMs
);

74 
	`g‘F»eMs
().
	`£t
(
idx
, (è(g‘F»eMs().
	`g‘
(idxè- 
»quœedMs
));

76 
	`g‘U£dBw
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedBw
);

77 
	`g‘F»eBw
().
	`£t
(
idx
, (è(g‘F»eBw().
	`g‘
(idxè- 
»quœedBw
));

83 
	`logMaxNumHo¡sU£d
();

84  
»suÉ
;

85 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/VmSchedulerSpaceSharedEnergy.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gjava
.
	gut
.
	gM­
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmScheduËr
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

31 
public
 cÏs 
	cVmScheduËrS·ûSh¬edEÃrgy
 
ex‹nds
 
	mVmScheduËr
 {

34 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLi¡
<
	mPe
>> 
	m³AÎoÿtiÚM­
;

37 
´iv©e
 
	mLi¡
<
	mPe
> 
	mä“Pes
;

44 
public
 
VmScheduËrS·ûSh¬edEÃrgy
(
Li¡
<? 
ex‹nds
 
Pe
> 
³li¡
) {

45 
su³r
(
³li¡
);

46 
£tPeAÎoÿtiÚM­
(
Ãw
 
HashM­
<
SŒšg
, 
Li¡
<
Pe
>>());

47 
£tF»ePes
(
Ãw
 
A¼ayLi¡
<
Pe
>());

48 
g‘F»ePes
().
addAÎ
(
³li¡
);

56 @
Ov”ride


57 
public
 
boŞ—n
 
®loÿ‹PesFÜVm
(
Vm
 
vm
, 
Li¡
<
DoubË
> 
msSh¬e
) {

59 ià(
g‘F»ePes
().
size
(è< 
	gmsSh¬e
.size()) {

60  
	gçl£
;

63 
	gLi¡
<
	gPe
> 
	g£ËùedPes
 = 
Ãw
 
A¼ayLi¡
<
Pe
>();

64 
	gI‹¿tÜ
<
	gPe
> 
	g³I‹¿tÜ
 = 
g‘F»ePes
().
™”©Ü
();

65 
Pe
 
	g³
 = 
³I‹¿tÜ
.
Ãxt
();

66 
	gtÙ®Ms
 = 0;

67 
DoubË
 
	gms
 : 
msSh¬e
) {

68 ià(
ms
 <ğ
³
.
g‘Ms
()) {

69 
£ËùedPes
.
add
(
³
);

70 
	gtÙ®Ms
 +ğ
ms
;

71 ià(!
	g³I‹¿tÜ
.
hasNext
()) {

74 
	g³
 = 
³I‹¿tÜ
.
Ãxt
();

77 ià(
	gmsSh¬e
.
size
(è> 
	g£ËùedPes
.size()) {

78  
	gçl£
;

81 
g‘F»ePes
().
»moveAÎ
(
£ËùedPes
);

83 
g‘PeAÎoÿtiÚM­
().
put
(
vm
.
g‘Uid
(), 
£ËùedPes
);

84 
g‘MsM­
().
put
(
vm
.
g‘Uid
(), 
msSh¬e
);

85 
£tAvaabËMs
(
g‘AvaabËMs
(è- 
tÙ®Ms
);

86  
	gŒue
;

93 @
Ov”ride


94 
public
 
	$d—Îoÿ‹PesFÜVm
(
Vm
 
vm
) {

95 
	`g‘F»ePes
().
	`addAÎ
(
	`g‘PeAÎoÿtiÚM­
().
	`g‘
(
vm
.
	`g‘Uid
()));

96 
	`g‘PeAÎoÿtiÚM­
().
	`»move
(
vm
.
	`g‘Uid
());

98 
tÙ®Ms
 = 0;

99 
ms
 : 
	`g‘MsM­
().
	`g‘
(
vm
.
	`g‘Uid
())) {

100 
tÙ®Ms
 +ğ
ms
;

102 
	`£tAvaabËMs
(
	`g‘AvaabËMs
(è+ 
tÙ®Ms
);

104 
	`g‘MsM­
().
	`»move
(
vm
.
	`g‘Uid
());

105 
	}
}

112 
´Ùeùed
 
£tPeAÎoÿtiÚM­
(
M­
<
SŒšg
, 
Li¡
<
Pe
>> 
³AÎoÿtiÚM­
) {

113 
	gthis
.
	g³AÎoÿtiÚM­
 = 
³AÎoÿtiÚM­
;

121 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLi¡
<
	gPe
>> 
	$g‘PeAÎoÿtiÚM­
() {

122  
³AÎoÿtiÚM­
;

123 
	}
}

130 
´Ùeùed
 
£tF»ePes
(
Li¡
<
Pe
> 
ä“Pes
) {

131 
	gthis
.
	gä“Pes
 = 
ä“Pes
;

139 
´Ùeùed
 
	gLi¡
<
	gPe
> 
	$g‘F»ePes
() {

140  
ä“Pes
;

141 
	}
}

147 
public
 cÏs 
	cHi¡ÜyEÁry
 {

148 
public
 
	g¡¬tTime
;

149 
public
 
	gu£dMs
;

150 
Hi¡ÜyEÁry
(
t
, 
m
è{ 
	g¡¬tTime
ñ; 
	gu£dMs
=m;}

152 
´iv©e
 
	gLi¡
<
	gHi¡ÜyEÁry
> 
	gutiz©iÚHi¡Ü›s
 = 
nuÎ
;

153 
public
 
	gLi¡
<
	gHi¡ÜyEÁry
> 
	$g‘Utiz©iÚHisÙry
() {

154  
utiz©iÚHi¡Ü›s
;

155 
	}
}

156 
public
 
	$g‘Utiz©iÚTÙ®Ms
() {

157 
tÙ®
=0;

158 
Ï¡Time
=0;

159 
Ï¡Ms
=0;

160 
Hi¡ÜyEÁry
 
h
:
this
.
utiz©iÚHi¡Ü›s
) {

161 
tÙ®
 +ğ
Ï¡Ms
 * (
h
.
¡¬tTime
 - 
Ï¡Time
);

162 
Ï¡Time
 = 
h
.
¡¬tTime
;

163 
Ï¡Ms
 = 
h
.
u£dMs
;

165  
tÙ®
;

166 
	}
}

167 
´iv©e
 
	gpow”OffDu¿tiÚ
 = 1*3600;

169 
public
 
	$g‘Utiz©iÚEÃrgyCÚsum±iÚ
() {

171 
tÙ®
=0;

172 
Ï¡Time
=0;

173 
Ï¡Ms
=0;

174 
Hi¡ÜyEÁry
 
h
:
this
.
utiz©iÚHi¡Ü›s
) {

175 
du¿tiÚ
 = 
h
.
¡¬tTime
 - 
Ï¡Time
;

176 
utP”ûÁage
 = 
Ï¡Ms
/ 
	`g‘TÙ®Ms
();

177 
pow”
 = 
	`ÿlcuÏ‹Pow”
(
utP”ûÁage
);

178 
’”gyCÚsum±iÚ
 = 
pow”
 * 
du¿tiÚ
;

181 if(
du¿tiÚ
 > 
pow”OffDu¿tiÚ
 && 
Ï¡Ms
 == 0)

182 
’”gyCÚsum±iÚ
 = 0;

184 
tÙ®
 +ğ
’”gyCÚsum±iÚ
;

185 
Ï¡Time
 = 
h
.
¡¬tTime
;

186 
Ï¡Ms
 = 
h
.
u£dMs
;

188  
tÙ®
/3600;

189 
	}
}

190 
´iv©e
 
	$addUtiz©iÚEÁry
() {

191 
time
 = 
CloudSim
.
	`şock
();

192 
tÙ®Ms
 = 
	`g‘TÙ®Ms
();

193 
usšgMs
 = 
tÙ®Ms
 - 
this
.
	`g‘AvaabËMs
();

194 if(
usšgMs
 < 0) {

195 
Sy¡em
.
”r
.
	`´šn
("No way!");

197 if(
utiz©iÚHi¡Ü›s
 =ğ
nuÎ
)

198 
utiz©iÚHi¡Ü›s
 = 
Ãw
 
A¼ayLi¡
<
Hi¡ÜyEÁry
>();

199 
this
.
utiz©iÚHi¡Ü›s
.
	`add
(
Ãw
 
	`Hi¡ÜyEÁry
(
time
, 
usšgMs
));

200 
	}
}

201 
´iv©e
 
	$ÿlcuÏ‹Pow”
(
u
) {

202 
pow”
 = 120 + 154 * 
u
;

203  
pow”
;

204 
	}
}

205 
´iv©e
 
	$g‘TÙ®Ms
() {

206  
this
.
	`g‘PeLi¡
().
	`size
(è*his.
	`g‘PeC­ac™y
();

207 
	}
}

209 @
Ov”ride


210 
´Ùeùed
 
	$£tAvaabËMs
(
avaabËMs
) {

211 
su³r
.
	`£tAvaabËMs
(
avaabËMs
);

212 
	`addUtiz©iÚEÁry
();

213 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/Workload.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
;

10 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gReque¡
;

19 
public
 cÏs 
	cWÜklßd
 {

20 
public
 
	m­pId
;

21 
public
 
	mtime
;

22 
public
 
	msubm™VmId
;

23 
public
 
	msubm™PktSize
;

24 
public
 
Reque¡
 
	m»que¡
;

	@src/org/cloudbus/cloudsim/sdn/example/WorkloadParser.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
;

10 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

11 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

12 
impÜt
 
	gjava
.
	gio
.
	gFeR—d”
;

13 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

14 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

15 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

16 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

17 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

18 
impÜt
 
	gjava
.
	gut
.
	gM­
;

19 
impÜt
 
	gjava
.
	gut
.
	gQueue
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gProûssšg
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gReque¡
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gT¿nsmissiÚ
;

38 
public
 cÏs 
	cWÜklßdP¬£r
 {

39 
´iv©e
 
fš®
 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	mvmNames
;

40 
´iv©e
 
fš®
 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	mæowNames
;

41 
´iv©e
 
SŒšg
 
	mfe
;

42 
´iv©e
 
	m»qId
 = 0;

43 
´iv©e
 
	mşoudËtId
 = 0;

44 
´iv©e
 
	mu£rId
;

45 
´iv©e
 
Utiz©iÚMod–
 
	mutiz©iÚMod–
;

46 
´iv©e
 
	mLi¡
<
	mWÜklßd
> 
	mwÜklßds
;

47 
´iv©e
 
	mLi¡
<
	mCloudËt
> 
	mÏ¡CloudËts
;

48 
´iv©e
 
	mLi¡
<
	mCloudËt
> 
	m®lCloudËts
;

50 
public
 
WÜklßdP¬£r
(
SŒšg
 
fe
, 
u£rId
, 
Utiz©iÚMod–
 
şoudËtUtMod–
,

51 
M­
<
SŒšg
, 
IÁeg”
> 
vmNameIdM­
, M­<SŒšg, IÁeg”> 
æowNameIdM­
) {

52 
	mthis
.
	mfe
 = 
fe
;

53 
	mthis
.
	mu£rId
 = 
u£rId
;

54 
	mthis
.
	mutiz©iÚMod–
 = 
şoudËtUtMod–
;

55 
	mthis
.
	mvmNames
 = 
vmNameIdM­
;

56 
	mthis
.
	mæowNames
 = 
æowNameIdM­
;

58 
¡¬tP¬sšg
();

61 
public
 
	gLi¡
<
	gWÜklßd
> 
	$g‘WÜklßds
() {

62  
this
.
wÜklßds
;

63 
	}
}

65 
public
 
	gLi¡
<
	gCloudËt
> 
	$g‘La¡CloudËts
() {

67  
this
.
Ï¡CloudËts
;

68 
	}
}

70 
public
 
	gLi¡
<
	gCloudËt
> 
	$g‘AÎCloudËts
() {

72  
this
.
®lCloudËts
;

73 
	}
}

76 
´iv©e
 
	$g‘VmId
(
SŒšg
 
vmName
) {

77 
IÁeg”
 
vmId
 = 
this
.
vmNames
.
	`g‘
(
vmName
);

78 if(
vmId
 =ğ
nuÎ
) {

79 
Sy¡em
.
”r
.
	`´šn
("CªnÙ fšd VM‚ame:"+
vmName
);

82  
vmId
;

83 
	}
}

85 
´iv©e
 
CloudËt
 
	$g’”©eCloudËt
(
vmId
, 
Ëngth
) {

86 
³Num
=1;

87 
feSize
 = 300;

88 
ouutSize
 = 300;

89 
CloudËt
 
şoudËt
ğ
Ãw
 
	`CloudËt
(
şoudËtId
++, 
Ëngth
, 
³Num
, 
feSize
, 
ouutSize
, 
utiz©iÚMod–
, utilizationModel, utilizationModel);

90 
şoudËt
.
	`£tU£rId
(
u£rId
);

91 
şoudËt
.
	`£tVmId
(
vmId
);

93  
şoudËt
;

94 
	}
}

97 
´iv©e
 
Reque¡
 
·r£Reque¡
(
äomVmId
, 
Queue
<
SŒšg
> 
lše™ems
) {

98 if(
	glše™ems
.
size
() <= 0)

100 
Sy¡em
.
”r
.
´šn
("No REQUEST! ERROR");

101  
	gnuÎ
;

104 
	gşoudËtL’
 = 
LÚg
.
·r£LÚg
(
lše™ems
.
pŞl
());

106 
Reque¡
 
	g»q
 = 
Ãw
 Reque¡(
»qId
++, 
u£rId
);

107 
CloudËt
 
	gş
 = 
g’”©eCloudËt
(
äomVmId
, (è
şoudËtL’
);

108 
	gthis
.
	g®lCloudËts
.
add
(
ş
);

110 
Proûssšg
 
	g´oc
 = 
Ãw
 Proûssšg(
ş
);

111 
	g»q
.
addAùiv™y
(
´oc
);

113 if(
	glše™ems
.
size
() != 0) {

115 
SŒšg
 
lškName
 = 
lše™ems
.
pŞl
();

116 
IÁeg”
 
	gæowId
 = 
this
.
æowNames
.
g‘
(
lškName
);

118 if(
	gæowId
 =ğ
nuÎ
) {

119 
throw
 
Ãw
 
IÎeg®Argum’tExû±iÚ
("NØsuch†šk‚amš vœtu®.jsÚ:"+
lškName
);

122 
SŒšg
 
	gvmName
 = 
lše™ems
.
pŞl
();

123 
	gtoVmId
 = 
g‘VmId
(
vmName
);

125 
	gpktSize
 = 
LÚg
.
·r£LÚg
(
lše™ems
.
pŞl
());

127 
Reque¡
 
	gÃxtReq
 = 
·r£Reque¡
(
toVmId
, 
lše™ems
);

129 
T¿nsmissiÚ
 
	gŒªs
 = 
Ãw
 T¿nsmissiÚ(
äomVmId
, 
toVmId
, 
pktSize
, 
æowId
, 
ÃxtReq
);

130 
	g»q
.
addAùiv™y
(
Œªs
);

133 
	gthis
.
	gÏ¡CloudËts
.
add
(
ş
);

135  
	g»q
;

138 
´iv©e
 
	$¡¬tP¬sšg
() {

139 
this
.
wÜklßds
 = 
Ãw
 
A¼ayLi¡
<
WÜklßd
>();

140 
this
.
Ï¡CloudËts
 = 
Ãw
 
A¼ayLi¡
<
CloudËt
>();

141 
this
.
®lCloudËts
 = 
Ãw
 
A¼ayLi¡
<
CloudËt
>();

143 
Bufã»dR—d”
 
br
 = 
nuÎ
;

144 
Œy
 {

145 
br
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`FeR—d”
(
fe
));

146 } 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

148 
e
.
	`´štSckT¿û
();

151 
SŒšg
 
lše
;

152 
Œy
 {

153 @
	`Suµ»ssW¬nšgs
("unused")

154 
SŒšg
 
h—d
=
br
.
	`»adLše
();

157 (
lše
 = 
br
.
	`»adLše
()è!ğ
nuÎ
) {

160 
WÜklßd
 
Œ
 = 
Ãw
 
	`WÜklßd
();

162 
SŒšg
[] 
¥l™Lše
 = 
lše
.
	`¥l™
(",");

163 
Queue
<
SŒšg
> 
lše™ems
 = 
Ãw
 
LškedLi¡
<SŒšg>(
A¼ays
.
	`asLi¡
(
¥l™Lše
));

165 
Œ
.
time
 = 
DoubË
.
	`·r£DoubË
(
lše™ems
.
	`pŞl
());

167 
SŒšg
 
vmName
 = 
lše™ems
.
	`pŞl
();

168 
Œ
.
subm™VmId
 = 
	`g‘VmId
(
vmName
);

170 
Œ
.
subm™PktSize
 = 
IÁeg”
.
	`·r£IÁ
(
lše™ems
.
	`pŞl
());

172 
Œ
.
»que¡
 = 
	`·r£Reque¡
Ñr.
subm™VmId
, 
lše™ems
);

174 
wÜklßds
.
	`add
(
Œ
);

176 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

178 
e
.
	`´štSckT¿û
();

180 
Œy
 {

181 
br
.
	`şo£
();

182 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

184 
e
.
	`´štSckT¿û
();

186 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/policies/VmAllocationPolicyCombinedLeastFullFirst.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gpŞic›s
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

24 
public
 cÏs 
	cVmAÎoÿtiÚPŞicyCombšedL—¡FuÎFœ¡
 
ex‹nds
 
	mVmAÎoÿtiÚPŞicyCombšedMo¡FuÎFœ¡
{

26 
public
 
VmAÎoÿtiÚPŞicyCombšedL—¡FuÎFœ¡
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

27 
su³r
(
li¡
);

38 @
Ov”ride


39 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

40 ià(
	`g‘VmTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

41  
çl£
;

44 
numHo¡s
 = 
	`g‘Ho¡Li¡
().
	`size
();

47 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

48 
»quœedMs
 = 
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

49 
»quœedBw
 = 
vm
.
	`g‘Cu¼’tReque¡edBw
();

51 
boŞ—n
 
»suÉ
 = 
çl£
;

53 [] 
ä“Resourûs
 = 
Ãw
 [
numHo¡s
];

54 
i
 = 0; i < 
numHo¡s
; i++) {

55 
msF»eP”ûÁ
 = ()
	`g‘F»eMs
().
	`g‘
(
i
è/ 
ho¡TÙ®Ms
;

56 
bwF»eP”ûÁ
 = ()
	`g‘F»eBw
().
	`g‘
(
i
è/ 
ho¡TÙ®Bw
;

58 
ä“Resourûs
[
i
] = 
	`cÚv”tWeigh‹dM‘ric
(
msF»eP”ûÁ
, 
bwF»eP”ûÁ
);

61 
Œ›s
 = 0;r› < 
numHo¡s
;ries++) {

62 
mÜeF»e
 = 
DoubË
.
NEGATIVE_INFINITY
;

63 
idx
 = -1;

66 
i
 = 0; i < 
numHo¡s
; i++) {

67 ià(
ä“Resourûs
[
i
] > 
mÜeF»e
) {

68 
mÜeF»e
 = 
ä“Resourûs
[
i
];

69 
idx
 = 
i
;

73 if(
idx
==-1) {

74 
Sy¡em
.
”r
.
	`´šn
("CªnÙ‡ssigÀthVMØªy ho¡:"+
Œ›s
+"/"+
numHo¡s
);

75  
çl£
;

78 
ä“Resourûs
[
idx
] = 
DoubË
.
NEGATIVE_INFINITY
;

80 
Ho¡
 
ho¡
 = 
	`g‘Ho¡Li¡
().
	`g‘
(
idx
);

83 ifĞ
	`g‘F»eMs
().
	`g‘
(
idx
è< 
»quœedMs
) {

88 ifĞ
	`g‘F»eBw
().
	`g‘
(
idx
è< 
»quœedBw
) {

94 
»suÉ
 = 
ho¡
.
	`vmC»©e
(
vm
);

96 ià(
»suÉ
) {

97 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

98 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

99 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

101 
	`g‘U£dMs
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedMs
);

102 
	`g‘F»eMs
().
	`£t
(
idx
, (è(g‘F»eMs().
	`g‘
(idxè- 
»quœedMs
));

104 
	`g‘U£dBw
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedBw
);

105 
	`g‘F»eBw
().
	`£t
(
idx
, (è(g‘F»eBw().
	`g‘
(idxè- 
»quœedBw
));

109 if(!
»suÉ
) {

110 
Sy¡em
.
”r
.
	`´šn
("CªnÙ‡ssigÀthVMØªy ho¡:"+"/"+
numHo¡s
);

112 
	`logMaxNumHo¡sU£d
();

113  
»suÉ
;

114 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/policies/VmAllocationPolicyCombinedMostFullFirst.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gpŞic›s
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gM­
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicy
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gpow”
.
	gPow”Utiz©iÚMaxHo¡IÁ”çû
;

30 
public
 cÏs 
	cVmAÎoÿtiÚPŞicyCombšedMo¡FuÎFœ¡
 
ex‹nds
 
VmAÎoÿtiÚPŞicy
 
im¶em’ts
 
	mPow”Utiz©iÚMaxHo¡IÁ”çû
 {

32 
´Ùeùed
 
fš®
 
	mho¡TÙ®Ms
;

33 
´Ùeùed
 
fš®
 
	mho¡TÙ®Bw
;

34 
´Ùeùed
 
fš®
 
	mho¡TÙ®Pes
;

37 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mHo¡
> 
	mvmTabË
;

40 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	mu£dPes
;

43 
´iv©e
 
	mLi¡
<
	mIÁeg”
> 
	mä“Pes
;

45 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLÚg
> 
	mu£dMs
;

46 
´iv©e
 
	mLi¡
<
	mLÚg
> 
	mä“Ms
;

47 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLÚg
> 
	mu£dBw
;

48 
´iv©e
 
	mLi¡
<
	mLÚg
> 
	mä“Bw
;

57 
public
 
VmAÎoÿtiÚPŞicyCombšedMo¡FuÎFœ¡
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

58 
su³r
(
li¡
);

60 
£tF»ePes
(
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

61 
£tF»eMs
(
Ãw
 
A¼ayLi¡
<
LÚg
>());

62 
£tF»eBw
(
Ãw
 
A¼ayLi¡
<
LÚg
>());

64 
Ho¡
 
	mho¡
 : 
g‘Ho¡Li¡
()) {

65 
g‘F»ePes
().
add
(
ho¡
.
g‘Numb”OfPes
());

66 
g‘F»eMs
().
add
(()
ho¡
.
g‘TÙ®Ms
());

67 
g‘F»eBw
().
add
(
ho¡
.
g‘Bw
());

69 
	mho¡TÙ®Ms
 = 
g‘Ho¡Li¡
().
g‘
(0).
g‘TÙ®Ms
();

70 
	mho¡TÙ®Bw
 = 
g‘Ho¡Li¡
().
g‘
(0).
g‘Bw
();

71 
	mho¡TÙ®Pes
 = 
g‘Ho¡Li¡
().
g‘
(0).
g‘Numb”OfPes
();

73 
£tVmTabË
(
Ãw
 
HashM­
<
SŒšg
, 
Ho¡
>());

74 
£tU£dPes
(
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

75 
£tU£dMs
(
Ãw
 
HashM­
<
SŒšg
, 
LÚg
>());

76 
£tU£dBw
(
Ãw
 
HashM­
<
SŒšg
, 
LÚg
>());

79 
´Ùeùed
 
	$cÚv”tWeigh‹dM‘ric
(
msP”ûÁ
, 
bwP”ûÁ
) {

80 
»t
 = 
msP”ûÁ
 * 
bwP”ûÁ
;

81  
»t
;

82 
	}
}

91 @
Ov”ride


92 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

93 ià(
	`g‘VmTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

94  
çl£
;

97 
numHo¡s
 = 
	`g‘Ho¡Li¡
().
	`size
();

100 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

101 
»quœedMs
 = 
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

102 
»quœedBw
 = 
vm
.
	`g‘Cu¼’tReque¡edBw
();

104 
boŞ—n
 
»suÉ
 = 
çl£
;

106 [] 
ä“Resourûs
 = 
Ãw
 [
numHo¡s
];

107 
i
 = 0; i < 
numHo¡s
; i++) {

108 
msF»eP”ûÁ
 = ()
	`g‘F»eMs
().
	`g‘
(
i
è/ 
this
.
ho¡TÙ®Ms
;

109 
bwF»eP”ûÁ
 = ()
	`g‘F»eBw
().
	`g‘
(
i
è/ 
this
.
ho¡TÙ®Bw
;

111 
ä“Resourûs
[
i
] = 
this
.
	`cÚv”tWeigh‹dM‘ric
(
msF»eP”ûÁ
, 
bwF»eP”ûÁ
);

114 
Œ›s
 = 0; 
»suÉ
 =ğ
çl£
 &&r› < 
numHo¡s
;ries++) {

115 
ËssF»e
 = 
DoubË
.
POSITIVE_INFINITY
;

116 
idx
 = -1;

119 
i
 = 0; i < 
numHo¡s
; i++) {

120 ià(
ä“Resourûs
[
i
] < 
ËssF»e
) {

121 
ËssF»e
 = 
ä“Resourûs
[
i
];

122 
idx
 = 
i
;

125 
ä“Resourûs
[
idx
] = 
DoubË
.
POSITIVE_INFINITY
;

126 
Ho¡
 
ho¡
 = 
	`g‘Ho¡Li¡
().
	`g‘
(
idx
);

130 ifĞ
	`g‘F»eMs
().
	`g‘
(
idx
è< 
»quœedMs
) {

135 ifĞ
	`g‘F»eBw
().
	`g‘
(
idx
è< 
»quœedBw
) {

141 
»suÉ
 = 
ho¡
.
	`vmC»©e
(
vm
);

143 ià(
»suÉ
) {

144 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

145 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

146 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

148 
	`g‘U£dMs
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedMs
);

149 
	`g‘F»eMs
().
	`£t
(
idx
, (è(g‘F»eMs().
	`g‘
(idxè- 
»quœedMs
));

151 
	`g‘U£dBw
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedBw
);

152 
	`g‘F»eBw
().
	`£t
(
idx
, (è(g‘F»eBw().
	`g‘
(idxè- 
»quœedBw
));

158 if(!
»suÉ
) {

159 
Sy¡em
.
”r
.
	`´šn
("VmAllocationPolicy: WARNING:: Cannot create VM!!!!");

161 
	`logMaxNumHo¡sU£d
();

162  
»suÉ
;

163 
	}
}

165 
´Ùeùed
 
	gmaxNumHo¡sU£d
=0;

166 
public
 
	$logMaxNumHo¡sU£d
() {

168 
numHo¡sU£d
=0;

169 
ä“Pes
:
	`g‘F»ePes
()) {

170 if(
ä“Pes
 < 
ho¡TÙ®Pes
) {

171 
numHo¡sU£d
++;

174 if(
maxNumHo¡sU£d
 < 
numHo¡sU£d
)

175 
maxNumHo¡sU£d
 = 
numHo¡sU£d
;

176 
Log
.
	`´štLše
("Numb” oàÚlšho¡s:"+
numHo¡sU£d
 + ", max wa ="+
maxNumHo¡sU£d
);

177 
	}
}

178 
public
 
	$g‘MaxNumHo¡sU£d
(è{  
maxNumHo¡sU£d
;
	}
}

187 @
Ov”ride


188 
public
 
	$d—Îoÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

189 
Ho¡
 
ho¡
 = 
	`g‘VmTabË
().
	`»move
(
vm
.
	`g‘Uid
());

190 ià(
ho¡
 !ğ
nuÎ
) {

191 
idx
 = 
	`g‘Ho¡Li¡
().
	`šdexOf
(
ho¡
);

192 
ho¡
.
	`vmDe¡roy
(
vm
);

194 
IÁeg”
 
³s
 = 
	`g‘U£dPes
().
	`»move
(
vm
.
	`g‘Uid
());

195 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè+ 
³s
);

197 
LÚg
 
ms
 = 
	`g‘U£dMs
().
	`»move
(
vm
.
	`g‘Uid
());

198 
	`g‘F»eMs
().
	`£t
(
idx
, g‘F»eMs().
	`g‘
(idxè+ 
ms
);

200 
LÚg
 
bw
 = 
	`g‘U£dBw
().
	`»move
(
vm
.
	`g‘Uid
());

201 
	`g‘F»eBw
().
	`£t
(
idx
, g‘F»eBw().
	`g‘
(idxè+ 
bw
);

203 
	}
}

213 @
Ov”ride


214 
public
 
Ho¡
 
	$g‘Ho¡
(
Vm
 
vm
) {

215  
	`g‘VmTabË
().
	`g‘
(
vm
.
	`g‘Uid
());

216 
	}
}

227 @
Ov”ride


228 
public
 
Ho¡
 
	$g‘Ho¡
(
vmId
, 
u£rId
) {

229  
	`g‘VmTabË
().
	`g‘
(
Vm
.
	`g‘Uid
(
u£rId
, 
vmId
));

230 
	}
}

237 
public
 
	gM­
<
	gSŒšg
, 
	gHo¡
> 
	$g‘VmTabË
() {

238  
vmTabË
;

239 
	}
}

246 
´Ùeùed
 
£tVmTabË
(
M­
<
SŒšg
, 
Ho¡
> 
vmTabË
) {

247 
	gthis
.
	gvmTabË
 = 
vmTabË
;

255 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘U£dPes
() {

256  
u£dPes
;

257 
	}
}

264 
´Ùeùed
 
£tU£dPes
(
M­
<
SŒšg
, 
IÁeg”
> 
u£dPes
) {

265 
	gthis
.
	gu£dPes
 = 
u£dPes
;

273 
´Ùeùed
 
	gLi¡
<
	gIÁeg”
> 
	$g‘F»ePes
() {

274  
ä“Pes
;

275 
	}
}

282 
´Ùeùed
 
£tF»ePes
(
Li¡
<
IÁeg”
> 
ä“Pes
) {

283 
	gthis
.
	gä“Pes
 = 
ä“Pes
;

286 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLÚg
> 
	$g‘U£dMs
() {

287  
u£dMs
;

288 
	}
}

289 
´Ùeùed
 
£tU£dMs
(
M­
<
SŒšg
, 
LÚg
> 
u£dMs
) {

290 
	gthis
.
	gu£dMs
 = 
u£dMs
;

292 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLÚg
> 
	$g‘U£dBw
() {

293  
u£dBw
;

294 
	}
}

295 
´Ùeùed
 
£tU£dBw
(
M­
<
SŒšg
, 
LÚg
> 
u£dBw
) {

296 
	gthis
.
	gu£dBw
 = 
u£dBw
;

298 
´Ùeùed
 
	gLi¡
<
	gLÚg
> 
	$g‘F»eMs
() {

299  
this
.
ä“Ms
;

300 
	}
}

301 
´Ùeùed
 
£tF»eMs
(
Li¡
<
LÚg
> 
ä“Ms
) {

302 
	gthis
.
	gä“Ms
 = 
ä“Ms
;

305 
´Ùeùed
 
	gLi¡
<
	gLÚg
> 
	$g‘F»eBw
() {

306  
this
.
ä“Bw
;

307 
	}
}

308 
´Ùeùed
 
£tF»eBw
(
Li¡
<
LÚg
> 
ä“Bw
) {

309 
	gthis
.
	gä“Bw
 = 
ä“Bw
;

316 @
Ov”ride


317 
public
 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
İtimizeAÎoÿtiÚ
(
Li¡
<? 
ex‹nds
 
Vm
> 
vmLi¡
) {

319  
	gnuÎ
;

327 @
Ov”ride


328 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
, 
Ho¡
 
ho¡
) {

329 ià(
ho¡
.
	`vmC»©e
(
vm
)) {

330 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

332 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

333 
idx
 = 
	`g‘Ho¡Li¡
().
	`šdexOf
(
ho¡
);

334 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

335 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

337 
Log
.
	`fÜm©Lše
(

338 "%.2f: VM #" + 
vm
.
	`g‘Id
(è+ " ha b“À®loÿ‹dØthho¡ #" + 
ho¡
.getId(),

339 
CloudSim
.
	`şock
());

340  
Œue
;

343  
çl£
;

344 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/policies/VmAllocationPolicyMipsLeastFullFirst.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gpŞic›s
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

24 
public
 cÏs 
	cVmAÎoÿtiÚPŞicyMsL—¡FuÎFœ¡
 
ex‹nds
 
	mVmAÎoÿtiÚPŞicyCombšedMo¡FuÎFœ¡
{

26 
public
 
VmAÎoÿtiÚPŞicyMsL—¡FuÎFœ¡
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

27 
su³r
(
li¡
);

38 @
Ov”ride


39 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

40 ià(
	`g‘VmTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

41  
çl£
;

44 
numHo¡s
 = 
	`g‘Ho¡Li¡
().
	`size
();

47 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

48 
»quœedMs
 = 
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

49 
»quœedBw
 = 
vm
.
	`g‘Cu¼’tReque¡edBw
();

51 
boŞ—n
 
»suÉ
 = 
çl£
;

53 [] 
ä“Resourûs
 = 
Ãw
 [
numHo¡s
];

54 
i
 = 0; i < 
numHo¡s
; i++) {

55 
msF»eP”ûÁ
 = ()
	`g‘F»eMs
().
	`g‘
(
i
è/ 
ho¡TÙ®Ms
;

58 
ä“Resourûs
[
i
] = 
msF»eP”ûÁ
;

61 
Œ›s
 = 0;r› < 
numHo¡s
;ries++) {

62 
mÜeF»e
 = 
DoubË
.
NEGATIVE_INFINITY
;

63 
idx
 = -1;

66 
i
 = 0; i < 
numHo¡s
; i++) {

67 ià(
ä“Resourûs
[
i
] > 
mÜeF»e
) {

68 
mÜeF»e
 = 
ä“Resourûs
[
i
];

69 
idx
 = 
i
;

73 if(
idx
==-1) {

74 
Sy¡em
.
”r
.
	`´šn
("CªnÙ‡ssigÀthVMØªy ho¡:"+
Œ›s
+"/"+
numHo¡s
);

75  
çl£
;

78 
ä“Resourûs
[
idx
] = 
DoubË
.
NEGATIVE_INFINITY
;

80 
Ho¡
 
ho¡
 = 
	`g‘Ho¡Li¡
().
	`g‘
(
idx
);

83 if(
	`g‘F»eMs
().
	`g‘
(
idx
è< 
»quœedMs
 ||

84 
	`g‘F»eBw
().
	`g‘
(
idx
è< 
»quœedBw
 ||

85 
	`g‘F»ePes
().
	`g‘
(
idx
è< 
»quœedPes
) {

90 
»suÉ
 = 
ho¡
.
	`vmC»©e
(
vm
);

92 ià(
»suÉ
) {

93 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

94 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

95 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

97 
	`g‘U£dMs
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedMs
);

98 
	`g‘F»eMs
().
	`£t
(
idx
, (è(g‘F»eMs().
	`g‘
(idxè- 
»quœedMs
));

100 
	`g‘U£dBw
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedBw
);

101 
	`g‘F»eBw
().
	`£t
(
idx
, (è(g‘F»eBw().
	`g‘
(idxè- 
»quœedBw
));

105 
	`logMaxNumHo¡sU£d
();

106  
»suÉ
;

107 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/policies/VmAllocationPolicyMipsMostFullFirst.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gpŞic›s
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

24 
public
 cÏs 
	cVmAÎoÿtiÚPŞicyMsMo¡FuÎFœ¡
 
ex‹nds
 
	mVmAÎoÿtiÚPŞicyCombšedMo¡FuÎFœ¡
{

26 
public
 
VmAÎoÿtiÚPŞicyMsMo¡FuÎFœ¡
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

27 
su³r
(
li¡
);

38 @
Ov”ride


39 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

40 ià(
	`g‘VmTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

41  
çl£
;

44 
numHo¡s
 = 
	`g‘Ho¡Li¡
().
	`size
();

47 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

48 
»quœedMs
 = 
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

49 
»quœedBw
 = 
vm
.
	`g‘Cu¼’tReque¡edBw
();

51 
boŞ—n
 
»suÉ
 = 
çl£
;

53 [] 
ä“Resourûs
 = 
Ãw
 [
numHo¡s
];

54 
i
 = 0; i < 
numHo¡s
; i++) {

55 
msF»eP”ûÁ
 = ()
	`g‘F»eMs
().
	`g‘
(
i
è/ 
this
.
ho¡TÙ®Ms
;

57 
ä“Resourûs
[
i
] = 
msF»eP”ûÁ
;

60 
Œ›s
 = 0; 
»suÉ
 =ğ
çl£
 &&r› < 
numHo¡s
;ries++) {

61 
ËssF»e
 = 
DoubË
.
POSITIVE_INFINITY
;

62 
idx
 = -1;

65 
i
 = 0; i < 
numHo¡s
; i++) {

66 ià(
ä“Resourûs
[
i
] < 
ËssF»e
) {

67 
ËssF»e
 = 
ä“Resourûs
[
i
];

68 
idx
 = 
i
;

71 
ä“Resourûs
[
idx
] = 
DoubË
.
POSITIVE_INFINITY
;

72 
Ho¡
 
ho¡
 = 
	`g‘Ho¡Li¡
().
	`g‘
(
idx
);

75 if(
	`g‘F»eMs
().
	`g‘
(
idx
è< 
»quœedMs
 ||

76 
	`g‘F»eBw
().
	`g‘
(
idx
è< 
»quœedBw
 ||

77 
	`g‘F»ePes
().
	`g‘
(
idx
è< 
»quœedPes
) {

82 
»suÉ
 = 
ho¡
.
	`vmC»©e
(
vm
);

84 ià(
»suÉ
) {

85 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

86 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

87 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

89 
	`g‘U£dMs
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedMs
);

90 
	`g‘F»eMs
().
	`£t
(
idx
, (è(g‘F»eMs().
	`g‘
(idxè- 
»quœedMs
));

92 
	`g‘U£dBw
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedBw
);

93 
	`g‘F»eBw
().
	`£t
(
idx
, (è(g‘F»eBw().
	`g‘
(idxè- 
»quœedBw
));

99 
	`logMaxNumHo¡sU£d
();

100  
»suÉ
;

101 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/policies/VmSchedulerTimeSharedEnergy.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gpŞic›s
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmScheduËrTimeSh¬ed
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gpow”
.
	gPow”Utiz©iÚHi¡ÜyEÁry
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gpow”
.
	gPow”Utiz©iÚIÁ”çû
;

30 
public
 cÏs 
	cVmScheduËrTimeSh¬edEÃrgy
 
ex‹nds
 
VmScheduËrTimeSh¬ed
 
im¶em’ts
 
	mPow”Utiz©iÚIÁ”çû
{

33 
public
 
VmScheduËrTimeSh¬edEÃrgy
(
Li¡
<? 
ex‹nds
 
Pe
> 
³li¡
) {

34 
su³r
(
³li¡
);

37 @
Ov”ride


38 
´Ùeùed
 
	$£tAvaabËMs
(
avaabËMs
) {

39 
su³r
.
	`£tAvaabËMs
(
avaabËMs
);

40 
	`addUtiz©iÚEÁry
();

41 
	}
}

43 
´iv©e
 
	gLi¡
<
	gPow”Utiz©iÚHi¡ÜyEÁry
> 
	gutiz©iÚHi¡Ü›s
 = 
nuÎ
;

44 
´iv©e
 
	gpow”OffDu¿tiÚ
 = 0;

46 
public
 
	$addUtiz©iÚEÁryT”mš©iÚ
(
‹rmš©edTime
) {

47 if(
this
.
utiz©iÚHi¡Ü›s
 !ğ
nuÎ
)

48 
this
.
utiz©iÚHi¡Ü›s
.
	`add
(
Ãw
 
	`Pow”Utiz©iÚHi¡ÜyEÁry
(
‹rmš©edTime
, 0));

49 
	}
}

51 
public
 
	gLi¡
<
	gPow”Utiz©iÚHi¡ÜyEÁry
> 
	$g‘Utiz©iÚHisÙry
() {

52  
utiz©iÚHi¡Ü›s
;

53 
	}
}

55 
public
 
	$g‘Utiz©iÚEÃrgyCÚsum±iÚ
() {

57 
tÙ®
=0;

58 
Ï¡Time
=0;

59 
Ï¡Ms
=0;

60 if(
this
.
utiz©iÚHi¡Ü›s
 =ğ
nuÎ
)

63 
Pow”Utiz©iÚHi¡ÜyEÁry
 
h
:
this
.
utiz©iÚHi¡Ü›s
) {

64 
du¿tiÚ
 = 
h
.
¡¬tTime
 - 
Ï¡Time
;

65 
utP”ûÁage
 = 
Ï¡Ms
/ 
	`g‘TÙ®Ms
();

66 
pow”
 = 
	`ÿlcuÏ‹Pow”
(
utP”ûÁage
);

67 
’”gyCÚsum±iÚ
 = 
pow”
 * 
du¿tiÚ
;

70 if(
du¿tiÚ
 > 
pow”OffDu¿tiÚ
 && 
Ï¡Ms
 == 0)

71 
’”gyCÚsum±iÚ
 = 0;

73 
tÙ®
 +ğ
’”gyCÚsum±iÚ
;

74 
Ï¡Time
 = 
h
.
¡¬tTime
;

75 
Ï¡Ms
 = 
h
.
u£dMs
;

77  
tÙ®
/3600;

78 
	}
}

80 
´iv©e
 
	$ÿlcuÏ‹Pow”
(
u
) {

81 
pow”
 = 120 + 154 * 
u
;

82  
pow”
;

83 
	}
}

85 
´iv©e
 
	$addUtiz©iÚEÁry
() {

86 
time
 = 
CloudSim
.
	`şock
();

87 
tÙ®Ms
 = 
	`g‘TÙ®Ms
();

88 
usšgMs
 = 
tÙ®Ms
 - 
this
.
	`g‘AvaabËMs
();

89 if(
usšgMs
 < 0) {

90 
Sy¡em
.
”r
.
	`´šn
("addUtilizationEntry : using mips is‚egative, No way!");

92 if(
utiz©iÚHi¡Ü›s
 =ğ
nuÎ
)

93 
utiz©iÚHi¡Ü›s
 = 
Ãw
 
A¼ayLi¡
<
Pow”Utiz©iÚHi¡ÜyEÁry
>();

94 
this
.
utiz©iÚHi¡Ü›s
.
	`add
(
Ãw
 
	`Pow”Utiz©iÚHi¡ÜyEÁry
(
time
, 
usšgMs
));

95 
	}
}

97 
´iv©e
 
	$g‘TÙ®Ms
() {

98  
this
.
	`g‘PeLi¡
().
	`size
(è*his.
	`g‘PeC­ac™y
();

99 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/topogenerators/PhysicalTopologyGenerator.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gtİog’”©Üs
;

10 
impÜt
 
	gjava
.
	gio
.
	gFeWr™”
;

11 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

13 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONA¼ay
;

16 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONObjeù
;

62 
public
 cÏs 
	cPhysiÿlTİŞogyG’”©Ü
 {

64 
public
 
	$maš
(
SŒšg
 [] 
¬gv
) {

66 
SŒšg
 
jsÚFeName
 = "very_simple_physical.json";

68 
çnout
 = 2;

69 
Ï‹ncy
 = 0.1;

71 
iİs
 = 1000000000L;

73 
³
 = 8;

74 
ms
 = 4000;

75 
¿m
 = 10240;

76 
¡Üage
 = 10000000;

78 
bw
 = 1000000000;

80 
PhysiÿlTİŞogyG’”©Ü
 
»qg
 = 
Ãw
 
	`PhysiÿlTİŞogyG’”©Ü
();

81 
Ho¡S³c
 
ho¡S³c
 = 
»qg
.
	`ü—‹Ho¡S³c
(
³
, 
ms
, 
¿m
, 
¡Üage
, 
bw
);

82 
»qg
.
	`ü—‹TİŞogy
(
ho¡S³c
, 
iİs
, 
bw
, 
çnout
, 
Ï‹ncy
);

83 
»qg
.
	`w¹›JSON
(
jsÚFeName
);

86 
public
 
	$ü—‹TİŞogy
(
Ho¡S³c
 
ho¡S³c
, 
swIİs
, 
swBw
, 
çnout
, 
Ï‹ncy
) {

89 
Sw™chS³c
 
c
 = 
	`addSw™ch
("c", "cÜe", 
swBw
, 
swIİs
);

91 
i
=0; i<
çnout
; i++) {

92 
Sw™chS³c
 
e
 = 
	`addSw™ch
("e"+
i
, "edge", 
swBw
, 
swIİs
);

93 
	`addLšk
(
c
, 
e
, 
Ï‹ncy
);

95 
j
=0; j<
çnout
; j++) {

96 
SŒšg
 
ho¡Çme
 = "h_" + 
i
 + "_" + 
j
;

97 
Ho¡S³c
 
h
 = 
	`addHo¡
(
ho¡Çme
, 
ho¡S³c
);

98 
	`addLšk
(
e
, 
h
, 
Ï‹ncy
);

101 
	}
}

103 
´iv©e
 
	gLi¡
<
	gHo¡S³c
> 
	gho¡s
 = 
Ãw
 
A¼ayLi¡
<
Ho¡S³c
>();

104 
´iv©e
 
	gLi¡
<
	gSw™chS³c
> 
	gsw™ches
 = 
Ãw
 
A¼ayLi¡
<
Sw™chS³c
>();

105 
´iv©e
 
	gLi¡
<
	gLškS³c
> 
	glšks
 = 
Ãw
 
A¼ayLi¡
<
LškS³c
>();

107 
public
 
Ho¡S³c
 
	$addHo¡
(
SŒšg
 
Çme
, 
Ho¡S³c
 
¥ec
) {

108 
Ho¡S³c
 
ho¡
 = 
Ãw
 
	`Ho¡S³c
(
¥ec
.
³
, s³c.
ms
, s³c.
¿m
, s³c.
¡Üage
, s³c.
bw
);

110 
ho¡
.
Çme
 =‚ame;

111 
ho¡
.
ty³
 = "host";

113 
ho¡s
.
	`add
(
ho¡
);

114  
ho¡
;

115 
	}
}

116 
public
 
Ho¡S³c
 
	$addHo¡
(
SŒšg
 
Çme
, 
³s
, 
ms
, 
¿m
, 
¡Üage
, 
bw
) {

117 
Ho¡S³c
 
ho¡
 = 
Ãw
 
	`Ho¡S³c
(
³s
, 
ms
, 
¿m
, 
¡Üage
, 
bw
);

118  
	`addHo¡
(
Çme
, 
ho¡
);

119 
	}
}

121 
public
 
Sw™chS³c
 
	$addSw™ch
(
SŒšg
 
Çme
, SŒšg 
ty³
, 
bw
, 
iİs
) {

122 
Sw™chS³c
 
sw
 = 
Ãw
 
	`Sw™chS³c
();

124 
sw
.
Çme
 =‚ame;

125 
sw
.
ty³
 =ype;

126 
sw
.
bw
 = bw;

127 
sw
.
iİs
 = iops;

129 
sw™ches
.
	`add
(
sw
);

130  
sw
;

131 
	}
}

134 
´iv©e
 
	$addLšk
(
NodeS³c
 
sourû
, NodeS³ø
de¡
, 
Ï‹ncy
) {

135 
lšks
.
	`add
(
Ãw
 
	`LškS³c
(
sourû
.
Çme
,
de¡
.Çme, 
Ï‹ncy
));

136 
	}
}

138 
public
 
Ho¡S³c
 
	$ü—‹Ho¡S³c
(
³
, 
ms
, 
¿m
, 
¡Üage
, 
bw
) {

139  
Ãw
 
	`Ho¡S³c
(
³
, 
ms
, 
¿m
, 
¡Üage
, 
bw
);

140 
	}
}

142 şas 
	cNodeS³c
 {

143 
SŒšg
 
	gÇme
;

144 
SŒšg
 
	gty³
;

145 
	gbw
;

147 şas 
	cHo¡S³c
 
ex‹nds
 
	gNodeS³c
 {

148 
	g³
;

149 
	gms
;

150 
	g¿m
;

151 
	g¡Üage
;

153 @
Suµ»ssW¬nšgs
("unchecked")

154 
JSONObjeù
 
toJSON
() {

155 
Ho¡S³c
 
	go
 = 
this
;

156 
JSONObjeù
 
	gobj
 = 
Ãw
 JSONObject();

157 
	gobj
.
put
("Çme", 
o
.
Çme
);

158 
	gobj
.
put
("ty³", 
o
.
ty³
);

159 
	gobj
.
put
("¡Üage", 
o
.
¡Üage
);

160 
	gobj
.
put
("³s", 
o
.
³
);

161 
	gobj
.
put
("ms", 
o
.
ms
);

162 
	gobj
.
put
("¿m", 
Ãw
 
IÁeg”
(
o
.
¿m
));

163 
	gobj
.
put
("bw", 
o
.
bw
);

164  
	gobj
;

166 
public
 
Ho¡S³c
(
³
, 
ms
, 
¿m
, 
¡Üage
, 
bw
) {

167 
	gthis
.
	g³
 = 
³
;

168 
	gthis
.
	gms
 = 
ms
;

169 
	gthis
.
	g¿m
 = 
¿m
;

170 
	gthis
.
	g¡Üage
 = 
¡Üage
;

171 
	gthis
.
	gbw
 = 
bw
;

172 
	gthis
.
	gty³
 = "host";

176 şas 
	cSw™chS³c
 
ex‹nds
 
	gNodeS³c
 {

177 
	giİs
;

179 @
Suµ»ssW¬nšgs
("unchecked")

180 
JSONObjeù
 
toJSON
() {

181 
Sw™chS³c
 
	go
 = 
this
;

182 
JSONObjeù
 
	gobj
 = 
Ãw
 JSONObject();

183 
	gobj
.
put
("Çme", 
o
.
Çme
);

184 
	gobj
.
put
("ty³", 
o
.
ty³
);

185 
	gobj
.
put
("iİs", 
o
.
iİs
);

186 
	gobj
.
put
("bw", 
o
.
bw
);

187  
	gobj
;

191 şas 
	cLškS³c
 {

192 
SŒšg
 
	gsourû
;

193 
SŒšg
 
	gde¡š©iÚ
;

194 
	gÏ‹ncy
;

196 
public
 
LškS³c
(
SŒšg
 
sourû
,SŒšg 
de¡š©iÚ
,
Ï‹ncy2
) {

197 
	gthis
.
	gsourû
 = 
sourû
;

198 
	gthis
.
	gde¡š©iÚ
 = 
de¡š©iÚ
;

199 
	gthis
.
	gÏ‹ncy
 = 
Ï‹ncy2
;

201 @
Suµ»ssW¬nšgs
("unchecked")

202 
JSONObjeù
 
toJSON
() {

203 
LškS³c
 
	glšk
 = 
this
;

204 
JSONObjeù
 
	gobj
 = 
Ãw
 JSONObject();

205 
	gobj
.
put
("sourû", 
lšk
.
sourû
);

206 
	gobj
.
put
("de¡š©iÚ", 
lšk
.
de¡š©iÚ
);

207 
	gobj
.
put
("Ï‹ncy", 
lšk
.
Ï‹ncy
);

208  
	gobj
;

212 
	gvmId
 = 0;

214 @
Suµ»ssW¬nšgs
("unchecked")

215 
public
 
	$w¹›JSON
(
SŒšg
 
jsÚFeName
) {

216 
JSONObjeù
 
obj
 = 
Ãw
 
	`JSONObjeù
();

218 
JSONA¼ay
 
nodeLi¡
 = 
Ãw
 
	`JSONA¼ay
();

219 
JSONA¼ay
 
lškLi¡
 = 
Ãw
 
	`JSONA¼ay
();

221 
Ho¡S³c
 
o
:
ho¡s
) {

222 
nodeLi¡
.
	`add
(
o
.
	`toJSON
());

224 
Sw™chS³c
 
o
:
sw™ches
) {

225 
nodeLi¡
.
	`add
(
o
.
	`toJSON
());

228 
LškS³c
 
lšk
:
lšks
) {

229 
lškLi¡
.
	`add
(
lšk
.
	`toJSON
());

232 
obj
.
	`put
("nodes", 
nodeLi¡
);

233 
obj
.
	`put
("lšks", 
lškLi¡
);

235 
Œy
 {

237 
FeWr™”
 
fe
 = 
Ãw
 
	`FeWr™”
(
jsÚFeName
);

238 
fe
.
	`wr™e
(
obj
.
	`toJSONSŒšg
().
	`»¶aûAÎ
(",", ",\n"));

239 
fe
.
	`æush
();

240 
fe
.
	`şo£
();

242 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

243 
e
.
	`´štSckT¿û
();

246 
Sy¡em
.
out
.
	`´šn
(
obj
);

247 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/topogenerators/VMRequestRandomGenerator.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gtİog’”©Üs
;

11 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

13 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	gdi¡ributiÚ
.
	gExpÚ’tŸlDi¡ributiÚ
;

14 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	gdi¡ributiÚ
.
	gP¬‘oDi¡ributiÚ
;

15 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	g¿ndom
.
	gW–l19937c
;

47 
public
 cÏs 
	cVMReque¡RªdomG’”©Ü
 {

49 
public
 
	$maš
(
SŒšg
 [] 
¬gv
) {

50 
numVms
 = 5;

51 
SŒšg
 
jsÚFeName
 = "very_simple_virtual.json";

53 
Vœtu®TİŞogyG’”©ÜVmTy³s
 
vmG’”©Ü
 = 
Ãw
 
	`Vœtu®TİŞogyG’”©ÜVmTy³s
();

54 
VMReque¡RªdomG’”©Ü
 
»qg
 = 
Ãw
 
	`VMReque¡RªdomG’”©Ü
(
vmG’”©Ü
, 
numVms
, 
jsÚFeName
);

55 
»qg
.
	`¡¬t
();

58 
´iv©e
 
£ed
 = 10;

59 
numVms
 = 0;

60 
SŒšg
 
jsÚFeName
 = 
nuÎ
;

61 
Vœtu®TİŞogyG’”©ÜVmTy³s
 
vmG’”©Ü
 = 
nuÎ
;

63 
public
 
	$VMReque¡RªdomG’”©Ü
(
Vœtu®TİŞogyG’”©ÜVmTy³s
 
vmG’”©Ü
, 
numVms
, 
SŒšg
 
jsÚFeName
) {

64 
this
.
vmG’”©Ü
 = vmGenerator;

65 
this
.
numVms
 =‚umVms;

66 
this
.
jsÚFeName
 = jsonFileName;

68 
	}
}

69 
public
 
	$¡¬t
() {

70 
	`g’”©eVMsRªdom
(
numVms
);

71 
vmG’”©Ü
.
	`w¹›JSON
(
jsÚFeName
);

72 
	}
}

74 
public
 
	$g’”©eVMsRªdom
(
tÙ®VmNum
) {

75 
vmCouÁ
 = 0;

76 
Ï¡S¹Time
 = 0;

78 
¡¬tM—n
 = 1800;

79 
durSÿË
=14400;

80 
durSh­e
=1.2;

82 
Rªdom
 
rVmNum
 = 
Ãw
 
	`Rªdom
(
£ed
);

83 
ExpÚ’tŸlDi¡ributiÚ
 
rS¹Time
 = 
Ãw
 
	`ExpÚ’tŸlDi¡ributiÚ
Òew 
	`W–l19937c
(
£ed
), 
¡¬tM—n
, ExpÚ’tŸlDi¡ributiÚ.
DEFAULT_INVERSE_ABSOLUTE_ACCURACY
);

84 
P¬‘oDi¡ributiÚ
 
rDu¿tiÚ
 = 
Ãw
 
	`P¬‘oDi¡ributiÚ
Òew 
	`W–l19937c
(
£ed
), 
durSÿË
, 
durSh­e
);

86 
vmCouÁ
 < 
tÙ®VmNum
) {

87 
vmsInGroup
 = 
rVmNum
.
	`ÃxtIÁ
(4)+2;

88 
du¿tiÚ
 = 
M©h
.
	`æoÜ
(
rDu¿tiÚ
.
	`§m¶e
());

90 
vmG’”©Ü
.
	`g’”©eVMGroup
(
vmsInGroup
, 
Ï¡S¹Time
,†a¡S¹Time+
du¿tiÚ
, 
nuÎ
);

91 
Ï¡S¹Time
 +ğ
M©h
.
	`æoÜ
(
rS¹Time
.
	`§m¶e
());

93 
vmCouÁ
 +ğ
vmsInGroup
;

96 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/topogenerators/VirtualTopologyGenerator.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gtİog’”©Üs
;

11 
impÜt
 
	gjava
.
	gio
.
	gFeWr™”
;

12 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

13 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

16 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONA¼ay
;

17 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONObjeù
;

26 
public
 cÏs 
	cVœtu®TİŞogyG’”©Ü
 {

27 
´iv©e
 
	mLi¡
<
	mVMS³c
> 
	mvms
 = 
Ãw
 
A¼ayLi¡
<
VMS³c
>();

28 
´iv©e
 
	mLi¡
<
	mLškS³c
> 
	mlšks
 = 
Ãw
 
A¼ayLi¡
<
LškS³c
>();

29 
´iv©e
 
	mLi¡
<
	mDummyWÜklßdS³c
> 
	mdummyWÜklßd
 = 
Ãw
 
A¼ayLi¡
<
DummyWÜklßdS³c
>();

31 
public
 
VMS³c
 
	$addVM
(
SŒšg
 
Çme
, 
VMS³c
 
¥ec
) {

32  
	`addVM
(
Çme
, 
¥ec
.
³
, s³c.
ms
, s³c.
¿m
, s³c.
size
, s³c.
bw
, s³c.
¡¬‰ime
, s³c.
’dtime
);

34 
public
 
VMS³c
 
	$addVM
(
SŒšg
 
Çme
, 
³s
, 
ms
, 
¿m
, 
¡Üage
, 
bw
, 
¡¬‰ime
, 
’dtime
) {

35 
VMS³c
 
vm
 = 
Ãw
 
	`VMS³c
(
³s
, 
ms
, 
¿m
, 
¡Üage
, 
bw
, 
¡¬‰ime
, 
’dtime
);

36 
vm
.
Çme
 =‚ame;

38 
vms
.
	`add
(
vm
);

39  
vm
;

40 
	}
}

43 
public
 
LškS³c
 
	$addLšk
(
SŒšg
 
lškÇme
, 
VMS³c
 
sourû
, VMS³ø
de¡
, 
LÚg
 
bw
) {

44 
LškS³c
 
lšk
 = 
Ãw
 
	`LškS³c
(
lškÇme
, 
sourû
.
Çme
,
de¡
.Çme, 
bw
);

45 
lšks
.
	`add
(
lšk
);

47 
	`addWÜklßd
(
lškÇme
, 
sourû
, 
de¡
);

48  
lšk
;

49 
	}
}

51 
public
 
	$addWÜklßd
(
SŒšg
 
lškÇme
, 
VMS³c
 
sourû
, VMS³ø
de¡
) {

52 
DummyWÜklßdS³c
 
wl
 = 
Ãw
 
	`DummyWÜklßdS³c
(
sourû
.
¡¬‰ime
, sourû.
Çme
,
de¡
.Çme, 
lškÇme
);

53 
this
.
dummyWÜklßd
.
	`add
(
wl
);

54 
	}
}

56 
public
 
VMS³c
 
	$ü—‹VmS³c
(
³
, 
ms
, 
¿m
, 
¡Üage
, 
bw
, 
¡¬‰ime
, 
’dtime
) {

57  
Ãw
 
	`VMS³c
(
³
, 
ms
, 
¿m
, 
¡Üage
, 
bw
, 
¡¬‰ime
, 
’dtime
);

58 
	}
}

60 şas 
	cVMS³c
 {

61 
SŒšg
 
	gÇme
;

62 
SŒšg
 
	gty³
;

63 
	gsize
;

64 
	g³
;

65 
	gms
;

66 
	g¿m
;

67 
	gbw
;

68 
	g¡¬‰ime
 = -1;

69 
	g’dtime
 = -1;

71 
public
 
VMS³c
(
³
, 
ms
, 
¿m
, 
¡Üage
, 
bw
,
¡¬‰ime
,
’dtime
) {

72 
	gthis
.
	g³
 = 
³
;

73 
	gthis
.
	gms
 = 
ms
;

74 
	gthis
.
	g¿m
 = 
¿m
;

75 
	gthis
.
	gsize
 = 
¡Üage
;

76 
	gthis
.
	gbw
 = 
bw
;

77 
	gthis
.
	gty³
 = "vm";

78 
	gthis
.
	g¡¬‰ime
 = 
¡¬‰ime
;

79 
	gthis
.
	g’dtime
 = 
’dtime
;

82 @
Suµ»ssW¬nšgs
("unchecked")

83 
JSONObjeù
 
toJSON
() {

84 
VMS³c
 
	gvm
 = 
this
;

85 
JSONObjeù
 
	gobj
 = 
Ãw
 JSONObject();

86 
	gobj
.
put
("Çme", 
vm
.
Çme
);

87 
	gobj
.
put
("ty³", 
vm
.
ty³
);

88 
	gobj
.
put
("size", 
vm
.
size
);

89 
	gobj
.
put
("³s", 
vm
.
³
);

90 
	gobj
.
put
("ms", 
vm
.
ms
);

91 
	gobj
.
put
("¿m", 
Ãw
 
IÁeg”
(
vm
.
¿m
));

92 
	gobj
.
put
("bw", 
vm
.
bw
);

93 if(
	gvm
.
	g¡¬‰ime
 != -1)

94 
obj
.
put
("¡¬‰ime", 
vm
.
¡¬‰ime
);

95 if(
	gvm
.
	g’dtime
 != -1)

96 
obj
.
put
("’dtime", 
vm
.
’dtime
);

98  
	gobj
;

102 şas 
	cDummyWÜklßdS³c
 {

103 
	g¡¬tTime
;

104 
SŒšg
 
	gsourû
;

105 
SŒšg
 
	glškÇme
;

106 
SŒšg
 
	gde¡š©iÚ
;

108 
public
 
DummyWÜklßdS³c
(
¡¬tTime
, 
SŒšg
 
sourû
,SŒšg 
de¡š©iÚ
,SŒšg 
lškÇme
) {

109 
	gthis
.
	glškÇme
 = 
lškÇme
;

110 
	gthis
.
	gsourû
 = 
sourû
;

111 
	gthis
.
	gde¡š©iÚ
 = 
de¡š©iÚ
;

112 
	gthis
.
	g¡¬tTime
 = 
¡¬tTime
;

114 
public
 
SŒšg
 
toSŒšg
() {

115 
SŒšg
 
	g¡
 = 
¡¬tTime
+ ","+ 
sourû
 + ",0,1,"+
lškÇme
+","+
de¡š©iÚ
 + ",1000000000000000,1";

116  
	g¡
;

119 şas 
	cLškS³c
 {

120 
SŒšg
 
	gÇme
;

121 
SŒšg
 
	gsourû
;

122 
SŒšg
 
	gde¡š©iÚ
;

123 
LÚg
 
	gbw
;

125 
public
 
LškS³c
(
SŒšg
 
Çme
,SŒšg 
sourû
,SŒšg 
de¡š©iÚ
,
LÚg
 
bw
) {

126 
	gthis
.
	gÇme
 = 
Çme
;

127 
	gthis
.
	gsourû
 = 
sourû
;

128 
	gthis
.
	gde¡š©iÚ
 = 
de¡š©iÚ
;

129 
	gthis
.
	gbw
 = 
bw
;

131 @
Suµ»ssW¬nšgs
("unchecked")

132 
JSONObjeù
 
toJSON
() {

133 
LškS³c
 
	glšk
 = 
this
;

134 
JSONObjeù
 
	gobj
 = 
Ãw
 JSONObject();

135 
	gobj
.
put
("Çme", 
lšk
.
Çme
);

136 
	gobj
.
put
("sourû", 
lšk
.
sourû
);

137 
	gobj
.
put
("de¡š©iÚ", 
lšk
.
de¡š©iÚ
);

138 if(
	glšk
.
	gbw
 !ğ
nuÎ
)

139 
obj
.
put
("bªdwidth", 
lšk
.
bw
);

140  
	gobj
;

144 
	gvmId
 = 0;

146 @
Suµ»ssW¬nšgs
("unchecked")

147 
public
 
	$w¹›JSON
(
SŒšg
 
jsÚFeName
) {

148 
JSONObjeù
 
obj
 = 
Ãw
 
	`JSONObjeù
();

150 
JSONA¼ay
 
vmLi¡
 = 
Ãw
 
	`JSONA¼ay
();

151 
JSONA¼ay
 
lškLi¡
 = 
Ãw
 
	`JSONA¼ay
();

153 
VMS³c
 
vm
:
vms
) {

154 
vmLi¡
.
	`add
(
vm
.
	`toJSON
());

157 
LškS³c
 
lšk
:
lšks
) {

158 
lškLi¡
.
	`add
(
lšk
.
	`toJSON
());

161 
obj
.
	`put
("nodes", 
vmLi¡
);

162 
obj
.
	`put
("lšks", 
lškLi¡
);

164 
Œy
 {

166 
FeWr™”
 
fe
 = 
Ãw
 
	`FeWr™”
(
jsÚFeName
);

167 
fe
.
	`wr™e
(
obj
.
	`toJSONSŒšg
().
	`»¶aûAÎ
(",", ",\n"));

168 
fe
.
	`æush
();

169 
fe
.
	`şo£
();

171 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

172 
e
.
	`´štSckT¿û
();

175 
Sy¡em
.
out
.
	`´šn
(
obj
);

177 
Sy¡em
.
out
.
	`´šn
("===============WORKLOAD=============");

178 
Sy¡em
.
out
.
	`´šn
("start, source, z, w1,†ink, dest,…size, w2");

179 
DummyWÜklßdS³c
 
wl
:
this
.
dummyWÜklßd
) {

180 
Sy¡em
.
out
.
	`´šn
(
wl
);

182 
	}
}

	@src/org/cloudbus/cloudsim/sdn/example/topogenerators/VirtualTopologyGeneratorVmTypes.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gtİog’”©Üs
;

18 
public
 cÏs 
	cVœtu®TİŞogyG’”©ÜVmTy³s
 
ex‹nds
 
	mVœtu®TİŞogyG’”©Ü
{

20 
public
 
	$maš
(
SŒšg
 [] 
¬gv
) {

21 
numVms
 = 10;

22 
SŒšg
 
jsÚFeName
 = "virtual_ccgrid.json";

24 
Vœtu®TİŞogyG’”©ÜVmTy³s
 
vmG’”©Ü
 = 
Ãw
 
	`Vœtu®TİŞogyG’”©ÜVmTy³s
();

25 
vmG’”©Ü
.
	`g’”©e3T›rTİŞogy
(
numVms
, 
jsÚFeName
);

28 
public
 
	$g’”©e3T›rTİŞogy
(
num
, 
SŒšg
 
jsÚFeName
) {

29 
fš®
 
TIER
 = 3;

30 
fš®
 
LÚg
 
lškBW
 = () (125000000/3);

31 
i
 = 0;˜< 
num
; i++) {

32 
	`g’”©eVMGroup
(
TIER
, -1, -1, 
lškBW
);

34 
i
 = 0;˜< 
num
*4; i++) {

35 
	`g’”©eVMGroup
(
TIER
, -1, -1, 
nuÎ
);

37 
	`w¹›JSON
(
jsÚFeName
);

38 
	}
}

40 
	gvmGroupId
 = 0;

41 
	gvmNum
 = 0;

43 
	eVMty³
 {

44 
	gWebS”v”
,

45 
	gAµS”v”
,

46 
	gDBS”v”
,

47 
	gProxy
,

48 
	gFœew®l


52 
public
 
VMS³c
 
	$ü—‹VM
(
VMty³
 
vmty³
, 
¡¬tTime
, 
’dTime
) {

53 
SŒšg
 
Çme
 = "vm";

54 
³s
 = 1;

55 
vmSize
 = 1000;

56 
ms
=1000;

57 
vmRam
 = 512;

58 
vmBW
=100000000;

60 
vmty³
) {

61 
WebS”v”
:

63 
ms
=mips*2;

64 
³s
=2;

65 
Çme
="web";

67 
AµS”v”
:

69 
ms
=() (mips*1.5);

70 
³s
=8;

71 
Çme
="app";

73 
DBS”v”
:

75 
ms
=() (mips*2.4);

76 
³s
=8;

77 
Çme
="db";

79 
Proxy
:

80 
ms
=mips*2;

81 
³s
=8;

82 
vmBW
=500000000;

83 
Çme
="proxy";

85 
Fœew®l
:

86 
ms
=mips*3;

87 
³s
=8;

88 
vmBW
=500000000;

89 
Çme
="firewall";

92 
Çme
 +ğ
vmGroupId
;

93 
vmNum
++;

95 
VMS³c
 
vm
 = 
	`addVM
(
Çme
, 
³s
, 
ms
, 
vmRam
, 
vmSize
, 
vmBW
, 
¡¬tTime
, 
’dTime
);

96  
vm
;

97 
	}
}

146 
´iv©e
 
	$addLškAutoName
(
VMS³c
 
¤c
, VMS³ø
de¡
, 
LÚg
 
bw
) {

147 
SŒšg
 
lškName
 = "default";

148 
	`addLšk
(
lškName
, 
¤c
, 
de¡
, 
bw
);

150 if(
bw
 !ğ
nuÎ
) {

151 
lškName
 = 
¤c
.
Çme
 + 
de¡
.name;

152 
	`addLšk
(
lškName
, 
¤c
, 
de¡
, 
bw
);

154 
	}
}

155 
´iv©e
 
	$addLškAutoNameBÙh
(
VMS³c
 
vm1
, VMS³ø
vm2
, 
LÚg
 
lškBw
) {

156 
	`addLškAutoName
(
vm1
, 
vm2
, 
lškBw
);

157 
	`addLškAutoName
(
vm2
, 
vm1
, 
lškBw
);

158 
	}
}

161 
public
 
	$g’”©eVMGroup
(
numVMsInGroup
, 
¡¬tTime
, 
’dTime
, 
LÚg
 
lškBw
) {

162 
Sy¡em
.
out
.
	`´štf
("G’”©šg VM Group(%d): %à- %f\n", 
numVMsInGroup
, 
¡¬tTime
, 
’dTime
);

164 
numVMsInGroup
) {

167 
VMS³c
 
web
 = 
this
.
	`ü—‹VM
(
VMty³
.
WebS”v”
, 
¡¬tTime
, 
’dTime
);

168 
VMS³c
 
­p
 = 
this
.
	`ü—‹VM
(
VMty³
.
AµS”v”
, 
¡¬tTime
, 
’dTime
);

169 
	`addLškAutoNameBÙh
(
web
, 
­p
, 
lškBw
);

174 
VMS³c
 
web
 = 
this
.
	`ü—‹VM
(
VMty³
.
WebS”v”
, 
¡¬tTime
, 
’dTime
);

175 
VMS³c
 
­p
 = 
this
.
	`ü—‹VM
(
VMty³
.
AµS”v”
, 
¡¬tTime
, 
’dTime
);

176 
VMS³c
 
db
 = 
this
.
	`ü—‹VM
(
VMty³
.
DBS”v”
, 
¡¬tTime
, 
’dTime
);

177 
	`addLškAutoNameBÙh
(
web
, 
­p
, 
lškBw
);

178 
	`addLškAutoNameBÙh
(
­p
, 
db
, 
lškBw
);

183 
VMS³c
 
web
 = 
this
.
	`ü—‹VM
(
VMty³
.
WebS”v”
, 
¡¬tTime
, 
’dTime
);

184 
VMS³c
 
­p
 = 
this
.
	`ü—‹VM
(
VMty³
.
AµS”v”
, 
¡¬tTime
, 
’dTime
);

185 
VMS³c
 
db
 = 
this
.
	`ü—‹VM
(
VMty³
.
DBS”v”
, 
¡¬tTime
, 
’dTime
);

186 
VMS³c
 
´oxy
 = 
this
.
	`ü—‹VM
(
VMty³
.
Proxy
, 
¡¬tTime
, 
’dTime
);

187 
	`addLškAutoNameBÙh
(
web
, 
­p
, 
lškBw
);

188 
	`addLškAutoNameBÙh
(
­p
, 
db
, 
lškBw
);

189 
	`addLškAutoNameBÙh
(
web
, 
´oxy
, 
lškBw
);

194 
VMS³c
 
web
 = 
this
.
	`ü—‹VM
(
VMty³
.
WebS”v”
, 
¡¬tTime
, 
’dTime
);

195 
VMS³c
 
­p
 = 
this
.
	`ü—‹VM
(
VMty³
.
AµS”v”
, 
¡¬tTime
, 
’dTime
);

196 
VMS³c
 
db
 = 
this
.
	`ü—‹VM
(
VMty³
.
DBS”v”
, 
¡¬tTime
, 
’dTime
);

197 
VMS³c
 
´oxy
 = 
this
.
	`ü—‹VM
(
VMty³
.
Proxy
, 
¡¬tTime
, 
’dTime
);

198 
this
.
	`ü—‹VM
(
VMty³
.
Fœew®l
, 
¡¬tTime
, 
’dTime
);

199 
	`addLškAutoNameBÙh
(
web
, 
­p
, 
lškBw
);

200 
	`addLškAutoNameBÙh
(
­p
, 
db
, 
lškBw
);

201 
	`addLškAutoNameBÙh
(
web
, 
´oxy
, 
lškBw
);

205 
Sy¡em
.
”r
.
	`´šn
("UnknowÀgrou°numb”"+
numVMsInGroup
);

208 
vmGroupId
 ++;

209 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/core/Bridge.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

4 
impÜt
 
	gjava
.
	gio
.
	gFeR—d”
;

5 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

6 
impÜt
 
	gjava
.
	gio
.
	gSŒšgWr™”
;

7 
impÜt
 
	gjava
.
	gm©h
.
	gBigDecim®
;

8 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

9 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

10 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gM­
.
	gEÁry
;

15 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONA¼ay
;

16 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONObjeù
;

17 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONV®ue
;

19 
public
 cÏs 
	cBridge
 {

21 
´iv©e
 
Node
 
	$g‘Node
(
G¿ph
 
g¿ph
, 
SŒšg
 
Çme
){

22 
Node
 
node
 : 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
()){

23 if(
node
!=
nuÎ
){

24 if(
node
.
	`g‘Name
().
	`equ®s
(
Çme
)){

25  
node
;

29  
nuÎ
;

33 
public
 
G¿ph
 
	$jsÚToG¿ph
(
SŒšg
 
feName
, 
ty³
){

35 
G¿ph
 
g¿ph
 = 
Ãw
 
	`G¿ph
();

38 if(0 =ğ
ty³
){

39 
Œy
 {

40 
JSONObjeù
 
doc
 = (JSONObjeùè
JSONV®ue
.
	`·r£
(
Ãw
 
	`FeR—d”
(
feName
));

41 
JSONA¼ay
 
nodes
 = (JSONA¼ayè
doc
.
	`g‘
("nodes");

42 @
	`Suµ»ssW¬nšgs
("unchecked")

43 
I‹¿tÜ
<
JSONObjeù
> 
™”
 =
nodes
.
	`™”©Ü
();

44 
™”
.
	`hasNext
()){

45 
JSONObjeù
 
node
 = 
™”
.
	`Ãxt
();

46 
SŒšg
 
nodeTy³
 = (SŒšgè
node
.
	`g‘
("type");

47 
SŒšg
 
nodeName
 = (SŒšgè
node
.
	`g‘
("name");

49 if(
nodeTy³
.
	`equ®sIgnÜeCa£
("host")){

50 
³s
 = (
LÚg
è
node
.
	`g‘
("pes");

51 
ms
 = (
LÚg
è
node
.
	`g‘
("mips");

52 
¿m
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("¿m")).
	`štV®ueExaù
();

53 
¡Üage
 = (
LÚg
è
node
.
	`g‘
("storage");

54 
bw
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("bw")).
	`štV®ueExaù
();

56 
num
 = 1;

57 ià(
node
.
	`g‘
("nums")!ğ
nuÎ
)

58 
num
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("nums")).
	`štV®ueExaù
();

60 
n
 = 0;‚< 
num
;‚++) {

61 
Node
 
hNode
 = 
Ãw
 
	`Ho¡Node
(
nodeName
, 
nodeTy³
, 
³s
, 
ms
, 
¿m
, 
¡Üage
, 
bw
);

62 
g¿ph
.
	`addNode
(
hNode
);

66 
bw
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("bw")).
	`štV®ueExaù
();

67 
iİs
 = (
LÚg
è
node
.
	`g‘
("iops");

68 
uµÜts
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("uµÜts")).
	`štV®ueExaù
();

69 
dowÅÜts
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("dowÅÜts")).
	`štV®ueExaù
();

71 
Node
 
sNode
 = 
Ãw
 
	`Sw™chNode
(
nodeName
, 
nodeTy³
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
bw
);

72 
g¿ph
.
	`addNode
(
sNode
);

76 
JSONA¼ay
 
lšks
 = (JSONA¼ayè
doc
.
	`g‘
("links");

77 @
	`Suµ»ssW¬nšgs
("unchecked")

78 
I‹¿tÜ
<
JSONObjeù
> 
lšksI‹r
 =
lšks
.
	`™”©Ü
();

79 
lšksI‹r
.
	`hasNext
()){

80 
JSONObjeù
 
lšk
 = 
lšksI‹r
.
	`Ãxt
();

81 
SŒšg
 
¤c
 = (SŒšgè
lšk
.
	`g‘
("source");

82 
SŒšg
 
d¡
 = (SŒšgè
lšk
.
	`g‘
("destination");

83 
Ït
 = (
DoubË
è
lšk
.
	`g‘
("latency");

85 
Node
 
sourû
 = (Nodeè
	`g‘Node
(
g¿ph
, 
¤c
);

86 
Node
 
rg‘
 = (Nodeè
	`g‘Node
(
g¿ph
, 
d¡
);

89 if(
sourû
!=
nuÎ
 && 
rg‘
!=null){

90 
Edge
 
edge
 = 
Ãw
 
	`Edge
(
rg‘
, 
Ït
);

91 
g¿ph
.
	`addEdge
(
sourû
, 
edge
);

94 } 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

95 
e
.
	`´štSckT¿û
();

98 }if(1 =ğ
ty³
){

99 
Œy
 {

100 
JSONObjeù
 
doc
 = (JSONObjeùè
JSONV®ue
.
	`·r£
(
Ãw
 
	`FeR—d”
(
feName
));

101 
JSONA¼ay
 
nodes
 = (JSONA¼ayè
doc
.
	`g‘
("nodes");

102 @
	`Suµ»ssW¬nšgs
("unchecked")

103 
I‹¿tÜ
<
JSONObjeù
> 
™”
 = 
nodes
.
	`™”©Ü
();

104 
™”
.
	`hasNext
()){

105 
JSONObjeù
 
node
 = 
™”
.
	`Ãxt
();

107 
SŒšg
 
nodeTy³
 = (SŒšgè
node
.
	`g‘
("type");

108 
SŒšg
 
nodeName
 = (SŒšgè
node
.
	`g‘
("name");

109 
³s
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("³s")).
	`štV®ueExaù
();

110 
ms
 = (
LÚg
è
node
.
	`g‘
("mips");

111 
¿m
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("¿m")).
	`štV®ueExaù
();

112 
size
 = (
LÚg
è
node
.
	`g‘
("size");

114 
Node
 
vmNode
 = 
Ãw
 
	`VmNode
(
nodeName
, 
nodeTy³
, 
size
, 
³s
, 
ms
, 
¿m
);

115 
g¿ph
.
	`addNode
(
vmNode
);

118 
JSONA¼ay
 
lšks
 = (JSONA¼ayè
doc
.
	`g‘
("links");

120 @
	`Suµ»ssW¬nšgs
("unchecked")

121 
I‹¿tÜ
<
JSONObjeù
> 
lšksI‹r
 = 
lšks
.
	`™”©Ü
();

122 
lšksI‹r
.
	`hasNext
()){

123 
JSONObjeù
 
lšk
 = 
lšksI‹r
.
	`Ãxt
();

124 
SŒšg
 
Çme
 = (SŒšgè
lšk
.
	`g‘
("name");

125 
SŒšg
 
¤c
 = (SŒšgè
lšk
.
	`g‘
("source");

126 
SŒšg
 
d¡
 = (SŒšgè
lšk
.
	`g‘
("destination");

128 
Objeù
 
»qBw
 = 
lšk
.
	`g‘
("bandwidth");

130 
bw
 = 0;

131 if(
»qBw
 !ğ
nuÎ
)

132 
bw
 = (
LÚg
è
»qBw
;

134 
Node
 
sourû
 = 
	`g‘Node
(
g¿ph
, 
¤c
);

135 
Node
 
rg‘
 = 
	`g‘Node
(
g¿ph
, 
d¡
);

137 
Edge
 
edge
 = 
Ãw
 
	`Edge
(
rg‘
, 
Çme
, 
bw
);

138 
g¿ph
.
	`addEdge
(
sourû
, 
edge
);

141 } 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

142 
e
.
	`´štSckT¿û
();

146  
g¿ph
;

147 
	}
}

150 @
Suµ»ssW¬nšgs
("unchecked")

151 
public
 
SŒšg
 
	$g¿phToJsÚ
(
G¿ph
 
g¿ph
){

152 if(
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`size
() < 1){

155 
M­
<
Node
, 
Li¡
<Node>> 
edgeLi¡
 = 
Ãw
 
HashM­
<Node, List<Node>>();

157 
JSONObjeù
 
tİo
 = 
Ãw
 
	`JSONObjeù
();

158 
JSONA¼ay
 
nodes
 = 
Ãw
 
	`JSONA¼ay
();

159 
JSONA¼ay
 
lšks
 = 
Ãw
 
	`JSONA¼ay
();

161 
EÁry
<
Node
, 
Li¡
<
Edge
>> 
’Œy
 : 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`’ŒyS‘
()) {

162 
Node
 
¤cNode
 = 
’Œy
.
	`g‘Key
();

165 
JSONObjeù
 
jobj
 = 
Ãw
 
	`JSONObjeù
();

166 
¤cNode
.
	`g‘Ty³
()){

168 
Ho¡Node
 
hNode
 = (Ho¡Node)
¤cNode
;

169 
jobj
.
	`put
("Çme", 
hNode
.
	`g‘Name
());

170 
jobj
.
	`put
("ty³", 
hNode
.
	`g‘Ty³
());

171 
jobj
.
	`put
("³s", 
hNode
.
	`g‘Pes
());

172 
jobj
.
	`put
("ms", 
hNode
.
	`g‘Ms
());

173 
jobj
.
	`put
("¿m", 
hNode
.
	`g‘Ram
());

174 
jobj
.
	`put
("¡Üage", 
hNode
.
	`g‘StÜage
());

175 
jobj
.
	`put
("bw", 
hNode
.
	`g‘Bw
());

179 
Sw™chNode
 
sNode
 = (Sw™chNode)
¤cNode
;

180 
jobj
.
	`put
("Çme", 
sNode
.
	`g‘Name
());

181 
jobj
.
	`put
("ty³", 
sNode
.
	`g‘Ty³
());

182 
jobj
.
	`put
("iİs", 
sNode
.
	`g‘Iİs
());

183 
jobj
.
	`put
("uµÜts", 
sNode
.
	`g‘DowÅÜts
());

184 
jobj
.
	`put
("dowÅÜts", 
sNode
.
	`g‘DowÅÜts
());

185 
jobj
.
	`put
("bw", 
sNode
.
	`g‘Bw
());

188 
VmNode
 
vNode
 = (VmNode)
¤cNode
;

189 
jobj
.
	`put
("Çme", 
vNode
.
	`g‘Name
());

190 
jobj
.
	`put
("ty³", 
vNode
.
	`g‘Ty³
());

191 
jobj
.
	`put
("size", 
vNode
.
	`g‘Size
());

192 
jobj
.
	`put
("³s", 
vNode
.
	`g‘Pes
());

193 
jobj
.
	`put
("ms", 
vNode
.
	`g‘Ms
());

194 
jobj
.
	`put
("¿m", 
vNode
.
	`g‘Ram
());

197 
nodes
.
	`add
(
jobj
);

200 
Edge
 
edge
 : 
’Œy
.
	`g‘V®ue
()) {

201 
Node
 
de¡Node
 = 
edge
.
	`g‘Node
();

204 ià(
edgeLi¡
.
	`cÚšsKey
(
de¡Node
è&&ƒdgeLi¡.
	`g‘
(de¡Node).
	`cÚšs
(
¤cNode
)) {

208 
JSONObjeù
 
jobj2
 = 
Ãw
 
	`JSONObjeù
();

209 
jobj2
.
	`put
("sourû", 
¤cNode
.
	`g‘Name
());

210 
jobj2
.
	`put
("de¡š©iÚ", 
de¡Node
.
	`g‘Name
());

211 if("ho¡"==
de¡Node
.
	`g‘Ty³
() || "core"==destNode.getType() || "edge"==destNode.getType()){

212 
jobj2
.
	`put
("Ï‹ncy", 
edge
.
	`g‘L©’cy
());

213 }if("vm"==
de¡Node
.
	`g‘Name
()){

214 if(
edge
.
	`g‘Bªdwidth
()>0){

215 
jobj2
.
	`put
("bªdwidth", 
edge
.
	`g‘Bªdwidth
());

218 
lšks
.
	`add
(
jobj2
);

221 ià(
edgeLi¡
.
	`cÚšsKey
(
’Œy
.
	`g‘Key
())) {

222 
edgeLi¡
.
	`g‘
(
’Œy
.
	`g‘Key
()).
	`add
(
edge
.
	`g‘Node
());

224 
Li¡
<
Node
> 
ns
 = 
Ãw
 
A¼ayLi¡
<Node>();

225 
ns
.
	`add
(
edge
.
	`g‘Node
());

226 
edgeLi¡
.
	`put
(
’Œy
.
	`g‘Key
(), 
ns
);

231 
tİo
.
	`put
("nodes", 
nodes
);

232 
tİo
.
	`put
("lšks", 
lšks
);

234 
SŒšgWr™”
 
out
 = 
Ãw
 
	`SŒšgWr™”
();

235 
SŒšg
 
jsÚText
 = "";

236 
Œy
 {

237 
tİo
.
	`wr™eJSONSŒšg
(
out
);

238 
jsÚText
 = 
out
.
	`toSŒšg
();

239 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

241 
e
.
	`´štSckT¿û
();

245  
jsÚText
;

246 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/core/Coordinates.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
;

3 
public
 cÏs 
	cCoÜdš©es
 {

5 
´iv©e
 
	mx
;

6 
´iv©e
 
	my
;

8 
public
 
	$CoÜdš©es
() {

9 
this
.
x
 = 0;

10 
this
.
y
 = 0;

12 
public
 
	$CoÜdš©es
(
x
, 
y
) {

13 
this
.
x
 = x;

14 
this
.
y
 = y;

15 
	}
}

17 
public
 
	$g‘X
() {

18  
x
;

19 
	}
}

20 
public
 
	$£tX
(
x
) {

21 
this
.
x
 = x;

22 
	}
}

24 
public
 
	$g‘Y
() {

25  
y
;

26 
	}
}

27 
public
 
	$£tY
(
y
) {

28 
this
.
y
 = y;

29 
	}
}

31 @
Ov”ride


32 
public
 
SŒšg
 
	$toSŒšg
() {

33  "CoÜdš©e [abscis§=" + 
x
 + ", ordš©e=" + 
y
 + "]";

34 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/core/Edge.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gio
.
	gS”ŸlizabË
;

4 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

5 
impÜt
 
	gjava
.
	gut
.
	gM­
;

11 
public
 cÏs 
	cEdge
 
im¶em’ts
 
	mS”ŸlizabË
 {

12 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -356975278987708987L;

14 
´iv©e
 
Node
 
	mde¡
 = 
nuÎ
;

16 
´iv©e
 
	mÏ‹ncy
 = 0.0;

17 
´iv©e
 
SŒšg
 
	mÇme
 = "";

18 
´iv©e
 
	mbªdwidth
 = 0;

25 
public
 
	$Edge
(
Node
 
to
) {

26 
this
.
de¡
 = 
to
;

30 
public
 
	$Edge
(
Node
 
to
, 
Ï‹ncy
) {

31 
this
.
de¡
 = 
to
;

32 
this
.
Ï‹ncy
 =†atency;

33 
	}
}

36 
public
 
	$Edge
(
Node
 
to
, 
SŒšg
 
Çme
, 
bw
) {

37 
this
.
de¡
 = 
to
;

38 
this
.
Çme
 =‚ame;

39 
this
.
bªdwidth
 = 
bw
;

40 
	}
}

43 
public
 
Edge
(
Node
 
to
, 
M­
<
SŒšg
, 
Objeù
> 
šfo
){

44 
	gthis
.
	gde¡
 = 
to
;

45 if(
	gšfo
.
g‘
("Çme")!=
nuÎ
){

46 
this
.
Çme
 = (
SŒšg
è
šfo
.
g‘
("name");

48 if(
	gšfo
.
g‘
("bªdwidth")!=
nuÎ
){

49 
this
.
bªdwidth
 = (è
šfo
.
g‘
("bandwidth");

51 if(
	gšfo
.
g‘
("Ï‹ncy")!=
nuÎ
){

52 
this
.
Ï‹ncy
 = (è
šfo
.
g‘
("latency");

56 
public
 
Node
 
	$g‘Node
() {

57  
de¡
;

58 
	}
}

60 
public
 
	$g‘Bªdwidth
() {

61  
bªdwidth
;

62 
	}
}

64 
public
 
	$g‘L©’cy
() {

65  
Ï‹ncy
;

66 
	}
}

68 
public
 
	gM­
<
	gSŒšg
, 
	gObjeù
> 
	$g‘Info
() {

69 
M­
<
SŒšg
, 
Objeù
> 
šfo
 = 
Ãw
 
HashM­
<String, Object>();

70 
šfo
.
	`put
("Çme", 
this
.
Çme
);

71 
šfo
.
	`put
("bªdwidth",
this
.
bªdwidth
);

72 
šfo
.
	`put
("Ï‹ncy", 
this
.
Ï‹ncy
);

73  
šfo
;

74 
	}
}

76 
public
 
£tInfo
(
M­
<
SŒšg
, 
Objeù
> 
šfo
){

77 if(
	gšfo
.
g‘
("Çme")!=
nuÎ
){

78 
this
.
Çme
 = (
SŒšg
è
šfo
.
g‘
("name");

80 if(
	gšfo
.
g‘
("bªdwidth")!=
nuÎ
){

81 
this
.
bªdwidth
 = (è
šfo
.
g‘
("bandwidth");

83 if(
	gšfo
.
g‘
("Ï‹ncy")!=
nuÎ
){

84 
this
.
Ï‹ncy
 = (è
šfo
.
g‘
("latency");

88 @
Ov”ride


89 
public
 
SŒšg
 
	$toSŒšg
() {

90  "Edg[de¡=" + 
de¡
 + "]";

91 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/core/Graph.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gio
.
	gS”ŸlizabË
;

4 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

5 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

6 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

7 
impÜt
 
	gjava
.
	gut
.
	gM­
;

8 
impÜt
 
	gjava
.
	gut
.
	gM­
.
	gEÁry
;

15 
public
 cÏs 
	cG¿ph
 
im¶em’ts
 
	mS”ŸlizabË
 {

16 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 745864022429447529L;

18 
´iv©e
 
	mM­
<
	mNode
, 
	mLi¡
<
	mEdge
>> 
	madjaûncyLi¡
;

21 
public
 
	$G¿ph
() {

23 
adjaûncyLi¡
 = 
Ãw
 
HashM­
<
Node
, 
Li¡
<
Edge
>>();

26 
public
 
	`G¿ph
(
M­
<
Node
, 
Li¡
<
Edge
>> 
adjaûncyLi¡
) {

27 
this
.
adjaûncyLi¡
 =‡djacencyList;

28 
	}
}

30 
public
 
£tAdjaûncyLi¡
(
M­
<
Node
, 
Li¡
<
Edge
>> 
adjaûncyLi¡
) {

31 
	gthis
.
	gadjaûncyLi¡
 = 
adjaûncyLi¡
;

34 
public
 
	gM­
<
	gNode
, 
	gLi¡
<
	gEdge
>> 
	$g‘AdjaûncyLi¡
() {

35  
adjaûncyLi¡
;

36 
	}
}

39 
public
 
	$addEdge
(
Node
 
key
, 
Edge
 
v®ue
) {

41 ià(
adjaûncyLi¡
.
	`cÚšsKey
(
key
)) {

42 ià(
adjaûncyLi¡
.
	`g‘
(
key
è=ğ
nuÎ
) {

43 
adjaûncyLi¡
.
	`put
(
key
, 
Ãw
 
A¼ayLi¡
<
Edge
>());

47 ià(
v®ue
 !ğ
nuÎ
) {

48 
adjaûncyLi¡
.
	`g‘
(
key
).
	`add
(
v®ue
);

51 
Li¡
<
Edge
> 
edges
 = 
Ãw
 
A¼ayLi¡
<Edge>();

53 ià(
v®ue
 !ğ
nuÎ
) {

54 
edges
.
	`add
(
v®ue
);

57 
adjaûncyLi¡
.
	`put
(
key
, 
edges
);

62 ià(
v®ue
 !ğ
nuÎ
) {

63 
Edge
 
»v”£Edge
 = 
Ãw
 
	`Edge
(
key
, 
v®ue
.
	`g‘Info
());

65 ià(
adjaûncyLi¡
.
	`cÚšsKey
(
v®ue
.
	`g‘Node
())) {

66 ià(
adjaûncyLi¡
.
	`g‘
(
v®ue
.
	`g‘Node
()è=ğ
nuÎ
) {

67 
adjaûncyLi¡
.
	`put
(
v®ue
.
	`g‘Node
(), 
Ãw
 
A¼ayLi¡
<
Edge
>());

71 ià(
»v”£Edge
 !ğ
nuÎ
) {

72 
adjaûncyLi¡
.
	`g‘
(
v®ue
.
	`g‘Node
()).
	`add
(
»v”£Edge
);

75 
Li¡
<
Edge
> 
edges
 = 
Ãw
 
A¼ayLi¡
<Edge>();

77 ià(
»v”£Edge
 !ğ
nuÎ
) {

78 
edges
.
	`add
(
»v”£Edge
);

81 
adjaûncyLi¡
.
	`put
(
v®ue
.
	`g‘Node
(), 
edges
);

84 
	}
}

87 
public
 
	$addNode
(
Node
 
node
) {

88 
	`addEdge
(
node
, 
nuÎ
);

89 
	}
}

91 
public
 
	$»moveEdge
(
Node
 
key
, 
Edge
 
v®ue
) {

93 ià(!
adjaûncyLi¡
.
	`cÚšsKey
(
key
)) {

94 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Thadjaûncy†i¡ dÛ nÙ cÚš‡‚odfÜhgiv’ key: " + 
key
);

96 
Li¡
<
Edge
> 
edges
 = 
adjaûncyLi¡
.
	`g‘
(
key
);

98 ià(!
edges
.
	`cÚšs
(
v®ue
)) {

99 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Thli¡ oàedge dÛ nÙ cÚšhgiv’ƒdgtØ»move: " + 
v®ue
);

102 
edges
.
	`»move
(
v®ue
);

104 
Li¡
<
Edge
> 
»v”£Edges
 = 
adjaûncyLi¡
.
	`g‘
(
v®ue
.
	`g‘Node
());

105 
Li¡
<
Edge
> 
toRemove
 = 
Ãw
 
A¼ayLi¡
<Edge>();

106 
Edge
 
edge
 : 
»v”£Edges
) {

107 ià(
edge
.
	`g‘Node
().
	`equ®s
(
key
)) {

108 
toRemove
.
	`add
(
edge
);

112 
»v”£Edges
.
	`»moveAÎ
(
toRemove
);

113 
	}
}

116 
public
 
	$»moveNode
(
Node
 
key
) {

118 ià(!
adjaûncyLi¡
.
	`cÚšsKey
(
key
)) {

119 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Thadjaûncy†i¡ dÛ nÙ cÚš‡‚odfÜhgiv’ key: " + 
key
);

122 
adjaûncyLi¡
.
	`»move
(
key
);

125 
EÁry
<
Node
, 
Li¡
<
Edge
>> 
’Œy
 : 
adjaûncyLi¡
.
	`’ŒyS‘
()) {

127 
Li¡
<
Edge
> 
toRemove
 = 
Ãw
 
A¼ayLi¡
<Edge>();

129 
Edge
 
edge
 : 
’Œy
.
	`g‘V®ue
()) {

130 ià(
edge
.
	`g‘Node
().
	`equ®s
(
key
)) {

131 
toRemove
.
	`add
(
edge
);

134 
’Œy
.
	`g‘V®ue
().
	`»moveAÎ
(
toRemove
);

136 
	}
}

138 
public
 
	$ş—rG¿ph
(){

139 
adjaûncyLi¡
.
	`ş—r
();

140 
	}
}

142 
public
 
SŒšg
 
	$toJsÚSŒšg
(){

143 
SŒšg
 
jsÚText
 = 
Bridge
.
	`g¿phToJsÚ
(
this
);

144  
jsÚText
;

145 
	}
}

148 @
Ov”ride


149 
public
 
SŒšg
 
	$toSŒšg
() {

150  "G¿ph [adjaûncyLi¡=" + 
adjaûncyLi¡
 + "]";

151 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/core/GraphView.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gawt
.
	gCŞÜ
;

4 
impÜt
 
	gjava
.
	gawt
.
	gFÚtM‘rics
;

5 
impÜt
 
	gjava
.
	gawt
.
	gG¿phics
;

6 
impÜt
 
	gjava
.
	gawt
.
	gG¿phics2D
;

7 
impÜt
 
	gjava
.
	gawt
.
	gImage
;

8 
impÜt
 
	gjava
.
	gawt
.
	gToŞk™
;

9 
impÜt
 
	gjava
.
	gawt
.
	ggeom
.
	gAffšeT¿nsfÜm
;

10 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gM­
;

14 
impÜt
 
	gjava
.
	gut
.
	gM­
.
	gEÁry
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gImageIcÚ
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gJSüŞlPªe
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gCoÜdš©es
;

24 
public
 cÏs 
	cG¿phV›w
 
ex‹nds
 
	mJPª–
 {

26 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 1L;

28 
´iv©e
 
JPª–
 
	mÿnvas
;

29 
´iv©e
 
G¿ph
 
	mg¿ph
;

30 
´iv©e
 
fš®
 
	mARR_SIZE
 = 4;

32 
´iv©e
 
Image
 
	mimgDeçuÉ
;

33 
´iv©e
 
Image
 
	mimgHo¡
;

34 
´iv©e
 
Image
 
	mimgSw™ch
;

35 
´iv©e
 
Image
 
	mimgVm
;

37 
public
 
	$G¿phV›w
(
fš®
 
G¿ph
 
g¿ph
) {

39 
this
.
g¿ph
 = graph;

41 
imgHo¡
 = 
ToŞk™
.
	`g‘DeçuÉToŞk™
().
	`g‘Image
(
this
.
	`g‘CÏss
().
	`g‘Resourû
("/src/host.png"));

42 
imgSw™ch
 = 
ToŞk™
.
	`g‘DeçuÉToŞk™
().
	`g‘Image
(
this
.
	`g‘CÏss
().
	`g‘Resourû
("/src/disk.png"));

43 
imgVm
 = 
ToŞk™
.
	`g‘DeçuÉToŞk™
().
	`g‘Image
(
this
.
	`g‘CÏss
().
	`g‘Resourû
("/src/vm2.png"));

44 
	`š™CompÚ’ts
();

47 
´iv©e
 
	$š™CompÚ’ts
() {

49 
ÿnvas
 = 
Ãw
 
	`JPª–
() {

51 @
Ov”ride


52 
public
 
	`·št
(
G¿phics
 
g
) {

54 ià(
g¿ph
.
	`g‘AdjaûncyLi¡
(è=ğ
nuÎ
) {

58 
M­
<
Node
, 
CoÜdš©es
> 
coÜdFÜNodes
 = 
Ãw
 
HashM­
<Node, Coordinates>();

60 
off£tX
 = 
ÿnvas
.
	`g‘Width
() / 2;

61 
off£tY
 = 
ÿnvas
.
	`g‘Height
() / 2;

64 
height
 = 40;

65 
width
 = 40;

66 
ªgË
 = 2 * 
M©h
.
PI
 / 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
().
	`size
();

67 
¿dius
 = 
off£tY
 / 2 - 20;

68 
FÚtM‘rics
 
f
 = 
g
.
	`g‘FÚtM‘rics
();

69 
nodeHeight
 = 
M©h
.
	`max
(
height
, 
f
.
	`g‘Height
());

70 
nodeWidth
 = 
nodeHeight
;

72 
i
 = 0;

73 
Node
 
node
 : 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
()) {

75 
x
 = 
DoubË
.
	`v®ueOf
(
off£tX
 + 
M©h
.
	`cos
(
i
 * 
ªgË
è* 
¿dius
).
	`štV®ue
();

76 
y
 = 
DoubË
.
	`v®ueOf
(
off£tY
 + 
M©h
.
	`sš
(
i
 * 
ªgË
è* 
¿dius
).
	`štV®ue
();

79 
coÜdFÜNodes
.
	`put
(
node
, 
Ãw
 
	`CoÜdš©es
(
x
, 
y
));

80 
node
.
	`£tCoÜdš©e
(
Ãw
 
	`CoÜdš©es
(
x
, 
y
));

81 
i
++;

84 
M­
<
Node
, 
Li¡
<Node>> 
d¿wnLi¡
 = 
Ãw
 
HashM­
<Node, List<Node>>();

88 
EÁry
<
Node
, 
Li¡
<
Edge
>> 
’Œy
 : 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`’ŒyS‘
()) {

90 
CoÜdš©es
 
¡¬tNode
 = 
coÜdFÜNodes
.
	`g‘
(
’Œy
.
	`g‘Key
());

92 
Edge
 
edge
 : 
’Œy
.
	`g‘V®ue
()) {

95 ià(
d¿wnLi¡
.
	`cÚšsKey
(
edge
.
	`g‘Node
()è&& d¿wnLi¡.
	`g‘
Ódge.g‘Node()).
	`cÚšs
(
’Œy
.
	`g‘Key
())) {

99 
CoÜdš©es
 
rg‘Node
 = 
coÜdFÜNodes
.
	`g‘
(
edge
.
	`g‘Node
());

100 
g
.
	`£tCŞÜ
(
CŞÜ
.
RED
);

101 
g
.
	`d¿wLše
(
¡¬tNode
.
	`g‘X
(), s¹Node.
	`g‘Y
(), 
rg‘Node
.getX(),argetNode.getY());

104 ià(
d¿wnLi¡
.
	`cÚšsKey
(
’Œy
.
	`g‘Key
())) {

105 
d¿wnLi¡
.
	`g‘
(
’Œy
.
	`g‘Key
()).
	`add
(
edge
.
	`g‘Node
());

107 
Li¡
<
Node
> 
nodes
 = 
Ãw
 
A¼ayLi¡
<Node>();

108 
nodes
.
	`add
(
edge
.
	`g‘Node
());

109 
d¿wnLi¡
.
	`put
(
’Œy
.
	`g‘Key
(), 
nodes
);

142 
Ïb–X
 = (
¡¬tNode
.
	`g‘X
(è- 
rg‘Node
.getX()) / 2;

143 
Ïb–Y
 = (
¡¬tNode
.
	`g‘Y
(è- 
rg‘Node
.getY()) / 2;

145 
Ïb–X
 *= -1;

146 
Ïb–Y
 *= -1;

148 
Ïb–X
 +ğ
¡¬tNode
.
	`g‘X
();

149 
Ïb–Y
 +ğ
¡¬tNode
.
	`g‘Y
();

156 
EÁry
<
Node
, 
CoÜdš©es
> 
’Œy
 : 
coÜdFÜNodes
.
	`’ŒyS‘
()) {

158 
g
.
	`£tCŞÜ
(
CŞÜ
.
bÏck
);

161 
CoÜdš©es
 
w¿µ”
 = 
’Œy
.
	`g‘V®ue
();

162 
’Œy
.
	`g‘Key
().
	`g‘Ty³
()){

164 
g
.
	`d¿wImage
(
imgHo¡
, 
w¿µ”
.
	`g‘X
(è- 
nodeWidth
 / 2, w¿µ”.
	`g‘Y
(è- 
nodeHeight
 / 2,‚odeWidth,‚odeHeight, 
this
);

167 
g
.
	`d¿wImage
(
imgVm
, 
w¿µ”
.
	`g‘X
(è- 
nodeWidth
 / 2, w¿µ”.
	`g‘Y
(è- 
nodeHeight
 / 2,‚odeWidth,‚odeHeight, 
this
);

171 
g
.
	`d¿wImage
(
imgSw™ch
, 
w¿µ”
.
	`g‘X
(è- 
nodeWidth
 / 2, w¿µ”.
	`g‘Y
(è- 
nodeHeight
 / 2,‚odeWidth,‚odeHeight, 
this
);

186 
JSüŞlPªe
 
süŞlPªe
 = 
Ãw
 
	`JSüŞlPªe
(
ÿnvas
);

192 
	`£tLayout
(
Ãw
 
	`BoxLayout
(
this
, 
BoxLayout
.
PAGE_AXIS
));

193 
	`add
(
süŞlPªe
);

194 
	}
}

196 
´iv©e
 
	$d¿wA¼ow
(
G¿phics
 
g1
, 
x1
, 
y1
, 
x2
, 
y2
) {

197 
G¿phics2D
 
g
 = (G¿phics2Dè
g1
.
	`ü—‹
();

199 
dx
 = 
x2
 - 
x1
, 
dy
 = 
y2
 - 
y1
;

200 
ªgË
 = 
M©h
.
	`©ª2
(
dy
, 
dx
);

201 
Ën
 = (è
M©h
.
	`sq¹
(
dx
 * dx + 
dy
 * dy);

202 
AffšeT¿nsfÜm
 
©
 = AffšeT¿nsfÜm.
	`g‘T¿n¦©eIn¡ªû
(
x1
, 
y1
);

203 
©
.
	`cÚÿ‹Ç‹
(
AffšeT¿nsfÜm
.
	`g‘RÙ©eIn¡ªû
(
ªgË
));

204 
g
.
	`ŒªsfÜm
(
©
);

208 
g
.
	`flPŞygÚ
(
Ãw
 [] { 
Ën
,†’ - 
ARR_SIZE
,†en - ARR_SIZE,†en },‚ew [] { 0, -ARR_SIZE, ARR_SIZE, 0 }, 4);

209 
	}
}

211 
public
 
	$£tG¿ph
(
G¿ph
 
ÃwG¿ph
){

212 
this
.
g¿ph
 = 
ÃwG¿ph
;

220 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/core/HostNode.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
;

7 
public
 cÏs 
	cHo¡Node
 
ex‹nds
 
	mNode
 {

8 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -8635044061126993668L;

10 
´iv©e
 
	m³s
;

11 
´iv©e
 
	mms
;

12 
´iv©e
 
	m¿m
;

13 
´iv©e
 
	m¡Üage
;

14 
´iv©e
 
	mbw
;

17 
public
 
	$Ho¡Node
() {

20 
public
 
	$Ho¡Node
(
SŒšg
 
Çme
, SŒšg 
ty³
, 
³s
, 
ms
, 
¿m
, 
¡Üage
, 
bw
) {

21 
	`su³r
(
Çme
, 
ty³
);

22 
this
.
³s
 =…es;

23 
this
.
ms
 = mips;

24 
this
.
¿m
 =„am;

25 
this
.
¡Üage
 = storage;

26 
this
.
bw
 = bw;

27 
	}
}

29 
public
 
	$£tPes
(
³s
) {

30 
this
.
³s
 =…es;

31 
	}
}

33 
public
 
	$g‘Pes
() {

34  
³s
;

35 
	}
}

37 
public
 
	$£tMs
(
ms
) {

38 
this
.
ms
 = mips;

39 
	}
}

41 
public
 
	$g‘Ms
() {

42  
ms
;

43 
	}
}

45 
public
 
	$£tRam
(
¿m
) {

46 
this
.
¿m
 =„am;

47 
	}
}

49 
public
 
	$g‘Ram
() {

50  
¿m
;

51 
	}
}

53 
public
 
	$£tStÜage
(
¡Üage
) {

54 
this
.
¡Üage
 = storage;

55 
	}
}

57 
public
 
	$g‘StÜage
() {

58  
¡Üage
;

59 
	}
}

61 
public
 
	$£tBw
(
bw
) {

62 
this
.
bw
 = bw;

63 
	}
}

65 
public
 
	$g‘Bw
() {

66  
bw
;

67 
	}
}

69 @
Ov”ride


70 
public
 
SŒšg
 
	$toSŒšg
() {

71  "Nod[³s=" + 
³s
 + " ms=" + 
ms
 + "„am=" + 
¿m
 + " stÜage=" + 
¡Üage
 + " bw=" + 
bw
 + "]";

72 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/core/Node.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gio
.
	gS”ŸlizabË
;

5 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gCoÜdš©es
;

11 
public
 cÏs 
	cNode
 
im¶em’ts
 
	mS”ŸlizabË
 {

12 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 823544330517091616L;

14 
´iv©e
 
CoÜdš©es
 
	mcoÜd
;

15 
´iv©e
 
SŒšg
 
	mÇme
;

16 
´iv©e
 
SŒšg
 
	mty³
;

18 
public
 
	$Node
() {

21 
public
 
	$Node
(
SŒšg
 
Çme
, SŒšg 
ty³
) {

22 
this
.
Çme
 =‚ame;

23 
this
.
ty³
 =ype;

24 
coÜd
 = 
Ãw
 
	`CoÜdš©es
();

25 
	}
}

27 
public
 
	$£tName
(
SŒšg
 
Çme
) {

28 
this
.
Çme
 =‚ame;

29 
	}
}

31 
public
 
SŒšg
 
	$g‘Name
() {

32  
Çme
;

33 
	}
}

35 
public
 
	$£tTy³
(
SŒšg
 
ty³
) {

36 
this
.
ty³
 =ype;

37 
	}
}

39 
public
 
SŒšg
 
	$g‘Ty³
() {

40  
ty³
;

41 
	}
}

43 
public
 
	$£tCoÜdš©e
(
CoÜdš©es
 
coÜd
) {

44 
this
.
coÜd
.
	`£tX
(coÜd.
	`g‘X
());

45 
this
.
coÜd
.
	`£tY
(coÜd.
	`g‘Y
());

46 
	}
}

48 
public
 
CoÜdš©es
 
	$g‘CoÜdš©e
() {

49  
coÜd
;

50 
	}
}

52 @
Ov”ride


53 
public
 
	$hashCode
() {

54 
fš®
 
´ime
 = 31;

55 
»suÉ
 = 1;

56 
»suÉ
 = 
´ime
 *„esuÉ + ((
Çme
 =ğ
nuÎ
è? 0 :‚ame.
	`hashCode
());

57  
»suÉ
;

58 
	}
}

60 @
Ov”ride


61 
public
 
boŞ—n
 
	$equ®s
(
Objeù
 
obj
) {

62 ià(
this
 =ğ
obj
)

63  
Œue
;

64 ià(
obj
 =ğ
nuÎ
)

65  
çl£
;

66 ià(
	`g‘CÏss
(è!ğ
obj
.getClass())

67  
çl£
;

68 
Node
 
Ùh”
 = (Nodeè
obj
;

69 ià(
Çme
 =ğ
nuÎ
) {

70 ià(
Ùh”
.
Çme
 !ğ
nuÎ
)

71  
çl£
;

72 } ià(!
Çme
.
	`equ®s
(
Ùh”
.name))

73  
çl£
;

74  
Œue
;

75 
	}
}

77 @
Ov”ride


78 
public
 
SŒšg
 
	$toSŒšg
() {

79  "Nod[Çme=" + 
Çme
 + "y³=" + 
ty³
 + "]";

80 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/core/NodeCellRenderer.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gawt
.
	gCompÚ’t
;

5 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

6 
impÜt
 
	gjavax
.
	gswšg
.
	gJLi¡
;

7 
impÜt
 
	gjavax
.
	gswšg
.
	gLi¡C–lR’d””
;

10 @
Suµ»ssW¬nšgs
("rawtypes")

11 
public
 cÏs 
	cNodeC–lR’d””
 
ex‹nds
 
JLab–
 
im¶em’ts
 
	mLi¡C–lR’d””
 {

12 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 6021697923766790099L;

14 @
Ov”ride


15 
public
 
CompÚ’t
 
	$g‘Li¡C–lR’d””CompÚ’t
(
JLi¡
 
li¡
, 
Objeù
 
v®ue
, 
šdex
, 
boŞ—n
 
isS–eùed
, boŞ—À
ûÎHasFocus
) {

17 
Node
 
node
 = (Nodeè
v®ue
;

18 
JLab–
 
Ïb–
 = 
Ãw
 
	`JLab–
();

20 ià(
node
 !ğ
nuÎ
 &&‚ode.
	`g‘Name
() !=‚ull) {

21 
Ïb–
.
	`£tText
(
node
.
	`g‘Name
());

24  
Ïb–
;

27 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/core/SpringUtilities.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
;

3 
impÜt
 
	gjavax
.
	gswšg
.*;

4 
impÜt
 
	gjavax
.
	gswšg
.
	gS´šgLayout
;

5 
impÜt
 
	gjava
.
	gawt
.*;

13 
public
 cÏs 
	cS´šgUt™›s
 {

18 
public
 
	$´štSizes
(
CompÚ’t
 
c
) {

19 
Sy¡em
.
out
.
	`´šn
("mšimumSizğ" + 
c
.
	`g‘MšimumSize
());

20 
Sy¡em
.
out
.
	`´šn
("´eã¼edSizğ" + 
c
.
	`g‘P»ã¼edSize
());

21 
Sy¡em
.
out
.
	`´šn
("maximumSizğ" + 
c
.
	`g‘MaximumSize
());

38 
public
 
	$makeGrid
(
CÚš”
 
·»Á
,

39 
rows
, 
cŞs
,

40 
š™ŸlX
, 
š™ŸlY
,

41 
xPad
, 
yPad
) {

42 
S´šgLayout
 
Ïyout
;

43 
Œy
 {

44 
Ïyout
 = (
S´šgLayout
)
·»Á
.
	`g‘Layout
();

45 } 
	`ÿtch
 (
CÏssCa¡Exû±iÚ
 
exc
) {

46 
Sy¡em
.
”r
.
	`´šn
("The first‡rgumento makeGrid must use SpringLayout.");

50 
S´šg
 
xPadS´šg
 = S´šg.
	`cÚ¡ªt
(
xPad
);

51 
S´šg
 
yPadS´šg
 = S´šg.
	`cÚ¡ªt
(
yPad
);

52 
S´šg
 
š™ŸlXS´šg
 = S´šg.
	`cÚ¡ªt
(
š™ŸlX
);

53 
S´šg
 
š™ŸlYS´šg
 = S´šg.
	`cÚ¡ªt
(
š™ŸlY
);

54 
max
 = 
rows
 * 
cŞs
;

58 
S´šg
 
maxWidthS´šg
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(
·»Á
.
	`g‘CompÚ’t
(0)).

59 
	`g‘Width
();

60 
S´šg
 
maxHeightS´šg
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(
·»Á
.
	`g‘CompÚ’t
(0)).

61 
	`g‘Height
();

62 
i
 = 1; i < 
max
; i++) {

63 
S´šgLayout
.
CÚ¡¿šts
 
cÚs
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(

64 
·»Á
.
	`g‘CompÚ’t
(
i
));

66 
maxWidthS´šg
 = 
S´šg
.
	`max
(maxWidthS´šg, 
cÚs
.
	`g‘Width
());

67 
maxHeightS´šg
 = 
S´šg
.
	`max
(maxHeightS´šg, 
cÚs
.
	`g‘Height
());

72 
i
 = 0; i < 
max
; i++) {

73 
S´šgLayout
.
CÚ¡¿šts
 
cÚs
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(

74 
·»Á
.
	`g‘CompÚ’t
(
i
));

76 
cÚs
.
	`£tWidth
(
maxWidthS´šg
);

77 
cÚs
.
	`£tHeight
(
maxHeightS´šg
);

82 
S´šgLayout
.
CÚ¡¿šts
 
Ï¡CÚs
 = 
nuÎ
;

83 
S´šgLayout
.
CÚ¡¿šts
 
Ï¡RowCÚs
 = 
nuÎ
;

84 
i
 = 0; i < 
max
; i++) {

85 
S´šgLayout
.
CÚ¡¿šts
 
cÚs
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(

86 
·»Á
.
	`g‘CompÚ’t
(
i
));

87 ià(
i
 % 
cŞs
 == 0) {

88 
Ï¡RowCÚs
 = 
Ï¡CÚs
;

89 
cÚs
.
	`£tX
(
š™ŸlXS´šg
);

91 
cÚs
.
	`£tX
(
S´šg
.
	`sum
(
Ï¡CÚs
.
	`g‘CÚ¡¿št
(
S´šgLayout
.
EAST
),

92 
xPadS´šg
));

95 ià(
i
 / 
cŞs
 == 0) {

96 
cÚs
.
	`£tY
(
š™ŸlYS´šg
);

98 
cÚs
.
	`£tY
(
S´šg
.
	`sum
(
Ï¡RowCÚs
.
	`g‘CÚ¡¿št
(
S´šgLayout
.
SOUTH
),

99 
yPadS´šg
));

101 
Ï¡CÚs
 = 
cÚs
;

105 
S´šgLayout
.
CÚ¡¿šts
 
pCÚs
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(
·»Á
);

106 
pCÚs
.
	`£tCÚ¡¿št
(
S´šgLayout
.
SOUTH
,

107 
S´šg
.
	`sum
(

108 
S´šg
.
	`cÚ¡ªt
(
yPad
),

109 
Ï¡CÚs
.
	`g‘CÚ¡¿št
(
S´šgLayout
.
SOUTH
)));

110 
pCÚs
.
	`£tCÚ¡¿št
(
S´šgLayout
.
EAST
,

111 
S´šg
.
	`sum
(

112 
S´šg
.
	`cÚ¡ªt
(
xPad
),

113 
Ï¡CÚs
.
	`g‘CÚ¡¿št
(
S´šgLayout
.
EAST
)));

114 
	}
}

117 
´iv©e
 
	gS´šgLayout
.
CÚ¡¿šts
 
	$g‘CÚ¡¿štsFÜC–l
(

118 
row
, 
cŞ
,

119 
CÚš”
 
·»Á
,

120 
cŞs
) {

121 
S´šgLayout
 
Ïyout
 = (S´šgLayoutè
·»Á
.
	`g‘Layout
();

122 
CompÚ’t
 
c
 = 
·»Á
.
	`g‘CompÚ’t
(
row
 * 
cŞs
 + 
cŞ
);

123  
Ïyout
.
	`g‘CÚ¡¿šts
(
c
);

124 
	}
}

141 
public
 
	$makeCom·ùGrid
(
CÚš”
 
·»Á
,

142 
rows
, 
cŞs
,

143 
š™ŸlX
, 
š™ŸlY
,

144 
xPad
, 
yPad
) {

145 
S´šgLayout
 
Ïyout
;

146 
Œy
 {

147 
Ïyout
 = (
S´šgLayout
)
·»Á
.
	`g‘Layout
();

148 } 
	`ÿtch
 (
CÏssCa¡Exû±iÚ
 
exc
) {

149 
Sy¡em
.
”r
.
	`´šn
("The first‡rgumento makeCompactGrid must use SpringLayout.");

154 
S´šg
 
x
 = S´šg.
	`cÚ¡ªt
(
š™ŸlX
);

155 
c
 = 0; c < 
cŞs
; c++) {

156 
S´šg
 
width
 = S´šg.
	`cÚ¡ªt
(0);

157 
r
 = 0;„ < 
rows
;„++) {

158 
width
 = 
S´šg
.
	`max
(width,

159 
	`g‘CÚ¡¿štsFÜC–l
(
r
, 
c
, 
·»Á
, 
cŞs
).

160 
	`g‘Width
());

162 
r
 = 0;„ < 
rows
;„++) {

163 
S´šgLayout
.
CÚ¡¿šts
 
cÚ¡¿šts
 =

164 
	`g‘CÚ¡¿štsFÜC–l
(
r
, 
c
, 
·»Á
, 
cŞs
);

165 
cÚ¡¿šts
.
	`£tX
(
x
);

166 
cÚ¡¿šts
.
	`£tWidth
(
width
);

168 
x
 = 
S´šg
.
	`sum
(x, S´šg.sum(
width
, S´šg.
	`cÚ¡ªt
(
xPad
)));

172 
S´šg
 
y
 = S´šg.
	`cÚ¡ªt
(
š™ŸlY
);

173 
r
 = 0;„ < 
rows
;„++) {

174 
S´šg
 
height
 = S´šg.
	`cÚ¡ªt
(0);

175 
c
 = 0; c < 
cŞs
; c++) {

176 
height
 = 
S´šg
.
	`max
(height,

177 
	`g‘CÚ¡¿štsFÜC–l
(
r
, 
c
, 
·»Á
, 
cŞs
).

178 
	`g‘Height
());

180 
c
 = 0; c < 
cŞs
; c++) {

181 
S´šgLayout
.
CÚ¡¿šts
 
cÚ¡¿šts
 =

182 
	`g‘CÚ¡¿štsFÜC–l
(
r
, 
c
, 
·»Á
, 
cŞs
);

183 
cÚ¡¿šts
.
	`£tY
(
y
);

184 
cÚ¡¿šts
.
	`£tHeight
(
height
);

186 
y
 = 
S´šg
.
	`sum
(y, S´šg.sum(
height
, S´šg.
	`cÚ¡ªt
(
yPad
)));

190 
S´šgLayout
.
CÚ¡¿šts
 
pCÚs
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(
·»Á
);

191 
pCÚs
.
	`£tCÚ¡¿št
(
S´šgLayout
.
SOUTH
, 
y
);

192 
pCÚs
.
	`£tCÚ¡¿št
(
S´šgLayout
.
EAST
, 
x
);

193 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/core/SwitchNode.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
;

7 
public
 cÏs 
	cSw™chNode
 
ex‹nds
 
	mNode
 {

8 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 804858850147477656L;

10 
´iv©e
 
	miİs
;

11 
´iv©e
 
	muµÜts
;

12 
´iv©e
 
	mdowÅÜts
;

13 
´iv©e
 
	mbw
;

16 
public
 
	$Sw™chNode
() {

19 
public
 
	$Sw™chNode
(
SŒšg
 
Çme
, SŒšg 
ty³
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
bw
) {

20 
	`su³r
(
Çme
, 
ty³
);

21 
this
.
iİs
 = iops;

22 
this
.
uµÜts
 = upports;

23 
this
.
dowÅÜts
 = downports;

24 
this
.
bw
 = bw;

25 
	}
}

27 
public
 
	$£tIİs
(
iİs
) {

28 
this
.
iİs
 = iops;

29 
	}
}

31 
public
 
	$g‘Iİs
() {

32  
iİs
;

33 
	}
}

35 
public
 
	$£tUµÜts
(
uµÜts
) {

36 
this
.
uµÜts
 = upports;

37 
	}
}

39 
public
 
	$g‘UµÜts
() {

40  
uµÜts
;

41 
	}
}

42 
public
 
	$£tDowÅÜts
(
dowÅÜts
) {

43 
this
.
dowÅÜts
 = downports;

44 
	}
}

46 
public
 
	$g‘DowÅÜts
() {

47  
dowÅÜts
;

48 
	}
}

49 
public
 
	$£tBw
(
bw
) {

50 
this
.
bw
 = bw;

51 
	}
}

53 
public
 
	$g‘Bw
() {

54  
bw
;

55 
	}
}

57 @
Ov”ride


58 
public
 
SŒšg
 
	$toSŒšg
() {

59  "Nod[iİs=" + 
iİs
 + " uµÜts=" + 
uµÜts
 + " dowÅÜts=" + 
dowÅÜts
 + " bw=" + 
bw
 + "]";

60 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/core/VmNode.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
;

7 
public
 cÏs 
	cVmNode
 
ex‹nds
 
	mNode
 {

8 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 804858850147477656L;

10 
´iv©e
 
	msize
;

11 
´iv©e
 
	m³s
;

12 
´iv©e
 
	mms
;

13 
´iv©e
 
	m¿m
;

16 
public
 
	$VmNode
() {

19 
public
 
	$VmNode
(
SŒšg
 
Çme
, SŒšg 
ty³
, 
size
, 
³s
, 
ms
, 
¿m
) {

20 
	`su³r
(
Çme
, 
ty³
);

21 
this
.
size
 = size;

22 
this
.
³s
 =…es;

23 
this
.
ms
 = mips;

24 
this
.
¿m
 =„am;

25 
	}
}

27 
public
 
	$£tSize
(
size
) {

28 
this
.
size
 = size;

29 
	}
}

31 
public
 
	$g‘Size
() {

32  
size
;

33 
	}
}

35 
public
 
	$£tPes
(
³s
) {

36 
this
.
³s
 =…es;

37 
	}
}

39 
public
 
	$g‘Pes
() {

40  
³s
;

41 
	}
}

42 
public
 
	$£tMs
(
ms
) {

43 
this
.
ms
 = mips;

44 
	}
}

46 
public
 
	$g‘Ms
() {

47  
ms
;

48 
	}
}

49 
public
 
	$£tRam
(
¿m
) {

50 
this
.
¿m
 =„am;

51 
	}
}

53 
public
 
	$g‘Ram
() {

54  
¿m
;

55 
	}
}

57 @
Ov”ride


58 
public
 
SŒšg
 
	$toSŒšg
() {

59  "Nod[size=" + 
size
 + "…es=" + 
³s
 + " ms=" + 
ms
 + "„am=" + 
¿m
 + "]";

60 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/dialog/About.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

4 
impÜt
 
	gjava
.
	gawt
.
	gFÚt
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

8 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

9 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

10 
impÜt
 
	gjavax
.
	gswšg
.
	gImageIcÚ
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

15 @
Suµ»ssW¬nšgs
("serial")

16 şas 
	cAbout
 
ex‹nds
 
	mJDŸlog
 {

18 
public
 
	$About
() {

19 
	`š™UI
();

22 
public
 
fš®
 
	$š™UI
() {

24 
	`£tLayout
(
Ãw
 
	`BoxLayout
(
	`g‘CÚ‹ÁPªe
(), 
BoxLayout
.
Y_AXIS
));

26 
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(0, 10)));

28 
ImageIcÚ
 
icÚ
 = 
Ãw
 
	`ImageIcÚ
("src/logo.png");

29 
JLab–
 
Ïb–
 = 
Ãw
 
	`JLab–
(
icÚ
);

30 
Ïb–
.
	`£tAlignm’tX
(0.5f);

31 
	`add
(
Ïb–
);

33 
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(0, 10)));

35 
JLab–
 
Çme
 = 
Ãw
 
	`JLab–
("CloudSim SDN, 1.00");

36 
Çme
.
	`£tFÚt
(
Ãw
 
	`FÚt
("S”if", 
FÚt
.
BOLD
, 15));

37 
Çme
.
	`£tAlignm’tX
(0.5f);

38 
	`add
(
Çme
);

40 
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(0, 50)));

42 
JBu‰Ú
 
şo£
 = 
Ãw
 
	`JBu‰Ú
("Close");

43 
şo£
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

44 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

45 
	`di¥o£
();

49 
şo£
.
	`£tAlignm’tX
(0.5f);

50 
	`add
(
şo£
);

52 
	`£tMod®™yTy³
(
Mod®™yTy³
.
APPLICATION_MODAL
);

54 
	`£tT™Ë
("About CloudSim");

55 
	`£tDeçuÉClo£O³¿tiÚ
(
DISPOSE_ON_CLOSE
);

56 
	`£tLoÿtiÚR–©iveTo
(
nuÎ
);

57 
	`£tSize
(350, 300);

58 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/dialog/AddPhysicalEdge.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gCompÚ’t
;

5 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

6 
impÜt
 
	gjava
.
	gawt
.
	gLab–
;

7 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

8 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

9 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mEv’t
;

10 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mLi¡’”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gComboBoxMod–
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gDeçuÉComboBoxMod–
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gJComboBox
;

23 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

24 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

25 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

26 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

27 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

28 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

30 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gEdge
;

31 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gG¿ph
;

32 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gNode
;

33 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gNodeC–lR’d””
;

36 
public
 cÏs 
	cAddPhysiÿlEdge
 
ex‹nds
 
	mJDŸlog
 {

37 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 4794808969864918000L;

39 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

40 
´iv©e
 
JComboBox
 
	msourûNode
;

41 
´iv©e
 
JComboBox
 
	mrg‘Node
;

42 
´iv©e
 
JTextF›ld
 
	mtfL©’cy
;

45 
public
 
	$AddPhysiÿlEdge
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

47 
this
.
g¿ph
 = graph;

49 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

51 
	`add
(
	`ü—‹IÅutPª–
(), 
BÜd”Layout
.
CENTER
);

52 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

54 
	`£tT™Ë
("Add Physical Topologyƒdge");

55 
	`£tMod®
(
Œue
);

56 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(400, 200));

57 
	`£tResizabË
(
çl£
);

58 
	`·ck
();

59 
	`£tLoÿtiÚR–©iveTo
(
äame
);

60 
	`£tVisibË
(
Œue
);

63 @
	`Suµ»ssW¬nšgs
("unchecked")

64 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–
() {

66 
CompÚ’t
 
rigid
 = 
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0));

68 
JPª–
 
šputPª–W¿µ”
 = 
Ãw
 
	`JPª–
();

69 
šputPª–W¿µ”
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(šputPª–W¿µ”, 
BoxLayout
.
PAGE_AXIS
));

71 
JPª–
 
šputPª–
 = 
Ãw
 
	`JPª–
();

72 
šputPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(šputPª–, 
BoxLayout
.
LINE_AXIS
));

74 
JPª–
 
‹xtA»aPª–
 = 
Ãw
 
	`JPª–
();

75 
‹xtA»aPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
ÑextA»aPª–, 
BoxLayout
.
LINE_AXIS
));

77 
ComboBoxMod–
 
sourûNodeMod–
 = 
Ãw
 
	`DeçuÉComboBoxMod–
(
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
().
	`toA¼ay
());

79 
sourûNodeMod–
.
	`£tS–eùedI‹m
(
nuÎ
);

81 
sourûNode
 = 
Ãw
 
	`JComboBox
(
sourûNodeMod–
);

82 
rg‘Node
 = 
Ãw
 
	`JComboBox
();

83 
sourûNode
.
	`£tMaximumSize
(sourûNode.
	`g‘P»ã¼edSize
());

84 
sourûNode
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150, sourûNode.
	`g‘P»ã¼edSize
().
height
));

85 
sourûNode
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150, sourûNode.
	`g‘P»ã¼edSize
().
height
));

86 
rg‘Node
.
	`£tMaximumSize
Ñ¬g‘Node.
	`g‘P»ã¼edSize
());

87 
rg‘Node
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150,¬g‘Node.
	`g‘P»ã¼edSize
().
height
));

88 
rg‘Node
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150,¬g‘Node.
	`g‘P»ã¼edSize
().
height
));

90 
NodeC–lR’d””
 
»nd””
 = 
Ãw
 
	`NodeC–lR’d””
();

92 
sourûNode
.
	`£tR’d””
(
»nd””
);

93 
rg‘Node
.
	`£tR’d””
(
»nd””
);

95 
sourûNode
.
	`addI‹mLi¡’”
(
Ãw
 
	`I‹mLi¡’”
() {

97 @
Ov”ride


98 
public
 
	`™emS‹Chªged
(
I‹mEv’t
 
e
) {

101 
rg‘Node
.
	`»moveAÎI‹ms
();

102 
Node
 
£ËùedNode
 = (Nodeè
sourûNode
.
	`g‘S–eùedI‹m
();

104 ià(
£ËùedNode
 !ğ
nuÎ
) {

106 
Li¡
<
Node
> 
nodesToDi¥Ïy
 = 
Ãw
 
A¼ayLi¡
<Node>();

107 
S‘
<
Node
> 
®lNodes
 = 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
();

110 
Li¡
<
Edge
> 
edgesFÜS–eùedNode
 = 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`g‘
(
£ËùedNode
);

111 
S‘
<
Node
> 
nodesInEdges
 = 
Ãw
 
HashS‘
<Node>();

112 
Edge
 
edge
 : 
edgesFÜS–eùedNode
) {

113 
nodesInEdges
.
	`add
(
edge
.
	`g‘Node
());

116 
Node
 
node
 : 
®lNodes
) {

117 ià(!
node
.
	`equ®s
(
£ËùedNode
è&& !
nodesInEdges
.
	`cÚšs
(node)) {

118 
nodesToDi¥Ïy
.
	`add
(
node
);

122 
ComboBoxMod–
 
rg‘NodeMod–
 = 
Ãw
 
	`DeçuÉComboBoxMod–
(
nodesToDi¥Ïy
.
	`toA¼ay
());

123 
rg‘Node
.
	`£tMod–
(
rg‘NodeMod–
);

128 
šputPª–
.
	`add
(
sourûNode
);

129 
šputPª–
.
	`add
(
Ãw
 
	`Lab–
(" ¡ª"));

130 
šputPª–
.
	`add
(
rg‘Node
);

131 
šputPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

132 
šputPª–W¿µ”
.
	`add
(
šputPª–
);

134 
‹xtA»aPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

135 
‹xtA»aPª–
.
	`add
(
Ãw
 
	`JLab–
("Latency: "));

136 
tfL©’cy
 = 
Ãw
 
	`JTextF›ld
();

137 
tfL©’cy
.
	`£tMaximumSize
ÑfL©’cy.
	`g‘P»ã¼edSize
());

138 
tfL©’cy
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150,fL©’cy.
	`g‘P»ã¼edSize
().
height
));

139 
tfL©’cy
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150,fL©’cy.
	`g‘P»ã¼edSize
().
height
));

141 
‹xtA»aPª–
.
	`add
(
tfL©’cy
);

142 
‹xtA»aPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

144 
šputPª–W¿µ”
.
	`add
(
‹xtA»aPª–
);

145 
šputPª–W¿µ”
.
	`add
(
Box
.
	`ü—‹V”tiÿlGlue
());

147 
šputPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(10, 10, 10, 10));

149  
šputPª–W¿µ”
;

150 
	}
}

152 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

154 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

155 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

157 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

158 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

160 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

161 @
Ov”ride


162 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

163 
	`£tVisibË
(
çl£
);

167 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

168 @
Ov”ride


169 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

171 
Ï‹ncy
 = 0;

172 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

174 ià(
tfL©’cy
.
	`g‘Text
(è=ğ
nuÎ
 ||fL©’cy.g‘Text().
	`isEm±y
()) {

175 
ÿtchedE¼Ü
 = 
Œue
;

176 
	`´om±
("Pleaseype†atency", "Error");

178 
Œy
 {

179 
Ï‹ncy
 = 
DoubË
.
	`v®ueOf
(
tfL©’cy
.
	`g‘Text
());

180 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

181 
ÿtchedE¼Ü
 = 
Œue
;

182 
	`´om±
("Latency should be doubleype", "Error");

186 ià(!
ÿtchedE¼Ü
) {

187 ià(
sourûNode
.
	`g‘S–eùedI‹m
(è=ğ
nuÎ
 || 
rg‘Node
.getSelectedItem() ==‚ull) {

188 
	`´om±
("Please select‚ode", "Error");

191 
Node
 
sourû
 = (Nodeè
sourûNode
.
	`g‘S–eùedI‹m
();

192 
Node
 
rg‘
 = (Nodeè
rg‘Node
.
	`g‘S–eùedI‹m
();

194 
Edge
 
edge
 = 
Ãw
 
	`Edge
(
rg‘
, 
Ï‹ncy
);

195 
g¿ph
.
	`addEdge
(
sourû
, 
edge
);

197 
	`£tVisibË
(
çl£
);

204 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

205 
bu‰ÚPª–
.
	`add
(
okBŠ
);

206 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

207 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

208 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(10, 10, 10, 10));

210  
bu‰ÚPª–
;

211 
	}
}

213 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

214 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddPhysiÿlEdge
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

215 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/dialog/AddPhysicalNode.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

7 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mEv’t
;

8 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mLi¡’”
;

10 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gJComboBox
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gS´šgLayout
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gUIMªag”
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gG¿ph
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gNode
;

26 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gS´šgUt™›s
;

27 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gSw™chNode
;

28 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gHo¡Node
;

30 @
Suµ»ssW¬nšgs
({ "rawtypes", "unchecked" })

31 
public
 cÏs 
	cAddPhysiÿlNode
 
ex‹nds
 
	mJDŸlog
 {

32 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -5116677861770319577L;

34 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

36 
´iv©e
 
JLab–
 
	mlName
;

37 
´iv©e
 
JLab–
 
	mlTy³
;

38 
´iv©e
 
JLab–
 
	mlBw
;

39 
´iv©e
 
JLab–
 
	mlİ1
;

40 
´iv©e
 
JLab–
 
	mlİ2
;

41 
´iv©e
 
JLab–
 
	mlİ3
;

42 
´iv©e
 
JLab–
 
	mlİ4
;

44 
´iv©e
 
JTextF›ld
 
	mtfName
;

45 
´iv©e
 
JComboBox
 
	mcTy³
;

46 
´iv©e
 
JTextF›ld
 
	mtfBw
;

47 
´iv©e
 
JTextF›ld
 
	mtİ1
;

48 
´iv©e
 
JTextF›ld
 
	mtİ2
;

49 
´iv©e
 
JTextF›ld
 
	mtİ3
;

50 
´iv©e
 
JTextF›ld
 
	mtİ4
;

53 
public
 
	$AddPhysiÿlNode
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

54 
this
.
g¿ph
 = graph;

56 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

58 
	`add
(
	`ü—‹IÅutPª–A»a
(), 
BÜd”Layout
.
CENTER
);

59 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

61 
	`£tT™Ë
("Add Physical Node");

62 
	`£tMod®
(
Œue
);

63 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(350, 380));

64 
	`£tResizabË
(
çl£
);

65 
	`·ck
();

66 
	`£tLoÿtiÚR–©iveTo
(
äame
);

67 
	`£tVisibË
(
Œue
);

71 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

73 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

74 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

76 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

77 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

79 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

80 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

81 
	`£tVisibË
(
çl£
);

85 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

86 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

87 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

88 ià(
tfName
.
	`g‘Text
(è=ğ
nuÎ
 ||fName.g‘Text().
	`Ëngth
() < 1) {

89 
	`´om±
("Pleaseype VM‚ame", "Error");

90 } ià(
tfBw
.
	`g‘Text
(è=ğ
nuÎ
 ||fBw.g‘Text().
	`Ëngth
() < 1) {

91 
	`´om±
("Pleaseype VM Bw", "Error");

92 } if(
cTy³
.
	`g‘S–eùedIndex
() < 0) {

93 
	`´om±
("Pleaseype VM Type", "Error");

95 
SŒšg
 
ty³
 = (SŒšg)
cTy³
.
	`g‘S–eùedI‹m
();

96 if("ho¡"==
	`g‘Ty³
(
ty³
)){

97 ià(
tİ1
.
	`g‘Text
(è=ğ
nuÎ
 ||İ1.g‘Text().
	`Ëngth
() < 1) {

98 
	`´om±
("Pleaseype…es", "Error");

99 } ià(
tİ2
.
	`g‘Text
(è=ğ
nuÎ
 ||İ2.g‘Text().
	`Ëngth
() < 1) {

100 
	`´om±
("Pleaseype VM mips", "Error");

101 } ià(
tİ3
.
	`g‘Text
(è=ğ
nuÎ
 ||İ3.g‘Text().
	`Ëngth
() < 1) {

102 
	`´om±
("Pleaseype VM RAM", "Error");

103 } ià(
tİ4
.
	`g‘Text
(è=ğ
nuÎ
 ||İ4.g‘Text().
	`Ëngth
() < 1) {

104 
	`´om±
("Pleaseype VM Storage", "Error");

106 
t1
 = 0;

107 
t2
 = 0;

108 
t3
 = 0;

109 
t4
 = 0;

110 
t5
 = 0;

111 
Œy
 {

112 
t1
 = 
LÚg
.
	`·r£LÚg
(
tİ1
.
	`g‘Text
());

113 
t2
 = 
LÚg
.
	`·r£LÚg
(
tİ2
.
	`g‘Text
());

114 
t3
 = 
IÁeg”
.
	`·r£IÁ
(
tİ3
.
	`g‘Text
());

115 
t4
 = 
LÚg
.
	`·r£LÚg
(
tİ4
.
	`g‘Text
());

116 
t5
 = 
LÚg
.
	`·r£LÚg
(
tfBw
.
	`g‘Text
());

117 
ÿtchedE¼Ü
 = 
çl£
;

118 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

119 
ÿtchedE¼Ü
 = 
Œue
;

120 
	`´om±
("Input should be‚umerical character", "Error");

122 if(!
ÿtchedE¼Ü
){

123 
Node
 
node
 = 
Ãw
 
	`Ho¡Node
(
tfName
.
	`g‘Text
().
	`toSŒšg
(), 
ty³
, 
t1
, 
t2
, 
t3
, 
t4
, 
t5
);

124 
g¿ph
.
	`addNode
(
node
);

125 
	`£tVisibË
(
çl£
);

128 }if("sw™ch"==
	`g‘Ty³
(
ty³
)){

129 ià(
tİ1
.
	`g‘Text
(è=ğ
nuÎ
 ||İ1.g‘Text().
	`Ëngth
() < 1) {

130 
	`´om±
("Pleaseype Iops", "Error");

131 } ià(
tİ2
.
	`g‘Text
(è=ğ
nuÎ
 ||İ2.g‘Text().
	`Ëngth
() < 1) {

132 
	`´om±
("Pleaseype upports", "Error");

133 } ià(
tİ3
.
	`g‘Text
(è=ğ
nuÎ
 ||İ3.g‘Text().
	`Ëngth
() < 1) {

134 
	`´om±
("Pleaseype VM downports", "Error");

136 
t1
 = 0;

137 
t2
 = 0;

138 
t3
 = 0;

139 
t4
 = 0;

140 
Œy
 {

141 
t1
 = 
LÚg
.
	`·r£LÚg
(
tİ1
.
	`g‘Text
());

142 
t2
 = 
IÁeg”
.
	`·r£IÁ
(
tİ2
.
	`g‘Text
());

143 
t3
 = 
IÁeg”
.
	`·r£IÁ
(
tİ3
.
	`g‘Text
());

144 
t4
 = 
LÚg
.
	`·r£LÚg
(
tfBw
.
	`g‘Text
());

145 
ÿtchedE¼Ü
 = 
çl£
;

146 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

147 
ÿtchedE¼Ü
 = 
Œue
;

148 
	`´om±
("Input should be‚umerical character", "Error");

150 if(!
ÿtchedE¼Ü
){

151 
Node
 
node
 = 
Ãw
 
	`Sw™chNode
(
tfName
.
	`g‘Text
().
	`toSŒšg
(), 
ty³
, 
t1
, 
t2
, 
t3
, 
t4
);

152 
g¿ph
.
	`addNode
(
node
);

153 
	`£tVisibË
(
çl£
);

161 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

162 
bu‰ÚPª–
.
	`add
(
okBŠ
);

163 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

164 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

165 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

167  
bu‰ÚPª–
;

168 
	}
}

170 
´iv©e
 
	$upd©ePª–
(
SŒšg
 
ty³
){

171 
ty³
){

174 
lİ1
.
	`£tText
("Iops: ");

175 
lİ2
.
	`£tText
("Upports: ");

176 
lİ3
.
	`£tText
("Downports: ");

177 
lİ4
.
	`£tVisibË
(
çl£
);

179 
tİ1
.
	`£tText
("");

180 
tİ2
.
	`£tText
("");

181 
tİ3
.
	`£tText
("");

182 
tİ4
.
	`£tVisibË
(
çl£
);

186 
lİ1
.
	`£tText
("Pes: ");

187 
lİ2
.
	`£tText
("Mips: ");

188 
lİ3
.
	`£tText
("Ram: ");

189 
lİ4
.
	`£tVisibË
(
Œue
);

190 
lİ4
.
	`£tText
("Storage: ");

192 
tİ1
.
	`£tText
("");

193 
tİ2
.
	`£tText
("");

194 
tİ3
.
	`£tText
("");

195 
tİ4
.
	`£tVisibË
(
Œue
);

196 
tİ4
.
	`£tText
("");

199 
	}
}

200 
´iv©e
 
SŒšg
 
	$g‘Ty³
(
SŒšg
 
ty³
){

201 if("cÜe"==
ty³
 || "edge"==type){

203 } if("ho¡"==
ty³
){

207 
	}
}

208 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–A»a
() {

209 
SŒšg
[] 
vmTy³
 = {"core","edge","host"};

212 
JPª–
 
¥ršgPª–
 = 
Ãw
 
	`JPª–
Òew 
	`S´šgLayout
());

213 
¥ršgPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

215 
lName
 = 
Ãw
 
	`JLab–
("Name: ");

216 
¥ršgPª–
.
	`add
(
lName
);

217 
tfName
 = 
Ãw
 
	`JTextF›ld
();

218 
lName
.
	`£tLab–FÜ
(
tfName
);

219 
¥ršgPª–
.
	`add
(
tfName
);

221 
lTy³
 = 
Ãw
 
	`JLab–
("Type: ");

222 
¥ršgPª–
.
	`add
(
lTy³
);

223 
cTy³
 = 
Ãw
 
	`JComboBox
(
vmTy³
);

224 
lTy³
.
	`£tLab–FÜ
(
cTy³
);

225 
cTy³
.
	`£tS–eùedIndex
(0);

226 
cTy³
.
	`addI‹mLi¡’”
(
Ãw
 
	`I‹mLi¡’”
() {

227 @
Ov”ride


228 
public
 
	`™emS‹Chªged
(
I‹mEv’t
 
e
) {

229 
JComboBox
 
ùy³
 = (JComboBox)
e
.
	`g‘Sourû
();

230 
SŒšg
 
™em
 = (SŒšg)
ùy³
.
	`g‘S–eùedI‹m
();

231 
	`upd©ePª–
(
™em
);

234 
¥ršgPª–
.
	`add
(
cTy³
);

236 
lBw
 = 
Ãw
 
	`JLab–
("Bw: ");

237 
¥ršgPª–
.
	`add
(
lBw
);

238 
tfBw
 = 
Ãw
 
	`JTextF›ld
();

239 
lBw
.
	`£tLab–FÜ
(
tfBw
);

240 
¥ršgPª–
.
	`add
(
tfBw
);

243 
lİ1
 = 
Ãw
 
	`JLab–
("Pes: ");

244 
¥ršgPª–
.
	`add
(
lİ1
);

245 
tİ1
 = 
Ãw
 
	`JTextF›ld
();

246 
lİ1
.
	`£tLab–FÜ
(
tİ1
);

247 
¥ršgPª–
.
	`add
(
tİ1
);

249 
lİ2
 = 
Ãw
 
	`JLab–
("Mips: ");

250 
¥ršgPª–
.
	`add
(
lİ2
);

251 
tİ2
 = 
Ãw
 
	`JTextF›ld
();

252 
lİ2
.
	`£tLab–FÜ
(
tİ2
);

253 
¥ršgPª–
.
	`add
(
tİ2
);

255 
lİ3
 = 
Ãw
 
	`JLab–
("Ram: ");

256 
¥ršgPª–
.
	`add
(
lİ3
);

257 
tİ3
 = 
Ãw
 
	`JTextF›ld
();

258 
lİ3
.
	`£tLab–FÜ
(
tİ3
);

259 
¥ršgPª–
.
	`add
(
tİ3
);

261 
lİ4
 = 
Ãw
 
	`JLab–
("Storage: ");

262 
¥ršgPª–
.
	`add
(
lİ4
);

263 
tİ4
 = 
Ãw
 
	`JTextF›ld
();

264 
lİ4
.
	`£tLab–FÜ
(
tİ4
);

265 
¥ršgPª–
.
	`add
(
tİ4
);

269 
S´šgUt™›s
.
	`makeCom·ùGrid
(
¥ršgPª–
,

273 
	`upd©ePª–
("core");

274  
¥ršgPª–
;

275 
	}
}

277 
public
 
	$£tUIFÚt
 (
javax
.
swšg
.
¶af
.
FÚtUIResourû
 
f
){

278 
java
.
ut
.
Enum”©iÚ
 
keys
 = 
UIMªag”
.
	`g‘DeçuÉs
().
	`keys
();

279 
keys
.
	`hasMÜeEËm’ts
()) {

280 
Objeù
 
key
 = 
keys
.
	`ÃxtEËm’t
();

281 
Objeù
 
v®ue
 = 
UIMªag”
.
	`g‘
 (
key
);

282 ià(
v®ue
 !ğ
nuÎ
 && v®u
š¡ªûof
 
javax
.
swšg
.
¶af
.
FÚtUIResourû
)

283 
UIMªag”
.
	`put
 (
key
, 
f
);

285 
	}
}

287 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

288 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddPhysiÿlNode
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

289 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/dialog/AddVirtualEdge.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gCompÚ’t
;

5 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

6 
impÜt
 
	gjava
.
	gawt
.
	gLab–
;

7 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

8 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

9 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mEv’t
;

10 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mLi¡’”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gComboBoxMod–
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gDeçuÉComboBoxMod–
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gJComboBox
;

23 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

24 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

25 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

26 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

27 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

28 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

30 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gEdge
;

31 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gG¿ph
;

32 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gNode
;

33 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gNodeC–lR’d””
;

36 
public
 cÏs 
	cAddVœtu®Edge
 
ex‹nds
 
	mJDŸlog
 {

37 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 4794808969864918000L;

39 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

40 
´iv©e
 
JComboBox
 
	msourûNode
;

41 
´iv©e
 
JComboBox
 
	mrg‘Node
;

42 
´iv©e
 
JTextF›ld
 
	mtfName
;

43 
´iv©e
 
JTextF›ld
 
	mtfBªdwidth
;

46 
public
 
	$AddVœtu®Edge
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

48 
this
.
g¿ph
 = graph;

50 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

52 
	`add
(
	`ü—‹IÅutPª–
(), 
BÜd”Layout
.
CENTER
);

53 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

55 
	`£tT™Ë
("Add Virtual Topologyƒdge");

56 
	`£tMod®
(
Œue
);

57 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(400, 250));

58 
	`£tResizabË
(
çl£
);

59 
	`·ck
();

60 
	`£tLoÿtiÚR–©iveTo
(
äame
);

61 
	`£tVisibË
(
Œue
);

64 @
	`Suµ»ssW¬nšgs
("unchecked")

65 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–
() {

67 
CompÚ’t
 
rigid
 = 
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0));

69 
JPª–
 
šputPª–W¿µ”
 = 
Ãw
 
	`JPª–
();

70 
šputPª–W¿µ”
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(šputPª–W¿µ”, 
BoxLayout
.
PAGE_AXIS
));

72 
JPª–
 
šputPª–
 = 
Ãw
 
	`JPª–
();

73 
šputPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(šputPª–, 
BoxLayout
.
LINE_AXIS
));

75 
JPª–
 
‹xtA»aPª–
 = 
Ãw
 
	`JPª–
();

76 
‹xtA»aPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
ÑextA»aPª–, 
BoxLayout
.
LINE_AXIS
));

78 
JPª–
 
‹xtA»aPª–2
 = 
Ãw
 
	`JPª–
();

79 
‹xtA»aPª–2
.
	`£tLayout
(
Ãw
 
	`BoxLayout
ÑextA»aPª–2, 
BoxLayout
.
LINE_AXIS
));

81 
ComboBoxMod–
 
sourûNodeMod–
 = 
Ãw
 
	`DeçuÉComboBoxMod–
(
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
().
	`toA¼ay
());

83 
sourûNodeMod–
.
	`£tS–eùedI‹m
(
nuÎ
);

85 
sourûNode
 = 
Ãw
 
	`JComboBox
(
sourûNodeMod–
);

86 
rg‘Node
 = 
Ãw
 
	`JComboBox
();

87 
sourûNode
.
	`£tMaximumSize
(sourûNode.
	`g‘P»ã¼edSize
());

88 
sourûNode
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150, sourûNode.
	`g‘P»ã¼edSize
().
height
));

89 
sourûNode
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150, sourûNode.
	`g‘P»ã¼edSize
().
height
));

90 
rg‘Node
.
	`£tMaximumSize
Ñ¬g‘Node.
	`g‘P»ã¼edSize
());

91 
rg‘Node
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150,¬g‘Node.
	`g‘P»ã¼edSize
().
height
));

92 
rg‘Node
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150,¬g‘Node.
	`g‘P»ã¼edSize
().
height
));

94 
NodeC–lR’d””
 
»nd””
 = 
Ãw
 
	`NodeC–lR’d””
();

96 
sourûNode
.
	`£tR’d””
(
»nd””
);

97 
rg‘Node
.
	`£tR’d””
(
»nd””
);

99 
sourûNode
.
	`addI‹mLi¡’”
(
Ãw
 
	`I‹mLi¡’”
() {

101 @
Ov”ride


102 
public
 
	`™emS‹Chªged
(
I‹mEv’t
 
e
) {

105 
rg‘Node
.
	`»moveAÎI‹ms
();

106 
Node
 
£ËùedNode
 = (Nodeè
sourûNode
.
	`g‘S–eùedI‹m
();

108 ià(
£ËùedNode
 !ğ
nuÎ
) {

110 
Li¡
<
Node
> 
nodesToDi¥Ïy
 = 
Ãw
 
A¼ayLi¡
<Node>();

111 
S‘
<
Node
> 
®lNodes
 = 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
();

114 
Li¡
<
Edge
> 
edgesFÜS–eùedNode
 = 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`g‘
(
£ËùedNode
);

115 
S‘
<
Node
> 
nodesInEdges
 = 
Ãw
 
HashS‘
<Node>();

116 
Edge
 
edge
 : 
edgesFÜS–eùedNode
) {

117 
nodesInEdges
.
	`add
(
edge
.
	`g‘Node
());

120 
Node
 
node
 : 
®lNodes
) {

121 ià(!
node
.
	`equ®s
(
£ËùedNode
è&& !
nodesInEdges
.
	`cÚšs
(node)) {

122 
nodesToDi¥Ïy
.
	`add
(
node
);

126 
ComboBoxMod–
 
rg‘NodeMod–
 = 
Ãw
 
	`DeçuÉComboBoxMod–
(
nodesToDi¥Ïy
.
	`toA¼ay
());

127 
rg‘Node
.
	`£tMod–
(
rg‘NodeMod–
);

132 
šputPª–
.
	`add
(
sourûNode
);

134 
šputPª–
.
	`add
(
Ãw
 
	`Lab–
(" ¡ª"));

135 
šputPª–
.
	`add
(
rg‘Node
);

136 
šputPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

137 
šputPª–W¿µ”
.
	`add
(
šputPª–
);

139 
‹xtA»aPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

140 
‹xtA»aPª–
.
	`add
(
Ãw
 
	`JLab–
("Edge Name: "));

141 
tfName
 = 
Ãw
 
	`JTextF›ld
();

142 
tfName
.
	`£tMaximumSize
ÑfName.
	`g‘P»ã¼edSize
());

143 
tfName
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(180,fName.
	`g‘P»ã¼edSize
().
height
));

144 
tfName
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(180,fName.
	`g‘P»ã¼edSize
().
height
));

145 
‹xtA»aPª–
.
	`add
(
tfName
);

146 
‹xtA»aPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

147 
šputPª–W¿µ”
.
	`add
(
‹xtA»aPª–
);

148 
šputPª–W¿µ”
.
	`add
(
Box
.
	`ü—‹V”tiÿlGlue
());

150 
‹xtA»aPª–2
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

151 
‹xtA»aPª–2
.
	`add
(
Ãw
 
	`JLab–
("Bandwidth: "));

152 
tfBªdwidth
 = 
Ãw
 
	`JTextF›ld
();

153 
tfBªdwidth
.
	`£tMaximumSize
ÑfBªdwidth.
	`g‘P»ã¼edSize
());

154 
tfBªdwidth
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(180,fBªdwidth.
	`g‘P»ã¼edSize
().
height
));

155 
tfBªdwidth
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(180,fBªdwidth.
	`g‘P»ã¼edSize
().
height
));

156 
‹xtA»aPª–2
.
	`add
(
tfBªdwidth
);

157 
‹xtA»aPª–2
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

158 
šputPª–W¿µ”
.
	`add
(
‹xtA»aPª–2
);

159 
šputPª–W¿µ”
.
	`add
(
Box
.
	`ü—‹V”tiÿlGlue
());

161 
šputPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(10, 10, 10, 10));

163  
šputPª–W¿µ”
;

164 
	}
}

166 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

168 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

169 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

171 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

172 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

174 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

175 @
Ov”ride


176 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

177 
	`£tVisibË
(
çl£
);

181 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

182 @
Ov”ride


183 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

185 
SŒšg
 
Çme
 = "default";

186 
bªdwidth
 = 0;

187 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

189 ià(
tfName
.
	`g‘Text
(è=ğ
nuÎ
 ||fName.g‘Text().
	`isEm±y
()) {

190 
ÿtchedE¼Ü
 = 
Œue
;

191 
	`´om±
("Pleaseype Edge Name", "Error");

193 
Çme
 = (
SŒšg
)
tfName
.
	`g‘Text
();

196 ià(
tfBªdwidth
.
	`g‘Text
(è=ğ
nuÎ
 ||fBªdwidth.g‘Text().
	`isEm±y
()) {

197 
ÿtchedE¼Ü
 = 
Œue
;

198 
	`´om±
("Pleaseype Bandwidth", "Error");

200 
Œy
 {

201 
bªdwidth
 = 
LÚg
.
	`v®ueOf
(
tfBªdwidth
.
	`g‘Text
());

202 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

203 
ÿtchedE¼Ü
 = 
Œue
;

204 
	`´om±
("Bandwidth should be†ongype", "Error");

208 ià(!
ÿtchedE¼Ü
) {

209 ià(
sourûNode
.
	`g‘S–eùedI‹m
(è=ğ
nuÎ
 || 
rg‘Node
.getSelectedItem() ==‚ull) {

210 
	`´om±
("Please select‚ode", "Error");

213 
Node
 
sourû
 = (Nodeè
sourûNode
.
	`g‘S–eùedI‹m
();

214 
Node
 
rg‘
 = (Nodeè
rg‘Node
.
	`g‘S–eùedI‹m
();

216 
Edge
 
edge
 = 
Ãw
 
	`Edge
(
rg‘
, 
Çme
, 
bªdwidth
);

217 
g¿ph
.
	`addEdge
(
sourû
, 
edge
);

219 
	`£tVisibË
(
çl£
);

226 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

227 
bu‰ÚPª–
.
	`add
(
okBŠ
);

228 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

229 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

230 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(10, 10, 10, 10));

232  
bu‰ÚPª–
;

233 
	}
}

235 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

236 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddVœtu®Edge
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

237 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/dialog/AddVirtualNode.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

7 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mEv’t
;

8 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mLi¡’”
;

10 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gJComboBox
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gS´šgLayout
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gUIMªag”
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gG¿ph
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gS´šgUt™›s
;

26 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gVmNode
;

27 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gNode
;

29 @
Suµ»ssW¬nšgs
({ "rawtypes", "unchecked" })

30 
public
 cÏs 
	cAddVœtu®Node
 
ex‹nds
 
	mJDŸlog
 {

31 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -5116677861770319577L;

33 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

35 
´iv©e
 
JTextF›ld
 
	mtfName
;

36 
´iv©e
 
JComboBox
 
	mcTy³
;

37 
´iv©e
 
JTextF›ld
 
	mtfSize
;

38 
´iv©e
 
JTextF›ld
 
	mtfPes
;

39 
´iv©e
 
JTextF›ld
 
	mtfMs
;

40 
´iv©e
 
JTextF›ld
 
	mtfRam
;

47 
public
 
	$AddVœtu®Node
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

48 
this
.
g¿ph
 = graph;

50 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

52 
	`add
(
	`ü—‹IÅutPª–A»a
(), 
BÜd”Layout
.
CENTER
);

53 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

55 
	`£tT™Ë
("Add Virtual Node");

56 
	`£tMod®
(
Œue
);

57 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(350, 400));

58 
	`£tResizabË
(
çl£
);

59 
	`·ck
();

60 
	`£tLoÿtiÚR–©iveTo
(
äame
);

61 
	`£tVisibË
(
Œue
);

65 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

67 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

68 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

70 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

71 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

73 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

74 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

75 
	`£tVisibË
(
çl£
);

79 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

80 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

81 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

82 ià(
tfName
.
	`g‘Text
(è=ğ
nuÎ
 ||fName.g‘Text().
	`Ëngth
() < 1) {

83 
	`´om±
("Pleaseype VM‚ame", "Error");

84 } ià(
cTy³
.
	`g‘S–eùedIndex
() < 0) {

85 
	`´om±
("Please select VMype", "Error");

86 } ià(
tfSize
.
	`g‘Text
(è=ğ
nuÎ
 ||fSize.g‘Text().
	`Ëngth
() < 1) {

87 
	`´om±
("Pleaseype VM size", "Error");

88 } ià(
tfPes
.
	`g‘Text
(è=ğ
nuÎ
 ||fPes.g‘Text().
	`Ëngth
() < 1) {

89 
	`´om±
("Pleaseype…es", "Error");

90 } ià(
tfMs
.
	`g‘Text
(è=ğ
nuÎ
 ||fMs.g‘Text().
	`Ëngth
() < 1) {

91 
	`´om±
("Pleaseype VM mips", "Error");

92 } ià(
tfRam
.
	`g‘Text
(è=ğ
nuÎ
 ||fRam.g‘Text().
	`Ëngth
() < 1) {

93 
	`´om±
("Pleaseype VM RAM", "Error");

95 
t1
 = 0;

96 
t2
 = 0;

97 
t3
 = 0;

98 
t4
 = 0;

99 
Œy
 {

100 
t1
 = 
LÚg
.
	`·r£LÚg
(
tfSize
.
	`g‘Text
());

101 
t2
 = 
IÁeg”
.
	`·r£IÁ
(
tfPes
.
	`g‘Text
());

102 
t3
 = 
LÚg
.
	`·r£LÚg
(
tfMs
.
	`g‘Text
());

103 
t4
 = 
IÁeg”
.
	`·r£IÁ
(
tfRam
.
	`g‘Text
());

104 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

105 
ÿtchedE¼Ü
 = 
Œue
;

106 
	`´om±
("Input should be‚umerical character", "Error");

108 if(!
ÿtchedE¼Ü
){

109 
Node
 
node
 = 
Ãw
 
	`VmNode
(
tfName
.
	`g‘Text
().
	`toSŒšg
(), (
SŒšg
)
cTy³
.
	`g‘S–eùedI‹m
(),

110 
t1
, 
t2
, 
t3
, 
t4
);

111 
g¿ph
.
	`addNode
(
node
);

112 
	`£tVisibË
(
çl£
);

118 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

119 
bu‰ÚPª–
.
	`add
(
okBŠ
);

120 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

121 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

122 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

124  
bu‰ÚPª–
;

125 
	}
}

127 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–A»a
() {

128 
SŒšg
[] 
vmTy³
 = {"vm"};

131 
JPª–
 
¥ršgPª–
 = 
Ãw
 
	`JPª–
Òew 
	`S´šgLayout
());

132 
¥ršgPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

134 
JLab–
 
lName
 = 
Ãw
 
	`JLab–
("Name: ");

135 
¥ršgPª–
.
	`add
(
lName
);

136 
tfName
 = 
Ãw
 
	`JTextF›ld
();

137 
lName
.
	`£tLab–FÜ
(
tfName
);

138 
¥ršgPª–
.
	`add
(
tfName
);

140 
JLab–
 
lTy³
 = 
Ãw
 
	`JLab–
("Ty³: ", JLab–.
TRAILING
);

141 
¥ršgPª–
.
	`add
(
lTy³
);

142 
cTy³
 = 
Ãw
 
	`JComboBox
(
vmTy³
);

143 
lTy³
.
	`£tLab–FÜ
(
cTy³
);

144 
cTy³
.
	`£tS–eùedIndex
(-1);

145 
cTy³
.
	`addI‹mLi¡’”
(
Ãw
 
	`I‹mLi¡’”
() {

146 @
Ov”ride


147 
public
 
	`™emS‹Chªged
(
I‹mEv’t
 
e
) {

151 
¥ršgPª–
.
	`add
(
cTy³
);

153 
JLab–
 
lSize
 = 
Ãw
 
	`JLab–
("Size: ");

154 
¥ršgPª–
.
	`add
(
lSize
);

155 
tfSize
 = 
Ãw
 
	`JTextF›ld
();

156 
lSize
.
	`£tLab–FÜ
(
tfSize
);

157 
¥ršgPª–
.
	`add
(
tfSize
);

159 
JLab–
 
lPes
 = 
Ãw
 
	`JLab–
("Pes: ");

160 
¥ršgPª–
.
	`add
(
lPes
);

161 
tfPes
 = 
Ãw
 
	`JTextF›ld
();

162 
lPes
.
	`£tLab–FÜ
(
tfPes
);

163 
¥ršgPª–
.
	`add
(
tfPes
);

165 
JLab–
 
lMs
 = 
Ãw
 
	`JLab–
("Mips: ");

166 
¥ršgPª–
.
	`add
(
lMs
);

167 
tfMs
 = 
Ãw
 
	`JTextF›ld
();

168 
lMs
.
	`£tLab–FÜ
(
tfMs
);

169 
¥ršgPª–
.
	`add
(
tfMs
);

171 
JLab–
 
lRam
 = 
Ãw
 
	`JLab–
("Ram: ");

172 
¥ršgPª–
.
	`add
(
lRam
);

173 
tfRam
 = 
Ãw
 
	`JTextF›ld
();

174 
lRam
.
	`£tLab–FÜ
(
tfRam
);

175 
¥ršgPª–
.
	`add
(
tfRam
);

178 
S´šgUt™›s
.
	`makeCom·ùGrid
(
¥ršgPª–
,

182  
¥ršgPª–
;

183 
	}
}

185 
public
 
	$£tUIFÚt
 (
javax
.
swšg
.
¶af
.
FÚtUIResourû
 
f
){

186 
java
.
ut
.
Enum”©iÚ
 
keys
 = 
UIMªag”
.
	`g‘DeçuÉs
().
	`keys
();

187 
keys
.
	`hasMÜeEËm’ts
()) {

188 
Objeù
 
key
 = 
keys
.
	`ÃxtEËm’t
();

189 
Objeù
 
v®ue
 = 
UIMªag”
.
	`g‘
 (
key
);

190 ià(
v®ue
 !ğ
nuÎ
 && v®u
š¡ªûof
 
javax
.
swšg
.
¶af
.
FÚtUIResourû
)

191 
UIMªag”
.
	`put
 (
key
, 
f
);

193 
	}
}

195 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

196 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddVœtu®Node
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

197 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/dialog/SDNRun.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

7 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

8 
impÜt
 
	gjava
.
	gio
.
	gFeR—d”
;

9 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	gExecutiÚExû±iÚ
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gImageIcÚ
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gJCompÚ’t
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gJSüŞlPªe
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextA»a
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gSwšgWÜk”
;

23 
impÜt
 
	gjavax
.
	gswšg
.
	gTim”
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gexam¶e
.
	gG¿phicSDNExam¶e
;

27 
public
 cÏs 
	cSDNRun
 
ex‹nds
 
	mJDŸlog
 {

28 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -8313194085507492462L;

30 
´iv©e
 
SŒšg
 
	mphysiÿlTİŞogyFe
 = "";

31 
´iv©e
 
SŒšg
 
	md•loym’tFe
 = "";

32 
´iv©e
 
SŒšg
 
	mwÜklßds_background
 = "";

33 
´iv©e
 
SŒšg
 
	mwÜklßds
 = "";

35 
´iv©e
 
JPª–
 
	m·Ãl
;

36 
´iv©e
 
JSüŞlPªe
 
	m·Ã
;

37 
´iv©e
 
JTextA»a
 
	mouutA»a
;

38 
´iv©e
 
JLab–
 
	mimageLab–
;

39 
´iv©e
 
JLab–
 
	mmsgLab–
;

40 
´iv©e
 
JCompÚ’t
 
	m¥aû
;

41 
´iv©e
 
	mcouÁ”
 = 0;

42 
´iv©e
 
Tim”
 
	mtim”
;

44 
´iv©e
 
G¿phicSDNExam¶e
 
	msdn
;

46 
public
 
	$SDNRun
(
fš®
 
SŒšg
 
phy
, fš® SŒšg 
vœ
, fš® SŒšg 
wlbk
, fš® SŒšg 
wl
, fš® 
JF¿me
 
äame
){

47 
physiÿlTİŞogyFe
 = 
phy
;

48 
d•loym’tFe
 = 
vœ
;

49 
wÜklßds_background
 = 
wlbk
;

50 
wÜklßds
 = 
wl
;

52 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

54 
·Ãl
 = 
Ãw
 
	`JPª–
();

55 
·Ãl
.
	`£tLayout
(
Ãw
 
	`BoxLayout
Õª–, 
BoxLayout
.
Y_AXIS
));

56 
·Ãl
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

58 
	`š™UI
();

59 
	`run
();

60 
	`add
(
·Ãl
, 
BÜd”Layout
.
CENTER
);

62 
	`£tDeçuÉClo£O³¿tiÚ
(
DISPOSE_ON_CLOSE
 );

63 
	`£tT™Ë
("Run Simulation");

64 
	`£tMod®
(
Œue
);

65 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(900, 600));

66 
	`£tResizabË
(
çl£
);

67 
	`·ck
();

68 
	`£tLoÿtiÚR–©iveTo
(
äame
);

69 
	`£tVisibË
(
Œue
);

72 
´iv©e
 
	$š™UI
(){

73 
ImageIcÚ
 
ii
 = 
Ãw
 
	`ImageIcÚ
(
this
.
	`g‘CÏss
().
	`g‘Resourû
("/src/1.gif"));

74 
imageLab–
 = 
Ãw
 
	`JLab–
(
ii
);

75 
imageLab–
.
	`£tAlignm’tX
(
CENTER_ALIGNMENT
);

76 
msgLab–
 = 
Ãw
 
	`JLab–
("Simulation isƒxecuting");

77 
msgLab–
.
	`£tAlignm’tX
(
CENTER_ALIGNMENT
);

78 
¥aû
 = (
JCompÚ’t
)
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(0, 200));

79 
·Ãl
.
	`add
(
¥aû
);

80 
·Ãl
.
	`add
(
msgLab–
);

81 
·Ãl
.
	`add
(
imageLab–
);

83 
·Ã
 = 
Ãw
 
	`JSüŞlPªe
();

84 
ouutA»a
 = 
Ãw
 
	`JTextA»a
();

86 
ouutA»a
.
	`£tLšeW¿p
(
Œue
);

87 
ouutA»a
.
	`£tW¿pStyËWÜd
(
Œue
);

88 
ouutA»a
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(8, 8, 8, 8));

89 
ouutA»a
.
	`£tEd™abË
(
çl£
);

93 
·Ã
.
	`g‘V›wpÜt
().
	`add
(
ouutA»a
);

94 
·Ãl
.
	`add
(
·Ã
);

95 
·Ã
.
	`£tVisibË
(
çl£
);

96 
	}
}

98 
´iv©e
 
	$run
(){

100 
sdn
 = 
Ãw
 
	`G¿phicSDNExam¶e
(
physiÿlTİŞogyFe
, 
d•loym’tFe
, 
wÜklßds_background
, 
wÜklßds
, 
ouutA»a
);

102 
SwšgWÜk”
<
BoŞ—n
, 
Void
> 
wÜk”
 = 
Ãw
 SwingWorker<Boolean, Void>() {

103 
´Ùeùed
 
BoŞ—n
 
	`doInBackground
(è
throws
 
Exû±iÚ
 {

104 
boŞ—n
 
sucûss
 = 
çl£
;

105 
sucûss
 = 
sdn
.
	`simuÏ‹
();

106 if(
sucûss
){

107 
sdn
.
	`ouut
();

108 
	`­³nd
("<<<<<<<<<< Simulation completed >>>>>>>>>");

110 
	`­³nd
("<<<<<<<<<< Running Error >>>>>>>>>>");

112  
sucûss
;

115 
´Ùeùed
 
	`dÚe
() {

116 
boŞ—n
 
¡©us
;

117 
Œy
 {

118 
¡©us
 = 
	`g‘
();

119 
·Ãl
.
	`»move
(
¥aû
);

120 
·Ãl
.
	`»move
(
imageLab–
);

121 
·Ãl
.
	`»move
(
msgLab–
);

122 
·Ã
.
	`£tVisibË
(
Œue
);

123 
·Ãl
.
	`»v®id©e
();

124 
·Ãl
.
	`»·št
();

126 } 
	`ÿtch
 (
IÁ”ru±edExû±iÚ
 
e
) {

128 } 
	`ÿtch
 (
ExecutiÚExû±iÚ
 
e
) {

133 
wÜk”
.
	`execu‹
();

134 
	}
}

136 
´iv©e
 
	$­³nd
(
SŒšg
 
cÚ‹Á
){

137 
ouutA»a
.
	`­³nd
(
cÚ‹Á
+"\n");

138 
	}
}

141 
´iv©e
 
	$¡¬tTe¡
(){

142 
AùiÚLi¡’”
 
upd©eProB¬
 = 
Ãw
 
	`AùiÚLi¡’”
() {

143 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
aùiÚEv’t
) {

144 if(
couÁ”
>=100){

145 
tim”
.
	`¡İ
();

146 
·Ãl
.
	`»move
(
¥aû
);

147 
·Ãl
.
	`»move
(
imageLab–
);

148 
·Ãl
.
	`»move
(
msgLab–
);

149 
·Ã
.
	`£tVisibË
(
Œue
);

150 
·Ãl
.
	`»v®id©e
();

151 
·Ãl
.
	`»·št
();

154 
couÁ”
 +=2;

158 
tim”
 = 
Ãw
 
	`Tim”
(50, 
upd©eProB¬
);

159 
tim”
.
	`¡¬t
();

160 
	}
}

161 
´iv©e
 
	$»adFe
(
SŒšg
 
·th
, 
JTextA»a
 
¬—
) {

163 
Œy
{

164 
FeR—d”
 
»ad”
 = 
Ãw
 
	`FeR—d”
(
·th
);

165 
Bufã»dR—d”
 
br
 = 
Ãw
 
	`Bufã»dR—d”
(
»ad”
);

166 
¬—
.
	`»ad
Ğ
br
, 
nuÎ
 );

167 
br
.
	`şo£
();

168 
¬—
.
	`»que¡Focus
();

169 }
	`ÿtch
(
Exû±iÚ
 
e2
) {

170 
Sy¡em
.
out
.
	`´šn
(
e2
);

172 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/example/GraphicSDN.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gexam¶e
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gFÚt
;

6 
impÜt
 
	gjava
.
	gawt
.
	gToŞk™
;

7 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

8 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

9 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gKeyEv’t
;

10 
impÜt
 
	gjava
.
	gio
.
	gFe
;

11 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

12 
impÜt
 
	gjava
.
	gio
.
	gFeOuutSŒ—m
;

13 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

14 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
impÜt
 
	gjava
.
	gut
.
	gM­
.
	gEÁry
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gBu‰ÚGroup
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gImageIcÚ
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gJFeChoo£r
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

23 
impÜt
 
	gjavax
.
	gswšg
.
	gJM’u
;

24 
impÜt
 
	gjavax
.
	gswšg
.
	gJM’uB¬
;

25 
impÜt
 
	gjavax
.
	gswšg
.
	gJM’uI‹m
;

26 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

27 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

28 
impÜt
 
	gjavax
.
	gswšg
.
	gJRadioBu‰ÚM’uI‹m
;

29 
impÜt
 
	gjavax
.
	gswšg
.
	gJS•¬©Ü
;

30 
impÜt
 
	gjavax
.
	gswšg
.
	gJToŞB¬
;

31 
impÜt
 
	gjavax
.
	gswšg
.
	gKeySŒoke
;

32 
impÜt
 
	gjavax
.
	gswšg
.
	gSwšgCÚ¡ªts
;

33 
impÜt
 
	gjavax
.
	gswšg
.
	gSwšgUt™›s
;

34 
impÜt
 
	gjavax
.
	gswšg
.
	gUIMªag”
;

35 
impÜt
 
	gjavax
.
	gswšg
.
	gfechoo£r
.
	gFeF‹r
;

36 
impÜt
 
	gjavax
.
	gswšg
.
	gfechoo£r
.
	gFeNameEx‹nsiÚF‹r
;

38 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gBridge
;

39 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gEdge
;

40 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gG¿ph
;

41 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gG¿phV›w
;

42 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gcÜe
.
	gNode
;

43 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gdŸlog
.*;

45 
public
 cÏs 
	cG¿phicSDN
 
ex‹nds
 
	mJF¿me
 {

46 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -2238414769964738933L;

48 
´iv©e
 
JPª–
 
	mcÚ‹ÁPªe
;

51 
´iv©e
 
SŒšg
 
	mphysiÿlTİŞogyFe
 = "";

52 
´iv©e
 
SŒšg
 
	md•loym’tFe
 = "";

53 
´iv©e
 
SŒšg
 
	mwÜklßds_background
 = "";

54 
´iv©e
 
SŒšg
 
	mwÜklßds
 = "";

56 
´iv©e
 
JPª–
 
	m·Ãl
;

57 
´iv©e
 
JPª–
 
	mg¿ph
;

59 
´iv©e
 
G¿ph
 
	mphysiÿlG¿ph
;

60 
´iv©e
 
G¿ph
 
	mvœtu®G¿ph
;

61 
´iv©e
 
G¿phV›w
 
	mphysiÿlCªvas
;

62 
´iv©e
 
G¿phV›w
 
	mvœtu®Cªvas
;

64 
´iv©e
 
JBu‰Ú
 
	mbŠRun
;

66 
´iv©e
 
SŒšg
 
	mmode
;

68 
public
 
	$G¿phicSDN
() {

69 
	`£tDeçuÉClo£O³¿tiÚ
(
EXIT_ON_CLOSE
);

70 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(1280, 800));

71 
	`£tLoÿtiÚR–©iveTo
(
nuÎ
);

74 
	`£tT™Ë
("CloudSim SDN");

75 
cÚ‹ÁPªe
 = 
Ãw
 
	`JPª–
();

76 
	`£tCÚ‹ÁPªe
(
cÚ‹ÁPªe
);

77 
cÚ‹ÁPªe
.
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

79 
	`š™UI
();

80 
	`š™G¿ph
();

82 
	`·ck
();

83 
	`£tVisibË
(
Œue
);

86 
public
 
fš®
 
	$š™UI
() {

87 
	`£tUIFÚt
 (
Ãw
 
javax
.
swšg
.
¶af
.
	`FÚtUIResourû
("S”if",
FÚt
.
BOLD
,18));

89 
·Ãl
 = 
Ãw
 
	`JPª–
();

90 
·Ãl
.
	`£tLayout
(
Ãw
 
	`BoxLayout
Õª–, 
BoxLayout
.
Y_AXIS
));

92 
g¿ph
 = 
Ãw
 
	`JPª–
Òew 
java
.
awt
.
	`GridLayout
(1, 2));

94 
	`š™B¬
();

95 
	`doPos™iÚ
();

96 
	}
}

99 
´iv©e
 
	$doPos™iÚ
() {

101 
Dim’siÚ
 
sü“nSize
 = 
ToŞk™
.
	`g‘DeçuÉToŞk™
().
	`g‘Sü“nSize
();

102 
height
 = 
sü“nSize
.height;

103 
width
 = 
sü“nSize
.width;

105 
x
 = (
width
 / 2 - 1280 / 2);

106 
y
 = (
height
 / 2 - 800 / 2);

110 
this
.
	`£tLoÿtiÚ
(
x
, 
y
);

111 
	}
}

114 
´iv©e
 
fš®
 
	$š™B¬
() {

116 
AùiÚLi¡’”
 
»adPhyTİoLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

117 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

118 
physiÿlTİŞogyFe
 = 
	`impÜtFe
("josn");

119 
	`checkImpÜtStus
();

122 
AùiÚLi¡’”
 
»adVœTİoLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

123 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

124 
d•loym’tFe
 = 
	`impÜtFe
("json");

125 
	`checkImpÜtStus
();

128 
AùiÚLi¡’”
 
»adWÜklßdBkLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

129 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

130 
wÜklßds_background
 = 
	`impÜtFe
("cvs");

131 
	`checkImpÜtStus
();

134 
AùiÚLi¡’”
 
»adWÜklßdLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

135 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

136 
wÜklßds
 = 
	`impÜtFe
("cvs");

137 
	`checkImpÜtStus
();

140 
AùiÚLi¡’”
 
addPhysiÿlNodeLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

141 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

142 
	`İ’AddPhysiÿlNodeDŸlog
();

145 
AùiÚLi¡’”
 
addVœtu®NodeLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

146 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

147 
	`İ’AddVœtu®NodeDŸlog
();

150 
AùiÚLi¡’”
 
addPhysiÿlEdgeLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

151 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

152 
	`İ’AddPhysiÿlEdgeDŸlog
();

155 
AùiÚLi¡’”
 
addVœtu®EdgeLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

156 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

157 
	`İ’AddVœtu®EdgeDŸlog
();

160 
AùiÚLi¡’”
 
impÜtPhyTİoLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

161 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

162 
SŒšg
 
feName
 = 
	`impÜtFe
("josn");

163 
G¿ph
 
phyG¿ph
ğ
Bridge
.
	`jsÚToG¿ph
(
feName
, 0);

168 
physiÿlCªvas
.
	`£tG¿ph
(
phyG¿ph
);

171 
AùiÚLi¡’”
 
impÜtVœTİoLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

172 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

173 
SŒšg
 
feName
 = 
	`impÜtFe
("josn");

174 
G¿ph
 
vœG¿ph
ğ
Bridge
.
	`jsÚToG¿ph
(
feName
, 1);

175 
vœtu®Cªvas
.
	`£tG¿ph
(
vœG¿ph
);

178 
AùiÚLi¡’”
 
§vePhyTİoLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

179 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

180 
Œy
 {

181 
	`§veFe
("jsÚ", 
physiÿlG¿ph
);

182 } 
	`ÿtch
 (
IOExû±iÚ
 
e1
) {

184 
e1
.
	`´štSckT¿û
();

188 
AùiÚLi¡’”
 
§veVœTİoLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

189 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

190 
Œy
 {

191 
	`§veFe
("jsÚ", 
vœtu®G¿ph
);

192 } 
	`ÿtch
 (
IOExû±iÚ
 
e1
) {

194 
e1
.
	`´štSckT¿û
();

202 
JToŞB¬
 
toŞb¬
 = 
Ãw
 
	`JToŞB¬
();

204 
ImageIcÚ
 
iHo¡
 = 
Ãw
 
	`ImageIcÚ
(

205 
	`g‘CÏss
().
	`g‘Resourû
("/src/dc.png"));

206 
ImageIcÚ
 
iHlše
 = 
Ãw
 
	`ImageIcÚ
(

207 
	`g‘CÏss
().
	`g‘Resourû
("/src/hline2.png"));

208 
ImageIcÚ
 
iHO³n
 = 
Ãw
 
	`ImageIcÚ
(

209 
	`g‘CÏss
().
	`g‘Resourû
("/src/openPhyTop.png"));

210 
ImageIcÚ
 
iHSave
 = 
Ãw
 
	`ImageIcÚ
(

211 
	`g‘CÏss
().
	`g‘Resourû
("/src/savePhyTop.png"));

212 
ImageIcÚ
 
iVM
 = 
Ãw
 
	`ImageIcÚ
(

213 
	`g‘CÏss
().
	`g‘Resourû
("/src/vm2.png"));

214 
ImageIcÚ
 
iVlše
 = 
Ãw
 
	`ImageIcÚ
(

215 
	`g‘CÏss
().
	`g‘Resourû
("/src/vline2.png"));

216 
ImageIcÚ
 
iVO³n
 = 
Ãw
 
	`ImageIcÚ
(

217 
	`g‘CÏss
().
	`g‘Resourû
("/src/openVirTop.png"));

218 
ImageIcÚ
 
iVSave
 = 
Ãw
 
	`ImageIcÚ
(

219 
	`g‘CÏss
().
	`g‘Resourû
("/src/saveVirTop.png"));

220 
ImageIcÚ
 
iPhy
 = 
Ãw
 
	`ImageIcÚ
(

221 
	`g‘CÏss
().
	`g‘Resourû
("/src/upload1.png"));

222 
ImageIcÚ
 
iVœ
 = 
Ãw
 
	`ImageIcÚ
(

223 
	`g‘CÏss
().
	`g‘Resourû
("/src/upload2.png"));

224 
ImageIcÚ
 
iWl1
 = 
Ãw
 
	`ImageIcÚ
(

225 
	`g‘CÏss
().
	`g‘Resourû
("/src/upload3.png"));

226 
ImageIcÚ
 
iWl2
 = 
Ãw
 
	`ImageIcÚ
(

227 
	`g‘CÏss
().
	`g‘Resourû
("/src/upload4.png"));

228 
ImageIcÚ
 
run
 = 
Ãw
 
	`ImageIcÚ
(

229 
	`g‘CÏss
().
	`g‘Resourû
("/src/play.png"));

230 
ImageIcÚ
 
ex™
 = 
Ãw
 
	`ImageIcÚ
(

231 
	`g‘CÏss
().
	`g‘Resourû
("/src/exit.png"));

233 
fš®
 
JBu‰Ú
 
bŠHo¡
 = 
Ãw
 
	`JBu‰Ú
(
iHo¡
);

234 
bŠHo¡
.
	`£tToŞTText
("Add Host Node");

235 
fš®
 
JBu‰Ú
 
bŠVm
 = 
Ãw
 
	`JBu‰Ú
(
iVM
);

236 
bŠVm
.
	`£tToŞTText
("Add virtual Machine");

237 
fš®
 
JBu‰Ú
 
bŠHedge
 = 
Ãw
 
	`JBu‰Ú
(
iHlše
);

238 
bŠHedge
.
	`£tToŞTText
("Add Host Edge");

239 
fš®
 
JBu‰Ú
 
bŠVedge
 = 
Ãw
 
	`JBu‰Ú
(
iVlše
);

240 
bŠVedge
.
	`£tToŞTText
("Add VM Edge");

241 
fš®
 
JBu‰Ú
 
bŠHİ’
 = 
Ãw
 
	`JBu‰Ú
(
iHO³n
);

242 
bŠHİ’
.
	`£tToŞTText
("Open Physical Topology");

243 
fš®
 
JBu‰Ú
 
bŠVİ’
 = 
Ãw
 
	`JBu‰Ú
(
iVO³n
);

244 
bŠVİ’
.
	`£tToŞTText
("Open virtual Topology");

245 
fš®
 
JBu‰Ú
 
bŠH§ve
 = 
Ãw
 
	`JBu‰Ú
(
iHSave
);

246 
bŠH§ve
.
	`£tToŞTText
("Save Physical Topology");

247 
fš®
 
JBu‰Ú
 
bŠV§ve
 = 
Ãw
 
	`JBu‰Ú
(
iVSave
);

248 
bŠV§ve
.
	`£tToŞTText
("Save virtual Topology");

250 
fš®
 
JBu‰Ú
 
bŠPhy
 = 
Ãw
 
	`JBu‰Ú
(
iPhy
);

251 
bŠPhy
.
	`£tToŞTText
("Importopology‚etwork");

252 
fš®
 
JBu‰Ú
 
bŠVœ
 = 
Ãw
 
	`JBu‰Ú
(
iVœ
);

253 
bŠVœ
.
	`£tToŞTText
("Import virtual‚etwork");

254 
fš®
 
JBu‰Ú
 
bŠWl1
 = 
Ãw
 
	`JBu‰Ú
(
iWl1
);

255 
bŠWl1
.
	`£tToŞTText
("Import workload background");

256 
fš®
 
JBu‰Ú
 
bŠWl2
 = 
Ãw
 
	`JBu‰Ú
(
iWl2
);

257 
bŠWl2
.
	`£tToŞTText
("Import workload");

259 
bŠRun
 = 
Ãw
 
	`JBu‰Ú
(
run
);

260 
bŠRun
.
	`£tToŞTText
("Start simulation");

261 
JBu‰Ú
 
bŠEx™
 = 
Ãw
 
	`JBu‰Ú
(
ex™
);

262 
bŠEx™
.
	`£tToŞTText
("Exit CloudSim");

263 
toŞb¬
.
	`£tAlignm’tX
(0);

265 
bŠHo¡
.
	`addAùiÚLi¡’”
(
addPhysiÿlNodeLi¡’”
);

266 
bŠHedge
.
	`addAùiÚLi¡’”
(
addPhysiÿlEdgeLi¡’”
);

267 
bŠHİ’
.
	`addAùiÚLi¡’”
(
impÜtPhyTİoLi¡’”
);

268 
bŠH§ve
.
	`addAùiÚLi¡’”
(
§vePhyTİoLi¡’”
);

269 
bŠVm
.
	`addAùiÚLi¡’”
(
addVœtu®NodeLi¡’”
);

270 
bŠVedge
.
	`addAùiÚLi¡’”
(
addVœtu®EdgeLi¡’”
);

271 
bŠVİ’
.
	`addAùiÚLi¡’”
(
impÜtVœTİoLi¡’”
);

272 
bŠV§ve
.
	`addAùiÚLi¡’”
(
§veVœTİoLi¡’”
);

274 
bŠPhy
.
	`addAùiÚLi¡’”
(
»adPhyTİoLi¡’”
);

275 
bŠVœ
.
	`addAùiÚLi¡’”
(
»adVœTİoLi¡’”
);

276 
bŠWl1
.
	`addAùiÚLi¡’”
(
»adWÜklßdBkLi¡’”
);

277 
bŠWl2
.
	`addAùiÚLi¡’”
(
»adWÜklßdLi¡’”
);

278 
bŠRun
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

279 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

280 if("i"==
mode
){

281 if(
physiÿlTİŞogyFe
==
nuÎ
 ||…hysiÿlTİŞogyFe.
	`isEm±y
()){

282 
JO±iÚPªe
.
	`showMes§geDŸlog
(
·Ãl
, "PËa£ s–eù…hysiÿlTİŞogyFe", "E¼Ü", JO±iÚPªe.
ERROR_MESSAGE
);

285 if(
d•loym’tFe
==
nuÎ
 || d•loym’tFe.
	`isEm±y
()){

286 
JO±iÚPªe
.
	`showMes§geDŸlog
(
·Ãl
, "PËa£ s–eù d•loym’tFe", "E¼Ü", JO±iÚPªe.
ERROR_MESSAGE
);

289 if(
wÜklßds_background
==
nuÎ
 || wÜklßds_background.
	`isEm±y
()){

290 
JO±iÚPªe
.
	`showMes§geDŸlog
(
·Ãl
, "PËa£ s–eù wÜklßds_background", "E¼Ü", JO±iÚPªe.
ERROR_MESSAGE
);

293 if(
wÜklßds
==
nuÎ
 || wÜklßds.
	`isEm±y
()){

294 
JO±iÚPªe
.
	`showMes§geDŸlog
(
·Ãl
, "PËa£ s–eù wÜklßds", "E¼Ü", JO±iÚPªe.
ERROR_MESSAGE
);

298 
SDNRun
 
run
 = 
Ãw
 
	`SDNRun
(
physiÿlTİŞogyFe
, 
d•loym’tFe
,

299 
wÜklßds_background
, 
wÜklßds
, 
G¿phicSDN
.
this
);

302 }if("m"==
mode
){

308 
bŠEx™
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

309 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

310 
Sy¡em
.
	`ex™
(0);

315 
toŞb¬
.
	`add
(
bŠHo¡
);

316 
toŞb¬
.
	`add
(
bŠHedge
);

317 
toŞb¬
.
	`add
(
bŠHİ’
);

318 
toŞb¬
.
	`add
(
bŠH§ve
);

319 
toŞb¬
.
	`addS•¬©Ü
();

320 
toŞb¬
.
	`add
(
bŠVm
);

321 
toŞb¬
.
	`add
(
bŠVedge
);

322 
toŞb¬
.
	`add
(
bŠVİ’
);

323 
toŞb¬
.
	`add
(
bŠV§ve
);

325 
toŞb¬
.
	`add
(
bŠPhy
);

326 
toŞb¬
.
	`add
(
bŠVœ
);

327 
toŞb¬
.
	`add
(
bŠWl1
);

328 
toŞb¬
.
	`add
(
bŠWl2
);

329 
toŞb¬
.
	`addS•¬©Ü
();

331 
toŞb¬
.
	`add
(
bŠRun
);

332 
toŞb¬
.
	`add
(
bŠEx™
);

334 
·Ãl
.
	`add
(
toŞb¬
);

336 
cÚ‹ÁPªe
.
	`add
(
·Ãl
, 
BÜd”Layout
.
NORTH
);

343 
JM’uB¬
 
m’ub¬
 = 
Ãw
 
	`JM’uB¬
();

347 
JM’u
 
g¿ph
 = 
Ãw
 
	`JM’u
("Graph");

348 
g¿ph
.
	`£tMÃmÚic
(
KeyEv’t
.
VK_G
);

351 
fš®
 
JM’uI‹m
 
MiPhy
 = 
Ãw
 
	`JM’uI‹m
("Physical Topology");

352 
fš®
 
JM’uI‹m
 
MiVœ
 = 
Ãw
 
	`JM’uI‹m
("Virtual Topology");

353 
fš®
 
JM’uI‹m
 
MiWl1
 = 
Ãw
 
	`JM’uI‹m
("Workload Background");

354 
fš®
 
JM’uI‹m
 
MiWl2
 = 
Ãw
 
	`JM’uI‹m
("Workload");

356 
fš®
 
JM’u
 
MuPhy
 = 
Ãw
 
	`JM’u
("Physical");

357 
JM’uI‹m
 
MiPhyNode
 = 
Ãw
 
	`JM’uI‹m
("Add Node");

358 
JM’uI‹m
 
MiPhyEdge
 = 
Ãw
 
	`JM’uI‹m
("Add Edge");

359 
JM’uI‹m
 
MiPhyO³n
 = 
Ãw
 
	`JM’uI‹m
("Import Physical Topology");

360 
JM’uI‹m
 
MiPhySave
 = 
Ãw
 
	`JM’uI‹m
("Save Physical Topology");

361 
MuPhy
.
	`add
(
MiPhyNode
);

362 
MuPhy
.
	`add
(
MiPhyEdge
);

363 
MuPhy
.
	`add
(
MiPhyO³n
);

364 
MuPhy
.
	`add
(
MiPhySave
);

365 
fš®
 
JM’u
 
MuVœ
 = 
Ãw
 
	`JM’u
("Virtual");

366 
JM’uI‹m
 
MiVœNode
 = 
Ãw
 
	`JM’uI‹m
("Add Node");

367 
JM’uI‹m
 
MiVœEdge
 = 
Ãw
 
	`JM’uI‹m
("Add Edge");

368 
JM’uI‹m
 
MiVœO³n
 = 
Ãw
 
	`JM’uI‹m
("Import Virtual Topology");

369 
JM’uI‹m
 
MiVœSave
 = 
Ãw
 
	`JM’uI‹m
("Save Virtual Topology");

370 
MuVœ
.
	`add
(
MiVœNode
);

371 
MuVœ
.
	`add
(
MiVœEdge
);

372 
MuVœ
.
	`add
(
MiVœO³n
);

373 
MuVœ
.
	`add
(
MiVœSave
);

376 
MiPhy
.
	`addAùiÚLi¡’”
(
»adPhyTİoLi¡’”
);

377 
MiVœ
.
	`addAùiÚLi¡’”
(
»adVœTİoLi¡’”
);

378 
MiWl1
.
	`addAùiÚLi¡’”
(
»adWÜklßdBkLi¡’”
);

379 
MiWl2
.
	`addAùiÚLi¡’”
(
»adWÜklßdLi¡’”
);

381 
MiPhyNode
.
	`addAùiÚLi¡’”
(
addPhysiÿlNodeLi¡’”
);

382 
MiPhyEdge
.
	`addAùiÚLi¡’”
(
addPhysiÿlEdgeLi¡’”
);

383 
MiPhyO³n
.
	`addAùiÚLi¡’”
(
impÜtPhyTİoLi¡’”
);

384 
MiPhySave
.
	`addAùiÚLi¡’”
(
§vePhyTİoLi¡’”
);

385 
MiVœNode
.
	`addAùiÚLi¡’”
(
addVœtu®NodeLi¡’”
);

386 
MiVœEdge
.
	`addAùiÚLi¡’”
(
addVœtu®EdgeLi¡’”
);

387 
MiVœO³n
.
	`addAùiÚLi¡’”
(
impÜtVœTİoLi¡’”
);

388 
MiVœSave
.
	`addAùiÚLi¡’”
(
§veVœTİoLi¡’”
);

390 
g¿ph
.
	`add
(
MuPhy
);

391 
g¿ph
.
	`add
(
MuVœ
);

392 
g¿ph
.
	`add
(
MiPhy
);

393 
g¿ph
.
	`add
(
MiVœ
);

394 
g¿ph
.
	`add
(
MiWl1
);

395 
g¿ph
.
	`add
(
MiWl2
);

398 
JM’u
 
v›w
 = 
Ãw
 
	`JM’u
("View");

399 
v›w
.
	`£tMÃmÚic
(
KeyEv’t
.
VK_F
);

402 
AùiÚLi¡’”
 
aùiÚSw™ch”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

403 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

404 
Œy
 {

405 
SŒšg
 
cmd
 = 
e
.
	`g‘AùiÚCommªd
();

406 if("Cªvas" =ğ
cmd
){

407 
bŠHo¡
.
	`£tVisibË
(
Œue
);

408 
bŠHedge
.
	`£tVisibË
(
Œue
);

409 
bŠHİ’
.
	`£tVisibË
(
Œue
);

410 
bŠH§ve
.
	`£tVisibË
(
Œue
);

411 
bŠVm
.
	`£tVisibË
(
Œue
);

412 
bŠVedge
.
	`£tVisibË
(
Œue
);

413 
bŠVİ’
.
	`£tVisibË
(
Œue
);

414 
bŠV§ve
.
	`£tVisibË
(
Œue
);

415 
bŠPhy
.
	`£tVisibË
(
çl£
);

416 
bŠVœ
.
	`£tVisibË
(
çl£
);

417 
bŠWl1
.
	`£tVisibË
(
çl£
);

418 
bŠWl2
.
	`£tVisibË
(
çl£
);

420 
MiPhy
.
	`£tVisibË
(
çl£
);

421 
MiVœ
.
	`£tVisibË
(
çl£
);

422 
MiWl1
.
	`£tVisibË
(
çl£
);

423 
MiWl2
.
	`£tVisibË
(
çl£
);

424 
MuPhy
.
	`£tVisibË
(
Œue
);

425 
MuVœ
.
	`£tVisibË
(
Œue
);

427 
bŠRun
.
	`£tVisibË
(
çl£
);

428 
bŠRun
.
	`£tEÇbËd
(
çl£
);

430 
mode
 = "m";

432 }if("ExecutiÚ" =ğ
cmd
){

433 
bŠHo¡
.
	`£tVisibË
(
çl£
);

434 
bŠHedge
.
	`£tVisibË
(
çl£
);

435 
bŠHİ’
.
	`£tVisibË
(
çl£
);

436 
bŠH§ve
.
	`£tVisibË
(
çl£
);

437 
bŠVm
.
	`£tVisibË
(
çl£
);

438 
bŠVedge
.
	`£tVisibË
(
çl£
);

439 
bŠVİ’
.
	`£tVisibË
(
çl£
);

440 
bŠV§ve
.
	`£tVisibË
(
çl£
);

441 
bŠPhy
.
	`£tVisibË
(
Œue
);

442 
bŠVœ
.
	`£tVisibË
(
Œue
);

443 
bŠWl1
.
	`£tVisibË
(
Œue
);

444 
bŠWl2
.
	`£tVisibË
(
Œue
);

446 
MiPhy
.
	`£tVisibË
(
Œue
);

447 
MiVœ
.
	`£tVisibË
(
Œue
);

448 
MiWl1
.
	`£tVisibË
(
Œue
);

449 
MiWl2
.
	`£tVisibË
(
Œue
);

450 
MuPhy
.
	`£tVisibË
(
çl£
);

451 
MuVœ
.
	`£tVisibË
(
çl£
);

453 
bŠRun
.
	`£tVisibË
(
Œue
);

454 
bŠRun
.
	`£tEÇbËd
(
çl£
);

456 
mode
 = "i";

459 } 
	`ÿtch
 (
Exû±iÚ
 
ex
) {

460 
ex
.
	`´štSckT¿û
();

464 
JRadioBu‰ÚM’uI‹m
 
mªu®Mode
 = 
Ãw
 
	`JRadioBu‰ÚM’uI‹m
("Canvas");

465 
mªu®Mode
.
	`£tAcûË¿tÜ
(
KeySŒoke
.
	`g‘KeySŒoke
(
KeyEv’t
.
VK_U
, 
AùiÚEv’t
.
CTRL_MASK
));

466 
mªu®Mode
.
	`addAùiÚLi¡’”
(
aùiÚSw™ch”
);

467 
JRadioBu‰ÚM’uI‹m
 
impÜtMode
 = 
Ãw
 
	`JRadioBu‰ÚM’uI‹m
("Execution");

468 
impÜtMode
.
	`£tAcûË¿tÜ
(
KeySŒoke
.
	`g‘KeySŒoke
(
KeyEv’t
.
VK_I
, 
AùiÚEv’t
.
CTRL_MASK
));

469 
impÜtMode
.
	`addAùiÚLi¡’”
(
aùiÚSw™ch”
);

470 
Bu‰ÚGroup
 
group
 = 
Ãw
 
	`Bu‰ÚGroup
();

471 
group
.
	`add
(
mªu®Mode
);

472 
group
.
	`add
(
impÜtMode
);

474 
JM’uI‹m
 
feEx™
 = 
Ãw
 
	`JM’uI‹m
("Exit");

475 
feEx™
.
	`£tMÃmÚic
(
KeyEv’t
.
VK_C
);

476 
feEx™
.
	`£tToŞTText
("Exit CloudSim");

477 
feEx™
.
	`£tAcûË¿tÜ
(
KeySŒoke
.
	`g‘KeySŒoke
(
KeyEv’t
.
VK_W
,

478 
AùiÚEv’t
.
CTRL_MASK
));

480 
feEx™
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

481 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

482 
Sy¡em
.
	`ex™
(0);

487 
v›w
.
	`add
(
mªu®Mode
);

488 
v›w
.
	`add
(
impÜtMode
);

489 
v›w
.
	`addS•¬©Ü
();

490 
v›w
.
	`add
(
feEx™
);

494 
m’ub¬
.
	`add
(
v›w
);

495 
m’ub¬
.
	`add
(
g¿ph
);

498 
	`£tJM’uB¬
(
m’ub¬
);

504 
mªu®Mode
.
	`£tS–eùed
(
Œue
);

505 
mode
 = "m";

507 
bŠHo¡
.
	`£tVisibË
(
Œue
);

508 
bŠHedge
.
	`£tVisibË
(
Œue
);

509 
bŠHİ’
.
	`£tVisibË
(
Œue
);

510 
bŠH§ve
.
	`£tVisibË
(
Œue
);

511 
bŠVm
.
	`£tVisibË
(
Œue
);

512 
bŠVedge
.
	`£tVisibË
(
Œue
);

513 
bŠVİ’
.
	`£tVisibË
(
Œue
);

514 
bŠV§ve
.
	`£tVisibË
(
Œue
);

515 
bŠPhy
.
	`£tVisibË
(
çl£
);

516 
bŠVœ
.
	`£tVisibË
(
çl£
);

517 
bŠWl1
.
	`£tVisibË
(
çl£
);

518 
bŠWl2
.
	`£tVisibË
(
çl£
);

520 
MiPhy
.
	`£tVisibË
(
çl£
);

521 
MiVœ
.
	`£tVisibË
(
çl£
);

522 
MiWl1
.
	`£tVisibË
(
çl£
);

523 
MiWl2
.
	`£tVisibË
(
çl£
);

524 
MuPhy
.
	`£tVisibË
(
Œue
);

525 
MuVœ
.
	`£tVisibË
(
Œue
);

527 
bŠRun
.
	`£tVisibË
(
çl£
);

528 
bŠRun
.
	`£tEÇbËd
(
çl£
);

531 
	}
}

534 
´iv©e
 
	$š™G¿ph
(){

535 
physiÿlG¿ph
 = 
Ãw
 
	`G¿ph
();

536 
vœtu®G¿ph
 = 
Ãw
 
	`G¿ph
();

538 
physiÿlCªvas
 = 
Ãw
 
	`G¿phV›w
(
physiÿlG¿ph
);

539 
vœtu®Cªvas
 = 
Ãw
 
	`G¿phV›w
(
vœtu®G¿ph
);

541 
g¿ph
.
	`add
(
physiÿlCªvas
);

542 
g¿ph
.
	`add
(
vœtu®Cªvas
);

543 
cÚ‹ÁPªe
.
	`add
(
g¿ph
, 
BÜd”Layout
.
CENTER
);

544 
	}
}

548 
´iv©e
 
	$İ’AddPhysiÿlNodeDŸlog
(){

549 
AddPhysiÿlNode
 
phyNode
 = 
Ãw
 
	`AddPhysiÿlNode
(
physiÿlG¿ph
, 
G¿phicSDN
.
this
);

550 
physiÿlCªvas
.
	`»·št
();

551 
	}
}

552 
´iv©e
 
	$İ’AddPhysiÿlEdgeDŸlog
(){

553 
AddPhysiÿlEdge
 
phyEdge
 = 
Ãw
 
	`AddPhysiÿlEdge
(
physiÿlG¿ph
, 
G¿phicSDN
.
this
);

554 
physiÿlCªvas
.
	`»·št
();

555 
	}
}

556 
´iv©e
 
	$İ’AddVœtu®NodeDŸlog
(){

557 
AddVœtu®Node
 
vmNode
 = 
Ãw
 
	`AddVœtu®Node
(
vœtu®G¿ph
, 
G¿phicSDN
.
this
);

558 
vœtu®Cªvas
.
	`»·št
();

559 
	}
}

560 
´iv©e
 
	$İ’AddVœtu®EdgeDŸlog
(){

561 
AddVœtu®Edge
 
phyNode
 = 
Ãw
 
	`AddVœtu®Edge
(
vœtu®G¿ph
, 
G¿phicSDN
.
this
);

562 
vœtu®Cªvas
.
	`»·št
();

563 
	}
}

566 
´iv©e
 
SŒšg
 
	$impÜtFe
(
SŒšg
 
ty³
){

567 
JFeChoo£r
 
feİ’
 = 
Ãw
 
	`JFeChoo£r
();

568 
FeF‹r
 
f‹r
 = 
Ãw
 
	`FeNameEx‹nsiÚF‹r
(
ty³
.
	`toUµ”Ca£
()+" Files",ype);

569 
feİ’
.
	`addChoo§bËFeF‹r
(
f‹r
);

571 
»t
 = 
feİ’
.
	`showDŸlog
(
·Ãl
, "Import file");

573 ià(
»t
 =ğ
JFeChoo£r
.
APPROVE_OPTION
) {

574 
Fe
 
fe
 = 
feİ’
.
	`g‘S–eùedFe
();

576  
fe
.
	`g‘P©h
();

579 
	}
}

582 
´iv©e
 
	$§veFe
(
SŒšg
 
ty³
, 
G¿ph
 
g¿ph
è
throws
 
IOExû±iÚ
{

583 
JFeChoo£r
 
feİ’
 = 
Ãw
 
	`JFeChoo£r
();

584 
FeF‹r
 
f‹r
 = 
Ãw
 
	`FeNameEx‹nsiÚF‹r
(
ty³
.
	`toUµ”Ca£
()+" Files",ype);

585 
feİ’
.
	`addChoo§bËFeF‹r
(
f‹r
);

587 
»t
 = 
feİ’
.
	`showSaveDŸlog
(
·Ãl
);

589 ià(
»t
 =ğ
JFeChoo£r
.
APPROVE_OPTION
) {

590 
SŒšg
 
jsÚText
 = 
g¿ph
.
	`toJsÚSŒšg
();

591 
Sy¡em
.
out
.
	`´šn
(
jsÚText
);

592 
SŒšg
 
·th
 = 
feİ’
.
	`g‘S–eùedFe
().
	`toSŒšg
();

593 
Fe
 
fe
 = 
Ãw
 
	`Fe
(
·th
);

594 
FeOuutSŒ—m
 
out
 = 
Ãw
 
	`FeOuutSŒ—m
(
fe
);

595 
out
.
	`wr™e
(
jsÚText
.
	`g‘By‹s
());

596 
out
.
	`şo£
();

598 
	}
}

600 
´iv©e
 
	$£tUIFÚt
(
javax
.
swšg
.
¶af
.
FÚtUIResourû
 
f
){

601 
java
.
ut
.
Enum”©iÚ
 
keys
 = 
UIMªag”
.
	`g‘DeçuÉs
().
	`keys
();

602 
keys
.
	`hasMÜeEËm’ts
()) {

603 
Objeù
 
key
 = 
keys
.
	`ÃxtEËm’t
();

604 
Objeù
 
v®ue
 = 
UIMªag”
.
	`g‘
 (
key
);

605 ià(
v®ue
 !ğ
nuÎ
 && v®u
š¡ªûof
 
javax
.
swšg
.
¶af
.
FÚtUIResourû
)

606 
UIMªag”
.
	`put
 (
key
, 
f
);

608 
	}
}

610 
´iv©e
 
	$checkImpÜtStus
(){

611 if((
physiÿlTİŞogyFe
!=
nuÎ
 && !physiÿlTİŞogyFe.
	`isEm±y
()) &&

612 (
d•loym’tFe
!=
nuÎ
 && !d•loym’tFe.
	`isEm±y
()) &&

613 (
wÜklßds_background
!=
nuÎ
 && !wÜklßds_background.
	`isEm±y
()) &&

614 (
wÜklßds
!=
nuÎ
 && !wÜklßds.
	`isEm±y
())){

615 
bŠRun
.
	`£tEÇbËd
(
Œue
);

617 
bŠRun
.
	`£tEÇbËd
(
çl£
);

619 
	}
}

624 
public
 
	$maš
(
SŒšg
 
¬gs
[]è
throws
 
IÁ”ru±edExû±iÚ
 {

625 
SwšgUt™›s
.
	`švokeL©”
(
Ãw
 
	`RuÂabË
() {

626 
public
 
	`run
() {

627 
G¿phicSDN
 
sdn
 = 
Ãw
 
	`G¿phicSDN
();

628 
sdn
.
	`£tVisibË
(
Œue
);

631 
	}
}

	@src/org/cloudbus/cloudsim/sdn/graph/example/GraphicSDNExample.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gexam¶e
;

3 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

4 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

5 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

7 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

8 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextA»a
;

10 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”Ch¬aù”i¡ics
;

12 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gAùiv™y
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gProûssšg
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gReque¡
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gSDND©aûÁ”
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gT¿nsmissiÚ
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gSDNBrok”
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gSim¶eN‘wÜkO³¿tšgSy¡em
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gVmAÎoÿtiÚPŞicyCombšedL—¡FuÎFœ¡
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gWÜklßd
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gVmScheduËrS·ûSh¬edEÃrgy
;

27 
public
 cÏs 
	cG¿phicSDNExam¶e
 {

29 
´iv©e
 
SŒšg
 
	mphysiÿlTİŞogyFe
 = "";

30 
´iv©e
 
SŒšg
 
	md•loym’tFe
 = "";

31 
´iv©e
 
SŒšg
 
	mwÜklßds_background
 = "";

32 
´iv©e
 
SŒšg
 
	mwÜklßds
 = "";

34 
´iv©e
 
JTextA»a
 
	mouutA»a
;

36 
´iv©e
 
SDNBrok”
 
	mbrok”
;

38 
public
 
	$G¿phicSDNExam¶e
(
SŒšg
 
phy
, SŒšg 
vœ
, SŒšg 
wlbk
, SŒšg 
wl
, 
JTextA»a
 
¬—
){

39 
physiÿlTİŞogyFe
 = 
phy
;

40 
d•loym’tFe
 = 
vœ
;

41 
wÜklßds_background
 = 
wlbk
;

42 
wÜklßds
 = 
wl
;

43 
ouutA»a
 = 
¬—
;

46 
public
 
boŞ—n
 
	$simuÏ‹
() {

50 
Œy
 {

52 
num_u£r
 = 1;

53 
C®’d¬
 
ÿËnd¬
 = C®’d¬.
	`g‘In¡ªû
();

54 
boŞ—n
 
Œaû_æag
 = 
çl£
;

55 
CloudSim
.
	`š™
(
num_u£r
, 
ÿËnd¬
, 
Œaû_æag
);

58 
SDND©aûÁ”
 
d©aûÁ”
 = 
	`ü—‹SDND©aûÁ”
("D©aûÁ”_0", 
physiÿlTİŞogyFe
);

61 
brok”
 = 
	`ü—‹Brok”
();

62 
brok”Id
 = 
brok”
.
	`g‘Id
();

64 
brok”
.
	`subm™D•loyAµliÿtiÚ
(
d©aûÁ”
, 
d•loym’tFe
);

65 
brok”
.
	`subm™Reque¡s
(
wÜklßds_background
);

66 
brok”
.
	`subm™Reque¡s
(
wÜklßds
);

69 
CloudSim
.
	`¡¬tSimuÏtiÚ
();

70 
CloudSim
.
	`¡İSimuÏtiÚ
();

72  
Œue
;

73 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

74 
e
.
	`´štSckT¿û
();

77  
çl£
;

78 
	}
}

80 
public
 
	$ouut
(){

81 
Œy
 {

83 
Li¡
<
Ho¡
> 
ho¡Li¡
 = 
nos
.
	`g‘Ho¡Li¡
();

85 
	`´štEÃrgyCÚsum±iÚ
(
ho¡Li¡
);

88 
Li¡
<
CloudËt
> 
ÃwLi¡
 = 
brok”
.
	`g‘CloudËtReûivedLi¡
();

89 
	`´štCloudËtLi¡
(
ÃwLi¡
);

91 
Li¡
<
WÜklßd
> 
wls
 = 
brok”
.
	`g‘WÜklßds
();

92 
	`´štWÜklßdLi¡
(
wls
);

94 
	`­³nd
("CloudSim SDN finished!");

96 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

97 
e
.
	`´štSckT¿û
();

98 
	`­³nd
("====== OUTPUT ERROR ======");

100 
	}
}

102 
´iv©e
 
´štEÃrgyCÚsum±iÚ
(
Li¡
<
Ho¡
> 
ho¡Li¡
) {

103 
	gtÙ®EÃrgyCÚsum±iÚ
 = 0;

104 
Ho¡
 
	gho¡
:
ho¡Li¡
) {

105 
’”gy
 = ((
VmScheduËrS·ûSh¬edEÃrgy
è
ho¡
.
g‘VmScheduËr
()).
g‘Utiz©iÚEÃrgyCÚsum±iÚ
();

106 
­³nd
("Ho¡ #"+
ho¡
.
g‘Id
()+": "+
’”gy
);

107 
	gtÙ®EÃrgyCÚsum±iÚ
+ğ
’”gy
;

109 
´štHo¡Utiz©iÚHi¡Üy
(((
VmScheduËrS·ûSh¬edEÃrgy
è
ho¡
.
g‘VmScheduËr
()).
g‘Utiz©iÚHisÙry
());

112 
­³nd
("TÙ®ƒÃrgy cÚsumed: "+
tÙ®EÃrgyCÚsum±iÚ
);

116 
´iv©e
 
´štHo¡Utiz©iÚHi¡Üy
(

117 
Li¡
<
Üg
.
şoudbus
.
şoudsim
.
sdn
.
exam¶e
.
VmScheduËrS·ûSh¬edEÃrgy
.
Hi¡ÜyEÁry
> 
utiz©iÚHisÙry
) {

118 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gexam¶e
.
	gVmScheduËrS·ûSh¬edEÃrgy
.
Hi¡ÜyEÁry
 
	gh
:
utiz©iÚHisÙry
) {

119 
­³nd
(
h
.
¡¬tTime
+", "+h.
u£dMs
);

130 
´iv©e
 
Sim¶eN‘wÜkO³¿tšgSy¡em
 
	gnos
;

131 
´iv©e
 
SDND©aûÁ”
 
	$ü—‹SDND©aûÁ”
(
SŒšg
 
Çme
, SŒšg 
physiÿlTİŞogy
) {

135 
nos
 = 
Ãw
 
	`Sim¶eN‘wÜkO³¿tšgSy¡em
(
physiÿlTİŞogy
);

136 
Li¡
<
Ho¡
> 
ho¡Li¡
 = 
nos
.
	`g‘Ho¡Li¡
();

138 
SŒšg
 
¬ch
 = "x86";

139 
SŒšg
 
os
 = "Linux";

140 
SŒšg
 
vmm
 = "Xen";

142 
time_zÚe
 = 10.0;

143 
co¡
 = 3.0;

144 
co¡P”Mem
 = 0.05;

145 
co¡P”StÜage
 = 0.001;

147 
co¡P”Bw
 = 0.0;

148 
LškedLi¡
<
StÜage
> 
¡ÜageLi¡
 = 
Ãw
 LinkedList<Storage>();

151 
D©aûÁ”Ch¬aù”i¡ics
 
ch¬aù”i¡ics
 = 
Ãw
 
	`D©aûÁ”Ch¬aù”i¡ics
(

152 
¬ch
, 
os
, 
vmm
, 
ho¡Li¡
, 
time_zÚe
, 
co¡
, 
co¡P”Mem
,

153 
co¡P”StÜage
, 
co¡P”Bw
);

156 
SDND©aûÁ”
 
d©aûÁ”
 = 
nuÎ
;

157 
Œy
 {

158 
d©aûÁ”
 = 
Ãw
 
	`SDND©aûÁ”
(
Çme
, 
ch¬aù”i¡ics
,‚ew 
	`VmAÎoÿtiÚPŞicyCombšedL—¡FuÎFœ¡
(
ho¡Li¡
), 
¡ÜageLi¡
, 0, 
nos
);

162 
nos
.
	`£tD©aûÁ”
(
d©aûÁ”
);

163 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

164 
e
.
	`´štSckT¿û
();

167  
d©aûÁ”
;

168 
	}
}

178 
´iv©e
 
SDNBrok”
 
	$ü—‹Brok”
() {

179 
SDNBrok”
 
brok”
 = 
nuÎ
;

180 
Œy
 {

181 
brok”
 = 
Ãw
 
	`SDNBrok”
("Broker");

182 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

183 
e
.
	`´štSckT¿û
();

184  
nuÎ
;

186  
brok”
;

187 
	}
}

189 
public
 
SŒšg
 
	gšd’t
 = ",";

190 
public
 
SŒšg
 
	gbSize
 = "10";

191 
public
 
SŒšg
 
	gfSŒšg
 = "%"+
bSize
+"s"+
šd’t
;

192 
public
 
SŒšg
 
	gfIÁ
 = "%"+
bSize
+"d"+
šd’t
;

193 
public
 
SŒšg
 
	gfFlßt
 = "%"+
bSize
+".2f"+
šd’t
;

195 
´iv©e
 
´štCloudËtLi¡
(
Li¡
<
CloudËt
> 
li¡
) {

196 
	gsize
 = 
li¡
.
size
();

197 
SŒšg
 
	gcÚ‹Á
 = "";

198 
CloudËt
 
	gşoudËt
;

200 
­³nd
("");

201 
­³nd
("========== OUTPUT ==========");

203 
	gcÚ‹Á
 = 
SŒšg
.
fÜm©
(
fSŒšg
, "Cloudlet_ID") +

204 
	gSŒšg
.
fÜm©
(
fSŒšg
, "STATUS" ) +

205 
	gSŒšg
.
fÜm©
(
fSŒšg
, "DataCenter_ID") +

206 
	gSŒšg
.
fÜm©
(
fSŒšg
, "VM_ID") +

207 
	gSŒšg
.
fÜm©
(
fSŒšg
, "Length") +

208 
	gSŒšg
.
fÜm©
(
fSŒšg
, "Time") +

209 
	gSŒšg
.
fÜm©
(
fSŒšg
, "Start Time") +

210 
	gSŒšg
.
fÜm©
(
fSŒšg
, "Finish Time");

211 
­³nd
(
cÚ‹Á
);

214 
	gi
 = 0; i < 
	gsize
; i++) {

215 
	gşoudËt
 = 
li¡
.
g‘
(
i
);

216 
´štCloudËt
(
şoudËt
);

220 
´iv©e
 
	$´štCloudËt
(
CloudËt
 
şoudËt
) {

221 
SŒšg
 
cÚ‹Á
 = SŒšg.
	`fÜm©
(
fIÁ
, 
şoudËt
.
	`g‘CloudËtId
());

223 ià(
şoudËt
.
	`g‘CloudËtStus
(è=ğ
CloudËt
.
SUCCESS
) {

224 
cÚ‹Á
 = content +

225 
SŒšg
.
	`fÜm©
(
fSŒšg
, "SUCCESS") +

226 
SŒšg
.
	`fÜm©
(
fIÁ
, 
şoudËt
.
	`g‘ResourûId
()) +

227 
SŒšg
.
	`fÜm©
(
fIÁ
, 
şoudËt
.
	`g‘VmId
()) +

228 
SŒšg
.
	`fÜm©
(
fIÁ
, 
şoudËt
.
	`g‘CloudËtL’gth
()) +

229 
SŒšg
.
	`fÜm©
(
fFlßt
, 
şoudËt
.
	`g‘Aùu®CPUTime
()) +

230 
SŒšg
.
	`fÜm©
(
fFlßt
, 
şoudËt
.
	`g‘ExecS¹Time
()) +

231 
SŒšg
.
	`fÜm©
(
fFlßt
, 
şoudËt
.
	`g‘FšishTime
());

234 
cÚ‹Á
 += "FAILED";

236 
	`­³nd
(
cÚ‹Á
);

237 
	}
}

239 
´iv©e
 
	g¡¬tTime
, 
	gfšishTime
;

240 
´iv©e
 
´štWÜklßdLi¡
(
Li¡
<
WÜklßd
> 
wls
) {

241 [] 
	g­pIdNum
 = 
Ãw
 [
SDNBrok”
.
­pId
];

242 [] 
	g­pIdTime
 = 
Ãw
 [
SDNBrok”
.
­pId
];

243 [] 
	g­pIdS¹Time
 = 
Ãw
 [
SDNBrok”
.
­pId
];

244 [] 
	g­pIdFšishTime
 = 
Ãw
 [
SDNBrok”
.
­pId
];

246 
	g£rveTime
, 
	gtÙ®Time
 = 0;

248 
­³nd
(" ");

249 
­³nd
("========== OUTPUT ==========");

251 
´štReque¡T™Ë
(
wls
.
g‘
(0).
»que¡
);

252 
­³nd
(" ");

254 
WÜklßd
 
	gwl
:
wls
) {

255 
¡¬tTime
 = 
fšishTime
 = -1;

256 
´štReque¡
(
wl
.
»que¡
);

258 
	g£rveTime
ğ(
fšishTime
 - 
¡¬tTime
);

259 
­³nd
(
SŒšg
.
fÜm©
(
fFlßt
, 
£rveTime
));

260 
	gtÙ®Time
 +ğ
£rveTime
;

262 
	g­pIdNum
[
wl
.
­pId
] ++;

263 
	g­pIdTime
[
wl
.
­pId
] +ğ
£rveTime
;

264 if(
	g­pIdS¹Time
[
wl
.
­pId
] <=0) {

265 
­pIdS¹Time
[
wl
.
­pId
] = wl.
time
;

267 
	g­pIdFšishTime
[
wl
.
­pId
] = wl.
time
;

268 
­³nd
(" ");

270 
	gi
=0; i<
	gSDNBrok”
.
	g­pId
; i++) {

271 
­³nd
("Aµ Id ("+
i
+"): "+
­pIdNum
[i]+"„eque¡s, S¹=" + 
­pIdS¹Time
[i]+

272 ", Fšish="+
­pIdFšishTime
[
i
]+", R©e="+()
­pIdNum
[i]/×µIdFšishTime[i] - 
­pIdS¹Time
[i])+

273 "„eq/£c, Re¥Ú£ime=" + 
­pIdTime
[
i
]/
­pIdNum
[i]);

276 
­³nd
("Av”agRe¥Ú£ Time:"+(
tÙ®Time
 / 
wls
.
size
()));

280 
´iv©e
 
	$´štReque¡T™Ë
(
Reque¡
 
»q
) {

281 
SŒšg
 
cÚ‹Á
 = SŒšg.
	`fÜm©
(
fSŒšg
, "Req_ID");

285 
Li¡
<
Aùiv™y
> 
aùs
 = 
»q
.
	`g‘RemovedAùiv™›s
();

286 
Aùiv™y
 
aù
:
aùs
) {

287 if(
aù
 
š¡ªûof
 
T¿nsmissiÚ
) {

288 
T¿nsmissiÚ
 
Œ
=(T¿nsmissiÚ)
aù
;

289 
cÚ‹Á
 +=

290 
SŒšg
.
	`fÜm©
(
fSŒšg
, "Tr:Size") +

291 
SŒšg
.
	`fÜm©
(
fSŒšg
, "Tr:Channel") +

292 
SŒšg
.
	`fÜm©
(
fSŒšg
, "Tr:time") +

293 
SŒšg
.
	`fÜm©
(
fSŒšg
, "Tr:Start") +

294 
SŒšg
.
	`fÜm©
(
fSŒšg
, "Tr:End");

296 
	`´štReque¡T™Ë
(
Œ
.
	`g‘Package
().
	`g‘Paylßd
());

299 
cÚ‹Á
 +=

300 
SŒšg
.
	`fÜm©
(
fSŒšg
, "Pr:Size") +

301 
SŒšg
.
	`fÜm©
(
fSŒšg
, "Pr:time") +

302 
SŒšg
.
	`fÜm©
(
fSŒšg
, "Pr:Start") +

303 
SŒšg
.
	`fÜm©
(
fSŒšg
, "Pr:End");

306 
	`­³nd
(
cÚ‹Á
);

307 
	}
}

309 
´iv©e
 
	$´štReque¡
(
Reque¡
 
»q
) {

310 
SŒšg
 
cÚ‹Á
 = SŒšg.
	`fÜm©
(
fIÁ
, 
»q
.
	`g‘Reque¡Id
());

314 
Li¡
<
Aùiv™y
> 
aùs
 = 
»q
.
	`g‘RemovedAùiv™›s
();

315 
Aùiv™y
 
aù
:
aùs
) {

316 if(
aù
 
š¡ªûof
 
T¿nsmissiÚ
) {

317 
T¿nsmissiÚ
 
Œ
=(T¿nsmissiÚ)
aù
;

318 
cÚ‹Á
 +=

319 
SŒšg
.
	`fÜm©
(
fIÁ
, 
Œ
.
	`g‘Package
().
	`g‘Size
()) +

320 
SŒšg
.
	`fÜm©
(
fIÁ
, 
Œ
.
	`g‘Package
().
	`g‘FlowId
()) +

322 
SŒšg
.
	`fÜm©
(
fFlßt
, 
Œ
.
	`g‘Package
().
	`g‘FšishTime
(è-r.g‘Package().
	`g‘S¹Time
()) +

323 
SŒšg
.
	`fÜm©
(
fFlßt
, 
Œ
.
	`g‘Package
().
	`g‘S¹Time
()) +

324 
SŒšg
.
	`fÜm©
(
fFlßt
, 
Œ
.
	`g‘Package
().
	`g‘FšishTime
());

326 
	`´štReque¡
(
Œ
.
	`g‘Package
().
	`g‘Paylßd
());

329 
Proûssšg
 
´
=(Proûssšg)
aù
;

330 
cÚ‹Á
 +=

331 
SŒšg
.
	`fÜm©
(
fIÁ
, 
´
.
	`g‘CloudËt
().
	`g‘CloudËtL’gth
()) +

333 
SŒšg
.
	`fÜm©
(
fFlßt
, 
´
.
	`g‘CloudËt
().
	`g‘Aùu®CPUTime
()) +

334 
SŒšg
.
	`fÜm©
(
fFlßt
, 
´
.
	`g‘CloudËt
().
	`g‘ExecS¹Time
()) +

335 
SŒšg
.
	`fÜm©
(
fFlßt
, 
´
.
	`g‘CloudËt
().
	`g‘FšishTime
());

337 if(
¡¬tTime
 =ğ-1è¡¬tTimğ
´
.
	`g‘CloudËt
().
	`g‘ExecS¹Time
();

338 
fšishTime
=
´
.
	`g‘CloudËt
().
	`g‘FšishTime
();

341 
	`­³nd
(
cÚ‹Á
);

342 
	}
}

344 
´iv©e
 
	$­³nd
(
SŒšg
 
cÚ‹Á
){

345 
ouutA»a
.
	`­³nd
(
cÚ‹Á
+"\n");

346 
	}
}

	@src/org/cloudbus/cloudsim/sdn/overbooking/BwProvisionerOverbooking.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gM­
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gBwProvisiÚ”
;

25 
public
 cÏs 
	cBwProvisiÚ”Ov”bookšg
 
ex‹nds
 
	mBwProvisiÚ”
 {

28 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLÚg
> 
	mbwTabË
;

29 
public
 
fš®
 
	mov”bookšgR©ioBw
 = 1.0;

36 
public
 
	$BwProvisiÚ”Ov”bookšg
(
bw
) {

37 
	`su³r
(
bw
);

38 
	`£tAvaabËBw
((è
	`g‘Ov”bookedBw
(
bw
));

40 
	`£tBwTabË
(
Ãw
 
HashM­
<
SŒšg
, 
LÚg
>());

47 @
Ov”ride


48 
public
 
boŞ—n
 
	$®loÿ‹BwFÜVm
(
Vm
 
vm
, 
bw
) {

49 
	`d—Îoÿ‹BwFÜVm
(
vm
);

51 ià(
	`g‘AvaabËBw
(è>ğ
bw
) {

52 
	`£tAvaabËBw
(
	`g‘AvaabËBw
(è- 
bw
);

53 
	`g‘BwTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
bw
);

54 
vm
.
	`£tCu¼’tAÎoÿ‹dBw
(
	`g‘AÎoÿ‹dBwFÜVm
(vm));

55  
Œue
;

58 
vm
.
	`£tCu¼’tAÎoÿ‹dBw
(
	`g‘AÎoÿ‹dBwFÜVm
(vm));

59  
çl£
;

60 
	}
}

66 @
Ov”ride


67 
public
 
	$g‘AÎoÿ‹dBwFÜVm
(
Vm
 
vm
) {

68 ià(
	`g‘BwTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

69  
	`g‘BwTabË
().
	`g‘
(
vm
.
	`g‘Uid
());

72 
	}
}

78 @
Ov”ride


79 
public
 
	$d—Îoÿ‹BwFÜVm
(
Vm
 
vm
) {

80 ià(
	`g‘BwTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

81 
amouÁF»ed
 = 
	`g‘BwTabË
().
	`»move
(
vm
.
	`g‘Uid
());

82 
	`£tAvaabËBw
(
	`g‘AvaabËBw
(è+ 
amouÁF»ed
);

83 
vm
.
	`£tCu¼’tAÎoÿ‹dBw
(0);

85 
	}
}

91 @
Ov”ride


92 
public
 
	$d—Îoÿ‹BwFÜAÎVms
() {

93 
su³r
.
	`d—Îoÿ‹BwFÜAÎVms
();

95 
	`£tAvaabËBw
((è
	`g‘Ov”bookedBw
(
	`g‘Bw
()));

96 
	`g‘BwTabË
().
	`ş—r
();

97 
	}
}

105 @
Ov”ride


106 
public
 
boŞ—n
 
	$isSu™abËFÜVm
(
Vm
 
vm
, 
bw
) {

107 
®loÿ‹dBw
 = 
	`g‘AÎoÿ‹dBwFÜVm
(
vm
);

108 
boŞ—n
 
»suÉ
 = 
	`®loÿ‹BwFÜVm
(
vm
, 
bw
);

109 
	`d—Îoÿ‹BwFÜVm
(
vm
);

110 ià(
®loÿ‹dBw
 > 0) {

111 
	`®loÿ‹BwFÜVm
(
vm
, 
®loÿ‹dBw
);

113  
»suÉ
;

114 
	}
}

121 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLÚg
> 
	$g‘BwTabË
() {

122  
bwTabË
;

123 
	}
}

130 
´Ùeùed
 
£tBwTabË
(
M­
<
SŒšg
, 
LÚg
> 
bwTabË
) {

131 
	gthis
.
	gbwTabË
 = 
bwTabË
;

134 
public
 
	$g‘Ov”bookedBw
(
ÿ·c™y
) {

135 
ov”bookedBw
 = 
ÿ·c™y
 * 
BwProvisiÚ”Ov”bookšg
.
ov”bookšgR©ioBw
;

136  
ov”bookedBw
;

137 
	}
}

	@src/org/cloudbus/cloudsim/sdn/overbooking/OverbookingNetworkOperatingSystem.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
;

3 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚ
;

4 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

5 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

7 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

8 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

9 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

10 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmScheduËr
;

12 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gBwProvisiÚ”
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”Sim¶e
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gArc
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gLšk
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gMiddËbox
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gN‘wÜkO³¿tšgSy¡em
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gNode
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gSDNHo¡
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gTimedVm
;

26 
public
 cÏs 
	cOv”bookšgN‘wÜkO³¿tšgSy¡em
 
ex‹nds
 
	mN‘wÜkO³¿tšgSy¡em
 {

28 
public
 
	$Ov”bookšgN‘wÜkO³¿tšgSy¡em
(
SŒšg
 
feName
) {

29 
	`su³r
(
feName
);

32 @
Ov”ride


33 
public
 
boŞ—n
 
	`d•loyAµliÿtiÚ
(
Li¡
<
Vm
> 
vms
, Li¡<
MiddËbox
> 
middËboxes
, Li¡<
Arc
> 
lšks
) {

34 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
() + ": Starting deploying‡pplication..");

36 
Vm
 
vm
:
vms
)

38 
TimedVm
 
tvm
 = (TimedVmè
vm
;

39 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": TryšgØC»©VM #" + 
vm
.
	`g‘Id
()

40 + " iÀ" + 
d©aûÁ”
.
	`g‘Name
(è+ ", (" + 
tvm
.
	`g‘S¹Time
(è+ "~" +tvm.
	`g‘FšishTime
() + ")");

41 
	`£nd
(
d©aûÁ”
.
	`g‘Id
(), 
tvm
.
	`g‘S¹Time
(), 
CloudSimTags
.
VM_CREATE_ACK
, 
vm
);

43 if(
tvm
.
	`g‘FšishTime
(è!ğ
DoubË
.
POSITIVE_INFINITY
) {

44 
	`£nd
(
d©aûÁ”
.
	`g‘Id
(), 
tvm
.
	`g‘FšishTime
(), 
CloudSimTags
.
VM_DESTROY
, 
vm
);

45 
	`£nd
(
this
.
	`g‘Id
(), 
tvm
.
	`g‘FšishTime
(), 
CloudSimTags
.
VM_DESTROY
, 
vm
);

48  
Œue
;

49 
	}
}

51 
public
 
boŞ—n
 
d•loyFlow
(
Li¡
<
Arc
> 
lšks
) {

52 
Arc
 
	glšk
:
lšks
) {

53 
¤cVm
 = 
lšk
.
g‘SrcId
();

54 
	gd¡Vm
 = 
lšk
.
g‘D¡Id
();

55 
	gæowId
 = 
lšk
.
g‘FlowId
();

57 
SDNHo¡
 
	g¤cho¡
 = 
fšdSDNHo¡
(
¤cVm
);

58 
SDNHo¡
 
	gd¡ho¡
 = 
fšdSDNHo¡
(
d¡Vm
);

59 if(
	g¤cho¡
 =ğ
nuÎ
 || 
d¡ho¡
 ==‚ull) {

63 if(
	g¤cho¡
.
equ®s
(
d¡ho¡
)) {

64 
	gLog
.
´štLše
(
CloudSim
.
şock
(è+ ": " + 
g‘Name
() + ": Source SDN Host is same‡s Destination. Go†oopback");

65 
	g¤cho¡
.
addVMRou‹
(
¤cVm
, 
d¡Vm
, 
æowId
, 
d¡ho¡
);

68 
	gLog
.
´štLše
(
CloudSim
.
şock
(è+ ": " + 
g‘Name
() + ": VMs‡re in different hosts. Createƒntire„outingable (hosts, switches)");

69 
boŞ—n
 
	gfšdRou‹
 = 
budRoutšgTabËs
(
¤cho¡
, 
¤cVm
, 
d¡Vm
, 
æowId
, 
nuÎ
);

71 if(!
	gfšdRou‹
) {

72 
	gSy¡em
.
	g”r
.
´šn
("SimpleNetworkOperatingSystem.deployFlow: Could‚ot find„oute!!" +

73 
N‘wÜkO³¿tšgSy¡em
.
debugVmIdName
.
g‘
(
¤cVm
è+ "->"+N‘wÜkO³¿tšgSy¡em.debugVmIdName.g‘(
d¡Vm
));

80 
Node
 
	gnode
:
this
.
tİŞogy
.
g‘AÎNodes
()) {

81 
node
.
´štVMRou‹
();

83  
	gŒue
;

86 
´iv©e
 
boŞ—n
 
	$budRoutšgTabËs
(
Node
 
node
, 
¤cVm
, 
d¡Vm
, 
æowId
, Nod
´evNode
) {

87 
CŞËùiÚ
<
Lšk
> 
lšks
 = 
this
.
tİŞogy
.
	`g‘AdjaûÁLšks
(
node
);

88 if(
lšks
.
	`size
() == 0) {

91 if(
lšks
.
	`size
() == 1) {

93 
Lšk
 
l
:
lšks
) {

94 
Node
 
ÃxtHİ
ğ
l
.
	`g‘HighOrd”
();

95 if(
ÃxtHİ
.
	`equ®s
(
node
))

96 
ÃxtHİ
ğ
l
.
	`g‘LowOrd”
();

98 
node
.
	`addVMRou‹
(
¤cVm
, 
d¡Vm
, 
æowId
, 
ÃxtHİ
);

99 
	`budRoutšgTabËs
(
ÃxtHİ
, 
¤cVm
, 
d¡Vm
, 
æowId
, 
node
);

101  
Œue
;

105 
SDNHo¡
 
d¡ho¡
 = 
	`fšdSDNHo¡
(
d¡Vm
);

107 
Lšk
 
l
:
lšks
) {

108 
Node
 
ÃxtHİ
ğ
l
.
	`g‘HighOrd”
();

109 if(
ÃxtHİ
.
	`equ®s
(
node
))

110 
ÃxtHİ
ğ
l
.
	`g‘LowOrd”
();

112 if(
ÃxtHİ
.
	`equ®s
(
´evNode
)) {

116 if(
ÃxtHİ
.
	`equ®s
(
d¡ho¡
)) {

118 
node
.
	`addVMRou‹
(
¤cVm
, 
d¡Vm
, 
æowId
, 
ÃxtHİ
);

119  
Œue
;

121 if(
ÃxtHİ
 
š¡ªûof
 
SDNHo¡
) {

127 if(
	`budRoutšgTabËs
(
ÃxtHİ
, 
¤cVm
, 
d¡Vm
, 
æowId
, 
node
)) {

129 
node
.
	`addVMRou‹
(
¤cVm
, 
d¡Vm
, 
æowId
, 
ÃxtHİ
);

130  
Œue
;

137  
çl£
;

138 
	}
}

140 @
Ov”ride


141 
´Ùeùed
 
MiddËbox
 
	$d•loyMiddËbox
(
SŒšg
 
ty³
,
Vm
 
vm
) {

142  
nuÎ
;

143 
	}
}

145 @
Ov”ride


146 
public
 
	$´oûssVmC»©eAck
(
SimEv’t
 
ev
) {

148 
TimedVm
 
vm
 = (TimedVmè
ev
.
	`g‘D©a
();

149 
Log
.
	`´štLše
(
CloudSim
.
	`şock
(è+ ": " + 
	`g‘Name
(è+ ": VM C»©ed: " + 
vm
.
	`g‘Id
(è+ " iÀ" + 
this
.
	`fšdSDNHo¡
(vm.getId()));

150 
	`d•loyFlow
(
this
.
¬cLi¡
);

151 
	}
}

153 @
Ov”ride


154 
´Ùeùed
 
Ho¡
 
	$ü—‹Ho¡
(
ho¡Id
, 
¿m
, 
bw
, 
¡Üage
, 
³s
, 
ms
) {

155 
LškedLi¡
<
Pe
> 
³Li¡
 = 
Ãw
 LinkedList<Pe>();

156 
³Id
=0;

157 
i
=0;i<
³s
;i++è
³Li¡
.
	`add
(
Ãw
 
	`Pe
(
³Id
++,Ãw 
	`PeProvisiÚ”Ov”bookšg
(
ms
)));

159 
RamProvisiÚ”
 
¿mPro
 = 
Ãw
 
	`RamProvisiÚ”Sim¶e
(
¿m
);

160 
BwProvisiÚ”
 
bwPro
 = 
Ãw
 
	`BwProvisiÚ”Ov”bookšg
(
bw
);

161 
VmScheduËr
 
vmScheduËr
 = 
Ãw
 
	`VmScheduËrTimeSh¬edOv”bookšgEÃrgy
(
³Li¡
);

162 
Ho¡
 
ÃwHo¡
 = 
Ãw
 
	`Ho¡
(
ho¡Id
, 
¿mPro
, 
bwPro
, 
¡Üage
, 
³Li¡
, 
vmScheduËr
);

164  
ÃwHo¡
;

165 
	}
}

	@src/org/cloudbus/cloudsim/sdn/overbooking/PeProvisionerOverbooking.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gM­
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gPeProvisiÚ”
;

25 
public
 cÏs 
	cPeProvisiÚ”Ov”bookšg
 
ex‹nds
 
	mPeProvisiÚ”
 {

28 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLi¡
<
	mDoubË
>> 
	m³TabË
;

29 
public
 
fš®
 
	mov”bookšgR©ioMs
 = 4.0;

39 
public
 
	$PeProvisiÚ”Ov”bookšg
(
avaabËMs
) {

40 
	`su³r
(
avaabËMs
);

42 
	`£tAvaabËMs
(
PeProvisiÚ”Ov”bookšg
.
	`g‘Ov”bookedMs
(
avaabËMs
));

44 
	`£tPeTabË
(
Ãw
 
HashM­
<
SŒšg
, 
A¼ayLi¡
<
DoubË
>>());

51 @
Ov”ride


52 
public
 
boŞ—n
 
	$®loÿ‹MsFÜVm
(
Vm
 
vm
, 
ms
) {

53  
	`®loÿ‹MsFÜVm
(
vm
.
	`g‘Uid
(), 
ms
);

54 
	}
}

60 @
Ov”ride


61 
public
 
boŞ—n
 
	$®loÿ‹MsFÜVm
(
SŒšg
 
vmUid
, 
ms
) {

62 ià(
	`g‘AvaabËMs
(è< 
ms
) {

63  
çl£
;

66 
Li¡
<
DoubË
> 
®loÿ‹dMs
;

68 ià(
	`g‘PeTabË
().
	`cÚšsKey
(
vmUid
)) {

69 
®loÿ‹dMs
 = 
	`g‘PeTabË
().
	`g‘
(
vmUid
);

71 
®loÿ‹dMs
 = 
Ãw
 
A¼ayLi¡
<
DoubË
>();

74 
®loÿ‹dMs
.
	`add
(
ms
);

76 
	`£tAvaabËMs
(
	`g‘AvaabËMs
(è- 
ms
);

77 
	`g‘PeTabË
().
	`put
(
vmUid
, 
®loÿ‹dMs
);

79  
Œue
;

80 
	}
}

87 @
Ov”ride


88 
public
 
boŞ—n
 
®loÿ‹MsFÜVm
(
Vm
 
vm
, 
Li¡
<
DoubË
> 
ms
) {

89 
	gtÙ®MsToAÎoÿ‹
 = 0;

90 
	g_ms
 : 
ms
) {

91 
tÙ®MsToAÎoÿ‹
 +ğ
_ms
;

94 ià(
g‘AvaabËMs
(è+ 
g‘TÙ®AÎoÿ‹dMsFÜVm
(
vm
è< 
	gtÙ®MsToAÎoÿ‹
) {

95  
	gçl£
;

98 
£tAvaabËMs
(
g‘AvaabËMs
(è+ 
g‘TÙ®AÎoÿ‹dMsFÜVm
(
vm
è- 
tÙ®MsToAÎoÿ‹
);

100 
g‘PeTabË
().
put
(
vm
.
g‘Uid
(), 
ms
);

102  
	gŒue
;

109 @
Ov”ride


110 
public
 
	$d—Îoÿ‹MsFÜAÎVms
() {

111 
su³r
.
	`d—Îoÿ‹MsFÜAÎVms
();

113 
	`£tAvaabËMs
(
PeProvisiÚ”Ov”bookšg
.
	`g‘Ov”bookedMs
(
	`g‘Ms
()));

115 
	`g‘PeTabË
().
	`ş—r
();

116 
	}
}

124 @
Ov”ride


125 
public
 
	$g‘AÎoÿ‹dMsFÜVmByVœtu®PeId
(
Vm
 
vm
, 
³Id
) {

126 ià(
	`g‘PeTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

127 
Œy
 {

128  
	`g‘PeTabË
().
	`g‘
(
vm
.
	`g‘Uid
()).g‘(
³Id
);

129 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

133 
	}
}

139 @
Ov”ride


140 
public
 
	gLi¡
<
	gDoubË
> 
	$g‘AÎoÿ‹dMsFÜVm
(
Vm
 
vm
) {

141 ià(
	`g‘PeTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

142  
	`g‘PeTabË
().
	`g‘
(
vm
.
	`g‘Uid
());

144  
nuÎ
;

145 
	}
}

151 @
Ov”ride


152 
public
 
	$g‘TÙ®AÎoÿ‹dMsFÜVm
(
Vm
 
vm
) {

153 ià(
	`g‘PeTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

154 
tÙ®AÎoÿ‹dMs
 = 0.0;

155 
ms
 : 
	`g‘PeTabË
().
	`g‘
(
vm
.
	`g‘Uid
())) {

156 
tÙ®AÎoÿ‹dMs
 +ğ
ms
;

158  
tÙ®AÎoÿ‹dMs
;

161 
	}
}

167 @
Ov”ride


168 
public
 
	$d—Îoÿ‹MsFÜVm
(
Vm
 
vm
) {

169 ià(
	`g‘PeTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

170 
ms
 : 
	`g‘PeTabË
().
	`g‘
(
vm
.
	`g‘Uid
())) {

171 
	`£tAvaabËMs
(
	`g‘AvaabËMs
(è+ 
ms
);

173 
	`g‘PeTabË
().
	`»move
(
vm
.
	`g‘Uid
());

175 
	}
}

182 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLi¡
<
	gDoubË
>> 
	$g‘PeTabË
() {

183  
³TabË
;

184 
	}
}

191 @
Suµ»ssW¬nšgs
("unchecked")

192 
´Ùeùed
 
£tPeTabË
(
M­
<
SŒšg
, ? 
ex‹nds
 
Li¡
<
DoubË
>> 
³TabË
) {

193 
	gthis
.
	g³TabË
 = (
M­
<
SŒšg
, 
	gLi¡
<
	gDoubË
>>)…eTable;

196 
public
 
	$g‘Ov”bookedMs
(
avaabËMs
) {

197 
ov”bookedMs
 = 
avaabËMs
 * 
PeProvisiÚ”Ov”bookšg
.
ov”bookšgR©ioMs
;

198  
ov”bookedMs
;

199 
	}
}

	@src/org/cloudbus/cloudsim/sdn/overbooking/VmAllocationPolicyOverbooking.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

5 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

6 
impÜt
 
	gjava
.
	gut
.
	gM­
;

8 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

9 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

10 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicy
;

12 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gpow”
.
	gPow”Utiz©iÚMaxHo¡IÁ”çû
;

15 
public
 cÏs 
	cVmAÎoÿtiÚPŞicyOv”bookšg
 
ex‹nds
 
VmAÎoÿtiÚPŞicy
 
im¶em’ts
 
	mPow”Utiz©iÚMaxHo¡IÁ”çû
 {

17 
´Ùeùed
 
fš®
 
	mho¡TÙ®Ms
;

18 
´Ùeùed
 
fš®
 
	mho¡TÙ®Bw
;

19 
´Ùeùed
 
fš®
 
	mho¡TÙ®Pes
;

22 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mHo¡
> 
	mvmTabË
;

25 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	mu£dPes
;

28 
´iv©e
 
	mLi¡
<
	mIÁeg”
> 
	mä“Pes
;

30 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLÚg
> 
	mu£dMs
;

31 
´iv©e
 
	mLi¡
<
	mLÚg
> 
	mä“Ms
;

32 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLÚg
> 
	mu£dBw
;

33 
´iv©e
 
	mLi¡
<
	mLÚg
> 
	mä“Bw
;

42 
public
 
VmAÎoÿtiÚPŞicyOv”bookšg
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

43 
su³r
(
li¡
);

45 
£tF»ePes
(
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

46 
£tF»eMs
(
Ãw
 
A¼ayLi¡
<
LÚg
>());

47 
£tF»eBw
(
Ãw
 
A¼ayLi¡
<
LÚg
>());

49 
Ho¡
 
	mho¡
 : 
g‘Ho¡Li¡
()) {

50 
g‘F»ePes
().
add
(
ho¡
.
g‘Numb”OfPes
());

51 
g‘F»eMs
().
add
((è
PeProvisiÚ”Ov”bookšg
.
g‘Ov”bookedMs
((
ho¡
.
g‘TÙ®Ms
())));

52 
g‘F»eBw
().
add
((è
BwProvisiÚ”Ov”bookšg
.
g‘Ov”bookedBw
(
ho¡
.
g‘Bw
()));

54 
	mho¡TÙ®Ms
 = 
g‘Ho¡Li¡
().
g‘
(0).
g‘TÙ®Ms
();

55 
	mho¡TÙ®Bw
 = 
g‘Ho¡Li¡
().
g‘
(0).
g‘Bw
();

56 
	mho¡TÙ®Pes
 = 
g‘Ho¡Li¡
().
g‘
(0).
g‘Numb”OfPes
();

58 
£tVmTabË
(
Ãw
 
HashM­
<
SŒšg
, 
Ho¡
>());

59 
£tU£dPes
(
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

60 
£tU£dMs
(
Ãw
 
HashM­
<
SŒšg
, 
LÚg
>());

61 
£tU£dBw
(
Ãw
 
HashM­
<
SŒšg
, 
LÚg
>());

64 
´Ùeùed
 
	$cÚv”tWeigh‹dM‘ric
(
msP”ûÁ
, 
bwP”ûÁ
) {

65 
»t
 = 
msP”ûÁ
 * 
bwP”ûÁ
;

66  
»t
;

67 
	}
}

76 @
Ov”ride


77 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

78 ià(
	`g‘VmTabË
().
	`cÚšsKey
(
vm
.
	`g‘Uid
())) {

79  
çl£
;

82 
numHo¡s
 = 
	`g‘Ho¡Li¡
().
	`size
();

85 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

86 
»quœedMs
 = 
vm
.
	`g‘Cu¼’tReque¡edTÙ®Ms
();

87 
»quœedBw
 = 
vm
.
	`g‘Cu¼’tReque¡edBw
();

89 
boŞ—n
 
»suÉ
 = 
çl£
;

92 [] 
ä“Resourûs
 = 
Ãw
 [
numHo¡s
];

93 
i
 = 0; i < 
numHo¡s
; i++) {

94 
msF»eP”ûÁ
 = ()
	`g‘F»eMs
().
	`g‘
(
i
è/ 
this
.
ho¡TÙ®Ms
;

95 
bwF»eP”ûÁ
 = ()
	`g‘F»eBw
().
	`g‘
(
i
è/ 
this
.
ho¡TÙ®Bw
;

97 
ä“Resourûs
[
i
] = 
this
.
	`cÚv”tWeigh‹dM‘ric
(
msF»eP”ûÁ
, 
bwF»eP”ûÁ
);

101 
Œ›s
 = 0; 
»suÉ
 =ğ
çl£
 &&r› < 
numHo¡s
;ries++) {

102 
ËssF»e
 = 
DoubË
.
POSITIVE_INFINITY
;

103 
idx
 = -1;

106 
i
 = 0; i < 
numHo¡s
; i++) {

107 ià(
ä“Resourûs
[
i
] < 
ËssF»e
) {

108 
ËssF»e
 = 
ä“Resourûs
[
i
];

109 
idx
 = 
i
;

112 
ä“Resourûs
[
idx
] = 
DoubË
.
POSITIVE_INFINITY
;

114 
Ho¡
 
ho¡
 = 
	`g‘Ho¡Li¡
().
	`g‘
(
idx
);

117 ifĞ
	`g‘F»eMs
().
	`g‘
(
idx
è< 
»quœedMs
) {

118 
Sy¡em
.
”r
.
	`fÜm©
("notƒnough MIPS. MIPS %d(%.2f) / BW %d (%.2f)\n",

119 
	`g‘F»eMs
().
	`g‘
(
idx
),

120 ()
	`g‘F»eMs
().
	`g‘
(
idx
)/
»quœedMs
,

121 
	`g‘F»eBw
().
	`g‘
(
idx
),

122 ()
	`g‘F»eBw
().
	`g‘
(
idx
è/ 
»quœedBw
);

125 ifĞ
	`g‘F»eBw
().
	`g‘
(
idx
è< 
»quœedBw
) {

126 
Sy¡em
.
”r
.
	`fÜm©
("notƒnough BW. MIPS %d(%.2f) / BW %d (%.2f)\n",

127 
	`g‘F»eMs
().
	`g‘
(
idx
),

128 ()
	`g‘F»eMs
().
	`g‘
(
idx
)/
»quœedMs
,

129 
	`g‘F»eBw
().
	`g‘
(
idx
),

130 ()
	`g‘F»eBw
().
	`g‘
(
idx
è/ 
»quœedBw
);

134 
»suÉ
 = 
ho¡
.
	`vmC»©e
(
vm
);

136 ià(
»suÉ
) {

137 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

138 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

139 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

141 
	`g‘U£dMs
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedMs
);

142 
	`g‘F»eMs
().
	`£t
(
idx
, (è(g‘F»eMs().
	`g‘
(idxè- 
»quœedMs
));

144 
	`g‘U£dBw
().
	`put
(
vm
.
	`g‘Uid
(), (è
»quœedBw
);

145 
	`g‘F»eBw
().
	`£t
(
idx
, (è(g‘F»eBw().
	`g‘
(idxè- 
»quœedBw
));

151 if(!
»suÉ
) {

152 
Sy¡em
.
”r
.
	`´šn
("VmAllocationPolicy: WARNING:: Cannot create VM!!!!");

154 
	`logMaxNumHo¡sU£d
();

155  
»suÉ
;

156 
	}
}

158 
´Ùeùed
 
	gmaxNumHo¡sU£d
=0;

159 
public
 
	$logMaxNumHo¡sU£d
() {

161 
numHo¡sU£d
=0;

162 
ä“Pes
:
	`g‘F»ePes
()) {

163 if(
ä“Pes
 < 
ho¡TÙ®Pes
) {

164 
numHo¡sU£d
++;

167 if(
maxNumHo¡sU£d
 < 
numHo¡sU£d
)

168 
maxNumHo¡sU£d
 = 
numHo¡sU£d
;

169 
Log
.
	`´štLše
("Numb” oàÚlšho¡s:"+
numHo¡sU£d
 + ", max wa ="+
maxNumHo¡sU£d
);

170 
	}
}

171 
public
 
	$g‘MaxNumHo¡sU£d
(è{  
maxNumHo¡sU£d
;
	}
}

180 @
Ov”ride


181 
public
 
	$d—Îoÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

182 
Ho¡
 
ho¡
 = 
	`g‘VmTabË
().
	`»move
(
vm
.
	`g‘Uid
());

183 ià(
ho¡
 !ğ
nuÎ
) {

184 
idx
 = 
	`g‘Ho¡Li¡
().
	`šdexOf
(
ho¡
);

185 
ho¡
.
	`vmDe¡roy
(
vm
);

187 
IÁeg”
 
³s
 = 
	`g‘U£dPes
().
	`»move
(
vm
.
	`g‘Uid
());

188 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè+ 
³s
);

190 
LÚg
 
ms
 = 
	`g‘U£dMs
().
	`»move
(
vm
.
	`g‘Uid
());

191 
	`g‘F»eMs
().
	`£t
(
idx
, g‘F»eMs().
	`g‘
(idxè+ 
ms
);

193 
LÚg
 
bw
 = 
	`g‘U£dBw
().
	`»move
(
vm
.
	`g‘Uid
());

194 
	`g‘F»eBw
().
	`£t
(
idx
, g‘F»eBw().
	`g‘
(idxè+ 
bw
);

196 
	}
}

206 @
Ov”ride


207 
public
 
Ho¡
 
	$g‘Ho¡
(
Vm
 
vm
) {

208  
	`g‘VmTabË
().
	`g‘
(
vm
.
	`g‘Uid
());

209 
	}
}

220 @
Ov”ride


221 
public
 
Ho¡
 
	$g‘Ho¡
(
vmId
, 
u£rId
) {

222  
	`g‘VmTabË
().
	`g‘
(
Vm
.
	`g‘Uid
(
u£rId
, 
vmId
));

223 
	}
}

230 
public
 
	gM­
<
	gSŒšg
, 
	gHo¡
> 
	$g‘VmTabË
() {

231  
vmTabË
;

232 
	}
}

239 
´Ùeùed
 
£tVmTabË
(
M­
<
SŒšg
, 
Ho¡
> 
vmTabË
) {

240 
	gthis
.
	gvmTabË
 = 
vmTabË
;

248 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘U£dPes
() {

249  
u£dPes
;

250 
	}
}

257 
´Ùeùed
 
£tU£dPes
(
M­
<
SŒšg
, 
IÁeg”
> 
u£dPes
) {

258 
	gthis
.
	gu£dPes
 = 
u£dPes
;

266 
´Ùeùed
 
	gLi¡
<
	gIÁeg”
> 
	$g‘F»ePes
() {

267  
ä“Pes
;

268 
	}
}

275 
´Ùeùed
 
£tF»ePes
(
Li¡
<
IÁeg”
> 
ä“Pes
) {

276 
	gthis
.
	gä“Pes
 = 
ä“Pes
;

279 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLÚg
> 
	$g‘U£dMs
() {

280  
u£dMs
;

281 
	}
}

282 
´Ùeùed
 
£tU£dMs
(
M­
<
SŒšg
, 
LÚg
> 
u£dMs
) {

283 
	gthis
.
	gu£dMs
 = 
u£dMs
;

285 
´Ùeùed
 
	gM­
<
	gSŒšg
, 
	gLÚg
> 
	$g‘U£dBw
() {

286  
u£dBw
;

287 
	}
}

288 
´Ùeùed
 
£tU£dBw
(
M­
<
SŒšg
, 
LÚg
> 
u£dBw
) {

289 
	gthis
.
	gu£dBw
 = 
u£dBw
;

291 
´Ùeùed
 
	gLi¡
<
	gLÚg
> 
	$g‘F»eMs
() {

292  
this
.
ä“Ms
;

293 
	}
}

294 
´Ùeùed
 
£tF»eMs
(
Li¡
<
LÚg
> 
ä“Ms
) {

295 
	gthis
.
	gä“Ms
 = 
ä“Ms
;

298 
´Ùeùed
 
	gLi¡
<
	gLÚg
> 
	$g‘F»eBw
() {

299  
this
.
ä“Bw
;

300 
	}
}

301 
´Ùeùed
 
£tF»eBw
(
Li¡
<
LÚg
> 
ä“Bw
) {

302 
	gthis
.
	gä“Bw
 = 
ä“Bw
;

309 @
Ov”ride


310 
public
 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
İtimizeAÎoÿtiÚ
(
Li¡
<? 
ex‹nds
 
Vm
> 
vmLi¡
) {

312  
	gnuÎ
;

320 @
Ov”ride


321 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
, 
Ho¡
 
ho¡
) {

322 ià(
ho¡
.
	`vmC»©e
(
vm
)) {

323 
	`g‘VmTabË
().
	`put
(
vm
.
	`g‘Uid
(), 
ho¡
);

325 
»quœedPes
 = 
vm
.
	`g‘Numb”OfPes
();

326 
idx
 = 
	`g‘Ho¡Li¡
().
	`šdexOf
(
ho¡
);

327 
	`g‘U£dPes
().
	`put
(
vm
.
	`g‘Uid
(), 
»quœedPes
);

328 
	`g‘F»ePes
().
	`£t
(
idx
, g‘F»ePes().
	`g‘
(idxè- 
»quœedPes
);

330 
Log
.
	`fÜm©Lše
(

331 "%.2f: VM #" + 
vm
.
	`g‘Id
(è+ " ha b“À®loÿ‹dØthho¡ #" + 
ho¡
.getId(),

332 
CloudSim
.
	`şock
());

333  
Œue
;

336  
çl£
;

337 
	}
}

	@src/org/cloudbus/cloudsim/sdn/overbooking/VmSchedulerTimeSharedOverbookingEnergy.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmScheduËrTimeSh¬edOv”SubsütiÚ
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gpow”
.
	gPow”Utiz©iÚHi¡ÜyEÁry
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gpow”
.
	gPow”Utiz©iÚIÁ”çû
;

29 
public
 cÏs 
	cVmScheduËrTimeSh¬edOv”bookšgEÃrgy
 
ex‹nds
 
VmScheduËrTimeSh¬edOv”SubsütiÚ
 
im¶em’ts
 
	mPow”Utiz©iÚIÁ”çû
{

32 
public
 
VmScheduËrTimeSh¬edOv”bookšgEÃrgy
(
Li¡
<? 
ex‹nds
 
Pe
> 
³li¡
) {

33 
su³r
(
³li¡
);

36 @
Ov”ride


37 
´Ùeùed
 
	$£tAvaabËMs
(
avaabËMs
) {

38 
su³r
.
	`£tAvaabËMs
(
avaabËMs
);

40 
	}
}

42 
´iv©e
 
	gLi¡
<
	gPow”Utiz©iÚHi¡ÜyEÁry
> 
	gutiz©iÚHi¡Ü›s
 = 
nuÎ
;

43 
´iv©e
 
	gpow”OffDu¿tiÚ
 = 0;

45 
public
 
	$addUtiz©iÚEÁryT”mš©iÚ
(
‹rmš©edTime
) {

48 
	}
}

50 
public
 
	gLi¡
<
	gPow”Utiz©iÚHi¡ÜyEÁry
> 
	$g‘Utiz©iÚHisÙry
() {

51  
utiz©iÚHi¡Ü›s
;

52 
	}
}

54 
public
 
	$g‘Utiz©iÚEÃrgyCÚsum±iÚ
() {

56 
tÙ®
=0;

57 
Ï¡Time
=0;

58 
Ï¡Ms
=0;

59 if(
this
.
utiz©iÚHi¡Ü›s
 =ğ
nuÎ
)

62 
Pow”Utiz©iÚHi¡ÜyEÁry
 
h
:
this
.
utiz©iÚHi¡Ü›s
) {

63 
du¿tiÚ
 = 
h
.
¡¬tTime
 - 
Ï¡Time
;

64 
utP”ûÁage
 = 
Ï¡Ms
/ 
	`g‘TÙ®Ms
();

65 
pow”
 = 
	`ÿlcuÏ‹Pow”
(
utP”ûÁage
);

66 
’”gyCÚsum±iÚ
 = 
pow”
 * 
du¿tiÚ
;

69 if(
du¿tiÚ
 > 
pow”OffDu¿tiÚ
 && 
Ï¡Ms
 == 0)

70 
’”gyCÚsum±iÚ
 = 0;

72 
tÙ®
 +ğ
’”gyCÚsum±iÚ
;

73 
Ï¡Time
 = 
h
.
¡¬tTime
;

74 
Ï¡Ms
 = 
h
.
u£dMs
;

76  
tÙ®
/3600;

77 
	}
}

79 
´iv©e
 
	$ÿlcuÏ‹Pow”
(
u
) {

80 
pow”
 = 120 + 154 * 
u
;

81  
pow”
;

82 
	}
}

84 
´iv©e
 
	$addUtiz©iÚEÁry
() {

85 
time
 = 
CloudSim
.
	`şock
();

86 
tÙ®Ms
 = 
	`g‘TÙ®Ms
();

87 
usšgMs
 = 
tÙ®Ms
 - 
this
.
	`g‘AvaabËMs
();

88 if(
usšgMs
 < 0) {

89 
Sy¡em
.
”r
.
	`´šn
("addUtilizationEntry : using mips is‚egative, No way!");

91 if(
utiz©iÚHi¡Ü›s
 =ğ
nuÎ
)

92 
utiz©iÚHi¡Ü›s
 = 
Ãw
 
A¼ayLi¡
<
Pow”Utiz©iÚHi¡ÜyEÁry
>();

93 
this
.
utiz©iÚHi¡Ü›s
.
	`add
(
Ãw
 
	`Pow”Utiz©iÚHi¡ÜyEÁry
(
time
, 
usšgMs
));

94 
	}
}

96 
´iv©e
 
	$g‘TÙ®Ms
() {

97  
this
.
	`g‘PeLi¡
().
	`size
(è*his.
	`g‘PeC­ac™y
();

98 
	}
}

	@src/org/cloudbus/cloudsim/sdn/power/PowerUtilizationHistoryEntry.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gpow”
;

17 
public
 cÏs 
	cPow”Utiz©iÚHi¡ÜyEÁry
 {

18 
public
 
	m¡¬tTime
;

19 
public
 
	mu£dMs
;

20 
public
 
	$Pow”Utiz©iÚHi¡ÜyEÁry
(
t
, 
m
è{ 
¡¬tTime
ñ; 
u£dMs
=m;}

21 
	}
}

	@src/org/cloudbus/cloudsim/sdn/power/PowerUtilizationInterface.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gpow”
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

20 
public
 
š‹rçû
 
	gPow”Utiz©iÚIÁ”çû
 {

21 
public
 
addUtiz©iÚEÁryT”mš©iÚ
(
‹rmš©edTime
);

22 
public
 
	gLi¡
<
	gPow”Utiz©iÚHi¡ÜyEÁry
> 
g‘Utiz©iÚHisÙry
();

23 
public
 
g‘Utiz©iÚEÃrgyCÚsum±iÚ
();

	@src/org/cloudbus/cloudsim/sdn/power/PowerUtilizationMaxHostInterface.java

8 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gpow”
;

17 
public
 
š‹rçû
 
	gPow”Utiz©iÚMaxHo¡IÁ”çû
 {

18 
logMaxNumHo¡sU£d
();

19 
g‘MaxNumHo¡sU£d
();

	@src/org/cloudbus/cloudsim/sdn/request/VMRequestGenerator.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	g»que¡
;

3 
impÜt
 
	gjava
.
	gio
.
	gFeWr™”
;

4 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

5 
impÜt
 
	gjava
.
	gm©h
.
	gBigDecim®
;

6 
impÜt
 
	gjava
.
	gm©h
.
	gRoundšgMode
;

7 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

8 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

9 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

11 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONA¼ay
;

12 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONObjeù
;

13 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	gdi¡ributiÚ
.
	gExpÚ’tŸlDi¡ributiÚ
;

14 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	gdi¡ributiÚ
.
	gP¬‘oDi¡ributiÚ
;

15 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	g¿ndom
.
	gW–l19937c
;

42 
public
 cÏs 
	cVMReque¡G’”©Ü
 {

44 
public
 
	$maš
(
SŒšg
 [] 
¬gv
) {

45 
numVms
 = 100;

46 
SŒšg
 
jsÚFeName
 = "virtual2.json";

48 
VMReque¡G’”©Ü
 
»qg
 = 
Ãw
 
	`VMReque¡G’”©Ü
();

50 
Li¡
<
VMS³c
> 
vms
 = 
»qg
.
	`g’”©eVMs
(
numVms
);

51 
Li¡
<
LškS³c
> 
lšks
 = 
»qg
.
	`g’”©eLšks
();

53 
»qg
.
	`w¹›JSON
(
vms
, 
lšks
, 
jsÚFeName
);

57 şas 
	cVMS³c
 {

58 
SŒšg
 
Çme
;

59 
SŒšg
 
ty³
;

60 
size
;

61 
³
;

62 
ms
;

63 
¿m
;

64 
bw
;

65 
¡¬‰ime
;

66 
’dtime
;

68 @
	`Suµ»ssW¬nšgs
("unchecked")

69 
JSONObjeù
 
	`toJSON
() {

70 
VMS³c
 
vm
 = 
this
;

71 
JSONObjeù
 
obj
 = 
Ãw
 
	`JSONObjeù
();

72 
obj
.
	`put
("Çme", 
vm
.
Çme
);

73 
obj
.
	`put
("ty³", 
vm
.
ty³
);

74 
obj
.
	`put
("size", 
vm
.
size
);

75 
obj
.
	`put
("³s", 
vm
.
³
);

76 
obj
.
	`put
("ms", 
vm
.
ms
);

77 
obj
.
	`put
("¿m", 
Ãw
 
	`IÁeg”
(
vm
.
¿m
));

78 
obj
.
	`put
("bw", 
vm
.
bw
);

79 
obj
.
	`put
("¡¬‰ime", 
vm
.
¡¬‰ime
);

80 
obj
.
	`put
("’dtime", 
vm
.
’dtime
);

82  
obj
;

84 
	}
}

86 şas 
	cLškS³c
 {

87 
SŒšg
 
	gÇme
;

88 
SŒšg
 
	gsourû
;

89 
SŒšg
 
	gde¡š©iÚ
;

90 
LÚg
 
	gbw
;

92 
public
 
LškS³c
(
SŒšg
 
Çme
,SŒšg 
sourû
,SŒšg 
de¡š©iÚ
,
LÚg
 
bw
) {

93 
	gthis
.
	gÇme
 = 
Çme
;

94 
	gthis
.
	gsourû
 = 
sourû
;

95 
	gthis
.
	gde¡š©iÚ
 = 
de¡š©iÚ
;

96 
	gthis
.
	gbw
 = 
bw
;

98 @
Suµ»ssW¬nšgs
("unchecked")

99 
JSONObjeù
 
toJSON
() {

100 
LškS³c
 
	glšk
 = 
this
;

101 
JSONObjeù
 
	gobj
 = 
Ãw
 JSONObject();

102 
	gobj
.
put
("Çme", 
lšk
.
Çme
);

103 
	gobj
.
put
("sourû", 
lšk
.
sourû
);

104 
	gobj
.
put
("de¡š©iÚ", 
lšk
.
de¡š©iÚ
);

105 if(
	glšk
.
	gbw
 !ğ
nuÎ
)

106 
obj
.
put
("bw", 
lšk
.
bw
);

107  
	gobj
;

111 
	gvmId
 = 0;

113 @
Suµ»ssW¬nšgs
("unchecked")

114 
public
 
w¹›JSON
(
Li¡
<
VMS³c
> 
vms
, Li¡<
LškS³c
> 
lšks
, 
SŒšg
 
jsÚFeName
) {

115 
JSONObjeù
 
	gobj
 = 
Ãw
 JSONObject();

117 
JSONA¼ay
 
	gvmLi¡
 = 
Ãw
 JSONArray();

118 
JSONA¼ay
 
	glškLi¡
 = 
Ãw
 JSONArray();

120 
VMS³c
 
	gvm
:
vms
) {

121 
vmLi¡
.
add
(
vm
.
toJSON
());

124 
LškS³c
 
	glšk
:
lšks
) {

125 
lškLi¡
.
add
(
lšk
.
toJSON
());

128 
	gobj
.
put
("nodes", 
vmLi¡
);

129 
	gobj
.
put
("lšks", 
lškLi¡
);

131 
	gŒy
 {

133 
FeWr™”
 
	gfe
 = 
Ãw
 FeWr™”(
jsÚFeName
);

134 
	gfe
.
wr™e
(
obj
.
toJSONSŒšg
());

135 
	gfe
.
æush
();

136 
	gfe
.
şo£
();

138 } 
ÿtch
 (
IOExû±iÚ
 
e
) {

139 
	ge
.
´štSckT¿û
();

142 
	gSy¡em
.
	gout
.
´šn
(
obj
);

145 
	eVMty³
 {

146 
	gWebS”v”
,

147 
	gAµS”v”
,

148 
	gDBS”v”
,

149 
	gProxy
,

150 
	gFœew®l


153 
public
 
VMS³c
 
	$g’”©eVM
(
vmSize
, 
³s
, 
ms
, 
vmRam
, 
bw
, 
¡¬tTime
, 
’dTime
) {

154 
VMS³c
 
vm
 = 
Ãw
 
	`VMS³c
();

156 
vm
.
Çme
 = "vm"+ 
SŒšg
.
	`fÜm©
("%02d", 
vmId
++);

157 
vm
.
ty³
 = "vm";

158 
vm
.
size
 = 
vmSize
;

159 
vm
.
³
 = 
³s
;

160 
vm
.
ms
 = mips;

161 
vm
.
¿m
 = 
vmRam
;

162 
vm
.
bw
 = bw;

163 
vm
.
¡¬‰ime
 = 
¡¬tTime
;

164 
vm
.
’dtime
 = 
’dTime
;

166  
vm
;

167 
	}
}

169 
public
 
VMS³c
 
	$g’”©eVM
(
VMty³
 
vmty³
, 
¡¬tTime
, 
’dTime
) {

170 
³s
 = 1;

171 
vmSize
 = 1000;

172 
ms
=2000;

173 
vmRam
 = 512;

174 
bw
=1000000000/10;

176 
vmty³
) {

177 
WebS”v”
:

179 
ms
=2000;

180 
³s
=2;

182 
AµS”v”
:

184 
ms
=3000L;

185 
³s
=8;

187 
DBS”v”
:

189 
ms
=2400L;

190 
³s
=8;

192 
Proxy
:

193 
ms
=2000;

194 
³s
=8;

195 
bw
=500000000;

197 
Fœew®l
:

198 
ms
=3000L;

199 
³s
=8;

200 
bw
=500000000;

203  
	`g’”©eVM
(
vmSize
, 
³s
, 
ms
, 
vmRam
, 
bw
, 
¡¬tTime
, 
’dTime
);

204 
	}
}

206 
public
 
	gLi¡
<
	gVMS³c
> 
	$g’”©eVMGroup
(
numVMsInGroup
, 
¡¬tTime
, 
’dTime
) {

207 
Sy¡em
.
out
.
	`´štf
("G’”©šg VM Group(%d): %à- %f\n", 
numVMsInGroup
, 
¡¬tTime
, 
’dTime
);

209 
Li¡
<
VMS³c
> 
vms
 = 
Ãw
 
A¼ayLi¡
<VMSpec>();

211 
numVMsInGroup
) {

213 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
WebS”v”
, 
¡¬tTime
, 
’dTime
));

214 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
AµS”v”
, 
¡¬tTime
, 
’dTime
));

217 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
WebS”v”
, 
¡¬tTime
, 
’dTime
));

218 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
AµS”v”
, 
¡¬tTime
, 
’dTime
));

219 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
DBS”v”
, 
¡¬tTime
, 
’dTime
));

222 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
WebS”v”
, 
¡¬tTime
, 
’dTime
));

223 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
AµS”v”
, 
¡¬tTime
, 
’dTime
));

224 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
DBS”v”
, 
¡¬tTime
, 
’dTime
));

225 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
Proxy
, 
¡¬tTime
, 
’dTime
));

228 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
WebS”v”
, 
¡¬tTime
, 
’dTime
));

229 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
AµS”v”
, 
¡¬tTime
, 
’dTime
));

230 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
DBS”v”
, 
¡¬tTime
, 
’dTime
));

231 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
Proxy
, 
¡¬tTime
, 
’dTime
));

232 
vms
.
	`add
(
this
.
	`g’”©eVM
(
VMty³
.
Fœew®l
, 
¡¬tTime
, 
’dTime
));

235 
Sy¡em
.
”r
.
	`´šn
("UnknowÀgrou°numb”"+
numVMsInGroup
);

239  
vms
;

240 
	}
}

242 
´iv©e
 
	g£ed
 = 10;

244 
public
 
	gLi¡
<
	gVMS³c
> 
	$g’”©eVMs
(
tÙ®VmNum
) {

245 
Ï¡S¹Time
 = 0;

247 
¡¬tM—n
 = 1800;

248 
durSÿË
=14400;

249 
durSh­e
=1.2;

251 
Rªdom
 
rVmNum
 = 
Ãw
 
	`Rªdom
(
£ed
);

252 
ExpÚ’tŸlDi¡ributiÚ
 
rS¹Time
 = 
Ãw
 
	`ExpÚ’tŸlDi¡ributiÚ
Òew 
	`W–l19937c
(
£ed
), 
¡¬tM—n
, ExpÚ’tŸlDi¡ributiÚ.
DEFAULT_INVERSE_ABSOLUTE_ACCURACY
);

253 
P¬‘oDi¡ributiÚ
 
rDu¿tiÚ
 = 
Ãw
 
	`P¬‘oDi¡ributiÚ
Òew 
	`W–l19937c
(
£ed
), 
durSÿË
, 
durSh­e
);

255 
Li¡
<
VMS³c
> 
vms
 = 
Ãw
 
A¼ayLi¡
<VMSpec>();

257 
this
.
vmId
 < 
tÙ®VmNum
) {

258 
vmsInGroup
 = 
rVmNum
.
	`ÃxtIÁ
(4)+2;

259 
du¿tiÚ
 = 
M©h
.
	`æoÜ
(
rDu¿tiÚ
.
	`§m¶e
());

261 
vms
.
	`addAÎ
(
	`g’”©eVMGroup
(
vmsInGroup
, 
Ï¡S¹Time
,†a¡S¹Time+
du¿tiÚ
));

262 
Ï¡S¹Time
 +ğ
M©h
.
	`æoÜ
(
rS¹Time
.
	`§m¶e
());

265  
vms
;

266 
	}
}

268 
public
 
	gLi¡
<
	gLškS³c
> 
	$g’”©eLšks
() {

270 
Li¡
<
LškS³c
> 
lšks
 = 
Ãw
 
A¼ayLi¡
<LinkSpec>();

272 
lšks
.
	`add
(
Ãw
 
	`LškS³c
("deçuÉ", "vm01","vm02", 
nuÎ
));

273 
lšks
.
	`add
(
Ãw
 
	`LškS³c
("deçuÉ", "vm02","vm01", 
nuÎ
));

274 
lšks
.
	`add
(
Ãw
 
	`LškS³c
("deçuÉ", "vm02","vm03", 
nuÎ
));

275 
lšks
.
	`add
(
Ãw
 
	`LškS³c
("deçuÉ", "vm03","vm02", 
nuÎ
));

277  
lšks
;

278 
	}
}

280 
public
 
	$round
(
v®ue
, 
¶aûs
) {

281 ià(
¶aûs
 < 0è
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
();

283 
BigDecim®
 
bd
 = 
Ãw
 
	`BigDecim®
(
v®ue
);

284 
bd
 = bd.
	`£tSÿË
(
¶aûs
, 
RoundšgMode
.
HALF_UP
);

285  
bd
.
	`doubËV®ue
();

287 
	}
}

	@src/org/cloudbus/cloudsim/util/Check.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
;

3 
public
 cÏs 
	cCheck
 {

5 
public
 
	$maš
(
SŒšg
[] 
¬gs
) {

19 
Te¡
 
t2
 = 
Ãw
 
	`Te¡
(10);

20 
Te¡
 
t1
 = 
Ãw
 
	`Te¡
(10);

21 
Te¡
 
t3
 = 
Ãw
 
	`Te¡
(40);

23 if(
t1
.
	`equ®s
(
t2
)){

24 
Sy¡em
.
out
.
	`´šn
("Success1");

25 }if(
t3
==
t2
){

26 
Sy¡em
.
out
.
	`´šn
("Success2");

27 }if(
t1
==
t3
){

28 
Sy¡em
.
out
.
	`´šn
("Success3");

30 
Sy¡em
.
out
.
	`´šn
("DONE");

33 
	}
}

	@src/org/cloudbus/cloudsim/util/ExecutionTimeMeasurer.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gM­
;

20 
public
 cÏs 
	cExecutiÚTimeM—su»r
 {

23 
´iv©e
 
fš®
 
	mM­
<
	mSŒšg
, 
	mLÚg
> 
	mexecutiÚTimes
 = 
Ãw
 
HashM­
<
SŒšg
, Long>();

30 
public
 
	$¡¬t
(
SŒšg
 
Çme
) {

31 
	`g‘ExecutiÚTimes
().
	`put
(
Çme
, 
Sy¡em
.
	`cu¼’tTimeMlis
());

40 
public
 
	$’d
(
SŒšg
 
Çme
) {

41 
time
 = (
Sy¡em
.
	`cu¼’tTimeMlis
(è- 
	`g‘ExecutiÚTimes
().
	`g‘
(
Çme
)) / 1000.0;

42 
	`g‘ExecutiÚTimes
().
	`»move
(
Çme
);

43  
time
;

44 
	}
}

51 
public
 
	gM­
<
	gSŒšg
, 
	gLÚg
> 
	$g‘ExecutiÚTimes
() {

52  
executiÚTimes
;

53 
	}
}

	@src/org/cloudbus/cloudsim/util/MathUtil.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	g¡©
.
	gdesütive
.
	gDesütiveSti¡ics
;

15 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	g¡©
.
	g»g»ssiÚ
.
	gOLSMuÉËLš—rReg»ssiÚ
;

16 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	g¡©
.
	g»g»ssiÚ
.
	gSim¶eReg»ssiÚ
;

24 
public
 cÏs 
	cM©hUt
 {

32 
public
 
sum
(
fš®
 
Li¡
<? 
ex‹nds
 
Numb”
> 
li¡
) {

33 
	msum
 = 0;

34 
Numb”
 
	mnumb”
 : 
li¡
) {

35 
sum
 +ğ
numb”
.
doubËV®ue
();

37  
	msum
;

46 
public
 [] 
li¡ToA¼ay
(
fš®
 
Li¡
<? 
ex‹nds
 
Numb”
> 
li¡
) {

47 [] 
	g¬¿y
 = 
Ãw
 [
li¡
.
size
()];

48 
	gi
 = 0; i < 
	g¬¿y
.
	gËngth
; i++) {

49 
	g¬¿y
[
i
] = 
li¡
.
g‘
(i).
doubËV®ue
();

51  
	g¬¿y
;

60 
public
 
medŸn
(
fš®
 
Li¡
<
DoubË
> 
li¡
) {

61  
g‘Sti¡ics
(
li¡
).
g‘P”ûÁe
(50);

71 
public
 
	$medŸn
(
fš®
 [] 
li¡
) {

72  
	`g‘Sti¡ics
(
li¡
).
	`g‘P”ûÁe
(50);

73 
	}
}

82 
public
 
DesütiveSti¡ics
 
g‘Sti¡ics
(
fš®
 
Li¡
<
DoubË
> 
li¡
) {

84 
DesütiveSti¡ics
 
	g¡©s
 = 
Ãw
 DescriptiveStatistics();

87 
DoubË
 
	gd
 : 
li¡
) {

88 
¡©s
.
addV®ue
(
d
);

90  
	g¡©s
;

99 
public
 
DesütiveSti¡ics
 
	$g‘Sti¡ics
(
fš®
 [] 
li¡
) {

101 
DesütiveSti¡ics
 
¡©s
 = 
Ãw
 
	`DesütiveSti¡ics
();

104 
i
 = 0; i < 
li¡
.
Ëngth
; i++) {

105 
¡©s
.
	`addV®ue
(
li¡
[
i
]);

107  
¡©s
;

108 
	}
}

117 
public
 
m—n
(
fš®
 
Li¡
<
DoubË
> 
li¡
) {

118 
	gsum
 = 0;

119 
DoubË
 
	gnumb”
 : 
li¡
) {

120 
sum
 +ğ
numb”
;

122  
	gsum
 / 
	gli¡
.
size
();

131 
public
 
v¬Ÿnû
(
fš®
 
Li¡
<
DoubË
> 
li¡
) {

132 
	gn
 = 0;

133 
	gm—n
 = 
m—n
(
li¡
);

134 
	gs
 = 0.0;

136 
	gx
 : 
li¡
) {

137 
n
++;

138 
	gd–
 = 
x
 - 
m—n
;

139 
	gm—n
 +ğ
d–
 / 
n
;

140 
	gs
 +ğ
d–
 * (
x
 - 
m—n
);

144  
	gs
 / (
	gn
 - 1);

153 
public
 
¡Dev
(
fš®
 
Li¡
<
DoubË
> 
li¡
) {

154  
	gM©h
.
sq¹
(
v¬Ÿnû
(
li¡
));

163 
public
 
	$mad
(
fš®
 [] 
d©a
) {

164 
mad
 = 0;

165 ià(
d©a
.
Ëngth
 > 0) {

166 
medŸn
 = 
	`medŸn
(
d©a
);

167 [] 
devŸtiÚSum
 = 
Ãw
 [
d©a
.
Ëngth
];

168 
i
 = 0; i < 
d©a
.
Ëngth
; i++) {

169 
devŸtiÚSum
[
i
] = 
M©h
.
	`abs
(
medŸn
 - 
d©a
[i]);

171 
mad
 = 
	`medŸn
(
devŸtiÚSum
);

173  
mad
;

174 
	}
}

182 
public
 
	$iqr
(
fš®
 [] 
d©a
) {

183 
A¼ays
.
	`sÜt
(
d©a
);

184 
q1
 = (è
M©h
.
	`round
(0.25 * (
d©a
.
Ëngth
 + 1)) - 1;

185 
q3
 = (è
M©h
.
	`round
(0.75 * (
d©a
.
Ëngth
 + 1)) - 1;

186  
d©a
[
q3
] - d©a[
q1
];

187 
	}
}

195 
public
 
	$couÁNÚZ”oBegšnšg
(
fš®
 [] 
d©a
) {

196 
i
 = 
d©a
.
Ëngth
 - 1;

197 
i
 >= 0) {

198 ià(
d©a
[
i
--] != 0) {

202  
i
 + 2;

203 
	}
}

211 
public
 
	$couÁShÜ‹¡Row
(
fš®
 [][] 
d©a
) {

212 
mšL’gth
 = 0;

213 [] 
row
 : 
d©a
) {

214 ià(
row
.
Ëngth
 < 
mšL’gth
) {

215 
mšL’gth
 = 
row
.
Ëngth
;

218  
mšL’gth
;

219 
	}
}

227 
public
 [] 
	$ŒimZ”oTa
(
fš®
 [] 
d©a
) {

228  
A¼ays
.
	`cİyOfRªge
(
d©a
, 0, 
	`couÁNÚZ”oBegšnšg
(data));

229 
	}
}

237 
public
 [] 
	$g‘LÛssP¬am‘”E¡im©es
(
fš®
 [] 
y
) {

238 
n
 = 
y
.
Ëngth
;

239 [] 
x
 = 
Ãw
 [
n
];

240 
i
 = 0; i < 
n
; i++) {

241 
x
[
i
] = i + 1;

243  
	`ü—‹WeigthedLš—rReg»ssiÚ
(
x
, 
y
, 
	`g‘TricubeWeigts
(
n
))

244 .
	`»g»ss
().
	`g‘P¬am‘”E¡im©es
();

245 
	}
}

247 
public
 
Sim¶eReg»ssiÚ
 
	$ü—‹Lš—rReg»ssiÚ
(
fš®
 [] 
x
,

248 
fš®
 [] 
y
) {

249 
Sim¶eReg»ssiÚ
 
»g»ssiÚ
 = 
Ãw
 
	`Sim¶eReg»ssiÚ
();

250 
i
 = 0; i < 
x
.
Ëngth
; i++) {

251 
»g»ssiÚ
.
	`addD©a
(
x
[
i
], 
y
[i]);

253  
»g»ssiÚ
;

254 
	}
}

256 
public
 
OLSMuÉËLš—rReg»ssiÚ
 
	$ü—‹Lš—rReg»ssiÚ
(

257 
fš®
 [][] 
x
, fš® [] 
y
) {

258 
OLSMuÉËLš—rReg»ssiÚ
 
»g»ssiÚ
 = 
Ãw
 
	`OLSMuÉËLš—rReg»ssiÚ
();

259 
»g»ssiÚ
.
	`ÃwSam¶eD©a
(
y
, 
x
);

260  
»g»ssiÚ
;

261 
	}
}

263 
public
 
Sim¶eReg»ssiÚ
 
	$ü—‹WeigthedLš—rReg»ssiÚ
(

264 
fš®
 [] 
x
, fš® [] 
y
, fš® [] 
weigths
) {

265 [] 
xW
 = 
Ãw
 [
x
.
Ëngth
];

266 [] 
yW
 = 
Ãw
 [
y
.
Ëngth
];

270 
numZ”oWeigths
 = 0;

271 
i
 = 0; i < 
weigths
.
Ëngth
; i++) {

272 ià(
weigths
[
i
] <= 0) {

273 
numZ”oWeigths
++;

277 
i
 = 0; i < 
x
.
Ëngth
; i++) {

278 ià(
numZ”oWeigths
 >ğ0.4 * 
weigths
.
Ëngth
) {

280 
xW
[
i
] = 
M©h
.
	`sq¹
(
weigths
[i]è* 
x
[i];

281 
yW
[
i
] = 
M©h
.
	`sq¹
(
weigths
[i]è* 
y
[i];

283 
xW
[
i
] = 
x
[i];

284 
yW
[
i
] = 
y
[i];

288  
	`ü—‹Lš—rReg»ssiÚ
(
xW
, 
yW
);

289 
	}
}

297 
public
 [] 
	$g‘Robu¡LÛssP¬am‘”E¡im©es
(
fš®
 [] 
y
) {

298 
n
 = 
y
.
Ëngth
;

299 [] 
x
 = 
Ãw
 [
n
];

300 
i
 = 0; i < 
n
; i++) {

301 
x
[
i
] = i + 1;

303 
Sim¶eReg»ssiÚ
 
ŒicubeReg»ssiÚ
 = 
	`ü—‹WeigthedLš—rReg»ssiÚ
(
x
,

304 
y
, 
	`g‘TricubeWeigts
(
n
));

305 [] 
»sidu®s
 = 
Ãw
 [
n
];

306 
i
 = 0; i < 
n
; i++) {

307 
»sidu®s
[
i
] = 
y
[i] - 
ŒicubeReg»ssiÚ
.
	`´ediù
(
x
[i]);

309 
Sim¶eReg»ssiÚ
 
ŒicubeBySqu¬eReg»ssiÚ
 = 
	`ü—‹WeigthedLš—rReg»ssiÚ
(

310 
x
, 
y
, 
	`g‘TricubeBisqu¬eWeigts
(
»sidu®s
));

312 [] 
e¡im©es
 = 
ŒicubeBySqu¬eReg»ssiÚ
.
	`»g»ss
()

313 .
	`g‘P¬am‘”E¡im©es
();

314 ià(
e¡im©es
[0] =ğ
DoubË
.
NaN
 ||ƒstimates[1] == Double.NaN) {

315  
ŒicubeReg»ssiÚ
.
	`»g»ss
().
	`g‘P¬am‘”E¡im©es
();

317  
e¡im©es
;

318 
	}
}

326 
public
 [] 
	$g‘TricubeWeigts
(
fš®
 
n
) {

327 [] 
weights
 = 
Ãw
 [
n
];

328 
tİ
 = 
n
 - 1;

329 
¥»ad
 = 
tİ
;

330 
i
 = 2; i < 
n
; i++) {

331 
k
 = 
M©h
.
	`pow
(1 - M©h.pow((
tİ
 - 
i
è/ 
¥»ad
, 3), 3);

332 ià(
k
 > 0) {

333 
weights
[
i
] = 1 / 
k
;

335 
weights
[
i
] = 
DoubË
.
MAX_VALUE
;

338 
weights
[0] = weights[1] = weights[2];

339  
weights
;

340 
	}
}

348 
public
 [] 
	$g‘TricubeBisqu¬eWeigts
(
fš®
 [] 
»sidu®s
) {

349 
n
 = 
»sidu®s
.
Ëngth
;

350 [] 
weights
 = 
	`g‘TricubeWeigts
(
n
);

351 [] 
weights2
 = 
Ãw
 [
n
];

352 
s6
 = 
	`medŸn
(
	`abs
(
»sidu®s
)) * 6;

353 
i
 = 2; i < 
n
; i++) {

354 
k
 = 
M©h
.
	`pow
(1 - M©h.pow(
»sidu®s
[
i
] / 
s6
, 2), 2);

355 ià(
k
 > 0) {

356 
weights2
[
i
] = (1 / 
k
è* 
weights
[i];

358 
weights2
[
i
] = 
DoubË
.
MAX_VALUE
;

361 
weights2
[0] = weights2[1] = weights2[2];

362  
weights2
;

363 
	}
}

371 
public
 [] 
	$abs
(
fš®
 [] 
d©a
) {

372 [] 
»suÉ
 = 
Ãw
 [
d©a
.
Ëngth
];

373 
i
 = 0; i < 
»suÉ
.
Ëngth
; i++) {

374 
»suÉ
[
i
] = 
M©h
.
	`abs
(
d©a
[i]);

376  
»suÉ
;

377 
	}
}

	@src/org/cloudbus/cloudsim/util/Test.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
;

3 
public
 cÏs 
	cTe¡
 {

4 
public
 
SŒšg
 
	ms1
;

5 
public
 
	mi1
;

7 
public
 
	$Te¡
(
i
){

8 
s1
 = 
Ãw
 
	`SŒšg
("chas");

9 
i1
=
i
;

12 
public
 
boŞ—n
 
	$equ®s
(
Te¡
 
t
){

13 if(
t
.
s1
.
	`equ®s
(s1è&&.
i1
==(i1) )

14  
Œue
;

15  
çl£
;

16 
	}
}

	@src/org/cloudbus/cloudsim/util/Test2.java

1 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
;

3 
public
 cÏs 
	cTe¡2
 {

4 
public
 
Te¡
 
	mt
;

5 
public
 
SŒšg
 
	m¡
;

7 
public
 
	$Te¡2
(
i
){

8 
t
 = 
Ãw
 
	`Te¡
(
i
);

9 
¡
 = 
Ãw
 
	`SŒšg
("PP");

11 
	}
}

	@src/org/cloudbus/cloudsim/util/WorkloadFileReader.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
;

11 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

12 
impÜt
 
	gjava
.
	gio
.
	gFe
;

13 
impÜt
 
	gjava
.
	gio
.
	gFeIÅutSŒ—m
;

14 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

15 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

16 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—mR—d”
;

17 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

18 
impÜt
 
	gjava
.
	gut
.
	gEnum”©iÚ
;

19 
impÜt
 
	gjava
.
	gut
.
	gz
.
	gGZIPIÅutSŒ—m
;

20 
impÜt
 
	gjava
.
	gut
.
	gz
.
	gZEÁry
;

21 
impÜt
 
	gjava
.
	gut
.
	gz
.
	gZFe
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–FuÎ
;

62 
public
 cÏs 
	cWÜklßdFeR—d”
 
im¶em’ts
 
	mWÜklßdMod–
 {

64 
´iv©e
 
fš®
 
Fe
 
	mfe
;

66 
´iv©e
 
fš®
 
	m¿tšg
;

68 
´iv©e
 
	mA¼ayLi¡
<
	mCloudËt
> 
	mjobs
 = 
nuÎ
;

73 
´iv©e
 
	mJOB_NUM
 = 1 - 1;

75 
´iv©e
 
	mSUBMIT_TIME
 = 2 - 1;

77 
´iv©e
 
fš®
 
	mRUN_TIME
 = 4 - 1;

79 
´iv©e
 
fš®
 
	mNUM_PROC
 = 5 - 1;

82 
´iv©e
 
	mREQ_NUM_PROC
 = 8 - 1;

84 
´iv©e
 
	mREQ_RUN_TIME
 = 9 - 1;

86 
´iv©e
 
fš®
 
	mUSER_ID
 = 12 - 1;

88 
´iv©e
 
fš®
 
	mGROUP_ID
 = 13 - 1;

92 
´iv©e
 
	mMAX_FIELD
 = 18;

94 
´iv©e
 
SŒšg
 
	mCOMMENT
 = ";";

97 
´iv©e
 
fš®
 
	mIRRELEVANT
 = -1;

99 
´iv©e
 
	mSŒšg
[] 
	mf›ldA¼ay
 = 
nuÎ
;

117 
public
 
	$WÜklßdFeR—d”
(
fš®
 
SŒšg
 
feName
, fš® 
¿tšg
è
throws
 
FeNÙFoundExû±iÚ
 {

118 ià(
feName
 =ğ
nuÎ
 || feName.
	`Ëngth
() == 0) {

119 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Invalidrace file‚ame.");

120 } ià(
¿tšg
 <= 0) {

121 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Resource PE„ating must be > 0.");

124 
fe
 = 
Ãw
 
	`Fe
(
feName
);

125 ià(!
fe
.
	`exi¡s
()) {

126 
throw
 
Ãw
 
	`FeNÙFoundExû±iÚ
("WÜklßd¿û " + 
feName
 + " does‚otƒxist");

129 
this
.
¿tšg
 =„ating;

137 @
Ov”ride


138 
public
 
A¼ayLi¡
<
CloudËt
> 
	$g’”©eWÜklßd
() {

139 ià(
jobs
 =ğ
nuÎ
) {

140 
jobs
 = 
Ãw
 
A¼ayLi¡
<
CloudËt
>();

143 
f›ldA¼ay
 = 
Ãw
 
SŒšg
[
MAX_FIELD
];

145 
Œy
 {

146 ià(
fe
.
	`g‘Name
().
	`’dsW™h
(".gz")) {

147 
	`»adGZIPFe
(
fe
);

148 } ià(
fe
.
	`g‘Name
().
	`’dsW™h
(".zip")) {

149 
	`»adZFe
(
fe
);

151 
	`»adFe
(
fe
);

153 } 
	`ÿtch
 (
fš®
 
FeNÙFoundExû±iÚ
 
e
) {

154 } 
	`ÿtch
 (
fš®
 
IOExû±iÚ
 
e
) {

158  
jobs
;

159 
	}
}

169 
public
 
boŞ—n
 
	$£tComm’t
(
fš®
 
SŒšg
 
cmt
) {

170 
boŞ—n
 
sucûss
 = 
çl£
;

171 ià(
cmt
 !ğ
nuÎ
 && cmt.
	`Ëngth
() > 0) {

172 
COMMENT
 = 
cmt
;

173 
sucûss
 = 
Œue
;

175  
sucûss
;

176 
	}
}

203 
public
 
boŞ—n
 
	$£tF›ld
(

204 
fš®
 
maxF›ld
,

205 
fš®
 
jobNum
,

206 
fš®
 
subm™Time
,

207 
fš®
 
runTime
,

208 
fš®
 
numProc
) {

210 ià(
jobNum
 > 0) {

211 
JOB_NUM
 = 
jobNum
 - 1;

212 } ià(
jobNum
 == 0) {

213 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Invalid job‚umber field.");

215 
JOB_NUM
 = -1;

219 ià(
maxF›ld
 > 0) {

220 
MAX_FIELD
 = 
maxF›ld
;

222 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Invalid max.‚umber of field.");

226 ià(
subm™Time
 > 0) {

227 
SUBMIT_TIME
 = 
subm™Time
 - 1;

229 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Invalid submitime field.");

233 ià(
runTime
 > 0) {

234 
REQ_RUN_TIME
 = 
runTime
 - 1;

236 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Invalid„unime field.");

240 ià(
numProc
 > 0) {

241 
REQ_NUM_PROC
 = 
numProc
 - 1;

243 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Invalid‚umber of…rocessors field.");

246  
Œue
;

247 
	}
}

267 
´iv©e
 
	$ü—‹Job
(

268 
fš®
 
id
,

269 
fš®
 
subm™Time
,

270 
fš®
 
runTime
,

271 
fš®
 
numProc
,

272 
fš®
 
»qRunTime
,

273 
fš®
 
u£rID
,

274 
fš®
 
groupID
) {

276 
fš®
 
Ën
 = 
runTime
 * 
¿tšg
;

277 
Utiz©iÚMod–
 
utiz©iÚMod–
 = 
Ãw
 
	`Utiz©iÚMod–FuÎ
();

278 
fš®
 
CloudËt
 
wgl
 = 
Ãw
 
	`CloudËt
(

279 
id
,

280 
Ën
,

281 
numProc
,

284 
utiz©iÚMod–
,

285 
utiz©iÚMod–
,

286 
utiz©iÚMod–
);

287 
jobs
.
	`add
(
wgl
);

288 
	}
}

298 
´iv©e
 
	$exŒaùF›ld
(
fš®
 
SŒšg
[] 
¬¿y
, fš® 
lše
) {

299 
Œy
 {

300 
IÁeg”
 
obj
 = 
nuÎ
;

303 
id
 = 0;

304 ià(
JOB_NUM
 =ğ
IRRELEVANT
) {

305 
id
 = 
jobs
.
	`size
() + 1;

307 
obj
 = 
Ãw
 
	`IÁeg”
(
¬¿y
[
JOB_NUM
].
	`Œim
());

308 
id
 = 
obj
.
	`štV®ue
();

312 
fš®
 
LÚg
 
l
 = 
Ãw
 
	`LÚg
(
¬¿y
[
SUBMIT_TIME
].
	`Œim
());

313 
fš®
 
subm™Time
 = 
l
.
	`štV®ue
();

316 
obj
 = 
Ãw
 
	`IÁeg”
(
¬¿y
[
REQ_RUN_TIME
].
	`Œim
());

317 
fš®
 
»qRunTime
 = 
obj
.
	`štV®ue
();

321 
obj
 = 
Ãw
 
	`IÁeg”
(
¬¿y
[
RUN_TIME
].
	`Œim
());

322 
runTime
 = 
obj
.
	`štV®ue
();

324 
fš®
 
u£rID
 = 
Ãw
 
	`IÁeg”
(
¬¿y
[
USER_ID
].
	`Œim
()).
	`štV®ue
();

325 
fš®
 
groupID
 = 
Ãw
 
	`IÁeg”
(
¬¿y
[
GROUP_ID
].
	`Œim
()).
	`štV®ue
();

329 ià(
runTime
 <= 0) {

330 
runTime
 = 1;

334 
obj
 = 
Ãw
 
	`IÁeg”
(
¬¿y
[
REQ_NUM_PROC
].
	`Œim
());

335 
numProc
 = 
obj
.
	`štV®ue
();

339 ià(
numProc
 =ğ
IRRELEVANT
 ||‚umProc == 0) {

340 
obj
 = 
Ãw
 
	`IÁeg”
(
¬¿y
[
NUM_PROC
].
	`Œim
());

341 
numProc
 = 
obj
.
	`štV®ue
();

345 ià(
numProc
 <= 0) {

346 
numProc
 = 1;

348 
	`ü—‹Job
(
id
, 
subm™Time
, 
runTime
, 
numProc
, 
»qRunTime
, 
u£rID
, 
groupID
);

349 } 
	`ÿtch
 (
fš®
 
Exû±iÚ
 
e
) {

352 
	}
}

363 
´iv©e
 
	$·r£V®ue
(
fš®
 
SŒšg
 
lše
, fš® 
lšeNum
) {

365 ià(
lše
.
	`¡¬tsW™h
(
COMMENT
)) {

369 
fš®
 
SŒšg
[] 
¥
 = 
lše
.
	`¥l™
("\\s+");

371 
Ën
 = 0;

372 
šdex
 = 0;

375 
fš®
 
SŒšg
 
–em
 : 
¥
) {

376 
Ën
 = 
–em
.
	`Ëngth
();

379 ià(
Ën
 == 0) {

382 
f›ldA¼ay
[
šdex
] = 
–em
;

383 
šdex
++;

386 ià(
šdex
 =ğ
MAX_FIELD
) {

387 
	`exŒaùF›ld
(
f›ldA¼ay
, 
lšeNum
);

389 
	}
}

399 
´iv©e
 
boŞ—n
 
	$»adFe
(
fš®
 
Fe
 
æ
è
throws
 
IOExû±iÚ
, 
FeNÙFoundExû±iÚ
 {

400 
boŞ—n
 
sucûss
 = 
çl£
;

401 
Bufã»dR—d”
 
»ad”
 = 
nuÎ
;

402 
Œy
 {

403 
»ad”
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`IÅutSŒ—mR—d”
Òew 
	`FeIÅutSŒ—m
(
æ
)));

406 
lše
 = 1;

407 
»ad”
.
	`»ady
()) {

408 
	`·r£V®ue
(
»ad”
.
	`»adLše
(), 
lše
);

409 
lše
++;

412 
»ad”
.
	`şo£
();

413 
sucûss
 = 
Œue
;

414 } 
fš®ly
 {

415 ià(
»ad”
 !ğ
nuÎ
) {

416 
»ad”
.
	`şo£
();

420  
sucûss
;

421 
	}
}

431 
´iv©e
 
boŞ—n
 
	$»adGZIPFe
(
fš®
 
Fe
 
æ
è
throws
 
IOExû±iÚ
, 
FeNÙFoundExû±iÚ
 {

432 
boŞ—n
 
sucûss
 = 
çl£
;

433 
Bufã»dR—d”
 
»ad”
 = 
nuÎ
;

434 
Œy
 {

435 
»ad”
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`IÅutSŒ—mR—d”
Òew 
	`GZIPIÅutSŒ—m
Òew 
	`FeIÅutSŒ—m
(
æ
))));

438 
lše
 = 1;

439 
»ad”
.
	`»ady
()) {

440 
	`·r£V®ue
(
»ad”
.
	`»adLše
(), 
lše
);

441 
lše
++;

444 
»ad”
.
	`şo£
();

445 
sucûss
 = 
Œue
;

446 } 
fš®ly
 {

447 ià(
»ad”
 !ğ
nuÎ
) {

448 
»ad”
.
	`şo£
();

452  
sucûss
;

453 
	}
}

462 
´iv©e
 
boŞ—n
 
	$»adZFe
(
fš®
 
Fe
 
æ
è
throws
 
IOExû±iÚ
 {

463 
boŞ—n
 
sucûss
 = 
çl£
;

464 
ZFe
 
zFe
 = 
nuÎ
;

465 
Œy
 {

466 
Bufã»dR—d”
 
»ad”
 = 
nuÎ
;

469 
zFe
 = 
Ãw
 
	`ZFe
(
æ
);

470 
fš®
 
Enum”©iÚ
<? 
ex‹nds
 
ZEÁry
> 
e
 = 
zFe
.
	`’Œ›s
();

471 
e
.
	`hasMÜeEËm’ts
()) {

472 
sucûss
 = 
çl£
;

473 
fš®
 
ZEÁry
 
zEÁry
 = 
e
.
	`ÃxtEËm’t
();

475 
»ad”
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`IÅutSŒ—mR—d”
(
zFe
.
	`g‘IÅutSŒ—m
(
zEÁry
)));

478 
lše
 = 1;

479 
»ad”
.
	`»ady
()) {

480 
	`·r£V®ue
(
»ad”
.
	`»adLše
(), 
lše
);

481 
lše
++;

484 
»ad”
.
	`şo£
();

485 
sucûss
 = 
Œue
;

487 } 
fš®ly
 {

488 ià(
zFe
 !ğ
nuÎ
) {

489 
zFe
.
	`şo£
();

493  
sucûss
;

494 
	}
}

	@src/org/cloudbus/cloudsim/util/WorkloadModel.java

9 
·ckage
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gut
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

25 
public
 
š‹rçû
 
	gWÜklßdMod–
 {

32 
	gLi¡
<
	gCloudËt
> 
g’”©eWÜklßd
();

	@src/org/fog/application/AppEdge.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
;

8 
public
 cÏs 
	cAµEdge
 {

10 
public
 
fš®
 
	mSENSOR
 = 1;

11 
public
 
fš®
 
	mACTUATOR
 = 2;

12 
public
 
fš®
 
	mMODULE
 = 3;

17 
´iv©e
 
SŒšg
 
	msourû
;

21 
´iv©e
 
SŒšg
 
	mde¡š©iÚ
;

25 
´iv©e
 
	mtu¶eCpuL’gth
;

29 
´iv©e
 
	mtu¶eNwL’gth
;

33 
´iv©e
 
SŒšg
 
	mtu¶eTy³
;

37 
´iv©e
 
	mdœeùiÚ
;

38 
´iv©e
 
	medgeTy³
;

43 
´iv©e
 
	m³riodic™y
;

47 
´iv©e
 
boŞ—n
 
	misP”iodic
;

49 
public
 
	$AµEdge
(){

53 
public
 
	$AµEdge
(
SŒšg
 
sourû
, SŒšg 
de¡š©iÚ
, 
tu¶eCpuL’gth
,

54 
tu¶eNwL’gth
, 
SŒšg
 
tu¶eTy³
, 
dœeùiÚ
, 
edgeTy³
){

55 
	`£tSourû
(
sourû
);

56 
	`£tDe¡š©iÚ
(
de¡š©iÚ
);

57 
	`£tTu¶eCpuL’gth
(
tu¶eCpuL’gth
);

58 
	`£tTu¶eNwL’gth
(
tu¶eNwL’gth
);

59 
	`£tTu¶eTy³
(
tu¶eTy³
);

60 
	`£tDœeùiÚ
(
dœeùiÚ
);

61 
	`£tEdgeTy³
(
edgeTy³
);

62 
	`£tP”iodic
(
çl£
);

63 
	}
}

65 
public
 
	$AµEdge
(
SŒšg
 
sourû
, SŒšg 
de¡š©iÚ
, 
³riodic™y
, 
tu¶eCpuL’gth
,

66 
tu¶eNwL’gth
, 
SŒšg
 
tu¶eTy³
, 
dœeùiÚ
, 
edgeTy³
){

67 
	`£tSourû
(
sourû
);

68 
	`£tDe¡š©iÚ
(
de¡š©iÚ
);

69 
	`£tTu¶eCpuL’gth
(
tu¶eCpuL’gth
);

70 
	`£tTu¶eNwL’gth
(
tu¶eNwL’gth
);

71 
	`£tTu¶eTy³
(
tu¶eTy³
);

72 
	`£tDœeùiÚ
(
dœeùiÚ
);

73 
	`£tEdgeTy³
(
edgeTy³
);

74 
	`£tP”iodic
(
Œue
);

75 
	`£tP”iodic™y
(
³riodic™y
);

76 
	}
}

78 
public
 
SŒšg
 
	$g‘Sourû
() {

79  
sourû
;

80 
	}
}

81 
public
 
	$£tSourû
(
SŒšg
 
sourû
) {

82 
this
.
sourû
 = source;

83 
	}
}

84 
public
 
SŒšg
 
	$g‘De¡š©iÚ
() {

85  
de¡š©iÚ
;

86 
	}
}

87 
public
 
	$£tDe¡š©iÚ
(
SŒšg
 
de¡š©iÚ
) {

88 
this
.
de¡š©iÚ
 = destination;

89 
	}
}

90 
public
 
	$g‘Tu¶eCpuL’gth
() {

91  
tu¶eCpuL’gth
;

92 
	}
}

93 
public
 
	$£tTu¶eCpuL’gth
(
tu¶eCpuL’gth
) {

94 
this
.
tu¶eCpuL’gth
 =upleCpuLength;

95 
	}
}

96 
public
 
	$g‘Tu¶eNwL’gth
() {

97  
tu¶eNwL’gth
;

98 
	}
}

99 
public
 
	$£tTu¶eNwL’gth
(
tu¶eNwL’gth
) {

100 
this
.
tu¶eNwL’gth
 =upleNwLength;

101 
	}
}

102 
public
 
SŒšg
 
	$g‘Tu¶eTy³
() {

103  
tu¶eTy³
;

104 
	}
}

105 
public
 
	$£tTu¶eTy³
(
SŒšg
 
tu¶eTy³
) {

106 
this
.
tu¶eTy³
 =upleType;

107 
	}
}

109 
public
 
	$g‘DœeùiÚ
() {

110  
dœeùiÚ
;

111 
	}
}

113 
public
 
	$£tDœeùiÚ
(
dœeùiÚ
) {

114 
this
.
dœeùiÚ
 = direction;

115 
	}
}

117 
public
 
	$g‘EdgeTy³
() {

118  
edgeTy³
;

119 
	}
}

121 
public
 
	$£tEdgeTy³
(
edgeTy³
) {

122 
this
.
edgeTy³
 =ƒdgeType;

123 
	}
}

125 
public
 
	$g‘P”iodic™y
() {

126  
³riodic™y
;

127 
	}
}

129 
public
 
	$£tP”iodic™y
(
³riodic™y
) {

130 
this
.
³riodic™y
 =…eriodicity;

131 
	}
}

133 
public
 
boŞ—n
 
	$isP”iodic
() {

134  
isP”iodic
;

135 
	}
}

137 
public
 
	$£tP”iodic
(
boŞ—n
 
isP”iodic
) {

138 
this
.
isP”iodic
 = isPeriodic;

139 
	}
}

141 @
Ov”ride


142 
public
 
SŒšg
 
	$toSŒšg
() {

143  "AµEdg[sourû=" + 
sourû
 + ", de¡š©iÚ=" + 
de¡š©iÚ


144 + ",u¶eTy³=" + 
tu¶eTy³
 + "]";

145 
	}
}

	@src/org/fog/application/AppLoop.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
;

3 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gTimeK“³r
;

7 
public
 cÏs 
	cAµLoİ
 {

8 
´iv©e
 
	mloİId
;

9 
´iv©e
 
	mLi¡
<
	mSŒšg
> 
	mmoduËs
;

10 
public
 
AµLoİ
(
Li¡
<
SŒšg
> 
moduËs
){

11 
£tLoİId
(
TimeK“³r
.
g‘In¡ªû
().
g‘UniqueId
());

12 
£tModuËs
(
moduËs
);

15 
public
 
boŞ—n
 
	$hasEdge
(
SŒšg
 
¤c
, SŒšg 
de¡
){

16 
i
=0;i<
moduËs
.
	`size
()-1;i++){

17 if(
moduËs
.
	`g‘
(
i
).
	`equ®s
(
¤c
è&& moduËs.g‘(i+1).equ®s(
de¡
))

18  
Œue
;

20  
çl£
;

21 
	}
}

23 
public
 
SŒšg
 
	$g‘S¹ModuË
(){

24  
moduËs
.
	`g‘
(0);

25 
	}
}

27 
public
 
SŒšg
 
	$g‘EndModuË
(){

28  
moduËs
.
	`g‘
(moduËs.
	`size
()-1);

29 
	}
}

31 
public
 
boŞ—n
 
	$isS¹ModuË
(
SŒšg
 
moduË
){

32 if(
	`g‘S¹ModuË
().
	`equ®s
(
moduË
))

33  
Œue
;

34  
çl£
;

35 
	}
}

37 
public
 
boŞ—n
 
	$isEndModuË
(
SŒšg
 
moduË
){

38 if(
	`g‘EndModuË
().
	`equ®s
(
moduË
))

39  
Œue
;

40  
çl£
;

41 
	}
}

43 
public
 
SŒšg
 
	$g‘NextModuËInLoİ
(
SŒšg
 
moduË
){

44 
SŒšg
 
»suÉ
 = 
nuÎ
;
i
=0;

45 
SŒšg
 
mod
 : 
moduËs
){

46 if(
mod
.
	`equ®s
(
moduË
)){

47 
»suÉ
 = 
moduËs
.
	`g‘
(
i
+1);

50 
i
++;

52  
»suÉ
;

53 
	}
}

55 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘ModuËs
() {

56  
moduËs
;

57 
	}
}

58 
public
 
£tModuËs
(
Li¡
<
SŒšg
> 
moduËs
) {

59 
	gthis
.
	gmoduËs
 = 
moduËs
;

62 
public
 
	$g‘LoİId
() {

63  
loİId
;

64 
	}
}

66 
public
 
	$£tLoİId
(
loİId
) {

67 
this
.
loİId
 =†oopId;

68 
	}
}

	@src/org/fog/application/AppModule.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

5 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

6 
impÜt
 
	gjava
.
	gut
.
	gM­
;

8 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	gut
.
	gPaœ
;

9 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËr
;

10 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gPow”Vm
;

11 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	g£Ëùiv™y
.
	gS–eùiv™yMod–
;

12 
impÜt
 
	gÜg
.
	gfog
.
	gscheduËr
.
	gTu¶eScheduËr
;

13 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogUts
;

20 
public
 cÏs 
	cAµModuË
 
ex‹nds
 
	mPow”Vm
{

22 
´iv©e
 
SŒšg
 
	mÇme
;

23 
´iv©e
 
SŒšg
 
	m­pId
;

24 
´iv©e
 
	mM­
<
	mPaœ
<
	mSŒšg
, SŒšg>, 
	mS–eùiv™yMod–
> 
	m£Ëùiv™yM­
;

29 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLi¡
<
	mIÁeg”
>> 
	maùu©ÜSubsütiÚs
;

31 
public
 
AµModuË
(

32 
id
,

33 
SŒšg
 
Çme
,

34 
SŒšg
 
­pId
,

35 
u£rId
,

36 
ms
,

37 
¿m
,

38 
bw
,

39 
size
,

40 
SŒšg
 
vmm
,

41 
CloudËtScheduËr
 
şoudËtScheduËr
,

42 
M­
<
Paœ
<
SŒšg
, SŒšg>, 
S–eùiv™yMod–
> 
£Ëùiv™yM­
) {

43 
su³r
(
id
, 
u£rId
, 
ms
, 1, 
¿m
, 
bw
, 
size
, 1, 
vmm
, 
şoudËtScheduËr
, 300);

44 
£tName
(
Çme
);

45 
£tId
(
id
);

46 
£tAµId
(
­pId
);

47 
£tU£rId
(
u£rId
);

48 
£tUid
(
g‘Uid
(
u£rId
, 
id
));

49 
£tMs
(
ms
);

50 
£tNumb”OfPes
(1);

51 
£tRam
(
¿m
);

52 
£tBw
(
bw
);

53 
£tSize
(
size
);

54 
£tVmm
(
vmm
);

55 
£tCloudËtScheduËr
(
şoudËtScheduËr
);

56 
£tInMig¿tiÚ
(
çl£
);

57 
£tBešgIn¡ªtŸ‹d
(
Œue
);

58 
£tCu¼’tAÎoÿ‹dBw
(0);

59 
£tCu¼’tAÎoÿ‹dMs
(
nuÎ
);

60 
£tCu¼’tAÎoÿ‹dRam
(0);

61 
£tCu¼’tAÎoÿ‹dSize
(0);

62 
£tS–eùiv™yM­
(
£Ëùiv™yM­
);

63 
£tAùu©ÜSubsütiÚs
(
Ãw
 
HashM­
<
SŒšg
, 
Li¡
<
IÁeg”
>>());

65 
public
 
	$AµModuË
(
AµModuË
 
İ”©Ü
) {

66 
	`su³r
(
FogUts
.
	`g’”©eEÁ™yId
(), 
İ”©Ü
.
	`g‘U£rId
(), o³¿tÜ.
	`g‘Ms
(), 1, o³¿tÜ.
	`g‘Ram
()

67 , 
İ”©Ü
.
	`g‘Bw
(), o³¿tÜ.
	`g‘Size
(), 1, o³¿tÜ.
	`g‘Vmm
()

68 , 
Ãw
 
	`Tu¶eScheduËr
(
İ”©Ü
.
	`g‘Ms
(), 1), o³¿tÜ.
	`g‘SchedulšgIÁ”v®
());

69 
	`£tName
(
İ”©Ü
.
	`g‘Name
());

70 
	`£tAµId
(
İ”©Ü
.
	`g‘AµId
());

71 
	`£tInMig¿tiÚ
(
çl£
);

72 
	`£tBešgIn¡ªtŸ‹d
(
Œue
);

73 
	`£tCu¼’tAÎoÿ‹dBw
(0);

74 
	`£tCu¼’tAÎoÿ‹dMs
(
nuÎ
);

75 
	`£tCu¼’tAÎoÿ‹dRam
(0);

76 
	`£tCu¼’tAÎoÿ‹dSize
(0);

77 
	`£tS–eùiv™yM­
(
İ”©Ü
.
	`g‘S–eùiv™yM­
());

78 
	`£tAùu©ÜSubsütiÚs
(
Ãw
 
HashM­
<
SŒšg
, 
Li¡
<
IÁeg”
>>());

80 
	}
}

82 
public
 
	$subsüibeAùu©Ü
(
id
, 
SŒšg
 
tu¶yTy³
){

83 if(!
	`g‘Aùu©ÜSubsütiÚs
().
	`cÚšsKey
(
tu¶yTy³
))

84 
	`g‘Aùu©ÜSubsütiÚs
().
	`put
(
tu¶yTy³
, 
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

85 
	`g‘Aùu©ÜSubsütiÚs
().
	`g‘
(
tu¶yTy³
).
	`add
(
id
);

86 
	}
}

88 
public
 
SŒšg
 
	$g‘Name
() {

89  
Çme
;

90 
	}
}

91 
public
 
	$£tName
(
SŒšg
 
Çme
) {

92 
this
.
Çme
 =‚ame;

93 
	}
}

94 
public
 
	gM­
<
	gPaœ
<
	gSŒšg
, SŒšg>, 
	gS–eùiv™yMod–
> 
	$g‘S–eùiv™yM­
() {

95  
£Ëùiv™yM­
;

96 
	}
}

97 
public
 
£tS–eùiv™yM­
(
M­
<
Paœ
<
SŒšg
, SŒšg>, 
S–eùiv™yMod–
> 
£Ëùiv™yM­
) {

98 
	gthis
.
	g£Ëùiv™yM­
 = 
£Ëùiv™yM­
;

100 
public
 
SŒšg
 
	$g‘AµId
() {

101  
­pId
;

102 
	}
}

103 
public
 
	$£tAµId
(
SŒšg
 
­pId
) {

104 
this
.
­pId
 =‡ppId;

105 
	}
}

106 
public
 
	gM­
<
	gSŒšg
, 
	gLi¡
<
	gIÁeg”
>> 
	$g‘Aùu©ÜSubsütiÚs
() {

107  
aùu©ÜSubsütiÚs
;

108 
	}
}

109 
public
 
£tAùu©ÜSubsütiÚs
(
M­
<
SŒšg
, 
Li¡
<
IÁeg”
>> 
aùu©ÜSubsütiÚs
) {

110 
	gthis
.
	gaùu©ÜSubsütiÚs
 = 
aùu©ÜSubsütiÚs
;

112 @
Ov”ride


113 
public
 
SŒšg
 
	$toSŒšg
() {

114  "AµModuË [Çme=" + 
Çme
 + ",‡µId=" + 
­pId


115 + ", s–eùiv™yM­=" + 
£Ëùiv™yM­


116 + ",‡ùu©ÜSubsütiÚs=" + 
aùu©ÜSubsütiÚs
 + "]";

117 
	}
}

	@src/org/fog/application/Application.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

5 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

6 
impÜt
 
	gjava
.
	gut
.
	gM­
;

8 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	gut
.
	gPaœ
;

9 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–FuÎ
;

10 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	g£Ëùiv™y
.
	gS–eùiv™yMod–
;

11 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gTu¶e
;

12 
impÜt
 
	gÜg
.
	gfog
.
	gscheduËr
.
	gTu¶eScheduËr
;

13 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogUts
;

14 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gGeoCov”age
;

21 
public
 cÏs 
	cAµliÿtiÚ
 {

23 
´iv©e
 
SŒšg
 
	m­pId
;

24 
´iv©e
 
	mu£rId
;

25 
´iv©e
 
GeoCov”age
 
	mgeoCov”age
;

26 
´iv©e
 
SŒšg
 
	m¶aûm’tSŒ©egy
;

31 
´iv©e
 
	mLi¡
<
	mAµModuË
> 
	mmoduËs
;

36 
´iv©e
 
	mLi¡
<
	mAµEdge
> 
	medges
;

41 
´iv©e
 
	mLi¡
<
	mAµLoİ
> 
	mloİs
;

43 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mAµEdge
> 
	medgeM­
;

51 
public
 
AµliÿtiÚ
 
	$ü—‹AµliÿtiÚ
(
SŒšg
 
­pId
, 
u£rId
){

52  
Ãw
 
	`AµliÿtiÚ
(
­pId
, 
u£rId
);

60 
public
 
	$addAµModuË
(
SŒšg
 
moduËName
, 
¿m
){

61 
ms
 = 1000;

62 
size
 = 10000;

63 
bw
 = 1000;

64 
SŒšg
 
vmm
 = "Xen";

66 
AµModuË
 
moduË
 = 
Ãw
 
	`AµModuË
(
FogUts
.
	`g’”©eEÁ™yId
(), 
moduËName
, 
­pId
, 
u£rId
,

67 
ms
, 
¿m
, 
bw
, 
size
, 
vmm
, 
Ãw
 
	`Tu¶eScheduËr
(ms, 1),‚ew 
HashM­
<
Paœ
<
SŒšg
, SŒšg>, 
S–eùiv™yMod–
>());

69 
	`g‘ModuËs
().
	`add
(
moduË
);

71 
	}
}

78 
public
 
	$addAµModuË
(
SŒšg
 
moduËName
, SŒšg 
vmm
, 
¿m
){

79 
ms
 = 1000;

80 
size
 = 10000;

81 
bw
 = 1000;

84 
AµModuË
 
moduË
 = 
Ãw
 
	`AµModuË
(
FogUts
.
	`g’”©eEÁ™yId
(), 
moduËName
, 
­pId
, 
u£rId
,

85 
ms
, 
¿m
, 
bw
, 
size
, 
vmm
, 
Ãw
 
	`Tu¶eScheduËr
(ms, 1),‚ew 
HashM­
<
Paœ
<
SŒšg
, SŒšg>, 
S–eùiv™yMod–
>());

87 
	`g‘ModuËs
().
	`add
(
moduË
);

89 
	}
}

94 
public
 
	$addAµModuË
(
AµModuË
 
u£rVm
){

108 
	`g‘ModuËs
().
	`add
(
u£rVm
);

111 
	}
}

123 
public
 
	$addAµEdge
(
SŒšg
 
sourû
, SŒšg 
de¡š©iÚ
, 
tu¶eCpuL’gth
,

124 
tu¶eNwL’gth
, 
SŒšg
 
tu¶eTy³
, 
dœeùiÚ
, 
edgeTy³
){

125 
AµEdge
 
edge
 = 
Ãw
 
	`AµEdge
(
sourû
, 
de¡š©iÚ
, 
tu¶eCpuL’gth
, 
tu¶eNwL’gth
, 
tu¶eTy³
, 
dœeùiÚ
, 
edgeTy³
);

126 
	`g‘Edges
().
	`add
(
edge
);

127 
	`g‘EdgeM­
().
	`put
(
edge
.
	`g‘Tu¶eTy³
(),ƒdge);

128 
	}
}

140 
public
 
	$addAµEdge
(
SŒšg
 
sourû
, SŒšg 
de¡š©iÚ
, 
³riodic™y
, 
tu¶eCpuL’gth
,

141 
tu¶eNwL’gth
, 
SŒšg
 
tu¶eTy³
, 
dœeùiÚ
, 
edgeTy³
){

142 
AµEdge
 
edge
 = 
Ãw
 
	`AµEdge
(
sourû
, 
de¡š©iÚ
, 
³riodic™y
, 
tu¶eCpuL’gth
, 
tu¶eNwL’gth
, 
tu¶eTy³
, 
dœeùiÚ
, 
edgeTy³
);

143 
	`g‘Edges
().
	`add
(
edge
);

144 
	`g‘EdgeM­
().
	`put
(
edge
.
	`g‘Tu¶eTy³
(),ƒdge);

145 
	}
}

154 
public
 
	$addTu¶eM­pšg
(
SŒšg
 
moduËName
, SŒšg 
šputTu¶eTy³
, SŒšg 
ouutTu¶eTy³
, 
S–eùiv™yMod–
 
£Ëùiv™yMod–
){

155 
AµModuË
 
moduË
 = 
	`g‘ModuËByName
(
moduËName
);

156 
moduË
.
	`g‘S–eùiv™yM­
().
	`put
(
Ãw
 
Paœ
<
SŒšg
, SŒšg>(
šputTu¶eTy³
, 
ouutTu¶eTy³
), 
£Ëùiv™yMod–
);

157 
	}
}

164 
public
 
	gLi¡
<
	gAµEdge
> 
	$g‘P”iodicEdges
(
SŒšg
 
¤cModuË
){

165 
Li¡
<
AµEdge
> 
»suÉ
 = 
Ãw
 
A¼ayLi¡
<AppEdge>();

166 
AµEdge
 
edge
 : 
edges
){

167 if(
edge
.
	`isP”iodic
(è&&ƒdge.
	`g‘Sourû
().
	`equ®s
(
¤cModuË
))

168 
»suÉ
.
	`add
(
edge
);

170  
»suÉ
;

171 
	}
}

173 
public
 
	$AµliÿtiÚ
(
SŒšg
 
­pId
, 
u£rId
) {

174 
	`£tAµId
(
­pId
);

175 
	`£tU£rId
(
u£rId
);

176 
	`£tModuËs
(
Ãw
 
A¼ayLi¡
<
AµModuË
>());

177 
	`£tEdges
(
Ãw
 
A¼ayLi¡
<
AµEdge
>());

178 
	`£tGeoCov”age
(
nuÎ
);

179 
	`£tLoİs
(
Ãw
 
A¼ayLi¡
<
AµLoİ
>());

180 
	`£tEdgeM­
(
Ãw
 
HashM­
<
SŒšg
, 
AµEdge
>());

181 
	}
}

183 
public
 
AµliÿtiÚ
(
SŒšg
 
­pId
, 
Li¡
<
AµModuË
> 
moduËs
,

184 
Li¡
<
AµEdge
> 
edges
, Li¡<
AµLoİ
> 
loİs
, 
GeoCov”age
 
geoCov”age
) {

185 
£tAµId
(
­pId
);

186 
£tModuËs
(
moduËs
);

187 
£tEdges
(
edges
);

188 
£tGeoCov”age
(
geoCov”age
);

189 
£tLoİs
(
loİs
);

190 
£tEdgeM­
(
Ãw
 
HashM­
<
SŒšg
, 
AµEdge
>());

191 
AµEdge
 
	gedge
 : 
edges
){

192 
g‘EdgeM­
().
put
(
edge
.
g‘Tu¶eTy³
(),ƒdge);

201 
public
 
AµModuË
 
	$g‘ModuËByName
(
SŒšg
 
Çme
){

202 
AµModuË
 
moduË
 : 
moduËs
){

203 if(
moduË
.
	`g‘Name
().
	`equ®s
(
Çme
))

204  
moduË
;

206  
nuÎ
;

207 
	}
}

216 
public
 
	gLi¡
<
	gTu¶e
> 
	$g‘ResuÉªtTu¶es
(
SŒšg
 
moduËName
, 
Tu¶e
 
šputTu¶e
, 
sourûDeviûId
){

217 
Li¡
<
Tu¶e
> 
tu¶es
 = 
Ãw
 
A¼ayLi¡
<Tuple>();

218 
AµModuË
 
moduË
 = 
	`g‘ModuËByName
(
moduËName
);

219 
AµEdge
 
edge
 : 
	`g‘Edges
()){

220 if(
edge
.
	`g‘Sourû
().
	`equ®s
(
moduËName
)){

221 
Paœ
<
SŒšg
, SŒšg> 
·œ
 = 
Ãw
 Paœ<SŒšg, SŒšg>(
šputTu¶e
.
	`g‘Tu¶eTy³
(), 
edge
.getTupleType());

223 if(
moduË
.
	`g‘S–eùiv™yM­
().
	`g‘
(
·œ
)==
nuÎ
)

225 
S–eùiv™yMod–
 
£Ëùiv™yMod–
 = 
moduË
.
	`g‘S–eùiv™yM­
().
	`g‘
(
·œ
);

226 if(
£Ëùiv™yMod–
.
	`ÿnS–eù
()){

228 if(
edge
.
	`g‘EdgeTy³
(è=ğ
AµEdge
.
ACTUATOR
){

230 
Tu¶e
 
tu¶e
 = 
Ãw
 
	`Tu¶e
(
­pId
, 
FogUts
.
	`g’”©eTu¶eId
(), 
edge
.
	`g‘DœeùiÚ
(),

231 (è(
edge
.
	`g‘Tu¶eCpuL’gth
()),

232 
šputTu¶e
.
	`g‘Numb”OfPes
(),

233 (è(
edge
.
	`g‘Tu¶eNwL’gth
()),

234 
šputTu¶e
.
	`g‘CloudËtOuutSize
(),

235 
šputTu¶e
.
	`g‘Utiz©iÚMod–Cpu
(),

236 
šputTu¶e
.
	`g‘Utiz©iÚMod–Ram
(),

237 
šputTu¶e
.
	`g‘Utiz©iÚMod–Bw
()

239 
tu¶e
.
	`£tAùu®Tu¶eId
(
šputTu¶e
.
	`g‘Aùu®Tu¶eId
());

240 
tu¶e
.
	`£tU£rId
(
šputTu¶e
.
	`g‘U£rId
());

241 
tu¶e
.
	`£tAµId
(
šputTu¶e
.
	`g‘AµId
());

242 
tu¶e
.
	`£tDe¡ModuËName
(
edge
.
	`g‘De¡š©iÚ
());

243 
tu¶e
.
	`£tSrcModuËName
(
edge
.
	`g‘Sourû
());

244 
tu¶e
.
	`£tDœeùiÚ
(
Tu¶e
.
ACTUATOR
);

245 
tu¶e
.
	`£tTu¶eTy³
(
edge
.
	`g‘Tu¶eTy³
());

246 
tu¶e
.
	`£tSourûDeviûId
(
sourûDeviûId
);

249 
tu¶es
.
	`add
(
tu¶e
);

252 
Tu¶e
 
tu¶e
 = 
Ãw
 
	`Tu¶e
(
­pId
, 
FogUts
.
	`g’”©eTu¶eId
(), 
edge
.
	`g‘DœeùiÚ
(),

253 (è(
edge
.
	`g‘Tu¶eCpuL’gth
()),

254 
šputTu¶e
.
	`g‘Numb”OfPes
(),

255 (è(
edge
.
	`g‘Tu¶eNwL’gth
()),

256 
šputTu¶e
.
	`g‘CloudËtOuutSize
(),

257 
šputTu¶e
.
	`g‘Utiz©iÚMod–Cpu
(),

258 
šputTu¶e
.
	`g‘Utiz©iÚMod–Ram
(),

259 
šputTu¶e
.
	`g‘Utiz©iÚMod–Bw
()

261 
tu¶e
.
	`£tAùu®Tu¶eId
(
šputTu¶e
.
	`g‘Aùu®Tu¶eId
());

262 
tu¶e
.
	`£tU£rId
(
šputTu¶e
.
	`g‘U£rId
());

263 
tu¶e
.
	`£tAµId
(
šputTu¶e
.
	`g‘AµId
());

264 
tu¶e
.
	`£tDe¡ModuËName
(
edge
.
	`g‘De¡š©iÚ
());

265 
tu¶e
.
	`£tSrcModuËName
(
edge
.
	`g‘Sourû
());

266 
tu¶e
.
	`£tDœeùiÚ
(
edge
.
	`g‘DœeùiÚ
());

267 
tu¶e
.
	`£tTu¶eTy³
(
edge
.
	`g‘Tu¶eTy³
());

268 
tu¶es
.
	`add
(
tu¶e
);

273  
tu¶es
;

274 
	}
}

282 
public
 
Tu¶e
 
	$ü—‹Tu¶e
(
AµEdge
 
edge
, 
sourûDeviûId
){

283 
AµModuË
 
moduË
 = 
	`g‘ModuËByName
(
edge
.
	`g‘Sourû
());

284 if(
edge
.
	`g‘EdgeTy³
(è=ğ
AµEdge
.
ACTUATOR
){

285 
IÁeg”
 
aùu©ÜId
 : 
moduË
.
	`g‘Aùu©ÜSubsütiÚs
().
	`g‘
(
edge
.
	`g‘Tu¶eTy³
())){

286 
Tu¶e
 
tu¶e
 = 
Ãw
 
	`Tu¶e
(
­pId
, 
FogUts
.
	`g’”©eTu¶eId
(), 
edge
.
	`g‘DœeùiÚ
(),

287 (è(
edge
.
	`g‘Tu¶eCpuL’gth
()),

289 (è(
edge
.
	`g‘Tu¶eNwL’gth
()),

291 
Ãw
 
	`Utiz©iÚMod–FuÎ
(),

292 
Ãw
 
	`Utiz©iÚMod–FuÎ
(),

293 
Ãw
 
	`Utiz©iÚMod–FuÎ
()

295 
tu¶e
.
	`£tU£rId
(
	`g‘U£rId
());

296 
tu¶e
.
	`£tAµId
(
	`g‘AµId
());

297 
tu¶e
.
	`£tDe¡ModuËName
(
edge
.
	`g‘De¡š©iÚ
());

298 
tu¶e
.
	`£tSrcModuËName
(
edge
.
	`g‘Sourû
());

299 
tu¶e
.
	`£tDœeùiÚ
(
Tu¶e
.
ACTUATOR
);

300 
tu¶e
.
	`£tTu¶eTy³
(
edge
.
	`g‘Tu¶eTy³
());

301 
tu¶e
.
	`£tSourûDeviûId
(
sourûDeviûId
);

302 
tu¶e
.
	`£tAùu©ÜId
(
aùu©ÜId
);

304  
tu¶e
;

307 
Tu¶e
 
tu¶e
 = 
Ãw
 
	`Tu¶e
(
­pId
, 
FogUts
.
	`g’”©eTu¶eId
(), 
edge
.
	`g‘DœeùiÚ
(),

308 (è(
edge
.
	`g‘Tu¶eCpuL’gth
()),

310 (è(
edge
.
	`g‘Tu¶eNwL’gth
()),

312 
Ãw
 
	`Utiz©iÚMod–FuÎ
(),

313 
Ãw
 
	`Utiz©iÚMod–FuÎ
(),

314 
Ãw
 
	`Utiz©iÚMod–FuÎ
()

317 
tu¶e
.
	`£tU£rId
(
	`g‘U£rId
());

318 
tu¶e
.
	`£tAµId
(
	`g‘AµId
());

319 
tu¶e
.
	`£tDe¡ModuËName
(
edge
.
	`g‘De¡š©iÚ
());

320 
tu¶e
.
	`£tSrcModuËName
(
edge
.
	`g‘Sourû
());

321 
tu¶e
.
	`£tDœeùiÚ
(
edge
.
	`g‘DœeùiÚ
());

322 
tu¶e
.
	`£tTu¶eTy³
(
edge
.
	`g‘Tu¶eTy³
());

323  
tu¶e
;

325  
nuÎ
;

326 
	}
}

328 
public
 
SŒšg
 
	$g‘AµId
() {

329  
­pId
;

330 
	}
}

331 
public
 
	$£tAµId
(
SŒšg
 
­pId
) {

332 
this
.
­pId
 =‡ppId;

333 
	}
}

334 
public
 
	gLi¡
<
	gAµModuË
> 
	$g‘ModuËs
() {

335  
moduËs
;

336 
	}
}

337 
public
 
£tModuËs
(
Li¡
<
AµModuË
> 
moduËs
) {

338 
	gthis
.
	gmoduËs
 = 
moduËs
;

340 
public
 
	gLi¡
<
	gAµEdge
> 
	$g‘Edges
() {

341  
edges
;

342 
	}
}

343 
public
 
£tEdges
(
Li¡
<
AµEdge
> 
edges
) {

344 
	gthis
.
	gedges
 = 
edges
;

346 
public
 
GeoCov”age
 
	$g‘GeoCov”age
() {

347  
geoCov”age
;

348 
	}
}

349 
public
 
	$£tGeoCov”age
(
GeoCov”age
 
geoCov”age
) {

350 
this
.
geoCov”age
 = geoCoverage;

351 
	}
}

353 
public
 
	gLi¡
<
	gAµLoİ
> 
	$g‘Loİs
() {

354  
loİs
;

355 
	}
}

357 
public
 
£tLoİs
(
Li¡
<
AµLoİ
> 
loİs
) {

358 
	gthis
.
	gloİs
 = 
loİs
;

361 
public
 
	$g‘U£rId
() {

362  
u£rId
;

363 
	}
}

365 
public
 
	$£tU£rId
(
u£rId
) {

366 
this
.
u£rId
 = userId;

367 
	}
}

369 
public
 
	gM­
<
	gSŒšg
, 
	gAµEdge
> 
	$g‘EdgeM­
() {

370  
edgeM­
;

371 
	}
}

373 
public
 
£tEdgeM­
(
M­
<
SŒšg
, 
AµEdge
> 
edgeM­
) {

374 
	gthis
.
	gedgeM­
 = 
edgeM­
;

377 
public
 
SŒšg
 
	$g‘PÏûm’tSŒ©egy
() {

378  
¶aûm’tSŒ©egy
;

379 
	}
}

381 
public
 
	$£tPÏûm’tSŒ©egy
(
SŒšg
 
¶aûm’tSŒ©egy
) {

382 
this
.
¶aûm’tSŒ©egy
 =…lacementStrategy;

383 
	}
}

385 @
Ov”ride


386 
public
 
SŒšg
 
	$toSŒšg
() {

387  "AµliÿtiÚ [­pId=" + 
­pId
 + ", u£rId=" + 
u£rId


388 + ", geoCov”age=" + 
geoCov”age
 + ",…lacementStrategy="

389 + 
¶aûm’tSŒ©egy
 + ", moduËs=" + 
moduËs
 + ",ƒdges="

390 + 
edges
 + ",†oİs=" + 
loİs
 + ",ƒdgeM­=" + 
edgeM­
 + "]";

391 
	}
}

	@src/org/fog/application/selectivity/BurstySelectivity.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	g£Ëùiv™y
;

3 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

12 
public
 cÏs 
	cBur¡yS–eùiv™y
 
im¶em’ts
 
	mS–eùiv™yMod–
{

17 
	mbur¡LowP”iod
;

22 
	mbur¡HighP”iod
;

27 
	mfœ¡HighTime
;

29 
public
 
	$Bur¡yS–eùiv™y
(
bur¡LowP”iod
, 
bur¡HighP”iod
, 
fœ¡HighTime
){

30 
	`£tBur¡LowP”iod
(
bur¡LowP”iod
);

31 
	`£tBur¡HighP”iod
(
bur¡HighP”iod
);

32 
	`£tFœ¡HighTime
(
fœ¡HighTime
);

38 @
Ov”ride


39 
public
 
boŞ—n
 
	$ÿnS–eù
() {

40 
time
 = 
CloudSim
.
	`şock
(è+ 
	`g‘Fœ¡HighTime
();

41 
bur¡P”iod
 = 
	`g‘Bur¡HighP”iod
()+
	`g‘Bur¡LowP”iod
();

42 
bur¡S¹Time
 = 
bur¡P”iod
*(()(
time
/burstPeriod));

43 if(
time
 <ğ
bur¡S¹Time
 + 
	`g‘Bur¡HighP”iod
())

44  
Œue
;

46  
çl£
;

47 
	}
}

52 @
Ov”ride


53 
public
 
	$g‘M—nR©e
() {

54  
	`g‘Bur¡HighP”iod
()/(g‘Bur¡HighP”iod()+
	`g‘Bur¡LowP”iod
());

55 
	}
}

60 @
Ov”ride


61 
public
 
	$g‘MaxR©e
() {

63 
	}
}

65 
public
 
	$g‘Bur¡LowP”iod
() {

66  
bur¡LowP”iod
;

67 
	}
}

69 
public
 
	$£tBur¡LowP”iod
(
bur¡LowP”iod
) {

70 
this
.
bur¡LowP”iod
 = burstLowPeriod;

71 
	}
}

73 
public
 
	$g‘Bur¡HighP”iod
() {

74  
bur¡HighP”iod
;

75 
	}
}

77 
public
 
	$£tBur¡HighP”iod
(
bur¡HighP”iod
) {

78 
this
.
bur¡HighP”iod
 = burstHighPeriod;

79 
	}
}

81 
public
 
	$g‘Fœ¡HighTime
() {

82  
fœ¡HighTime
;

83 
	}
}

85 
public
 
	$£tFœ¡HighTime
(
fœ¡HighTime
) {

86 
this
.
fœ¡HighTime
 = firstHighTime;

87 
	}
}

	@src/org/fog/application/selectivity/FractionalSelectivity.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	g£Ëùiv™y
;

8 
public
 cÏs 
	cF¿ùiÚ®S–eùiv™y
 
im¶em’ts
 
	mS–eùiv™yMod–
{

13 
	m£Ëùiv™y
;

15 
public
 
	$F¿ùiÚ®S–eùiv™y
(
£Ëùiv™y
){

16 
	`£tS–eùiv™y
(
£Ëùiv™y
);

18 
public
 
	$g‘S–eùiv™y
() {

19  
£Ëùiv™y
;

20 
	}
}

21 
public
 
	$£tS–eùiv™y
(
£Ëùiv™y
) {

22 
this
.
£Ëùiv™y
 = selectivity;

23 
	}
}

25 @
Ov”ride


26 
public
 
boŞ—n
 
	$ÿnS–eù
() {

27 if(
M©h
.
	`¿ndom
(è< 
	`g‘S–eùiv™y
())

28  
Œue
;

29  
çl£
;

30 
	}
}

32 @
Ov”ride


33 
public
 
	$g‘M—nR©e
() {

34  
	`g‘S–eùiv™y
();

35 
	}
}

37 @
Ov”ride


38 
public
 
	$g‘MaxR©e
() {

39  
	`g‘S–eùiv™y
();

40 
	}
}

	@src/org/fog/application/selectivity/SelectivityModel.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	g£Ëùiv™y
;

8 
public
 
š‹rçû
 
	gS–eùiv™yMod–
 {

14 
public
 
boŞ—n
 
ÿnS–eù
();

20 
public
 
g‘M—nR©e
();

26 
public
 
g‘MaxR©e
();

	@src/org/fog/entities/Actuator.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g’t™›s
;

3 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gN‘wÜkTİŞogy
;

4 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

5 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEÁ™y
;

6 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

7 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµLoİ
;

8 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµliÿtiÚ
;

9 
impÜt
 
	gÜg
.
	gfog
.
	g¶aûm’t
.
	gMobeCÚŒŞËr
;

10 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogEv’ts
;

11 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gGeoLoÿtiÚ
;

12 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gLogg”
;

13 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gTimeK“³r
;

14 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gL©’cyByDi¡ªû
;

15 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gMySti¡ics
;

17 
public
 cÏs 
	cAùu©Ü
 
ex‹nds
 
	mSimEÁ™y
{

19 
´iv©e
 
	mg©ewayDeviûId
;

20 
´iv©e
 
	mÏ‹ncy
;

21 
´iv©e
 
GeoLoÿtiÚ
 
	mgeoLoÿtiÚ
;

22 
´iv©e
 
SŒšg
 
	m­pId
;

23 
´iv©e
 
	mu£rId
;

24 
´iv©e
 
SŒšg
 
	maùu©ÜTy³
;

25 
´iv©e
 
AµliÿtiÚ
 
	m­p
;

26 
´iv©e
 
	mmyId
;

28 
public
 
	$Aùu©Ü
(
SŒšg
 
Çme
, 
u£rId
, SŒšg 
­pId
, 
g©ewayDeviûId
, 
Ï‹ncy
, 
GeoLoÿtiÚ
 
geoLoÿtiÚ
, SŒšg 
aùu©ÜTy³
, SŒšg 
¤cModuËName
) {

29 
	`su³r
(
Çme
);

30 
this
.
	`£tAµId
(
­pId
);

31 
this
.
g©ewayDeviûId
 = gatewayDeviceId;

32 
this
.
geoLoÿtiÚ
 = geoLocation;

33 
	`£tU£rId
(
u£rId
);

34 
	`£tAùu©ÜTy³
(
aùu©ÜTy³
);

35 
	`£tL©’cy
(
Ï‹ncy
);

36 
	`£tMyId
(
u£rId
);

39 
public
 
	$Aùu©Ü
(
SŒšg
 
Çme
, 
u£rId
, SŒšg 
­pId
, SŒšg 
aùu©ÜTy³
) {

40 
	`su³r
(
Çme
);

41 
this
.
	`£tAµId
(
­pId
);

42 
	`£tU£rId
(
u£rId
);

43 
	`£tAùu©ÜTy³
(
aùu©ÜTy³
);

44 
	`£tMyId
(
u£rId
);

45 
	}
}

47 @
Ov”ride


48 
public
 
	$¡¬tEÁ™y
() {

49 
	`£ndNow
(
g©ewayDeviûId
, 
FogEv’ts
.
ACTUATOR_JOINED
, 
	`g‘L©’cy
());

50 
	}
}

52 @
Ov”ride


53 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

54 
ev
.
	`g‘Tag
()){

55 
FogEv’ts
.
TUPLE_ARRIVAL
:

56 
	`´oûssTu¶eA¼iv®
(
ev
);

59 
	}
}

61 
´iv©e
 
	$´oûssTu¶eA¼iv®
(
SimEv’t
 
ev
) {

62 
Tu¶e
 
tu¶e
 = (Tu¶e)
ev
.
	`g‘D©a
();

64 
tu¶e
.
	`£tFš®Time
(
CloudSim
.
	`şock
());

72 
SŒšg
 
¤cModuË
 = 
tu¶e
.
	`g‘SrcModuËName
();

73 
SŒšg
 
de¡ModuË
 = 
tu¶e
.
	`g‘De¡ModuËName
();

74 
AµliÿtiÚ
 
­p
 = 
	`g‘Aµ
();

76 
AµLoİ
 
loİ
 : 
­p
.
	`g‘Loİs
()){

77 if(
loİ
.
	`hasEdge
(
¤cModuË
, 
de¡ModuË
è&&†oİ.
	`isEndModuË
(destModule)){

78 
Logg”
.
	`debug
(
	`g‘Name
(), "Reûivedu¶"+
tu¶e
.
	`g‘CloudËtId
()+" oÀ"+tu¶e.
	`g‘De¡ModuËName
()+". Tu¶eSourû: "+tu¶e.
	`g‘SrcModuËName
());

81 
DoubË
 
¡¬tTime
 = 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘Em™Times
().
	`g‘
(
tu¶e
.
	`g‘Aùu®Tu¶eId
());

82 if(
¡¬tTime
==
nuÎ
)

84 if(!
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tAv”age
().
	`cÚšsKey
(
loİ
.
	`g‘LoİId
())){

85 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tAv”age
().
	`put
(
loİ
.
	`g‘LoİId
(), 0.0);

86 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tNum
().
	`put
(
loİ
.
	`g‘LoİId
(), 0);

87 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘MaxLoİExecutiÚTime
().
	`put
(
loİ
.
	`g‘LoİId
(), 0.0);

90 
MobeDeviû
 
¡
 = (MobeDeviûè
CloudSim
.
	`g‘EÁ™y
(
	`g‘G©ewayDeviûId
());

91 
cu¼’tAv”age
 = 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tAv”age
().
	`g‘
(
loİ
.
	`g‘LoİId
());

92 
cu¼’tCouÁ
 = 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tNum
().
	`g‘
(
loİ
.
	`g‘LoİId
());

93 
d–ay
 = 
CloudSim
.
	`şock
()- 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘Em™Times
().
	`g‘
(
tu¶e
.
	`g‘Aùu®Tu¶eId
());

94 if(
MobeCÚŒŞËr
.
	`g‘Sm¬tThšgs
().
	`cÚšs
(
¡
)){

107 if(
¡
 !ğ
nuÎ
){

108 if(
¡
.
	`g‘SourûAp
(è!ğ
nuÎ
){

109 if(
¡
.
	`g‘SourûAp
().
	`g‘S”v”CloudËtToVmMig¿‹
(è!ğ
nuÎ
){

110 if(
¡
.
	`g‘VmLoÿlS”v”CloudËt
(è!ğ
nuÎ
){

111 
Sy¡em
.
out
.
	`´šn
("Nao NULO");

112 if(
¡
.
	`g‘SourûAp
().
	`g‘S”v”CloudËt
().
	`equ®s
(¡.
	`g‘VmLoÿlS”v”CloudËt
())){

113 
Sy¡em
.
out
.
	`´šn
("Primeiro IF");

114 
d–ay
 +ğ
N‘wÜkTİŞogy
.
	`g‘D–ay
(
¡
.
	`g‘Id
(), st.
	`g‘SourûAp
().getId())

115 + 
N‘wÜkTİŞogy
.
	`g‘D–ay
(
¡
.
	`g‘SourûAp
().
	`g‘Id
(), st.
	`g‘VmLoÿlS”v”CloudËt
().getId())

116 + 
L©’cyByDi¡ªû
.
	`Ï‹ncyCÚÃùiÚ
(
¡
.
	`g‘VmLoÿlS”v”CloudËt
(), st);

119 
Sy¡em
.
out
.
	`´šn
("Segundo IF");

120 
sum
 = 
N‘wÜkTİŞogy
.
	`g‘D–ay
(
¡
.
	`g‘Id
(), st.
	`g‘SourûAp
().getId())

121 + 
N‘wÜkTİŞogy
.
	`g‘D–ay
(
¡
.
	`g‘SourûAp
().
	`g‘Id
(), st.g‘SourûAp().
	`g‘S”v”CloudËt
().getId())

123 + 
N‘wÜkTİŞogy
.
	`g‘D–ay
(
¡
.
	`g‘SourûAp
().
	`g‘S”v”CloudËt
().
	`g‘Id
(), st.
	`g‘VmLoÿlS”v”CloudËt
().getId())

124 + 
L©’cyByDi¡ªû
.
	`Ï‹ncyCÚÃùiÚ
(
¡
.
	`g‘VmLoÿlS”v”CloudËt
(), st);

125 
d–ay
 +ğ
sum
;

129 
Sy¡em
.
out
.
	`´šn
("st.getVmLocalServerCloudlet() NULOOOOOOOOOOOOOOOOOOOOOOOOO");

130 
¡
.
	`g‘VmLoÿlS”v”CloudËt
();

135 
¡
.
	`g‘SourûAp
().
	`g‘S”v”CloudËtToVmMig¿‹
();

139 
Sy¡em
.
out
.
	`´šn
("GetSourceAP NULOOOOOOOOO");

140 
¡
.
	`g‘SourûAp
();

144 
Sy¡em
.
out
.
	`´šn
("st NULOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO");

145 
Sy¡em
.
out
.
	`´šn
(
¡
);;

150 
MySti¡ics
.
	`g‘In¡ªû
().
	`putL©’cyFeV®ue
(
d–ay
, 
CloudSim
.
	`şock
(), 
­p
.
	`g‘AµId
(), 
	`g‘MyId
(),
¡
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Name
(), 
tu¶e
.
	`g‘Tu¶eTy³
());

151 if(
d–ay
>
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘MaxLoİExecutiÚTime
().
	`g‘
(
loİ
.
	`g‘LoİId
())){

152 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘MaxLoİExecutiÚTime
().
	`put
(
loİ
.
	`g‘LoİId
(), 
d–ay
);

154 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘Em™Times
().
	`»move
(
tu¶e
.
	`g‘Aùu®Tu¶eId
());

155 
ÃwAv”age
 = (
cu¼’tAv”age
*
cu¼’tCouÁ
 + 
d–ay
)/(currentCount+1);

156 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tAv”age
().
	`put
(
loİ
.
	`g‘LoİId
(), 
ÃwAv”age
);

157 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tNum
().
	`put
(
loİ
.
	`g‘LoİId
(), 
cu¼’tCouÁ
+1);

162 
	}
}

164 @
Ov”ride


165 
public
 
	$shutdownEÁ™y
() {

167 
	}
}

169 
public
 
	$g‘G©ewayDeviûId
() {

170  
g©ewayDeviûId
;

171 
	}
}

173 
public
 
	$£tG©ewayDeviûId
(
g©ewayDeviûId
) {

174 
this
.
g©ewayDeviûId
 = gatewayDeviceId;

175 
	}
}

177 
public
 
GeoLoÿtiÚ
 
	$g‘GeoLoÿtiÚ
() {

178  
geoLoÿtiÚ
;

179 
	}
}

181 
public
 
	$£tGeoLoÿtiÚ
(
GeoLoÿtiÚ
 
geoLoÿtiÚ
) {

182 
this
.
geoLoÿtiÚ
 = geoLocation;

183 
	}
}

185 
public
 
	$g‘U£rId
() {

186  
u£rId
;

187 
	}
}

189 
public
 
	$£tU£rId
(
u£rId
) {

190 
this
.
u£rId
 = userId;

191 
	}
}

193 
public
 
SŒšg
 
	$g‘AµId
() {

194  
­pId
;

195 
	}
}

197 
public
 
	$£tAµId
(
SŒšg
 
­pId
) {

198 
this
.
­pId
 =‡ppId;

199 
	}
}

201 
public
 
SŒšg
 
	$g‘Aùu©ÜTy³
() {

202  
aùu©ÜTy³
;

203 
	}
}

205 
public
 
	$£tAùu©ÜTy³
(
SŒšg
 
aùu©ÜTy³
) {

206 
this
.
aùu©ÜTy³
 =‡ctuatorType;

207 
	}
}

209 
public
 
AµliÿtiÚ
 
	$g‘Aµ
() {

210  
­p
;

211 
	}
}

213 
public
 
	$£tAµ
(
AµliÿtiÚ
 
­p
) {

214 
this
.
­p
 =‡pp;

215 
	}
}

217 
public
 
	$g‘L©’cy
() {

218  
Ï‹ncy
;

219 
	}
}

221 
public
 
	$£tL©’cy
(
Ï‹ncy
) {

222 
this
.
Ï‹ncy
 =†atency;

223 
	}
}

225 
public
 
	$g‘MyId
() {

226  
myId
;

227 
	}
}

229 
public
 
	$£tMyId
(
myId
) {

230 
this
.
myId
 = myId;

231 
	}
}

	@src/org/fog/entities/ApDevice.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g’t™›s
;

3 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

4 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

6 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gN‘wÜkTİŞogy
;

7 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

8 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

9 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.*;

10 
impÜt
 
	gÜg
.
	gfog
.
	g¶aûm’t
.
	gMobeCÚŒŞËr
;

11 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gMySti¡ics
;

12 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gLogMobe
;

13 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMobeEv’ts
;

14 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gPŞic›s
;

16 
public
 cÏs 
	cApDeviû
 
ex‹nds
 
	mFogDeviû
 {

18 
´iv©e
 
FogDeviû
 
	m£rv”CloudËt
;

19 
´iv©e
 
	mmaxSm¬tThšg
;

20 
´iv©e
 
boŞ—n
 
	m¡©us
;

21 
´iv©e
 
	medge
;

24 
public
 
	$ApDeviû
() {

29 @
Ov”ride


30 
´Ùeùed
 
	$´oûssOth”Ev’t
(
SimEv’t
 
ev
) {

31 
ev
.
	`g‘Tag
()){

32 
MobeEv’ts
.
START_HANDOFF
:

33 
	`hªdoff
(
ev
,
MobeCÚŒŞËr
.
	`g‘Rªd
().
	`ÃxtDoubË
());

35 
MobeEv’ts
.
UNLOCKED_HANDOFF
:

36 
	`unLockedHªdoff
(
ev
);

39 
	}
}

40 
´iv©e
 
	$unLockedHªdoff
(
SimEv’t
 
ev
) {

42 
MobeDeviû
 
sm¬tThšg
 = (MobeDeviûè
ev
.
	`g‘D©a
();

43 
sm¬tThšg
.
	`£tLockedToHªdoff
(
çl£
);

44 
LogMobe
.
	`debug
("ApDeviû.java", 
sm¬tThšg
.
	`g‘Name
() +" hashe handoff unlocked");

45 
	}
}

47 
´iv©e
 
	$hªdoff
(
SimEv’t
 
ev
, 
d–ay
){

48 
MobeDeviû
 
sm¬tThšg
 = (MobeDeviûè
ev
.
	`g‘D©a
();

50 if(
	`g‘Sm¬tThšgs
().
	`cÚšs
(
sm¬tThšg
)){

52 
sm¬tThšg
.
	`g‘SourûAp
().
	`£tSm¬tThšgs
(sm¬tThšg, 
PŞic›s
.
REMOVE
);

53 
sm¬tThšg
.
	`g‘SourûAp
().
	`£tU¶škL©’cy
(
	`g‘U¶škL©’cy
()-
d–ay
);

54 
N‘wÜkTİŞogy
.
	`addLšk
(
sm¬tThšg
.
	`g‘SourûAp
().
	`g‘Id
(), smartThing.getId(), 0.0, 0.0);

55 
sm¬tThšg
.
	`£tSourûAp
(sm¬tThšg.
	`g‘De¡š©iÚAp
());

57 
sm¬tThšg
.
	`g‘SourûAp
().
	`£tSm¬tThšgs
(sm¬tThšg, 
PŞic›s
.
ADD
);

58 
sm¬tThšg
.
	`g‘SourûAp
().
	`£tU¶škL©’cy
(
	`g‘U¶škL©’cy
()+
d–ay
);

59 
N‘wÜkTİŞogy
.
	`addLšk
(
sm¬tThšg
.
	`g‘SourûAp
().
	`g‘Id
(), sm¬tThšg.g‘Id(), sm¬tThšg.
	`g‘U¶škBªdwidth
(), 
d–ay
);

61 
sm¬tThšg
.
	`£tDe¡š©iÚAp
(
nuÎ
);

62 
sm¬tThšg
.
	`£tHªdoffStus
(
çl£
);

63 
LogMobe
.
	`debug
("ApDeviû.java", 
sm¬tThšg
.
	`g‘Name
()+" was desconnected (inHandoff)o "+getName());

65 if(
sm¬tThšg
.
	`isMigStus
()){

66 
Sy¡em
.
out
.
	`´šn
("+++++++++++++++++MAKING THE HANDOFF DURING MIGRATION+++++++++++++: "+
sm¬tThšg
.
	`g‘Name
()+"emp: "+
CloudSim
.
	`şock
());

69 
Sy¡em
.
out
.
	`´šn
("++++++++++++++++++++HªdoffSim¶e++++++++++++++++++++: "+
sm¬tThšg
.
	`g‘Name
()+"emp: "+
CloudSim
.
	`şock
());

71 
LogMobe
.
	`debug
("ApDeviû.java", 
sm¬tThšg
.
	`g‘Name
()+" wa cÚÃùed (šHªdoffètØ"+sm¬tThšg.
	`g‘SourûAp
().getName());

75 
Sy¡em
.
out
.
	`´šn
("*_*_*_*_*_*_*_*_*_*_*_*_*_ABORT MIGRATION*_*_*_*_*_*_*_*_*_*_*_*: " + 
sm¬tThšg
.
	`g‘Id
());

76 
sm¬tThšg
.
	`£tMigStus
(
çl£
);

78 
sm¬tThšg
.
	`£tTimeFšishHªdoff
(
CloudSim
.
	`şock
());

80 
	}
}

81 
public
 
	$descÚÃùApSm¬tThšg
(
MobeDeviû
 
¡
){

82 
	`£tSm¬tThšgs
(
¡
, 
PŞic›s
.
REMOVE
);

84 
¡
.
	`£tSourûAp
(
nuÎ
);

85 
	`£tU¶škL©’cy
(
	`g‘U¶škL©’cy
()-0.002);

86 
LogMobe
.
	`debug
("ApDeviû.java", 
¡
.
	`g‘Name
()+" was desconnectedo "+getName());

87 
N‘wÜkTİŞogy
.
	`addLšk
(
this
.
	`g‘Id
(), 
¡
.getId(), 0.0, 0.0);

88 
	}
}

90 
public
 
boŞ—n
 
cÚÃùApSm¬tThšg
(
Li¡
<
ApDeviû
> 
­Deviûs
, 
MobeDeviû
 
¡
, 
d–ay
){

91 
	gšdex
=
Di¡ªûs
.
theClo£¡Ap
(
­Deviûs
, 
¡
);

94 if(
	gšdex
>=0){

95 if(
­Deviûs
.
g‘
(
šdex
).
g‘MaxSm¬tThšg
(è>‡pDeviûs.g‘(šdex).
g‘Sm¬tThšgs
().
size
()){

97 
¡
.
£tSourûAp
(
­Deviûs
.
g‘
(
šdex
));

99 
	g­Deviûs
.
g‘
(
šdex
).
£tSm¬tThšgs
(
¡
,
PŞic›s
.
ADD
);

100 
	gN‘wÜkTİŞogy
.
addLšk
(
­Deviûs
.
g‘
(
šdex
).
g‘Id
(), 
¡
.g‘Id(), st.
g‘U¶škBªdwidth
(), 
d–ay
);

101 
	gLogMobe
.
debug
("ApDeviû.java", 
¡
.
g‘Name
()+" wa cÚÃùedØ"+¡.
g‘SourûAp
().getName());

102 
	g­Deviûs
.
g‘
(
šdex
).
£tU¶škL©’cy
(
­Deviûs
.g‘(šdex).
g‘U¶škL©’cy
()+
d–ay
);

103  
	gŒue
;

108  
	gçl£
;

114  
	gçl£
;

118 
public
 
	$ApDeviû
(
SŒšg
 
Çme
, 
coÜdX
, 
coÜdY
, 
id
) {

120 
	`su³r
(
Çme
, 
coÜdX
, 
coÜdY
, 
id
);

121 
sm¬tThšgs
 = 
Ãw
 
HashS‘
<>();

122 
	`£tS”v”CloudËt
(
nuÎ
);

123 
	`£tMaxSm¬tThšg
(0);

124 
	`£tStus
(
Œue
);

125 
	`£tEdge
(0);

129 
	}
}

130 
public
 
	$ApDeviû
(
SŒšg
 
Çme
, 
coÜdX
, 
coÜdY
,

131 
id
, 
downLšk
, 
’”gyCÚs
,

132 
max
, 
upLškBªd
, 
upLškL©
) {

134 
	`su³r
(
Çme
, 
coÜdX
, 
coÜdY
, 
id
);

135 
sm¬tThšgs
 = 
Ãw
 
HashS‘
<>();

136 
	`£tS”v”CloudËt
(
nuÎ
);

137 
	`£tMaxSm¬tThšg
(0);

138 
	`£tStus
(
Œue
);

139 
	`£tEdge
(0);

140 
	`£tDowÆškBªdwidth
(
downLšk
);

141 
	`£tEÃrgyCÚsum±iÚ
(
’”gyCÚs
);

142 
	`£tLev–
(2);

143 
	`£tMaxSm¬tThšg
(
max
);

144 
	`£tU¶škBªdwidth
(
upLškBªd
);

145 
	`£tU¶škL©’cy
(
upLškL©
);

148 
	}
}

152 @
Ov”ride


153 
public
 
SŒšg
 
	$toSŒšg
() {

157  
this
.
	`g‘Name
()+" [£rv”ClouËt=" + 
£rv”CloudËt
.getName()+"]";

158 
	}
}

160 
public
 
FogDeviû
 
	$g‘S”v”CloudËt
() {

161  
£rv”CloudËt
;

162 
	}
}

164 
public
 
	$£tS”v”CloudËt
(
FogDeviû
 
£rv”CloudËt
) {

165 
this
.
£rv”CloudËt
 = serverCloudlet;

166 
	}
}

168 
public
 
	$g‘MaxSm¬tThšg
() {

169  
maxSm¬tThšg
;

170 
	}
}

172 
public
 
	$£tMaxSm¬tThšg
(
maxSm¬tThšg
) {

173 
this
.
maxSm¬tThšg
 = maxSmartThing;

174 
	}
}

176 
public
 
boŞ—n
 
	$isStus
() {

177  
¡©us
;

178 
	}
}

180 
public
 
	$£tStus
(
boŞ—n
 
¡©us
) {

181 
this
.
¡©us
 = status;

182 
	}
}

184 
public
 
	$g‘Edge
() {

185  
edge
;

186 
	}
}

188 
public
 
	$£tEdge
(
edge
) {

189 
this
.
edge
 =ƒdge;

190 
	}
}

	@src/org/fog/entities/FogBroker.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g’t™›s
;

3 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

4 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gPow”D©aûÁ”Brok”
;

6 
public
 cÏs 
	cFogBrok”
 
ex‹nds
 
	mPow”D©aûÁ”Brok”
{

8 
public
 
	$FogBrok”
(
SŒšg
 
Çme
è
throws
 
Exû±iÚ
 {

9 
	`su³r
(
Çme
);

13 @
Ov”ride


14 
public
 
	$¡¬tEÁ™y
() {

17 
	}
}

19 @
Ov”ride


20 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

23 
	}
}

25 @
Ov”ride


26 
public
 
	$shutdownEÁ™y
() {

29 
	}
}

	@src/org/fog/entities/FogDevice.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g’t™›s
;

3 
impÜt
 
	gjava
.
	gio
.
	gBufã»dWr™”
;

4 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

5 
impÜt
 
	gjava
.
	gio
.
	gFeWr™”
;

6 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

7 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

8 
impÜt
 
	gjava
.
	gio
.
	gUnsuµÜ‹dEncodšgExû±iÚ
;

9 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

10 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

12 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gM­
;

15 
impÜt
 
	gjava
.
	gut
.
	gQueue
;

16 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

18 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	gut
.
	gPaœ
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicy
;

26 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

27 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSimTags
;

28 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

29 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gPow”D©aûÁ”
;

30 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gPow”Ho¡
;

31 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
.
	gPow”Mod–
;

32 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”Sim¶e
;

33 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gBwProvisiÚ”Ov”bookšg
;

34 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gPeProvisiÚ”Ov”bookšg
;

35 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµEdge
;

36 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµLoİ
;

37 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµModuË
;

38 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµliÿtiÚ
;

39 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gCoÜdš©e
;

40 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDi¡ªûs
;

41 
impÜt
 
	gÜg
.
	gfog
.
	g¶aûm’t
.
	gMobeCÚŒŞËr
;

42 
impÜt
 
	gÜg
.
	gfog
.
	gpŞicy
.
	gAµModuËAÎoÿtiÚPŞicy
;

43 
impÜt
 
	gÜg
.
	gfog
.
	gscheduËr
.
	gSŒ—mO³¿tÜScheduËr
;

44 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gCÚfig
;

45 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogEv’ts
;

46 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogUts
;

47 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gLogg”
;

48 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gModuËLaunchCÚfig
;

49 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gN‘wÜkU§geMÚ™Ü
;

50 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gTimeK“³r
;

51 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gBefÜeMig¿tiÚ
;

52 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gBefÜeMig¿tiÚ_OLD
;

53 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gDecisiÚMig¿tiÚ
;

54 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gMySti¡ics
;

55 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gS”viû
;

57 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gLogMobe
;

58 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMaxAndMš
;

59 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMobeEv’ts
;

60 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gPŞic›s
;

62 
public
 cÏs 
	cFogDeviû
 
ex‹nds
 
	mPow”D©aûÁ”
 {

63 
´Ùeùed
 
	mQueue
<
	mTu¶e
> 
	mnÜthTu¶eQueue
;

64 
´Ùeùed
 
	mQueue
<
	mPaœ
<
	mTu¶e
, 
	mIÁeg”
>> 
	msouthTu¶eQueue
;

66 
´Ùeùed
 
	mLi¡
<
	mSŒšg
> 
	maùiveAµliÿtiÚs
;

68 
´Ùeùed
 
	mM­
<
	mSŒšg
, 
	mAµliÿtiÚ
> 
	m­¶iÿtiÚM­
;

69 
´Ùeùed
 
	mM­
<
	mSŒšg
, 
	mLi¡
<SŒšg>> 
	m­pToModuËsM­
;

70 
´Ùeùed
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mchdToL©’cyM­
;

73 
´Ùeùed
 
	mM­
<
	mIÁeg”
, IÁeg”> 
	mşoudT¿fficM­
;

75 
´Ùeùed
 
	mlockTime
;

80 
´Ùeùed
 
	m·»ÁId
;

81 
´Ùeùed
 
	mvŞ©P¬’tId
;

86 
´Ùeùed
 
	mcÚŒŞËrId
;

90 
´Ùeùed
 
	mLi¡
<
	mIÁeg”
> 
	mchd»nIds
;

92 
´Ùeùed
 
	mM­
<
	mIÁeg”
, 
	mLi¡
<
	mSŒšg
>> 
	mchdToO³¿tÜsM­
;

97 
´Ùeùed
 
boŞ—n
 
	misSouthLškBusy
;

102 
´Ùeùed
 
boŞ—n
 
	misNÜthLškBusy
;

104 
´Ùeùed
 
	mu¶škBªdwidth
;

105 
´Ùeùed
 
	mdowÆškBªdwidth
;

106 
´Ùeùed
 
	mu¶škL©’cy
;

107 
´Ùeùed
 
	mLi¡
<
	mPaœ
<
	mIÁeg”
, 
	mDoubË
>> 
	massocŸ‹dAùu©ÜIds
;

109 
´Ùeùed
 
	m’”gyCÚsum±iÚ
;

110 
´Ùeùed
 
	mÏ¡Utiz©iÚUpd©eTime
;

111 
´Ùeùed
 
	mÏ¡Utiz©iÚ
;

112 
´iv©e
 
	mËv–
;

114 
´Ùeùed
 
	m¿‹P”Ms
;

116 
´Ùeùed
 
	mtÙ®Co¡
;

118 
´Ùeùed
 
	mM­
<
	mSŒšg
, M­<SŒšg, 
	mIÁeg”
>> 
	mmoduËIn¡ªûCouÁ
;

120 
´Ùeùed
 
CoÜdš©e
 
	mcoÜd
;

121 
´Ùeùed
 
	mS‘
<
	mApDeviû
> 
	m­Deviûs
;

122 
´Ùeùed
 
	mS‘
<
	mMobeDeviû
> 
	msm¬tThšgs
;

123 
´Ùeùed
 
	mS‘
<
	mMobeDeviû
> 
	msm¬tThšgsW™hVm
;

124 
´Ùeùed
 
	mS‘
<
	mFogDeviû
> 
	m£rv”CloudËts
;

125 
´Ùeùed
 
boŞ—n
 
	mavaabË
;

126 
´Ùeùed
 
S”viû
 
	m£rviû
;

128 
´iv©e
 
	mHashM­
<
	mFogDeviû
, 
	mDoubË
> 
	mÃtS”v”CloudËts
;

129 
´Ùeùed
 
DecisiÚMig¿tiÚ
 
	mmig¿tiÚSŒ©egy
;

130 
´Ùeùed
 
	mpŞicyR•liÿVM
;

131 
´iv©e
 
FogDeviû
 
	m£rv”CloudËtToVmMig¿‹
;

132 
´Ùeùed
 
BefÜeMig¿tiÚ
 
	mbefÜeMig¿tiÚ
;

134 
´Ùeùed
 
	mmyId
;

137 
public
 
	$g‘MyId
() {

138  
myId
;

141 
public
 
	$£tMyId
(
myId
) {

142 
this
.
myId
 = myId;

143 
	}
}

145 
public
 
	gHashM­
<
	gFogDeviû
, 
	gDoubË
> 
	$g‘N‘S”v”CloudËts
() {

146  
ÃtS”v”CloudËts
;

147 
	}
}

149 
public
 
£tN‘S”v”CloudËts
(
HashM­
<
FogDeviû
, 
DoubË
> 
ÃtS”v”CloudËts
) {

150 
	gthis
.
	gÃtS”v”CloudËts
 = 
ÃtS”v”CloudËts
;

153 
public
 
S”viû
 
	$g‘S”viû
() {

154  
£rviû
;

155 
	}
}

157 
public
 
	$£tS”viû
(
S”viû
 
£rviû
) {

158 
this
.
£rviû
 = service;

159 
	}
}

161 
public
 
boŞ—n
 
	$isAvaabË
() {

162  
avaabË
;

163 
	}
}

165 
public
 
	$£tAvaabË
(
boŞ—n
 
avaabË
) {

166 
this
.
avaabË
 =‡vailable;

167 
	}
}

169 
public
 
	gS‘
<
	gMobeDeviû
> 
	$g‘Sm¬tThšgs
() {

170  
sm¬tThšgs
;

171 
	}
}

173 
public
 
	$£tSm¬tThšgs
(
MobeDeviû
 
¡
, 
aùiÚ
) {

174 if(
aùiÚ
 =ğ
PŞic›s
.
ADD
){

175 
this
.
sm¬tThšgs
.
	`add
(
¡
);

178 
this
.
sm¬tThšgs
.
	`»move
(
¡
);

180 
	}
}

182 
public
 
	gS‘
<
	gApDeviû
> 
	$g‘ApDeviûs
() {

183  
­Deviûs
;

184 
	}
}

186 
public
 
	$£tApDeviûs
(
ApDeviû
 
­
, 
aùiÚ
) {

187 if(
aùiÚ
 =ğ
PŞic›s
.
ADD
){

188 
this
.
­Deviûs
.
	`add
(
­
);

191 
this
.
­Deviûs
.
	`»move
(
­
);

193 
	}
}

195 
public
 
CoÜdš©e
 
	$g‘CoÜd
() {

196  
coÜd
;

197 
	}
}

199 
public
 
	$£tCoÜd
(
coÜdX
, 
coÜdY
) {

200 
this
.
coÜd
.
	`£tCoÜdX
(
coÜdX
);

201 
this
.
coÜd
.
	`£tCoÜdY
(
coÜdY
);

202 
	}
}

204 
public
 
	$FogDeviû
(){

206 
	}
}

209 
public
 
	$FogDeviû
(
SŒšg
 
Çme
, 
coÜdX
, 
coÜdY
, 
id
) {

212 
	`su³r
(
Çme
);

213 
this
.
coÜd
=
Ãw
 
	`CoÜdš©e
();

217 
this
.
	`£tCoÜd
(
coÜdX
, 
coÜdY
);

218 
this
.
	`£tMyId
(
id
);

219 
sm¬tThšgs
 = 
Ãw
 
HashS‘
<>();

220 
­Deviûs
 = 
Ãw
 
HashS‘
<>();

221 
ÃtS”v”CloudËts
 = 
Ãw
 
HashM­
<>();

222 
£rv”CloudËts
 = 
Ãw
 
HashS‘
<>();

223 
this
.
	`£tAvaabË
(
Œue
);

225 
	}
}

227 
public
 
	$FogDeviû
(
SŒšg
 
Çme
){

228 
	`su³r
(
Çme
);

229 
	}
}

232 
public
 
FogDeviû
(

233 
SŒšg
 
Çme
,

234 
FogDeviûCh¬aù”i¡ics
 
ch¬aù”i¡ics
,

235 
VmAÎoÿtiÚPŞicy
 
vmAÎoÿtiÚPŞicy
,

236 
Li¡
<
StÜage
> 
¡ÜageLi¡
,

237 
schedulšgIÁ”v®
,

238 
u¶škBªdwidth
, 
dowÆškBªdwidth
, 
u¶škL©’cy
, 
¿‹P”Ms


239 , 
coÜdX
, 
coÜdY
, 
id
, 
S”viû
 
£rviû


240 , 
DecisiÚMig¿tiÚ
 
mig¿tiÚSŒ©egy


241 , 
pŞicyR•liÿVM


242 , 
BefÜeMig¿tiÚ
 
befÜeMig¿tiÚ


243 è
throws
 
	gExû±iÚ
 {

245 
su³r
(
Çme
, 
ch¬aù”i¡ics
, 
vmAÎoÿtiÚPŞicy
, 
¡ÜageLi¡
, 
schedulšgIÁ”v®
);

247 
	gthis
.
	gcoÜd
=
Ãw
 
CoÜdš©e
();

250 
	gthis
.
£tCoÜd
(
coÜdX
, 
coÜdY
);

251 
	gthis
.
£tMyId
(
id
);

252 
	gsm¬tThšgs
 = 
Ãw
 
HashS‘
<>();

253 
	gsm¬tThšgsW™hVm
 = 
Ãw
 
HashS‘
<>();

254 
	g­Deviûs
 = 
Ãw
 
HashS‘
<>();

255 
	gÃtS”v”CloudËts
 = 
Ãw
 
HashM­
<>();

256 
£tVŞ©P¬’tId
(-1);

257 
	gthis
.
£tAvaabË
(
Œue
);

258 
	gthis
.
£tS”viû
(
£rviû
);

260 
£tBefÜeMig¿‹
(
befÜeMig¿tiÚ
);

261 
£tPŞicyR•liÿVM
(
pŞicyR•liÿVM
);

262 
£tMig¿tiÚSŒ©egy
(
mig¿tiÚSŒ©egy
);

263 
£tCh¬aù”i¡ics
(
ch¬aù”i¡ics
);

264 
£tVmAÎoÿtiÚPŞicy
(
vmAÎoÿtiÚPŞicy
);

265 
£tLa¡ProûssTime
(0.0);

266 
£tStÜageLi¡
(
¡ÜageLi¡
);

267 
£tVmLi¡
(
Ãw
 
A¼ayLi¡
<
Vm
>());

268 
£tSchedulšgIÁ”v®
(
schedulšgIÁ”v®
);

269 
£tU¶škBªdwidth
(
u¶škBªdwidth
);

270 
£tDowÆškBªdwidth
(
dowÆškBªdwidth
);

271 
£tU¶škL©’cy
(
u¶škL©’cy
);

272 
£tR©eP”Ms
(
¿‹P”Ms
);

273 
£tS”v”CloudËtToVmMig¿‹
(
nuÎ
);

274 
£tAssocŸ‹dAùu©ÜIds
(
Ãw
 
A¼ayLi¡
<
Paœ
<
IÁeg”
, 
DoubË
>>());

275 
Ho¡
 
	gho¡
 : 
g‘Ch¬aù”i¡ics
().
g‘Ho¡Li¡
()) {

276 
ho¡
.
£tD©aûÁ”
(
this
);

278 
£tAùiveAµliÿtiÚs
(
Ãw
 
A¼ayLi¡
<
SŒšg
>());

280 ià(
g‘Ch¬aù”i¡ics
().
g‘Numb”OfPes
() == 0) {

281 
throw
 
Ãw
 
Exû±iÚ
(
su³r
.
g‘Name
()

285 
g‘Ch¬aù”i¡ics
().
£tId
(
su³r
.
g‘Id
());

287 
	g­¶iÿtiÚM­
 = 
Ãw
 
HashM­
<
SŒšg
, 
	gAµliÿtiÚ
>();

288 
	g­pToModuËsM­
 = 
Ãw
 
HashM­
<
SŒšg
, 
	gLi¡
<
	gSŒšg
>>();

289 
	gnÜthTu¶eQueue
 = 
Ãw
 
LškedLi¡
<
Tu¶e
>();

290 
	gsouthTu¶eQueue
 = 
Ãw
 
LškedLi¡
<
Paœ
<
Tu¶e
, 
	gIÁeg”
>>();

291 
£tNÜthLškBusy
(
çl£
);

292 
£tSouthLškBusy
(
çl£
);

295 
£tChd»nIds
(
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

296 
£tChdToO³¿tÜsM­
(
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
SŒšg
>>());

298 
	gthis
.
	gşoudT¿fficM­
 = 
Ãw
 
HashM­
<
IÁeg”
, 
	gIÁeg”
>();

300 
	gthis
.
	glockTime
 = 0;

302 
	gthis
.
	g’”gyCÚsum±iÚ
 = 0;

303 
	gthis
.
	gÏ¡Utiz©iÚ
 = 0;

304 
£tTÙ®Co¡
(0);

305 
£tModuËIn¡ªûCouÁ
(
Ãw
 
HashM­
<
SŒšg
, 
M­
<SŒšg, 
IÁeg”
>>());

306 
£tChdToL©’cyM­
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

309 
public
 
FogDeviû
(

310 
SŒšg
 
Çme
,

311 
FogDeviûCh¬aù”i¡ics
 
ch¬aù”i¡ics
,

312 
VmAÎoÿtiÚPŞicy
 
vmAÎoÿtiÚPŞicy
,

313 
Li¡
<
StÜage
> 
¡ÜageLi¡
,

314 
schedulšgIÁ”v®
,

315 
u¶škBªdwidth
, 
dowÆškBªdwidth
, 
u¶škL©’cy
, 
¿‹P”Ms


316 ,
coÜdX
, 
coÜdY
, 
id


318 è
throws
 
	gExû±iÚ
 {

320 
su³r
(
Çme
, 
ch¬aù”i¡ics
, 
vmAÎoÿtiÚPŞicy
, 
¡ÜageLi¡
, 
schedulšgIÁ”v®
);

322 
	gthis
.
	gcoÜd
=
Ãw
 
CoÜdš©e
();

325 
	gthis
.
£tCoÜd
(
coÜdX
, 
coÜdY
);

326 
	gthis
.
£tMyId
(
id
);

327 
	gsm¬tThšgs
 = 
Ãw
 
HashS‘
<>();

328 
	gsm¬tThšgsW™hVm
 = 
Ãw
 
HashS‘
<>();

330 
	g­Deviûs
 = 
Ãw
 
HashS‘
<>();

331 
	gÃtS”v”CloudËts
 = 
Ãw
 
HashM­
<>();

332 
£tVŞ©P¬’tId
(-1);

334 
	gthis
.
£tAvaabË
(
Œue
);

335 
£tCh¬aù”i¡ics
(
ch¬aù”i¡ics
);

336 
£tVmAÎoÿtiÚPŞicy
(
vmAÎoÿtiÚPŞicy
);

337 
£tLa¡ProûssTime
(0.0);

338 
£tStÜageLi¡
(
¡ÜageLi¡
);

339 
£tVmLi¡
(
Ãw
 
A¼ayLi¡
<
Vm
>());

340 
£tSchedulšgIÁ”v®
(
schedulšgIÁ”v®
);

341 
£tU¶škBªdwidth
(
u¶škBªdwidth
);

342 
£tDowÆškBªdwidth
(
dowÆškBªdwidth
);

343 
£tU¶škL©’cy
(
u¶škL©’cy
);

344 
£tR©eP”Ms
(
¿‹P”Ms
);

345 
£tS”v”CloudËtToVmMig¿‹
(
nuÎ
);

347 
£tAssocŸ‹dAùu©ÜIds
(
Ãw
 
A¼ayLi¡
<
Paœ
<
IÁeg”
, 
DoubË
>>());

348 
Ho¡
 
	gho¡
 : 
g‘Ch¬aù”i¡ics
().
g‘Ho¡Li¡
()) {

349 
ho¡
.
£tD©aûÁ”
(
this
);

351 
£tAùiveAµliÿtiÚs
(
Ãw
 
A¼ayLi¡
<
SŒšg
>());

353 ià(
g‘Ch¬aù”i¡ics
().
g‘Numb”OfPes
() == 0) {

354 
throw
 
Ãw
 
Exû±iÚ
(
su³r
.
g‘Name
()

358 
g‘Ch¬aù”i¡ics
().
£tId
(
su³r
.
g‘Id
());

360 
	g­¶iÿtiÚM­
 = 
Ãw
 
HashM­
<
SŒšg
, 
	gAµliÿtiÚ
>();

361 
	g­pToModuËsM­
 = 
Ãw
 
HashM­
<
SŒšg
, 
	gLi¡
<
	gSŒšg
>>();

362 
	gnÜthTu¶eQueue
 = 
Ãw
 
LškedLi¡
<
Tu¶e
>();

363 
	gsouthTu¶eQueue
 = 
Ãw
 
LškedLi¡
<
Paœ
<
Tu¶e
, 
	gIÁeg”
>>();

364 
£tNÜthLškBusy
(
çl£
);

365 
£tSouthLškBusy
(
çl£
);

368 
£tChd»nIds
(
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

369 
£tChdToO³¿tÜsM­
(
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
SŒšg
>>());

371 
	gthis
.
	gşoudT¿fficM­
 = 
Ãw
 
HashM­
<
IÁeg”
, 
	gIÁeg”
>();

373 
	gthis
.
	glockTime
 = 0;

375 
	gthis
.
	g’”gyCÚsum±iÚ
 = 0;

376 
	gthis
.
	gÏ¡Utiz©iÚ
 = 0;

377 
£tTÙ®Co¡
(0);

378 
£tModuËIn¡ªûCouÁ
(
Ãw
 
HashM­
<
SŒšg
, 
M­
<SŒšg, 
IÁeg”
>>());

379 
£tChdToL©’cyM­
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

382 
public
 
FogDeviû
(

383 
SŒšg
 
Çme
,

384 
FogDeviûCh¬aù”i¡ics
 
ch¬aù”i¡ics
,

385 
VmAÎoÿtiÚPŞicy
 
vmAÎoÿtiÚPŞicy
,

386 
Li¡
<
StÜage
> 
¡ÜageLi¡
,

387 
schedulšgIÁ”v®
,

388 
u¶škBªdwidth
, 
dowÆškBªdwidth
, 
u¶škL©’cy
, 
¿‹P”Ms
è
throws
 
	gExû±iÚ
 {

389 
su³r
(
Çme
, 
ch¬aù”i¡ics
, 
vmAÎoÿtiÚPŞicy
, 
¡ÜageLi¡
, 
schedulšgIÁ”v®
);

390 
£tCh¬aù”i¡ics
(
ch¬aù”i¡ics
);

391 
£tVmAÎoÿtiÚPŞicy
(
vmAÎoÿtiÚPŞicy
);

392 
£tLa¡ProûssTime
(0.0);

393 
£tStÜageLi¡
(
¡ÜageLi¡
);

394 
£tVmLi¡
(
Ãw
 
A¼ayLi¡
<
Vm
>());

395 
£tSchedulšgIÁ”v®
(
schedulšgIÁ”v®
);

396 
£tU¶škBªdwidth
(
u¶škBªdwidth
);

397 
£tDowÆškBªdwidth
(
dowÆškBªdwidth
);

398 
£tU¶škL©’cy
(
u¶škL©’cy
);

399 
£tR©eP”Ms
(
¿‹P”Ms
);

400 
£tS”v”CloudËtToVmMig¿‹
(
nuÎ
);

402 
£tAssocŸ‹dAùu©ÜIds
(
Ãw
 
A¼ayLi¡
<
Paœ
<
IÁeg”
, 
DoubË
>>());

403 
Ho¡
 
	gho¡
 : 
g‘Ch¬aù”i¡ics
().
g‘Ho¡Li¡
()) {

404 
ho¡
.
£tD©aûÁ”
(
this
);

406 
£tAùiveAµliÿtiÚs
(
Ãw
 
A¼ayLi¡
<
SŒšg
>());

408 ià(
g‘Ch¬aù”i¡ics
().
g‘Numb”OfPes
() == 0) {

409 
throw
 
Ãw
 
Exû±iÚ
(
su³r
.
g‘Name
()

413 
g‘Ch¬aù”i¡ics
().
£tId
(
su³r
.
g‘Id
());

415 
	g­¶iÿtiÚM­
 = 
Ãw
 
HashM­
<
SŒšg
, 
	gAµliÿtiÚ
>();

416 
	g­pToModuËsM­
 = 
Ãw
 
HashM­
<
SŒšg
, 
	gLi¡
<
	gSŒšg
>>();

417 
	gnÜthTu¶eQueue
 = 
Ãw
 
LškedLi¡
<
Tu¶e
>();

418 
	gsouthTu¶eQueue
 = 
Ãw
 
LškedLi¡
<
Paœ
<
Tu¶e
, 
	gIÁeg”
>>();

419 
£tNÜthLškBusy
(
çl£
);

420 
£tSouthLškBusy
(
çl£
);

423 
£tChd»nIds
(
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

424 
£tChdToO³¿tÜsM­
(
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
SŒšg
>>());

426 
	gthis
.
	gşoudT¿fficM­
 = 
Ãw
 
HashM­
<
IÁeg”
, 
	gIÁeg”
>();

428 
	gthis
.
	glockTime
 = 0;

430 
	gthis
.
	g’”gyCÚsum±iÚ
 = 0;

431 
	gthis
.
	gÏ¡Utiz©iÚ
 = 0;

432 
£tTÙ®Co¡
(0);

433 
£tModuËIn¡ªûCouÁ
(
Ãw
 
HashM­
<
SŒšg
, 
M­
<SŒšg, 
IÁeg”
>>());

434 
£tChdToL©’cyM­
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

437 
public
 
	$FogDeviû
(

438 
SŒšg
 
Çme
, 
ms
, 
¿m
,

439 
u¶škBªdwidth
, 
dowÆškBªdwidth
, 
¿‹P”Ms
, 
Pow”Mod–
 
pow”Mod–
è
throws
 
Exû±iÚ
 {

440 
	`su³r
(
Çme
, 
nuÎ
,‚uÎ, 
Ãw
 
LškedLi¡
<
StÜage
>(), 0);

442 
Li¡
<
Pe
> 
³Li¡
 = 
Ãw
 
A¼ayLi¡
<Pe>();

445 
³Li¡
.
	`add
(
Ãw
 
	`Pe
(0,‚ew 
	`PeProvisiÚ”Ov”bookšg
(
ms
)));

447 
ho¡Id
 = 
FogUts
.
	`g’”©eEÁ™yId
();

448 
¡Üage
 = 1000000;

449 
bw
 = 10000;

451 
Pow”Ho¡
 
ho¡
 = 
Ãw
 
	`Pow”Ho¡
(

452 
ho¡Id
,

453 
Ãw
 
	`RamProvisiÚ”Sim¶e
(
¿m
),

454 
Ãw
 
	`BwProvisiÚ”Ov”bookšg
(
bw
),

455 
¡Üage
,

456 
³Li¡
,

457 
Ãw
 
	`SŒ—mO³¿tÜScheduËr
(
³Li¡
),

458 
pow”Mod–


461 
Li¡
<
Ho¡
> 
ho¡Li¡
 = 
Ãw
 
A¼ayLi¡
<Host>();

462 
ho¡Li¡
.
	`add
(
ho¡
);

464 
	`£tVmAÎoÿtiÚPŞicy
(
Ãw
 
	`AµModuËAÎoÿtiÚPŞicy
(
ho¡Li¡
));

466 
SŒšg
 
¬ch
 = 
CÚfig
.
FOG_DEVICE_ARCH
;

467 
SŒšg
 
os
 = 
CÚfig
.
FOG_DEVICE_OS
;

468 
SŒšg
 
vmm
 = 
CÚfig
.
FOG_DEVICE_VMM
;

469 
time_zÚe
 = 
CÚfig
.
FOG_DEVICE_TIMEZONE
;

470 
co¡
 = 
CÚfig
.
FOG_DEVICE_COST
;

471 
co¡P”Mem
 = 
CÚfig
.
FOG_DEVICE_COST_PER_MEMORY
;

472 
co¡P”StÜage
 = 
CÚfig
.
FOG_DEVICE_COST_PER_STORAGE
;

473 
co¡P”Bw
 = 
CÚfig
.
FOG_DEVICE_COST_PER_BW
;

475 
FogDeviûCh¬aù”i¡ics
 
ch¬aù”i¡ics
 = 
Ãw
 
	`FogDeviûCh¬aù”i¡ics
(

476 
¬ch
, 
os
, 
vmm
, 
ho¡
, 
time_zÚe
, 
co¡
, 
co¡P”Mem
,

477 
co¡P”StÜage
, 
co¡P”Bw
);

479 
	`£tCh¬aù”i¡ics
(
ch¬aù”i¡ics
);

481 
	`£tLa¡ProûssTime
(0.0);

482 
	`£tVmLi¡
(
Ãw
 
A¼ayLi¡
<
Vm
>());

483 
	`£tU¶škBªdwidth
(
u¶škBªdwidth
);

484 
	`£tDowÆškBªdwidth
(
dowÆškBªdwidth
);

485 
	`£tU¶škL©’cy
(
u¶škL©’cy
);

486 
	`£tAssocŸ‹dAùu©ÜIds
(
Ãw
 
A¼ayLi¡
<
Paœ
<
IÁeg”
, 
DoubË
>>());

487 
Ho¡
 
ho¡1
 : 
	`g‘Ch¬aù”i¡ics
().
	`g‘Ho¡Li¡
()) {

488 
ho¡1
.
	`£tD©aûÁ”
(
this
);

490 
	`£tAùiveAµliÿtiÚs
(
Ãw
 
A¼ayLi¡
<
SŒšg
>());

491 ià(
	`g‘Ch¬aù”i¡ics
().
	`g‘Numb”OfPes
() == 0) {

492 
throw
 
Ãw
 
	`Exû±iÚ
(
su³r
.
	`g‘Name
()

497 
	`g‘Ch¬aù”i¡ics
().
	`£tId
(
su³r
.
	`g‘Id
());

499 
­¶iÿtiÚM­
 = 
Ãw
 
HashM­
<
SŒšg
, 
AµliÿtiÚ
>();

500 
­pToModuËsM­
 = 
Ãw
 
HashM­
<
SŒšg
, 
Li¡
<String>>();

501 
nÜthTu¶eQueue
 = 
Ãw
 
LškedLi¡
<
Tu¶e
>();

502 
southTu¶eQueue
 = 
Ãw
 
LškedLi¡
<
Paœ
<
Tu¶e
, 
IÁeg”
>>();

503 
	`£tNÜthLškBusy
(
çl£
);

504 
	`£tSouthLškBusy
(
çl£
);

507 
	`£tChd»nIds
(
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

508 
	`£tChdToO³¿tÜsM­
(
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
SŒšg
>>());

510 
this
.
şoudT¿fficM­
 = 
Ãw
 
HashM­
<
IÁeg”
, Integer>();

512 
this
.
lockTime
 = 0;

514 
this
.
’”gyCÚsum±iÚ
 = 0;

515 
this
.
Ï¡Utiz©iÚ
 = 0;

516 
	`£tTÙ®Co¡
(0);

517 
	`£tChdToL©’cyM­
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

518 
	`£tModuËIn¡ªûCouÁ
(
Ãw
 
HashM­
<
SŒšg
, 
M­
<SŒšg, 
IÁeg”
>>());

519 
	}
}

530 
´Ùeùed
 
	$»gi¡”Oth”EÁ™y
() {

532 
	}
}

534 @
Ov”ride


535 
´Ùeùed
 
	$´oûssOth”Ev’t
(
SimEv’t
 
ev
) {

536 
ev
.
	`g‘Tag
()){

537 
FogEv’ts
.
TUPLE_ARRIVAL
:

538 
	`´oûssTu¶eA¼iv®
(
ev
);

540 
FogEv’ts
.
LAUNCH_MODULE
:

541 
	`´oûssModuËA¼iv®
(
ev
);

543 
FogEv’ts
.
RELEASE_OPERATOR
:

544 
	`´oûssO³¿tÜR–—£
(
ev
);

546 
FogEv’ts
.
SENSOR_JOINED
:

547 
	`´oûssS’sÜJoššg
(
ev
);

549 
FogEv’ts
.
SEND_PERIODIC_TUPLE
:

550 
	`£ndP”iodicTu¶e
(
ev
);

552 
FogEv’ts
.
APP_SUBMIT
:

553 
	`´oûssAµSubm™
(
ev
);

555 
FogEv’ts
.
UPDATE_NORTH_TUPLE_QUEUE
:

556 
	`upd©eNÜthTu¶eQueue
();

558 
FogEv’ts
.
UPDATE_SOUTH_TUPLE_QUEUE
:

559 
	`upd©eSouthTu¶eQueue
();

561 
FogEv’ts
.
ACTIVE_APP_UPDATE
:

562 
	`upd©eAùiveAµliÿtiÚs
(
ev
);

564 
FogEv’ts
.
ACTUATOR_JOINED
:

565 
	`´oûssAùu©ÜJošed
(
ev
);

567 
FogEv’ts
.
LAUNCH_MODULE_INSTANCE
:

568 
	`upd©eModuËIn¡ªûCouÁ
(
ev
);

570 
FogEv’ts
.
RESOURCE_MGMT
:

571 
	`mªageResourûs
(
ev
);

573 
MobeEv’ts
.
MAKE_DECISION_MIGRATION
:

574 
	`švokeDecisiÚMig¿tiÚ
(
ev
);

576 
MobeEv’ts
.
TO_MIGRATION
:

577 
	`švokeBefÜeMig¿tiÚ
(
ev
);

579 
MobeEv’ts
.
NO_MIGRATION
:

580 
	`švokeNoMig¿tiÚ
(
ev
);

582 
MobeEv’ts
.
START_MIGRATION
:

583 
	`švokeS¹Mig¿tiÚ
(
ev
);

585 
MobeEv’ts
.
ABORT_MIGRATION
:

586 
	`švokeAbÜtMig¿tiÚ
(
ev
);

588 
MobeEv’ts
.
REMOVE_VM_OLD_CLOUDLET
:

589 
	`»moveVmOldS”v”CloudËt
(
ev
);

591 
MobeEv’ts
.
ADD_VM_NEW_CLOUDLET
:

592 
	`addVmNewS”v”CloudËt
(
ev
);

594 
MobeEv’ts
.
DELIVERY_VM
:

595 
	`d–iv”yVM
(
ev
);

597 
MobeEv’ts
.
CONNECT_ST_TO_SC
:

598 
	`cÚÃùS”v”CloudËtSm¬tThšg
(
ev
);

600 
MobeEv’ts
.
DESCONNECT_ST_TO_SC
:

601 
	`descÚÃùS”v”CloudËtSm¬tThšg
(
ev
);

603 
MobeEv’ts
.
UNLOCKED_MIGRATION
:

604 
	`unLockedMig¿tiÚ
(
ev
);

606 
MobeEv’ts
.
VM_MIGRATE
:

607 
	`myVmMig¿‹
(
ev
);

609 
MobeEv’ts
.
SET_MIG_STATUS_TRUE
:

610 
	`migStusToLiveMig¿tiÚ
(
ev
);

616 
	}
}

620 
´iv©e
 
	$myVmMig¿‹
(
SimEv’t
 
ev
) {

623 
MobeDeviû
 
sm¬tThšg
 =(MobeDeviûè
ev
.
	`g‘D©a
();

625 
AµliÿtiÚ
 
­p
 = 
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
­¶iÿtiÚM­
.
	`g‘
("MyAµ_vr_game"+sm¬tThšg.
	`g‘MyId
());

626 if(
­p
==
nuÎ
){

627 
Sy¡em
.
out
.
	`´šn
("Clock: "+
CloudSim
.
	`şock
()+" - FogDevice.java - App == Null");

628 
Sy¡em
.
	`ex™
(0);

631 
	`g‘AµliÿtiÚM­
().
	`put
(
­p
.
	`g‘AµId
(),app);

634 if(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘AµliÿtiÚM­
().
	`»move
(
­p
.
	`g‘AµId
())==
nuÎ
){

635 
Sy¡em
.
out
.
	`´šn
("FogDevice.java -‡pplicationMap did‚ot„emove.„eturn ==‚ull");

636 
Sy¡em
.
	`ex™
(0);

639 
MobeCÚŒŞËr
 
mobeCÚŒŞËr
 = (MobeCÚŒŞËr)
CloudSim
.
	`g‘EÁ™y
("MobileController");

641 
mobeCÚŒŞËr
.
	`g‘ModuËM­pšg
().
	`addModuËToDeviû
(((
AµModuË
)
sm¬tThšg
.
	`g‘VmMobeDeviû
()).
	`g‘Name
(),getName(), 1);

642 
Sy¡em
.
out
.
	`´šn
("AÁe d’Œ¬‚Øsubm™AµliÿtiÚMig¿tiÚ - "+
	`g‘Name
());

643 
mobeCÚŒŞËr
.
	`g‘ModuËM­pšg
().g‘ModuËM­pšg().
	`»move
(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Name
());

644 if(!
mobeCÚŒŞËr
.
	`g‘ModuËM­pšg
().g‘ModuËM­pšg().
	`cÚšsKey
(
	`g‘Name
())){

645 
mobeCÚŒŞËr
.
	`g‘ModuËM­pšg
().g‘ModuËM­pšg().
	`put
(
	`g‘Name
(), 
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

646 
mobeCÚŒŞËr
.
	`g‘ModuËM­pšg
().g‘ModuËM­pšg().
	`g‘
(
	`g‘Name
()).
	`put
("AµModuËVm_"+
sm¬tThšg
.getName(), 1);

649 
mobeCÚŒŞËr
.
	`subm™AµliÿtiÚMig¿tiÚ
(
sm¬tThšg
, 
­p
, 1);

652 
	`£ndNow
(
mobeCÚŒŞËr
.
	`g‘Id
(), 
MobeEv’ts
.
APP_SUBMIT_MIGRATE
, 
­p
);

657 
	}
}

659 
´iv©e
 
	$unLockedMig¿tiÚ
(
SimEv’t
 
ev
) {

661 
MobeDeviû
 
sm¬tThšg
 = (MobeDeviûè
ev
.
	`g‘D©a
();

662 
sm¬tThšg
.
	`£tLockedToMig¿tiÚ
(
çl£
);

663 
sm¬tThšg
.
	`£tTimeFšishD–iv”yVm
(-1);

664 
LogMobe
.
	`debug
("FogDeviû.java", 
sm¬tThšg
.
	`g‘Name
() +" hadhe migration unlocked");

665 
	}
}

667 
´iv©e
 
	$descÚÃùS”v”CloudËtSm¬tThšg
(
SimEv’t
 
ev
) {

669 
MobeDeviû
 
sm¬tThšg
 = (MobeDeviûè
ev
.
	`g‘D©a
();

670 
	`descÚÃùS”v”CloudËtSm¬tThšg
(
sm¬tThšg
);

671 
MySti¡ics
.
	`g‘In¡ªû
().
	`¡¬tW™houtCÚÃtiÚ
(
sm¬tThšg
.
	`g‘MyId
(),
CloudSim
.
	`şock
());

673 
	}
}

675 
´iv©e
 
	$cÚÃùS”v”CloudËtSm¬tThšg
(
SimEv’t
 
ev
) {

677 
MobeDeviû
 
sm¬tThšg
 = (MobeDeviûè
ev
.
	`g‘D©a
();

678 
	`cÚÃùS”v”CloudËtSm¬tThšg
(
sm¬tThšg
);

679 
MySti¡ics
.
	`g‘In¡ªû
().
	`fš®W™houtCÚÃùiÚ
(
sm¬tThšg
.
	`g‘MyId
(), 
CloudSim
.
	`şock
());

682 if(
sm¬tThšg
.
	`g‘TimeFšishD–iv”yVm
()==-1){

683 
MySti¡ics
.
	`g‘In¡ªû
().
	`¡¬tD–ayAá”NewCÚÃùiÚ
(
sm¬tThšg
.
	`g‘MyId
(),
CloudSim
.
	`şock
());

686 
sm¬tThšg
.
	`£tMigStus
(
çl£
);

687 
sm¬tThšg
.
	`£tPo¡CİyStus
(
çl£
);

688 if(
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlW™houtVmTime
().
	`g‘
(
sm¬tThšg
.
	`g‘MyId
())!=
nuÎ
){

689 
MySti¡ics
.
	`g‘In¡ªû
().
	`fš®W™houtVmTime
(
sm¬tThšg
.
	`g‘MyId
(), 
CloudSim
.
	`şock
());

690 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlW™houtVmTime
().
	`»move
(
sm¬tThšg
.
	`g‘MyId
());

692 
LogMobe
.
	`debug
("FogDeviû.java", 
sm¬tThšg
.
	`g‘Name
()+ " had migStatuso false - connectServerCloudlet");

693 
MySti¡ics
.
	`g‘In¡ªû
().
	`¡¬tD–ayAá”NewCÚÃùiÚ
(
sm¬tThšg
.
	`g‘MyId
(), 0.0);

694 
MySti¡ics
.
	`g‘In¡ªû
().
	`fš®D–ayAá”NewCÚÃùiÚ
(
sm¬tThšg
.
	`g‘MyId
(), 
	`g‘Ch¬aù”i¡ics
().
	`g‘CpuTime
(sm¬tThšg.
	`g‘VmMobeDeviû
().
	`g‘Size
()*1024*1024*8, 0.0));

696 if(!
sm¬tThšg
.
	`g‘SourûS”v”CloudËt
().
	`equ®s
(sm¬tThšg.
	`g‘VmLoÿlS”v”CloudËt
())){

697 
sm¬tThšg
.
	`g‘SourûS”v”CloudËt
().
	`descÚÃùS”v”CloudËtSm¬tThšg
(smartThing);

698 
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`cÚÃùS”v”CloudËtSm¬tThšg
(smartThing);

699 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tMyCouÁLowe¡L©’cy
(1);

704 if(
sm¬tThšg
.
	`g‘TimeFšishD–iv”yVm
() !=-1){

711 
	}
}

713 
´iv©e
 
	$addVmNewS”v”CloudËt
(
SimEv’t
 
ev
) {

716 
	}
}

718 
´iv©e
 
	$»moveVmOldS”v”CloudËt
(
SimEv’t
 
ev
) {

721 
	}
}

723 
´iv©e
 
	$švokeAbÜtMig¿tiÚ
(
SimEv’t
 
ev
) {

725 
MobeDeviû
 
sm¬tThšg
 = (MobeDeviûè
ev
.
	`g‘D©a
();

726 
Sy¡em
.
out
.
	`´šn
("*_*_*_*_*_*_*_*_*_*_*_*_*_ABORT MIGRATION -> befÜeMig¿tiÚ*_*_*_*_*_*_*_*_*_*_*_*: " + 
sm¬tThšg
.
	`g‘Name
());

727 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlW™houtVmTime
().
	`»move
(
sm¬tThšg
.
	`g‘MyId
());

728 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlTimeD–ayAá”NewCÚÃùiÚ
().
	`»move
(
sm¬tThšg
.
	`g‘MyId
());

729 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlTimeW™houtCÚÃùiÚ
().
	`»move
(
sm¬tThšg
.
	`g‘MyId
());

730 
sm¬tThšg
.
	`£tMigStus
(
çl£
);

731 
sm¬tThšg
.
	`£tPo¡CİyStus
(
çl£
);

732 
sm¬tThšg
.
	`£tLockedToMig¿tiÚ
(
çl£
);

733 
sm¬tThšg
.
	`£tTimeFšishD–iv”yVm
(-1.0);

734 
sm¬tThšg
.
	`£tAbÜtMig¿tiÚ
(
Œue
);

735 
sm¬tThšg
.
	`£tDe¡š©iÚS”v”CloudËt
(sm¬tThšg.
	`g‘VmLoÿlS”v”CloudËt
());

736 
	}
}

739 
public
 
boŞ—n
 
	$cÚÃùS”v”CloudËtSm¬tThšg
(
MobeDeviû
 
¡
){

740 
¡
.
	`£tSourûS”v”CloudËt
(
this
);

742 
	`£tSm¬tThšgs
(
¡
,
PŞic›s
.
ADD
);

744 
¡
.
	`£tP¬’tId
(
	`g‘Id
());

745 
Ï‹ncy
 = 
¡
.
	`g‘U¶škL©’cy
();

747 
	`g‘ChdToL©’cyM­
().
	`put
(
¡
.
	`g‘Id
(), 
Ï‹ncy
);

748 
	`addChd
(
¡
.
	`g‘Id
());

759 
	`£tU¶škL©’cy
(
	`g‘U¶škL©’cy
()+0.123812950236);

762 
LogMobe
.
	`debug
("FogDeviû.java", 
¡
.
	`g‘Name
()+" was connectedo "+getName());

765  
Œue
;

766 
	}
}

767 
public
 
boŞ—n
 
	$descÚÃùS”v”CloudËtSm¬tThšg
(
MobeDeviû
 
¡
){

774 
	`£tSm¬tThšgs
(
¡
, 
PŞic›s
.
REMOVE
);

775 
¡
.
	`£tSourûS”v”CloudËt
(
nuÎ
);

777 
	`£tU¶škL©’cy
(
	`g‘U¶škL©’cy
()-0.123812950236);

778 
	`»moveChd
(
¡
.
	`g‘Id
());

779 
LogMobe
.
	`debug
("FogDeviû.java", 
¡
.
	`g‘Name
()+" was desconnectedo "+getName());

780  
Œue
;

782 
	}
}

783 
´iv©e
 
	$švokeS¹Mig¿tiÚ
(
SimEv’t
 
ev
) {

786 
MobeDeviû
 
sm¬tThšg
 = (MobeDeviûè
ev
.
	`g‘D©a
();

788 if(
MobeCÚŒŞËr
.
	`g‘Sm¬tThšgs
().
	`cÚšs
(
sm¬tThšg
)){

789 if(!
sm¬tThšg
.
	`isAbÜtMig¿tiÚ
()){

790 if(
sm¬tThšg
.
	`g‘SourûAp
()!=
nuÎ
){

793 
	`£nd
(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Id
(),1, 
MobeEv’ts
.
DELIVERY_VM
, smartThing);

794 
LogMobe
.
	`debug
("FogDeviû.java", 
sm¬tThšg
.
	`g‘Name
()+" was scheduledhe DELIVERY_VM from "+

795 
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Name
()+"o "

796 +
sm¬tThšg
.
	`g‘De¡š©iÚS”v”CloudËt
().
	`g‘Name
());

798 
	`£ndNow
(
sm¬tThšg
.
	`g‘De¡š©iÚS”v”CloudËt
().
	`g‘Id
(),
MobeEv’ts
.
VM_MIGRATE
,smartThing);

799 
M­
<
SŒšg
,
Objeù
> 
ma
;

800 
ma
 = 
Ãw
 
HashM­
<
SŒšg
,
Objeù
>();

809 if(
sm¬tThšg
.
	`g‘VmMobeDeviû
()==
nuÎ
){

810 
Sy¡em
.
out
.
	`´šn
(
sm¬tThšg
.
	`g‘Name
()+" has‡‚ull VM");

812 
ma
.
	`put
("vm", 
sm¬tThšg
.
	`g‘VmMobeDeviû
());

813 
ma
.
	`put
("ho¡", 
sm¬tThšg
.
	`g‘De¡š©iÚS”v”CloudËt
().
	`g‘Ho¡
());

814 if(
ma
.
	`size
()<2){

815 
	`£ndNow
(
	`g‘Id
(),
MobeEv’ts
.
ABORT_MIGRATION
,
sm¬tThšg
);

816 
Sy¡em
.
out
.
	`´šn
("FogDevice.java ma.size()<2");

817 
Sy¡em
.
	`ex™
(0);

820 
	`£ndNow
(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Id
(),
CloudSimTags
.
VM_MIGRATE
,
ma
);

821 
LogMobe
.
	`debug
("FogDeviû.java", "CloudSim.VM_MIGRATE wa scheduËdØVM#: "+ 
sm¬tThšg
.
	`g‘VmMobeDeviû
().
	`g‘Id
()+ " HOST#: "+

822 
sm¬tThšg
.
	`g‘De¡š©iÚS”v”CloudËt
().
	`g‘Ho¡
().
	`g‘Id
());

827 
	`£ndNow
(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Id
(),
MobeEv’ts
.
ABORT_MIGRATION
,smartThing);

831 
sm¬tThšg
.
	`£tAbÜtMig¿tiÚ
(
çl£
);

835 
LogMobe
.
	`debug
("FogDeviû.java", 
sm¬tThšg
.
	`g‘Name
() +" wasƒxcluded from List of SmartThings!");

837 
	}
}

840 
´iv©e
 
	$d–iv”yVM
(
SimEv’t
 
ev
){

841 
MobeDeviû
 
sm¬tThšg
 = (MobeDeviûè
ev
.
	`g‘D©a
();

842 ià(
MobeCÚŒŞËr
.
	`g‘Sm¬tThšgs
().
	`cÚšs
(
sm¬tThšg
)){

844 
LogMobe
.
	`debug
("FogDeviû.java", "DELIVERY VM: "+
sm¬tThšg
.
	`g‘Name
()+ " (id: " +sm¬tThšg.
	`g‘Id
()+ "èäom "+sm¬tThšg.
	`g‘VmLoÿlS”v”CloudËt
().getName()

845 + "Ø"+
sm¬tThšg
.
	`g‘De¡š©iÚS”v”CloudËt
().
	`g‘Name
());

848 
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`£tSm¬tThšgsW™hVm
(sm¬tThšg, 
PŞic›s
.
REMOVE
);

850 
sm¬tThšg
.
	`£tVmLoÿlS”v”CloudËt
(sm¬tThšg.
	`g‘De¡š©iÚS”v”CloudËt
());

851 
sm¬tThšg
.
	`£tDe¡š©iÚS”v”CloudËt
(
nuÎ
);

853 
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`£tSm¬tThšgsW™hVm
(sm¬tThšg, 
PŞic›s
.
ADD
);

855 if(
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlTimeD–ayAá”NewCÚÃùiÚ
().
	`cÚšsKey
(
sm¬tThšg
.
	`g‘MyId
())){

856 
sm¬tThšg
.
	`£tMigStus
(
çl£
);

857 
sm¬tThšg
.
	`£tPo¡CİyStus
(
çl£
);

858 if(
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlW™houtVmTime
().
	`g‘
(
sm¬tThšg
.
	`g‘MyId
())!=
nuÎ
){

859 
MySti¡ics
.
	`g‘In¡ªû
().
	`fš®W™houtVmTime
(
sm¬tThšg
.
	`g‘MyId
(), 
CloudSim
.
	`şock
());

860 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlW™houtVmTime
().
	`»move
(
sm¬tThšg
.
	`g‘MyId
());

862 
LogMobe
.
	`debug
("FogDeviû.java", 
sm¬tThšg
.
	`g‘Name
()+ " had migStatuso false - deliveryVM");

864 
MySti¡ics
.
	`g‘In¡ªû
().
	`fš®D–ayAá”NewCÚÃùiÚ
(
sm¬tThšg
.
	`g‘MyId
(), 
CloudSim
.
	`şock
()+
	`g‘Ch¬aù”i¡ics
().
	`g‘CpuTime
(sm¬tThšg.
	`g‘VmMobeDeviû
().
	`g‘Size
()*1024*1024*8, 0.0));

865 if(!
sm¬tThšg
.
	`g‘SourûS”v”CloudËt
().
	`equ®s
(sm¬tThšg.
	`g‘VmLoÿlS”v”CloudËt
())){

866 
sm¬tThšg
.
	`g‘SourûS”v”CloudËt
().
	`descÚÃùS”v”CloudËtSm¬tThšg
(smartThing);

867 
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`cÚÃùS”v”CloudËtSm¬tThšg
(smartThing);

875 
mig¿tiÚLocked
 = (è((
sm¬tThšg
.
	`g‘VmMobeDeviû
().
	`g‘Size
()*(sm¬tThšg.
	`g‘S³ed
()+1))+20000);

876 
	`£nd
(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Id
(),
mig¿tiÚLocked
,
MobeEv’ts
.
UNLOCKED_MIGRATION
,smartThing);

877 
MySti¡ics
.
	`g‘In¡ªû
().
	`couÁMig¿tiÚ
();

878 
MySti¡ics
.
	`g‘In¡ªû
().
	`hi¡ÜyMig¿tiÚTime
(
sm¬tThšg
.
	`g‘MyId
(), sm¬tThšg.
	`g‘MigTime
());

880 
sm¬tThšg
.
	`£tTimeFšishD–iv”yVm
(
CloudSim
.
	`şock
());

883 
LogMobe
.
	`debug
("FogDeviû.java",
sm¬tThšg
.
	`g‘Name
() +" wasƒxcluded by List of SmartThings! (inside Delivery Vm)");

885 
	}
}

889 
´iv©e
 
	$švokeNoMig¿tiÚ
(
SimEv’t
 
ev
) {

891 
MobeDeviû
 
sm¬tThšg
 = (MobeDeviûè
ev
.
	`g‘D©a
();

893 if(
sm¬tThšg
.
	`isLockedToMig¿tiÚ
()){

894 
LogMobe
.
	`debug
("FogDeviû.java", "NO MIGRATE: "+
sm¬tThšg
.
	`g‘Name
()+"‡lready is in migration Process orhe migration is†ocked");

897 
LogMobe
.
	`debug
("FogDeviû.java","NO MIGRATE: "+ 
sm¬tThšg
.
	`g‘Name
() + " is‚ot in Migrate");

899 
	}
}

901 
´iv©e
 
	$švokeBefÜeMig¿tiÚ
(
SimEv’t
 
ev
) {

903 
MobeDeviû
 
sm¬tThšg
 = (MobeDeviûè
ev
.
	`g‘D©a
();

904 if(
MobeCÚŒŞËr
.
	`g‘Sm¬tThšgs
().
	`cÚšs
(
sm¬tThšg
)){

906 if(
sm¬tThšg
.
	`g‘SourûAp
()!=
nuÎ
&&!sm¬tThšg.
	`isMigStus
()){

907 
d–ayProûss
 = 
	`g‘BefÜeMig¿‹
().
	`d©­»·»
(
sm¬tThšg
);

908 if(
d–ayProûss
>=0){

910 if(
	`g‘PŞicyR•liÿVM
()==
PŞic›s
.
LIVE_MIGRATION
){

911 
sm¬tThšg
.
	`£tPo¡CİyStus
(
Œue
);

912 
sm¬tThšg
.
	`£tTimeS¹LiveMig¿tiÚ
(
CloudSim
.
	`şock
());

916 
sm¬tThšg
.
	`£tMigStus
(
Œue
);

917 
MySti¡ics
.
	`g‘In¡ªû
().
	`¡¬tW™houtVmTime
(
sm¬tThšg
.
	`g‘MyId
(), 
CloudSim
.
	`şock
());

918 
sm¬tThšg
.
	`£tTimeFšishD–iv”yVm
(-1.0);

919 
	`£nd
(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Id
(), sm¬tThšg.
	`g‘MigTime
()+
d–ayProûss
,
MobeEv’ts
.
START_MIGRATION
, smartThing);

921 
sm¬tThšg
.
	`£tLockedToMig¿tiÚ
(
Œue
);

926 
	`£ndNow
(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Id
(), 
MobeEv’ts
.
NO_MIGRATION
,smartThing);

927 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlW™houtVmTime
().
	`»move
(
sm¬tThšg
.
	`g‘MyId
());

928 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlTimeD–ayAá”NewCÚÃùiÚ
().
	`»move
(
sm¬tThšg
.
	`g‘MyId
());

929 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlTimeW™houtCÚÃùiÚ
().
	`»move
(
sm¬tThšg
.
	`g‘MyId
());

930 
sm¬tThšg
.
	`£tMigStus
(
çl£
);

931 
sm¬tThšg
.
	`£tPo¡CİyStus
(
çl£
);

932 
sm¬tThšg
.
	`£tLockedToMig¿tiÚ
(
çl£
);

933 
sm¬tThšg
.
	`£tTimeFšishD–iv”yVm
(-1.0);

934 
sm¬tThšg
.
	`£tAbÜtMig¿tiÚ
(
Œue
);

938 
	`£ndNow
(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Id
(),
MobeEv’ts
.
ABORT_MIGRATION
,smartThing);

940 
	}
}

941 
´iv©e
 
	$migStusToLiveMig¿tiÚ
(
SimEv’t
 
ev
) {

943 
MobeDeviû
 
sm¬tThšg
 =(MobeDeviûè
ev
.
	`g‘D©a
();

944 
	`£ndNow
(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Id
(),
MobeEv’ts
.
START_MIGRATION
, smartThing);

945 
	}
}

947 
´iv©e
 
	$švokeDecisiÚMig¿tiÚ
(
SimEv’t
 
ev
) {

949 
MobeDeviû
 
¡
:
	`g‘Sm¬tThšgs
()){

950 if(
¡
.
	`g‘SourûAp
()!=
nuÎ
 && (!¡.
	`isLockedToMig¿tiÚ
())){

951 if(
¡
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Mig¿tiÚSŒ©egy
().
	`shouldMig¿‹
(st)){

952 if(!
¡
.
	`g‘VmLoÿlS”v”CloudËt
().
	`equ®s
(¡.
	`g‘De¡š©iÚS”v”CloudËt
())){

953 
Sy¡em
.
out
.
	`´šn
("====================ToMig¿‹=================ğ"+
¡
.
	`g‘Name
()+" "+¡.
	`g‘Id
());

954 
LogMobe
.
	`debug
("FogDeviû.java", "Di¡ªû b‘w“À"+ 
¡
.
	`g‘Name
()+"‡nd "+¡.
	`g‘SourûAp
().getName()+": "+

955 
Di¡ªûs
.
	`checkDi¡ªû
(
¡
.
	`g‘CoÜd
(), st.
	`g‘SourûAp
().getCoord()));

956 
Sy¡em
.
out
.
	`´šn
("Mig¿tiÚime: "+
¡
.
	`g‘MigTime
());

957 
LogMobe
.
	`debug
("FogDeviû.java", "MadthdecisiÚMig¿tiÚ fÜ "+
¡
.
	`g‘Name
());

958 
LogMobe
.
	`debug
("FogDeviû.java", "äom "+
¡
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Name
()+"Ø"+¡.
	`g‘De¡š©iÚS”v”CloudËt
().getName()+

959 " -> CÚÃùed by: "+
¡
.
	`g‘SourûS”v”CloudËt
().
	`g‘Name
());

960 
	`£ndNow
(
¡
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Id
(), 
MobeEv’ts
.
TO_MIGRATION
,st);

961 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlW™houtVmTime
().
	`»move
(
¡
.
	`g‘MyId
());

962 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlTimeD–ayAá”NewCÚÃùiÚ
().
	`»move
(
¡
.
	`g‘MyId
());

963 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘In™ŸlTimeW™houtCÚÃùiÚ
().
	`»move
(
¡
.
	`g‘MyId
());

964 
¡
.
	`£tLockedToMig¿tiÚ
(
Œue
);

965 
¡
.
	`£tTimeFšishD–iv”yVm
(-1.0);

966 
	`§veMig¿tiÚ
(
¡
);

969 
	`£ndNow
(
	`g‘Id
(),
MobeEv’ts
.
NO_MIGRATION
,
¡
);

973 
	`£ndNow
(
	`g‘Id
(),
MobeEv’ts
.
NO_MIGRATION
,
¡
);

977 
	`£ndNow
(
	`g‘Id
(),
MobeEv’ts
.
NO_MIGRATION
,
¡
);

981 
	}
}

984 
´iv©e
 
	$§veMig¿tiÚ
(
MobeDeviû
 
¡
){

985 
Sy¡em
.
out
.
	`´šn
("MIGRATION " +
¡
.
	`g‘MyId
(è+ " Pos™iÚ: " + st.
	`g‘CoÜd
().
	`g‘CoÜdX
(è+ ", " + st.g‘CoÜd().
	`g‘CoÜdY
(è+ " DœeùiÚ: " + st.
	`g‘DœeùiÚ
(è+ " S³ed: " + st.
	`g‘S³ed
());

986 
	`Œy
(
FeWr™”
 
fw
 = 
Ãw
 
	`FeWr™”
(
¡
.
	`g‘MyId
()+"mig¿tiÚ.txt", 
Œue
);

987 
Bufã»dWr™”
 
bw
 = 
Ãw
 
	`Bufã»dWr™”
(
fw
);

988 
PrštWr™”
 
out
 = 
Ãw
 
	`PrštWr™”
(
bw
))

990 
out
.
	`´šn
(
¡
.
	`g‘MyId
(è+ "\t" + st.
	`g‘CoÜd
().
	`g‘CoÜdX
(è+ "\t" + st.g‘CoÜd().
	`g‘CoÜdY
(è+ "\t" + st.
	`g‘DœeùiÚ
(è+ "\t" + st.
	`g‘S³ed
());

992 
	`ÿtch
 (
UnsuµÜ‹dEncodšgExû±iÚ
 
e
) {

994 
e
.
	`´štSckT¿û
();

996 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

998 
e
.
	`´štSckT¿û
();

1000 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

1002 
e
.
	`´štSckT¿û
();

1004 
	}
}

1011 
´iv©e
 
	$mªageResourûs
(
SimEv’t
 
ev
) {

1012 
	`upd©eEÃrgyCÚsum±iÚ
();

1013 
	`£nd
(
	`g‘Id
(), 
CÚfig
.
RESOURCE_MGMT_INTERVAL
, 
FogEv’ts
.
RESOURCE_MGMT
);

1014 
	}
}

1020 
´iv©e
 
	$upd©eModuËIn¡ªûCouÁ
(
SimEv’t
 
ev
) {

1021 
ModuËLaunchCÚfig
 
cÚfig
 = (ModuËLaunchCÚfig)
ev
.
	`g‘D©a
();

1022 
SŒšg
 
­pId
 = 
cÚfig
.
	`g‘ModuË
().
	`g‘AµId
();

1023 if(!
moduËIn¡ªûCouÁ
.
	`cÚšsKey
(
­pId
))

1024 
moduËIn¡ªûCouÁ
.
	`put
(
­pId
, 
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

1025 
moduËIn¡ªûCouÁ
.
	`g‘
(
­pId
).
	`put
(
cÚfig
.
	`g‘ModuË
().
	`g‘Name
(), cÚfig.
	`g‘In¡ªûCouÁ
());

1026 
Sy¡em
.
out
.
	`´šn
(
	`g‘Name
()+ " C»©šg "+
cÚfig
.
	`g‘In¡ªûCouÁ
()+" in¡ªû oàmoduË "+cÚfig.
	`g‘ModuË
().getName());

1027 
	}
}

1033 
´iv©e
 
	$£ndP”iodicTu¶e
(
SimEv’t
 
ev
) {

1034 
AµEdge
 
edge
 = (AµEdge)
ev
.
	`g‘D©a
();

1035 
SŒšg
 
¤cModuË
 = 
edge
.
	`g‘Sourû
();

1036 
AµModuË
 
moduË
 = 
nuÎ
;

1037 
Vm
 
vm
 : 
	`g‘Ho¡
().
	`g‘VmLi¡
()){

1039 if(((
AµModuË
)
vm
).
	`g‘Name
().
	`equ®s
(
¤cModuË
)){

1040 
moduË
=(
AµModuË
)
vm
;

1045 if(
moduË
 =ğ
nuÎ
)

1048 
š¡ªûCouÁ
 = 
	`g‘ModuËIn¡ªûCouÁ
().
	`g‘
(
moduË
.
	`g‘AµId
()).g‘(
¤cModuË
);

1053 
i
 = 0;i<((
edge
.
	`g‘DœeùiÚ
()==
Tu¶e
.
UP
)?
š¡ªûCouÁ
:1);i++){

1054 if(
­¶iÿtiÚM­
.
	`isEm±y
()){

1058 
AµliÿtiÚ
 
­p
 = 
	`g‘AµliÿtiÚM­
().
	`g‘
(
moduË
.
	`g‘AµId
());

1059 if(
­p
 =ğ
nuÎ
){

1077 
Tu¶e
 
tu¶e
 = 
­¶iÿtiÚM­
.
	`g‘
(
moduË
.
	`g‘AµId
()).
	`ü—‹Tu¶e
(
edge
, 
	`g‘Id
());

1078 
	`upd©eTimšgsOnS’dšg
(
tu¶e
);

1079 
	`£ndToS–f
(
tu¶e
);

1082 if(
­¶iÿtiÚM­
.
	`isEm±y
()){

1086 
	`£nd
(
	`g‘Id
(), 
edge
.
	`g‘P”iodic™y
(), 
FogEv’ts
.
SEND_PERIODIC_TUPLE
,ƒdge);

1088 
	}
}

1090 
´Ùeùed
 
	$´oûssAùu©ÜJošed
(
SimEv’t
 
ev
) {

1091 
aùu©ÜId
 = 
ev
.
	`g‘Sourû
();

1092 
d–ay
 = ()
ev
.
	`g‘D©a
();

1093 
	`g‘AssocŸ‹dAùu©ÜIds
().
	`add
(
Ãw
 
Paœ
<
IÁeg”
, 
DoubË
>(
aùu©ÜId
, 
d–ay
));

1094 
	}
}

1096 
´Ùeùed
 
	$upd©eAùiveAµliÿtiÚs
(
SimEv’t
 
ev
) {

1097 
AµliÿtiÚ
 
­p
 = (AµliÿtiÚ)
ev
.
	`g‘D©a
();

1098 
	`g‘AùiveAµliÿtiÚs
().
	`add
(
­p
.
	`g‘AµId
());

1099 
	}
}

1102 
public
 
SŒšg
 
	$g‘O³¿tÜName
(
vmId
){

1103 
Vm
 
vm
 : 
this
.
	`g‘Ho¡
().
	`g‘VmLi¡
()){

1104 if(
vm
.
	`g‘Id
(è=ğ
vmId
)

1105  ((
AµModuË
)
vm
).
	`g‘Name
();

1107  
nuÎ
;

1108 
	}
}

1115 
´Ùeùed
 
	$upd©eCloud‘ProûssšgW™houtSchedulšgFutu»Ev’tsFÜû
() {

1116 
cu¼’tTime
 = 
CloudSim
.
	`şock
();

1117 
mšTime
 = 
DoubË
.
MAX_VALUE
;

1118 
timeDiff
 = 
cu¼’tTime
 - 
	`g‘La¡ProûssTime
();

1119 
timeF¿meD©aûÁ”EÃrgy
 = 0.0;

1121 
Pow”Ho¡
 
ho¡
 : 
this
.<Pow”Ho¡> 
	`g‘Ho¡Li¡
()) {

1122 
Log
.
	`´štLše
();

1124 
time
 = 
ho¡
.
	`upd©eVmsProûssšg
(
cu¼’tTime
);

1125 ià(
time
 < 
mšTime
) {

1126 
mšTime
 = 
time
;

1129 
Log
.
	`fÜm©Lše
(

1131 
cu¼’tTime
,

1132 
ho¡
.
	`g‘Id
(),

1133 
ho¡
.
	`g‘Utiz©iÚOfCpu
() * 100);

1136 ià(
timeDiff
 > 0) {

1137 
Log
.
	`fÜm©Lše
(

1139 
	`g‘La¡ProûssTime
(),

1140 
cu¼’tTime
);

1142 
Pow”Ho¡
 
ho¡
 : 
this
.<Pow”Ho¡> 
	`g‘Ho¡Li¡
()) {

1143 
´eviousUtiz©iÚOfCpu
 = 
ho¡
.
	`g‘P»viousUtiz©iÚOfCpu
();

1144 
utiz©iÚOfCpu
 = 
ho¡
.
	`g‘Utiz©iÚOfCpu
();

1145 ià(
utiz©iÚOfCpu
 < 0 || utilizationOfCpu > 1) {

1146 
Sy¡em
.
out
.
	`´šn
("utiz©iÚOfCpu: "+
utiz©iÚOfCpu
);

1148 
timeF¿meHo¡EÃrgy
 = 
ho¡
.
	`g‘EÃrgyLš—rIÁ”pŞ©iÚ
(

1149 
´eviousUtiz©iÚOfCpu
,

1150 
utiz©iÚOfCpu
,

1151 
timeDiff
);

1152 
timeF¿meD©aûÁ”EÃrgy
 +ğ
timeF¿meHo¡EÃrgy
;

1154 
Log
.
	`´štLše
();

1155 
Log
.
	`fÜm©Lše
(

1157 
cu¼’tTime
,

1158 
ho¡
.
	`g‘Id
(),

1159 
	`g‘La¡ProûssTime
(),

1160 
´eviousUtiz©iÚOfCpu
 * 100,

1161 
utiz©iÚOfCpu
 * 100);

1162 
Log
.
	`fÜm©Lše
(

1164 
cu¼’tTime
,

1165 
ho¡
.
	`g‘Id
(),

1166 
timeF¿meHo¡EÃrgy
);

1169 
Log
.
	`fÜm©Lše
(

1171 
cu¼’tTime
,

1172 
timeF¿meD©aûÁ”EÃrgy
);

1175 
	`£tPow”
(
	`g‘Pow”
(è+ 
timeF¿meD©aûÁ”EÃrgy
);

1177 
	`checkCloudËtCom¶‘iÚ
();

1191 
Log
.
	`´štLše
();

1193 
	`£tLa¡ProûssTime
(
cu¼’tTime
);

1194  
mšTime
;

1195 
	}
}

1198 
´Ùeùed
 
	$checkCloudËtCom¶‘iÚ
() {

1199 
boŞ—n
 
şoudËtCom¶‘ed
 = 
çl£
;

1200 
Li¡
<
Vm
> 
»moveVmLi¡
 = 
Ãw
 
A¼ayLi¡
<>();

1201 
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
 = 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡Li¡
();

1202 
i
 = 0; i < 
li¡
.
	`size
(); i++) {

1203 
Ho¡
 
ho¡
 = 
li¡
.
	`g‘
(
i
);

1204 
Vm
 
vm
 : 
ho¡
.
	`g‘VmLi¡
()) {

1205 
vm
.
	`g‘CloudËtScheduËr
().
	`isFšishedCloudËts
()) {

1206 
CloudËt
 
ş
 = 
vm
.
	`g‘CloudËtScheduËr
().
	`g‘NextFšishedCloudËt
();

1207 ià(
ş
 !ğ
nuÎ
) {

1208 
şoudËtCom¶‘ed
 = 
Œue
;

1209 
Tu¶e
 
tu¶e
 = (Tu¶e)
ş
;

1210 
TimeK“³r
.
	`g‘In¡ªû
().
	`tu¶eEndedExecutiÚ
(
tu¶e
);

1211 
AµliÿtiÚ
 
­¶iÿtiÚ
 = 
	`g‘AµliÿtiÚM­
().
	`g‘
(
tu¶e
.
	`g‘AµId
());

1212 if(
­¶iÿtiÚ
==
nuÎ
){

1218 
»moveVmLi¡
.
	`add
(
vm
);

1244 
Logg”
.
	`debug
(
	`g‘Name
(), "Com¶‘edƒxecutiÚ oàtu¶"+
tu¶e
.
	`g‘CloudËtId
()+" oÀ"+tu¶e.
	`g‘De¡ModuËName
());

1247 
Li¡
<
Tu¶e
> 
»suÉªtTu¶es
 = 
­¶iÿtiÚ
.
	`g‘ResuÉªtTu¶es
(
tu¶e
.
	`g‘De¡ModuËName
(),u¶e, 
	`g‘Id
());

1248 
Tu¶e
 
»sTu¶e
 : 
»suÉªtTu¶es
){

1249 
»sTu¶e
.
	`£tModuËCİyM­
(
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>(
tu¶e
.
	`g‘ModuËCİyM­
()));

1250 
»sTu¶e
.
	`g‘ModuËCİyM­
().
	`put
(((
AµModuË
)
vm
).
	`g‘Name
(), vm.
	`g‘Id
());

1251 
	`upd©eTimšgsOnS’dšg
(
»sTu¶e
);

1252 
	`£ndToS–f
(
»sTu¶e
);

1254 
	`£ndNow
(
ş
.
	`g‘U£rId
(), 
CloudSimTags
.
CLOUDLET_RETURN
, cl);

1258 
Vm
 
vm
: 
»moveVmLi¡
){

1259 
ho¡
.
	`g‘VmLi¡
().
	`»move
(
vm
);

1261 
»moveVmLi¡
.
	`ş—r
();

1266 if(
şoudËtCom¶‘ed
)

1267 
	`upd©eAÎoÿ‹dMs
(
nuÎ
);

1270 
	}
}

1272 
´Ùeùed
 
	$upd©eTimšgsOnS’dšg
(
Tu¶e
 
»sTu¶e
) {

1275 
SŒšg
 
¤cModuË
 = 
»sTu¶e
.
	`g‘SrcModuËName
();

1276 
SŒšg
 
de¡ModuË
 = 
»sTu¶e
.
	`g‘De¡ModuËName
();

1277 
AµLoİ
 
loİ
 : 
	`g‘AµliÿtiÚM­
().
	`g‘
(
»sTu¶e
.
	`g‘AµId
()).
	`g‘Loİs
()){

1278 if(
loİ
.
	`hasEdge
(
¤cModuË
, 
de¡ModuË
è&&†oİ.
	`isS¹ModuË
(srcModule)){

1279 
tu¶eId
 = 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘UniqueId
();

1280 
»sTu¶e
.
	`£tAùu®Tu¶eId
(
tu¶eId
);

1281 if(!
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToTu¶eIds
().
	`cÚšsKey
(
loİ
.
	`g‘LoİId
()))

1282 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToTu¶eIds
().
	`put
(
loİ
.
	`g‘LoİId
(), 
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

1283 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToTu¶eIds
().
	`g‘
(
loİ
.
	`g‘LoİId
()).
	`add
(
tu¶eId
);

1284 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘Em™Times
().
	`put
(
tu¶eId
, 
CloudSim
.
	`şock
());

1290 
	}
}

1292 
´Ùeùed
 
	$g‘ChdIdW™hRou‹To
(
rg‘DeviûId
){

1293 
IÁeg”
 
chdId
 : 
	`g‘Chd»nIds
()){

1294 if(
rg‘DeviûId
 =ğ
chdId
)

1295  
chdId
;

1296 if(((
FogDeviû
)
CloudSim
.
	`g‘EÁ™y
(
chdId
)).
	`g‘ChdIdW™hRou‹To
(
rg‘DeviûId
) != -1)

1297  
chdId
;

1300 
	}
}

1302 
´Ùeùed
 
	$g‘ChdIdFÜTu¶e
(
Tu¶e
 
tu¶e
){

1303 if(
tu¶e
.
	`g‘DœeùiÚ
(è=ğ
Tu¶e
.
ACTUATOR
){

1304 
g©ewayId
 = ((
Aùu©Ü
)
CloudSim
.
	`g‘EÁ™y
(
tu¶e
.
	`g‘Aùu©ÜId
())).
	`g‘G©ewayDeviûId
();

1305  
	`g‘ChdIdW™hRou‹To
(
g©ewayId
);

1308 
	}
}

1310 
´Ùeùed
 
	$upd©eAÎoÿ‹dMs
(
SŒšg
 
šcomšgO³¿tÜ
){

1311 
	`g‘Ho¡
().
	`g‘VmScheduËr
().
	`d—Îoÿ‹PesFÜAÎVms
();

1312 
fš®
 
Vm
 
vm
 : 
	`g‘Ho¡
().
	`g‘VmLi¡
()){

1314 if(
vm
.
	`g‘CloudËtScheduËr
().
	`ruÂšgCloudËts
(è> 0 || ((
AµModuË
)vm).
	`g‘Name
().
	`equ®s
(
šcomšgO³¿tÜ
)){

1315 
	`g‘Ho¡
().
	`g‘VmScheduËr
().
	`®loÿ‹PesFÜVm
(
vm
, 
Ãw
 
A¼ayLi¡
<
DoubË
>(){

1316 
´Ùeùed
 
fš®
 
£rŸlV”siÚUID
 = 1L;

1317 {
	`add
((è
	`g‘Ho¡
().
	`g‘TÙ®Ms
());}});

1319 
	`g‘Ho¡
().
	`g‘VmScheduËr
().
	`®loÿ‹PesFÜVm
(
vm
, 
Ãw
 
A¼ayLi¡
<
DoubË
>(){

1320 
´Ùeùed
 
fš®
 
£rŸlV”siÚUID
 = 1L;

1321 {
	`add
(0.0);}});

1326 
	`upd©eEÃrgyCÚsum±iÚ
();

1328 
	}
}

1330 
´iv©e
 
	$upd©eEÃrgyCÚsum±iÚ
() {

1331 
tÙ®MsAÎoÿ‹d
 = 0;

1332 
fš®
 
Vm
 
vm
 : 
	`g‘Ho¡
().
	`g‘VmLi¡
()){

1336 
tÙ®MsAÎoÿ‹d
 +ğ
	`g‘Ho¡
().
	`g‘TÙ®AÎoÿ‹dMsFÜVm
(
vm
);

1339 
timeNow
 = 
CloudSim
.
	`şock
();

1340 
cu¼’tEÃrgyCÚsum±iÚ
 = 
	`g‘EÃrgyCÚsum±iÚ
();

1341 
ÃwEÃrgyCÚsum±iÚ
 = 
cu¼’tEÃrgyCÚsum±iÚ
 + (
timeNow
-
Ï¡Utiz©iÚUpd©eTime
)*
	`g‘Ho¡
().
	`g‘Pow”Mod–
().
	`g‘Pow”
(
Ï¡Utiz©iÚ
);

1342 
	`£tEÃrgyCÚsum±iÚ
(
ÃwEÃrgyCÚsum±iÚ
);

1351 
cu¼’tCo¡
 = 
	`g‘TÙ®Co¡
();

1352 
Ãwco¡
 = 
cu¼’tCo¡
 + (
timeNow
-
Ï¡Utiz©iÚUpd©eTime
)*
	`g‘R©eP”Ms
()*
Ï¡Utiz©iÚ
*
	`g‘Ho¡
().
	`g‘TÙ®Ms
();

1353 
	`£tTÙ®Co¡
(
Ãwco¡
);

1355 
Ï¡Utiz©iÚ
 = 
M©h
.
	`mš
(1, 
tÙ®MsAÎoÿ‹d
/
	`g‘Ho¡
().
	`g‘TÙ®Ms
());

1356 
Ï¡Utiz©iÚUpd©eTime
 = 
timeNow
;

1357 
	}
}

1359 
´Ùeùed
 
	$´oûssAµSubm™
(
SimEv’t
 
ev
) {

1360 
AµliÿtiÚ
 
­p
 = (AµliÿtiÚ)
ev
.
	`g‘D©a
();

1362 
­¶iÿtiÚM­
.
	`put
(
­p
.
	`g‘AµId
(),‡pp);

1363 
	}
}

1365 
´Ùeùed
 
	$addChd
(
chdId
){

1366 if(
CloudSim
.
	`g‘EÁ™yName
(
chdId
).
	`toLow”Ca£
().
	`cÚšs
("sensor"))

1368 if(!
	`g‘Chd»nIds
().
	`cÚšs
(
chdId
è&& chdId !ğ
	`g‘Id
())

1369 
	`g‘Chd»nIds
().
	`add
(
chdId
);

1370 if(!
	`g‘ChdToO³¿tÜsM­
().
	`cÚšsKey
(
chdId
))

1371 
	`g‘ChdToO³¿tÜsM­
().
	`put
(
chdId
, 
Ãw
 
A¼ayLi¡
<
SŒšg
>());

1372 
	}
}

1374 
´Ùeùed
 
	$»moveChd
(
chdId
){

1375 
	`g‘Chd»nIds
().
	`»move
(
CloudSim
.
	`g‘EÁ™y
(
chdId
));

1376 
	`g‘ChdToO³¿tÜsM­
().
	`»move
(
chdId
);

1377 
	}
}

1380 
´Ùeùed
 
	$upd©eCloudT¿ffic
(){

1381 
time
 = ()
CloudSim
.
	`şock
()/1000;

1382 if(!
şoudT¿fficM­
.
	`cÚšsKey
(
time
))

1383 
şoudT¿fficM­
.
	`put
(
time
, 0);

1384 
şoudT¿fficM­
.
	`put
(
time
, cloudT¿fficM­.
	`g‘
(time)+1);

1385 
	}
}

1387 
´Ùeùed
 
	$£ndTu¶eToAùu©Ü
(
Tu¶e
 
tu¶e
){

1399 
Paœ
<
IÁeg”
, 
DoubË
> 
aùu©ÜAssocŸtiÚ
 : 
	`g‘AssocŸ‹dAùu©ÜIds
()){

1400 
aùu©ÜId
 = 
aùu©ÜAssocŸtiÚ
.
	`g‘Fœ¡
();

1401 
d–ay
 = 
aùu©ÜAssocŸtiÚ
.
	`g‘SecÚd
();

1402 
SŒšg
 
aùu©ÜTy³
 = ((
Aùu©Ü
)
CloudSim
.
	`g‘EÁ™y
(
aùu©ÜId
)).
	`g‘Aùu©ÜTy³
();

1403 if(
tu¶e
.
	`g‘De¡ModuËName
().
	`equ®s
(
aùu©ÜTy³
)){

1404 
	`£nd
(
aùu©ÜId
, 
d–ay
, 
FogEv’ts
.
TUPLE_ARRIVAL
, 
tu¶e
);

1408 
chdId
 : 
	`g‘Chd»nIds
()){

1409 
	`£ndDown
(
tu¶e
, 
chdId
);

1411 
	}
}

1412 
	gnumCl›Ás
=0;

1414 
´Ùeùed
 
	$´oûssTu¶eA¼iv®
(
SimEv’t
 
ev
){

1415 
Tu¶e
 
tu¶e
 = (Tu¶e)
ev
.
	`g‘D©a
();

1416 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tMyCouÁTÙ®Tu¶e
(1);

1418 
boŞ—n
 
æagCÚtšue
=
çl£
;

1419 
MobeDeviû
 
¡
: 
MobeCÚŒŞËr
.
	`g‘Sm¬tThšgs
()){

1420 
S’sÜ
 
s
: 
¡
.
	`g‘S’sÜs
()){

1421 if(
tu¶e
.
	`g‘AµId
().
	`equ®s
(
s
.getAppId())){

1422 
æagCÚtšue
=
Œue
;

1427 if(!
æagCÚtšue
){

1431 if(
tu¶e
.
	`g‘In™ŸlTime
()==-1){

1433 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘Tu¶eL©’cy
().
	`put
(
tu¶e
.
	`g‘MyTu¶eId
(), 
CloudSim
.
	`şock
()-
	`g‘U¶škL©’cy
());

1434 
tu¶e
.
	`£tIn™ŸlTime
(
CloudSim
.
	`şock
()-
	`g‘U¶škL©’cy
());

1438 
MobeDeviû
 
¡
: 
	`g‘Sm¬tThšgs
()){

1439 if(
¡
.
	`g‘Id
()==
ev
.
	`g‘Sourû
()){

1440 if((!
¡
.
	`isHªdoffStus
()&&!¡.
	`isMigStus
())){

1449 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tMyCouÁLo¡Tu¶e
(1);

1450 if(
¡
.
	`isMigStus
()){

1456 
LogMobe
.
	`debug
("FogDeviû.java", 
¡
.
	`g‘Name
()+" is in Migration");

1479 if(
	`g‘Name
().
	`equ®s
("cloud")){

1480 
	`upd©eCloudT¿ffic
();

1486 
Logg”
.
	`debug
(
	`g‘Name
(), "Reûivedu¶"+
tu¶e
.
	`g‘CloudËtId
()+" w™hu¶eTy³ = "+tu¶e.
	`g‘Tu¶eTy³
()+"\t| Source : "+

1487 
CloudSim
.
	`g‘EÁ™yName
(
ev
.
	`g‘Sourû
())+"|De¡ : "+CloudSim.g‘EÁ™yNameÓv.
	`g‘De¡š©iÚ
()));

1494 
	`£nd
(
ev
.
	`g‘Sourû
(), 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
(), 
FogEv’ts
.
TUPLE_ACK
);

1496 if(
FogUts
.
­pIdToGeoCov”ageM­
.
	`cÚšsKey
(
tu¶e
.
	`g‘AµId
())){

1499 if(
tu¶e
.
	`g‘DœeùiÚ
(è=ğ
Tu¶e
.
ACTUATOR
){

1500 
	`£ndTu¶eToAùu©Ü
(
tu¶e
);

1504 if(
	`g‘Ho¡
().
	`g‘VmLi¡
().
	`size
() > 0){

1505 
Vm
 
vm
:
	`g‘Ho¡
().
	`g‘VmLi¡
()){

1507 
fš®
 
AµModuË
 
İ”©Ü
 = (AµModuË)
vm
;

1508 if(
CloudSim
.
	`şock
() > 0){

1509 
	`g‘Ho¡
().
	`g‘VmScheduËr
().
	`d—Îoÿ‹PesFÜVm
(
İ”©Ü
);

1510 
	`g‘Ho¡
().
	`g‘VmScheduËr
().
	`®loÿ‹PesFÜVm
(
İ”©Ü
, 
Ãw
 
A¼ayLi¡
<
DoubË
>(){

1511 
´Ùeùed
 
fš®
 
£rŸlV”siÚUID
 = 1L;

1512 {
	`add
((è
	`g‘Ho¡
().
	`g‘TÙ®Ms
());}});

1522 if(
	`g‘Name
().
	`equ®s
("şoud"è&& 
tu¶e
.
	`g‘De¡ModuËName
()==
nuÎ
){

1523 
	`£ndNow
(
	`g‘CÚŒŞËrId
(), 
FogEv’ts
.
TUPLE_FINISHED
, 
nuÎ
);

1526 if(
­pToModuËsM­
.
	`cÚšsKey
(
tu¶e
.
	`g‘AµId
())){

1527 if(
­pToModuËsM­
.
	`g‘
(
tu¶e
.
	`g‘AµId
()).
	`cÚšs
Ñu¶e.
	`g‘De¡ModuËName
())){

1528 
vmId
 = -1;

1529 
Vm
 
vm
 : 
	`g‘Ho¡
().
	`g‘VmLi¡
()){

1531 if(((
AµModuË
)
vm
).
	`g‘Name
().
	`equ®s
(
tu¶e
.
	`g‘De¡ModuËName
()))

1532 
vmId
 = 
vm
.
	`g‘Id
();

1535 if(
vmId
 < 0

1536 || (
tu¶e
.
	`g‘ModuËCİyM­
().
	`cÚšsKey
Ñu¶e.
	`g‘De¡ModuËName
()) &&

1537 
tu¶e
.
	`g‘ModuËCİyM­
().
	`g‘
Ñu¶e.
	`g‘De¡ModuËName
())!=
vmId
 )){

1540 
tu¶e
.
	`£tVmId
(
vmId
);

1543 
	`upd©eTimšgsOnReût
(
tu¶e
);

1545 
	`execu‹Tu¶e
(
ev
, 
tu¶e
.
	`g‘De¡ModuËName
());

1547 if(
tu¶e
.
	`g‘De¡ModuËName
()!=
nuÎ
){

1548 if(
tu¶e
.
	`g‘DœeùiÚ
(è=ğ
Tu¶e
.
UP
)

1549 
	`£ndUp
(
tu¶e
);

1550 if(
tu¶e
.
	`g‘DœeùiÚ
(è=ğ
Tu¶e
.
DOWN
){

1551 
chdId
 : 
	`g‘Chd»nIds
()){

1552 
MobeDeviû
 
‹mpSt
 = (MobeDeviûè
CloudSim
.
	`g‘EÁ™y
(
chdId
);

1553 if(
tu¶e
.
	`g‘AµId
().
	`equ®s
(((
AµModuË
)
‹mpSt
.
	`g‘VmMobeDeviû
()).getAppId())){

1555 
	`£ndDown
(
tu¶e
, 
chdId
);

1561 
	`£ndUp
(
tu¶e
);

1565 if(
tu¶e
.
	`g‘DœeùiÚ
(è=ğ
Tu¶e
.
UP
)

1566 
	`£ndUp
(
tu¶e
);

1567 if(
tu¶e
.
	`g‘DœeùiÚ
(è=ğ
Tu¶e
.
DOWN
){

1568 
chdId
 : 
	`g‘Chd»nIds
()){

1569 
MobeDeviû
 
‹mpSt
 = (MobeDeviûè
CloudSim
.
	`g‘EÁ™y
(
chdId
);

1570 if(
tu¶e
.
	`g‘AµId
().
	`equ®s
(((
AµModuË
)
‹mpSt
.
	`g‘VmMobeDeviû
()).getAppId())){

1572 
	`£ndDown
(
tu¶e
, 
chdId
);

1578 
	}
}

1580 
´Ùeùed
 
	$upd©eTimšgsOnReût
(
Tu¶e
 
tu¶e
) {

1581 
AµliÿtiÚ
 
­p
 = 
	`g‘AµliÿtiÚM­
().
	`g‘
(
tu¶e
.
	`g‘AµId
());

1582 if(
­p
 =ğ
nuÎ
){

1597 
SŒšg
 
¤cModuË
 = 
tu¶e
.
	`g‘SrcModuËName
();

1598 
SŒšg
 
de¡ModuË
 = 
tu¶e
.
	`g‘De¡ModuËName
();

1599 
Li¡
<
AµLoİ
> 
loİs
 = 
­p
.
	`g‘Loİs
();

1600 
AµLoİ
 
loİ
 : 
loİs
){

1610 if(
loİ
.
	`hasEdge
(
¤cModuË
, 
de¡ModuË
è&&†oİ.
	`isEndModuË
(destModule)){

1611 
DoubË
 
¡¬tTime
 = 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘Em™Times
().
	`g‘
(
tu¶e
.
	`g‘Aùu®Tu¶eId
());

1612 if(
¡¬tTime
==
nuÎ
)

1614 if(!
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tAv”age
().
	`cÚšsKey
(
loİ
.
	`g‘LoİId
())){

1615 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tAv”age
().
	`put
(
loİ
.
	`g‘LoİId
(), 0.0);

1616 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tNum
().
	`put
(
loİ
.
	`g‘LoİId
(), 0);

1617 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘MaxLoİExecutiÚTime
().
	`put
(
loİ
.
	`g‘LoİId
(), 0.0);

1619 
cu¼’tAv”age
 = 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tAv”age
().
	`g‘
(
loİ
.
	`g‘LoİId
());

1620 
cu¼’tCouÁ
 = 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tNum
().
	`g‘
(
loİ
.
	`g‘LoİId
());

1621 
d–ay
 = 
CloudSim
.
	`şock
()- 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘Em™Times
().
	`g‘
(
tu¶e
.
	`g‘Aùu®Tu¶eId
());

1622 if(
d–ay
>
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘MaxLoİExecutiÚTime
().
	`g‘
(
loİ
.
	`g‘LoİId
())){

1623 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘MaxLoİExecutiÚTime
().
	`put
(
loİ
.
	`g‘LoİId
(), 
d–ay
);

1625 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘Em™Times
().
	`»move
(
tu¶e
.
	`g‘Aùu®Tu¶eId
());

1626 
ÃwAv”age
 = (
cu¼’tAv”age
*
cu¼’tCouÁ
 + 
d–ay
)/(currentCount+1);

1627 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tAv”age
().
	`put
(
loİ
.
	`g‘LoİId
(), 
ÃwAv”age
);

1628 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tNum
().
	`put
(
loİ
.
	`g‘LoİId
(), 
cu¼’tCouÁ
+1);

1632 
	}
}

1634 
´Ùeùed
 
	$´oûssS’sÜJoššg
(
SimEv’t
 
ev
){

1635 
	`£nd
(
ev
.
	`g‘Sourû
(), 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
(), 
FogEv’ts
.
TUPLE_ACK
);

1636 
	}
}

1638 
´Ùeùed
 
	$execu‹Tu¶e
(
SimEv’t
 
ev
, 
SŒšg
 
İ”©ÜId
){

1640 
Tu¶e
 
tu¶e
 = (Tu¶e)
ev
.
	`g‘D©a
();

1642 
boŞ—n
 
æagCÚtšue
=
çl£
;

1643 
MobeDeviû
 
¡
: 
MobeCÚŒŞËr
.
	`g‘Sm¬tThšgs
()){

1644 
S’sÜ
 
s
: 
¡
.
	`g‘S’sÜs
()){

1645 if(
tu¶e
.
	`g‘AµId
().
	`equ®s
(
s
.getAppId())){

1646 
æagCÚtšue
=
Œue
;

1651 if(!
æagCÚtšue
){

1656 
Logg”
.
	`debug
(
	`g‘Name
(), "Executšgu¶"+
tu¶e
.
	`g‘CloudËtId
()+" oÀmoduË "+
İ”©ÜId
);

1658 if(
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘Tu¶eL©’cy
().
	`g‘
(
tu¶e
.
	`g‘MyTu¶eId
())!=
nuÎ
){

1659 
tu¶e
.
	`£tFš®Time
(
CloudSim
.
	`şock
()+
	`g‘U¶škL©’cy
());

1664 
AµliÿtiÚ
 
­p
 = 
	`g‘AµliÿtiÚM­
().
	`g‘
(
tu¶e
.
	`g‘AµId
());

1665 if(
­p
 =ğ
nuÎ
){

1681 
TimeK“³r
.
	`g‘In¡ªû
().
	`tu¶eS¹edExecutiÚ
(
tu¶e
);

1682 
	`upd©eAÎoÿ‹dMs
(
İ”©ÜId
);

1683 
	`´oûssCloudËtSubm™
(
ev
, 
çl£
);

1684 
	`upd©eAÎoÿ‹dMs
(
İ”©ÜId
);

1688 
	}
}

1690 
´Ùeùed
 
	$´oûssModuËA¼iv®
(
SimEv’t
 
ev
){

1691 
AµModuË
 
moduË
 = (AµModuË)
ev
.
	`g‘D©a
();

1692 
SŒšg
 
­pId
 = 
moduË
.
	`g‘AµId
();

1693 if(!
­pToModuËsM­
.
	`cÚšsKey
(
­pId
)){

1694 
­pToModuËsM­
.
	`put
(
­pId
, 
Ãw
 
A¼ayLi¡
<
SŒšg
>());

1696 
­pToModuËsM­
.
	`g‘
(
­pId
).
	`add
(
moduË
.
	`g‘Name
());

1697 
	`´oûssVmC»©e
(
ev
, 
çl£
);

1698 ià(
moduË
.
	`isBešgIn¡ªtŸ‹d
()) {

1699 
moduË
.
	`£tBešgIn¡ªtŸ‹d
(
çl£
);

1702 
	`š™ŸlizeP”iodicTu¶es
(
moduË
);

1704 
moduË
.
	`upd©eVmProûssšg
(
CloudSim
.
	`şock
(), 
	`g‘VmAÎoÿtiÚPŞicy
().
	`g‘Ho¡
(moduË).
	`g‘VmScheduËr
()

1705 .
	`g‘AÎoÿ‹dMsFÜVm
(
moduË
));

1706 
	}
}

1708 
´iv©e
 
	$š™ŸlizeP”iodicTu¶es
(
AµModuË
 
moduË
) {

1709 
SŒšg
 
­pId
 = 
moduË
.
	`g‘AµId
();

1710 
AµliÿtiÚ
 
­p
 = 
	`g‘AµliÿtiÚM­
().
	`g‘
(
­pId
);

1711 
Li¡
<
AµEdge
> 
³riodicEdges
 = 
­p
.
	`g‘P”iodicEdges
(
moduË
.
	`g‘Name
());

1712 
AµEdge
 
edge
 : 
³riodicEdges
){

1713 
	`£nd
(
	`g‘Id
(), 
edge
.
	`g‘P”iodic™y
(), 
FogEv’ts
.
SEND_PERIODIC_TUPLE
,ƒdge);

1715 
	}
}

1717 
´Ùeùed
 
	$´oûssO³¿tÜR–—£
(
SimEv’t
 
ev
){

1718 
this
.
	`´oûssVmMig¿‹
(
ev
, 
çl£
);

1719 
	}
}

1722 
´Ùeùed
 
	$upd©eNÜthTu¶eQueue
(){

1723 if(!
	`g‘NÜthTu¶eQueue
().
	`isEm±y
()){

1724 
Tu¶e
 
tu¶e
 = 
	`g‘NÜthTu¶eQueue
().
	`pŞl
();

1725 
	`£ndUpF»eLšk
(
tu¶e
);

1727 
	`£tNÜthLškBusy
(
çl£
);

1729 
	}
}

1731 
´Ùeùed
 
	$£ndUpF»eLšk
(
Tu¶e
 
tu¶e
){

1732 
ÃtwÜkD–ay
 = 
tu¶e
.
	`g‘CloudËtFeSize
()/
	`g‘U¶škBªdwidth
();

1733 
	`£tNÜthLškBusy
(
Œue
);

1734 
	`£nd
(
	`g‘Id
(), 
ÃtwÜkD–ay
, 
FogEv’ts
.
UPDATE_NORTH_TUPLE_QUEUE
);

1735 
	`£nd
(
·»ÁId
, 
ÃtwÜkD–ay
+
	`g‘U¶škL©’cy
(), 
FogEv’ts
.
TUPLE_ARRIVAL
, 
tu¶e
);

1736 
N‘wÜkU§geMÚ™Ü
.
	`£ndšgTu¶e
(
	`g‘U¶škL©’cy
(), 
tu¶e
.
	`g‘CloudËtFeSize
());

1737 
	}
}

1739 
´Ùeùed
 
	$£ndUp
(
Tu¶e
 
tu¶e
){

1740 if(
·»ÁId
 > 0){

1741 if(!
	`isNÜthLškBusy
()){

1742 
	`£ndUpF»eLšk
(
tu¶e
);

1744 
nÜthTu¶eQueue
.
	`add
(
tu¶e
);

1747 
	}
}

1749 
´Ùeùed
 
	$upd©eSouthTu¶eQueue
(){

1750 if(!
	`g‘SouthTu¶eQueue
().
	`isEm±y
()){

1751 
Paœ
<
Tu¶e
, 
IÁeg”
> 
·œ
 = 
	`g‘SouthTu¶eQueue
().
	`pŞl
();

1752 
	`£ndDownF»eLšk
(
·œ
.
	`g‘Fœ¡
(),…aœ.
	`g‘SecÚd
());

1754 
	`£tSouthLškBusy
(
çl£
);

1756 
	}
}

1758 
´Ùeùed
 
	$£ndDownF»eLšk
(
Tu¶e
 
tu¶e
, 
chdId
){

1759 
ÃtwÜkD–ay
 = 
tu¶e
.
	`g‘CloudËtFeSize
()/
	`g‘DowÆškBªdwidth
();

1761 
	`£tSouthLškBusy
(
Œue
);

1762 
Ï‹ncy
 = 
	`g‘ChdToL©’cyM­
().
	`g‘
(
chdId
);

1763 
	`£nd
(
	`g‘Id
(), 
ÃtwÜkD–ay
, 
FogEv’ts
.
UPDATE_SOUTH_TUPLE_QUEUE
);

1764 
	`£nd
(
chdId
, 
ÃtwÜkD–ay
+
Ï‹ncy
, 
FogEv’ts
.
TUPLE_ARRIVAL
, 
tu¶e
);

1765 
N‘wÜkU§geMÚ™Ü
.
	`£ndšgTu¶e
(
Ï‹ncy
, 
tu¶e
.
	`g‘CloudËtFeSize
());

1766 
	}
}

1768 
´Ùeùed
 
	$£ndDown
(
Tu¶e
 
tu¶e
, 
chdId
){

1769 if(
	`g‘Chd»nIds
().
	`cÚšs
(
chdId
)){

1770 if(!
	`isSouthLškBusy
()){

1771 
	`£ndDownF»eLšk
(
tu¶e
, 
chdId
);

1773 
southTu¶eQueue
.
	`add
(
Ãw
 
Paœ
<
Tu¶e
, 
IÁeg”
>(
tu¶e
, 
chdId
));

1776 
	}
}

1779 
´Ùeùed
 
	$£ndToS–f
(
Tu¶e
 
tu¶e
){

1780 
	`£nd
(
	`g‘Id
(), 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
(), 
FogEv’ts
.
TUPLE_ARRIVAL
, 
tu¶e
);

1781 
	}
}

1782 
public
 
Pow”Ho¡
 
	$g‘Ho¡
(){

1783  (
Pow”Ho¡
è
	`g‘Ho¡Li¡
().
	`g‘
(0);

1784 
	}
}

1785 
public
 
	$g‘P¬’tId
() {

1786  
·»ÁId
;

1787 
	}
}

1788 
public
 
	$£tP¬’tId
(
·»ÁId
) {

1789 
this
.
·»ÁId
 =…arentId;

1790 
	}
}

1791 
public
 
	gLi¡
<
	gIÁeg”
> 
	$g‘Chd»nIds
() {

1792  
chd»nIds
;

1793 
	}
}

1794 
public
 
£tChd»nIds
(
Li¡
<
IÁeg”
> 
chd»nIds
) {

1795 
	gthis
.
	gchd»nIds
 = 
chd»nIds
;

1797 
public
 
	$g‘U¶škBªdwidth
() {

1798  
u¶škBªdwidth
;

1799 
	}
}

1800 
public
 
	$£tU¶škBªdwidth
(
u¶škBªdwidth
) {

1801 
this
.
u¶škBªdwidth
 = uplinkBandwidth;

1802 
	}
}

1803 
public
 
	$g‘U¶škL©’cy
() {

1804  
u¶škL©’cy
;

1805 
	}
}

1806 
public
 
	$£tU¶škL©’cy
(
u¶škL©’cy
) {

1807 
this
.
u¶škL©’cy
 = uplinkLatency;

1808 
	}
}

1809 
public
 
boŞ—n
 
	$isSouthLškBusy
() {

1810  
isSouthLškBusy
;

1811 
	}
}

1812 
public
 
boŞ—n
 
	$isNÜthLškBusy
() {

1813  
isNÜthLškBusy
;

1814 
	}
}

1815 
public
 
	$£tSouthLškBusy
(
boŞ—n
 
isSouthLškBusy
) {

1816 
this
.
isSouthLškBusy
 = isSouthLinkBusy;

1817 
	}
}

1818 
public
 
	$£tNÜthLškBusy
(
boŞ—n
 
isNÜthLškBusy
) {

1819 
this
.
isNÜthLškBusy
 = isNorthLinkBusy;

1820 
	}
}

1821 
public
 
	$g‘CÚŒŞËrId
() {

1822  
cÚŒŞËrId
;

1823 
	}
}

1824 
public
 
	$£tCÚŒŞËrId
(
cÚŒŞËrId
) {

1825 
this
.
cÚŒŞËrId
 = controllerId;

1826 
	}
}

1827 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘AùiveAµliÿtiÚs
() {

1828  
aùiveAµliÿtiÚs
;

1829 
	}
}

1830 
public
 
£tAùiveAµliÿtiÚs
(
Li¡
<
SŒšg
> 
aùiveAµliÿtiÚs
) {

1831 
	gthis
.
	gaùiveAµliÿtiÚs
 = 
aùiveAµliÿtiÚs
;

1833 
public
 
	gM­
<
	gIÁeg”
, 
	gLi¡
<
	gSŒšg
>> 
	$g‘ChdToO³¿tÜsM­
() {

1834  
chdToO³¿tÜsM­
;

1835 
	}
}

1836 
public
 
£tChdToO³¿tÜsM­
(
M­
<
IÁeg”
, 
Li¡
<
SŒšg
>> 
chdToO³¿tÜsM­
) {

1837 
	gthis
.
	gchdToO³¿tÜsM­
 = 
chdToO³¿tÜsM­
;

1840 
public
 
	gM­
<
	gSŒšg
, 
	gAµliÿtiÚ
> 
	$g‘AµliÿtiÚM­
() {

1841  
­¶iÿtiÚM­
;

1842 
	}
}

1844 
public
 
£tAµliÿtiÚM­
(
M­
<
SŒšg
, 
AµliÿtiÚ
> 
­¶iÿtiÚM­
) {

1845 
	gthis
.
	g­¶iÿtiÚM­
 = 
­¶iÿtiÚM­
;

1848 
public
 
	gQueue
<
	gTu¶e
> 
	$g‘NÜthTu¶eQueue
() {

1849  
nÜthTu¶eQueue
;

1850 
	}
}

1852 
public
 
£tNÜthTu¶eQueue
(
Queue
<
Tu¶e
> 
nÜthTu¶eQueue
) {

1853 
	gthis
.
	gnÜthTu¶eQueue
 = 
nÜthTu¶eQueue
;

1856 
public
 
	gQueue
<
	gPaœ
<
	gTu¶e
, 
	gIÁeg”
>> 
	$g‘SouthTu¶eQueue
() {

1857  
southTu¶eQueue
;

1858 
	}
}

1860 
public
 
£tSouthTu¶eQueue
(
Queue
<
Paœ
<
Tu¶e
, 
IÁeg”
>> 
southTu¶eQueue
) {

1861 
	gthis
.
	gsouthTu¶eQueue
 = 
southTu¶eQueue
;

1864 
public
 
	$g‘DowÆškBªdwidth
() {

1865  
dowÆškBªdwidth
;

1866 
	}
}

1868 
public
 
	$£tDowÆškBªdwidth
(
dowÆškBªdwidth
) {

1869 
this
.
dowÆškBªdwidth
 = downlinkBandwidth;

1870 
	}
}

1872 
public
 
	gLi¡
<
	gPaœ
<
	gIÁeg”
, 
	gDoubË
>> 
	$g‘AssocŸ‹dAùu©ÜIds
() {

1873  
assocŸ‹dAùu©ÜIds
;

1874 
	}
}

1876 
public
 
£tAssocŸ‹dAùu©ÜIds
(
Li¡
<
Paœ
<
IÁeg”
, 
DoubË
>> 
assocŸ‹dAùu©ÜIds
) {

1877 
	gthis
.
	gassocŸ‹dAùu©ÜIds
 = 
assocŸ‹dAùu©ÜIds
;

1880 
public
 
	$g‘EÃrgyCÚsum±iÚ
() {

1881  
’”gyCÚsum±iÚ
;

1882 
	}
}

1884 
public
 
	$£tEÃrgyCÚsum±iÚ
(
’”gyCÚsum±iÚ
) {

1885 
this
.
’”gyCÚsum±iÚ
 =ƒnergyConsumption;

1886 
	}
}

1887 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘ChdToL©’cyM­
() {

1888  
chdToL©’cyM­
;

1889 
	}
}

1891 
public
 
£tChdToL©’cyM­
(
M­
<
IÁeg”
, 
DoubË
> 
chdToL©’cyM­
) {

1892 
	gthis
.
	gchdToL©’cyM­
 = 
chdToL©’cyM­
;

1895 
public
 
	$g‘Lev–
() {

1896  
Ëv–
;

1897 
	}
}

1899 
public
 
	$£tLev–
(
Ëv–
) {

1900 
this
.
Ëv–
 =†evel;

1901 
	}
}

1903 
public
 
	$g‘R©eP”Ms
() {

1904  
¿‹P”Ms
;

1905 
	}
}

1907 
public
 
	$£tR©eP”Ms
(
¿‹P”Ms
) {

1908 
this
.
¿‹P”Ms
 =„atePerMips;

1909 
	}
}

1910 
public
 
	$g‘TÙ®Co¡
() {

1911  
tÙ®Co¡
;

1912 
	}
}

1914 
public
 
	$£tTÙ®Co¡
(
tÙ®Co¡
) {

1915 
this
.
tÙ®Co¡
 =otalCost;

1916 
	}
}

1918 
public
 
	gM­
<
	gSŒšg
, M­<SŒšg, 
	gIÁeg”
>> 
	$g‘ModuËIn¡ªûCouÁ
() {

1919  
moduËIn¡ªûCouÁ
;

1920 
	}
}

1922 
public
 
£tModuËIn¡ªûCouÁ
(

1923 
M­
<
SŒšg
, M­<SŒšg, 
IÁeg”
>> 
moduËIn¡ªûCouÁ
) {

1924 
	gthis
.
	gmoduËIn¡ªûCouÁ
 = 
moduËIn¡ªûCouÁ
;

1927 
public
 
DecisiÚMig¿tiÚ
 
	$g‘Mig¿tiÚSŒ©egy
() {

1928  
mig¿tiÚSŒ©egy
;

1929 
	}
}

1931 
public
 
	$£tMig¿tiÚSŒ©egy
(
DecisiÚMig¿tiÚ
 
mig¿tiÚSŒ©egy
) {

1932 
this
.
mig¿tiÚSŒ©egy
 = migrationStrategy;

1933 
	}
}

1935 
public
 
	$g‘PŞicyR•liÿVM
() {

1936  
pŞicyR•liÿVM
;

1937 
	}
}

1939 
public
 
	$£tPŞicyR•liÿVM
(
pŞicyR•liÿVM
) {

1940 
this
.
pŞicyR•liÿVM
 =…olicyReplicaVM;

1941 
	}
}

1943 
public
 
	gS‘
<
	gFogDeviû
> 
	$g‘S”v”CloudËts
() {

1944  
£rv”CloudËts
;

1945 
	}
}

1947 
public
 
	$£tS”v”CloudËts
(
FogDeviû
 
sc
, 
aùiÚ
) {

1948 if(
aùiÚ
 =ğ
PŞic›s
.
ADD
){

1949 
this
.
£rv”CloudËts
.
	`add
(
sc
);

1952 
this
.
£rv”CloudËts
.
	`»move
(
sc
);

1954 
	}
}

1956 
public
 
FogDeviû
 
	$g‘S”v”CloudËtToVmMig¿‹
() {

1957  
£rv”CloudËtToVmMig¿‹
;

1958 
	}
}

1960 
public
 
	$£tS”v”CloudËtToVmMig¿‹
(
FogDeviû
 
£rv”CloudËtToVmMig¿‹
) {

1961 
this
.
£rv”CloudËtToVmMig¿‹
 = serverCloudletToVmMigrate;

1962 
	}
}

1964 
public
 
	gS‘
<
	gMobeDeviû
> 
	$g‘Sm¬tThšgsW™hVm
() {

1965  
sm¬tThšgsW™hVm
;

1966 
	}
}

1968 
public
 
	$£tSm¬tThšgsW™hVm
(
MobeDeviû
 
¡
, 
aùiÚ
) {

1969 if(
aùiÚ
 =ğ
PŞic›s
.
ADD
){

1970 
this
.
sm¬tThšgsW™hVm
.
	`add
(
¡
);

1973 
this
.
sm¬tThšgsW™hVm
.
	`»move
(
¡
);

1975 
	}
}

1977 
public
 
	$g‘VŞ©P¬’tId
() {

1978  
vŞ©P¬’tId
;

1979 
	}
}

1981 
public
 
	$£tVŞ©P¬’tId
(
vŞ©P¬’tId
) {

1982 
this
.
vŞ©P¬’tId
 = volatilParentId;

1983 
	}
}

1985 
public
 
BefÜeMig¿tiÚ
 
	$g‘BefÜeMig¿‹
() {

1986  
befÜeMig¿tiÚ
;

1987 
	}
}

1989 
public
 
	$£tBefÜeMig¿‹
(
BefÜeMig¿tiÚ
 
befÜeMig¿tiÚ
) {

1990 
this
.
befÜeMig¿tiÚ
 = beforeMigration;

1991 
	}
}

	@src/org/fog/entities/FogDeviceCharacteristics.java

9 
·ckage
 
	gÜg
.
	gfog
.
	g’t™›s
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”Ch¬aù”i¡ics
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gHo¡Li¡
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gli¡s
.
	gPeLi¡
;

19 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gGeoCov”age
;

21 
public
 cÏs 
	cFogDeviûCh¬aù”i¡ics
 
ex‹nds
 
	mD©aûÁ”Ch¬aù”i¡ics
{

24 
´iv©e
 
GeoCov”age
 
	mgeoCov”age
;

27 
´iv©e
 
	mid
;

30 
´iv©e
 
SŒšg
 
	m¬ch™eùu»
;

33 
´iv©e
 
SŒšg
 
	mos
;

36 
´iv©e
 
	mLi¡
<? 
ex‹nds
 
	mHo¡
> 
	mho¡Li¡
;

39 
´iv©e
 
	mtimeZÚe
;

42 
´iv©e
 
	mco¡P”SecÚd
;

45 
´iv©e
 
	m®loÿtiÚPŞicy
;

48 
public
 
fš®
 
	mTIME_SHARED
 = 0;

51 
public
 
fš®
 
	mSPACE_SHARED
 = 1;

54 
public
 
fš®
 
	mOTHER_POLICY_SAME_RATING
 = 2;

60 
public
 
fš®
 
	mOTHER_POLICY_DIFFERENT_RATING
 = 3;

63 
public
 
fš®
 
	mADVANCE_RESERVATION
 = 4;

66 
´iv©e
 
SŒšg
 
	mvmm
;

69 
´iv©e
 
	mco¡P”Mem
;

72 
´iv©e
 
	mco¡P”StÜage
;

75 
´iv©e
 
	mco¡P”Bw
;

99 @
Suµ»ssW¬nšgs
("serial")

100 
public
 
	$FogDeviûCh¬aù”i¡ics
(

101 
SŒšg
 
¬ch™eùu»
,

102 
SŒšg
 
os
,

103 
SŒšg
 
vmm
,

104 
fš®
 
Ho¡
 
ho¡
,

105 
timeZÚe
,

106 
co¡P”Sec
,

107 
co¡P”Mem
,

108 
co¡P”StÜage
,

109 
co¡P”Bw
) {

110 
	`su³r
(
¬ch™eùu»
, 
os
, 
vmm
, 
Ãw
 
A¼ayLi¡
<
Ho¡
>(){{
	`add
(
ho¡
);}} , 
timeZÚe
, 
co¡P”Sec
, 
co¡P”Mem
, 
co¡P”StÜage
, 
co¡P”Bw
);

111 
	`£tHo¡Li¡
(
Ãw
 
A¼ayLi¡
<
Ho¡
>(){{
	`add
(
ho¡
);}});

112 
	`£tId
(-1);

113 
	`£tArch™eùu»
(
¬ch™eùu»
);

114 
	`£tOs
(
os
);

115 
	`£tHo¡Li¡
(
ho¡Li¡
);

116 
	`£tAÎoÿtiÚPŞicy
(
®loÿtiÚPŞicy
);

117 
	`£tCo¡P”SecÚd
(
co¡P”Sec
);

119 
	`£tTimeZÚe
(0.0);

121 
	`£tVmm
(
vmm
);

122 
	`£tCo¡P”Mem
(
co¡P”Mem
);

123 
	`£tCo¡P”StÜage
(
co¡P”StÜage
);

124 
	`£tCo¡P”Bw
(
co¡P”Bw
);

135 
public
 
SŒšg
 
	$g‘ResourûName
() {

136  
CloudSim
.
	`g‘EÁ™yName
(
	`g‘Id
());

137 
	}
}

146 
public
 
Ho¡
 
	$g‘Ho¡W™hF»ePe
() {

147  
Ho¡Li¡
.
	`g‘Ho¡W™hF»ePe
(
	`g‘Ho¡Li¡
());

148 
	}
}

158 
public
 
Ho¡
 
	$g‘Ho¡W™hF»ePe
(
³Numb”
) {

159  
Ho¡Li¡
.
	`g‘Ho¡W™hF»ePe
(
	`g‘Ho¡Li¡
(), 
³Numb”
);

160 
	}
}

170 
public
 
	$g‘MsOfOÃPe
() {

171 ià(
	`g‘Ho¡Li¡
().
	`size
() == 0) {

175  
PeLi¡
.
	`g‘Ms
(
	`g‘Ho¡Li¡
().
	`g‘
(0).
	`g‘PeLi¡
(), 0);

176 
	}
}

189 
public
 
	$g‘MsOfOÃPe
(
id
, 
³Id
) {

190 ià(
	`g‘Ho¡Li¡
().
	`size
() == 0) {

194  
PeLi¡
.
	`g‘Ms
(
Ho¡Li¡
.
	`g‘ById
(
	`g‘Ho¡Li¡
(), 
id
).
	`g‘PeLi¡
(), 
³Id
);

195 
	}
}

213 
public
 
	$g‘Ms
() {

214 
ms
 = 0;

215 
	`g‘AÎoÿtiÚPŞicy
()) {

217 
FogDeviûCh¬aù”i¡ics
.
TIME_SHARED
:

218 
FogDeviûCh¬aù”i¡ics
.
OTHER_POLICY_SAME_RATING
:

219 
ms
 = 
	`g‘MsOfOÃPe
(è* 
Ho¡Li¡
.
	`g‘Numb”OfPes
(
	`g‘Ho¡Li¡
());

224 
FogDeviûCh¬aù”i¡ics
.
SPACE_SHARED
:

225 
FogDeviûCh¬aù”i¡ics
.
OTHER_POLICY_DIFFERENT_RATING
:

226 
Ho¡
 
ho¡
 : 
	`g‘Ho¡Li¡
()) {

227 
ms
 +ğ
ho¡
.
	`g‘TÙ®Ms
();

235  
ms
;

236 
	}
}

249 
public
 
	$g‘CpuTime
(
şoudËtL’gth
, 
lßd
) {

250 
ıuTime
 = 0.0;

252 
	`g‘AÎoÿtiÚPŞicy
()) {

253 
FogDeviûCh¬aù”i¡ics
.
TIME_SHARED
:

254 
ıuTime
 = 
şoudËtL’gth
 / (
	`g‘MsOfOÃPe
(è* (1.0 - 
lßd
));

261  
ıuTime
;

262 
	}
}

271 
public
 
	$g‘Numb”OfPes
() {

272  
Ho¡Li¡
.
	`g‘Numb”OfPes
(
	`g‘Ho¡Li¡
());

273 
	}
}

282 
public
 
	$g‘Numb”OfF»ePes
() {

283  
Ho¡Li¡
.
	`g‘Numb”OfF»ePes
(
	`g‘Ho¡Li¡
());

284 
	}
}

293 
public
 
	$g‘Numb”OfBusyPes
() {

294  
Ho¡Li¡
.
	`g‘Numb”OfBusyPes
(
	`g‘Ho¡Li¡
());

295 
	}
}

308 
public
 
boŞ—n
 
	$£tPeStus
(
¡©us
, 
ho¡Id
, 
³Id
) {

309  
Ho¡Li¡
.
	`£tPeStus
(
	`g‘Ho¡Li¡
(), 
¡©us
, 
ho¡Id
, 
³Id
);

310 
	}
}

319 
public
 
	$g‘Co¡P”Mi
() {

320  
	`g‘Co¡P”SecÚd
(è/ 
	`g‘MsOfOÃPe
();

321 
	}
}

328 
public
 
	$g‘Numb”OfHo¡s
() {

329  
	`g‘Ho¡Li¡
().
	`size
();

330 
	}
}

337 
public
 
	$g‘Numb”OfFaedHo¡s
() {

338 
numb”OfFaedHo¡s
 = 0;

339 
Ho¡
 
ho¡
 : 
	`g‘Ho¡Li¡
()) {

340 ià(
ho¡
.
	`isFaed
()) {

341 
numb”OfFaedHo¡s
++;

344  
numb”OfFaedHo¡s
;

345 
	}
}

352 
public
 
boŞ—n
 
	$isWÜkšg
() {

353 
boŞ—n
 
»suÉ
 = 
çl£
;

354 ià(
	`g‘Numb”OfFaedHo¡s
() == 0) {

355 
»suÉ
 = 
Œue
;

358  
»suÉ
;

359 
	}
}

366 
public
 
	$g‘Co¡P”Mem
() {

367  
co¡P”Mem
;

368 
	}
}

377 
public
 
	$£tCo¡P”Mem
(
co¡P”Mem
) {

378 
this
.
co¡P”Mem
 = costPerMem;

379 
	}
}

386 
public
 
	$g‘Co¡P”StÜage
() {

387  
co¡P”StÜage
;

388 
	}
}

397 
public
 
	$£tCo¡P”StÜage
(
co¡P”StÜage
) {

398 
this
.
co¡P”StÜage
 = costPerStorage;

399 
	}
}

406 
public
 
	$g‘Co¡P”Bw
() {

407  
co¡P”Bw
;

408 
	}
}

417 
public
 
	$£tCo¡P”Bw
(
co¡P”Bw
) {

418 
this
.
co¡P”Bw
 = costPerBw;

419 
	}
}

426 
public
 
SŒšg
 
	$g‘Vmm
() {

427  
vmm
;

428 
	}
}

435 
public
 
	$g‘Id
() {

436  
id
;

437 
	}
}

444 
public
 
	$£tId
(
id
) {

445 
this
.
id
 = id;

446 
	}
}

453 
´Ùeùed
 
SŒšg
 
	$g‘Arch™eùu»
() {

454  
¬ch™eùu»
;

455 
	}
}

462 
´Ùeùed
 
	$£tArch™eùu»
(
SŒšg
 
¬ch™eùu»
) {

463 
this
.
¬ch™eùu»
 =‡rchitecture;

464 
	}
}

471 
´Ùeùed
 
SŒšg
 
	$g‘Os
() {

472  
os
;

473 
	}
}

480 
´Ùeùed
 
	$£tOs
(
SŒšg
 
os
) {

481 
this
.
os
 = os;

482 
	}
}

490 @
Suµ»ssW¬nšgs
("unchecked")

491 
	gpublic
 <
T
 
ex‹nds
 
	gHo¡
> 
	gLi¡
<
	gT
> 
	$g‘Ho¡Li¡
() {

492  (
Li¡
<
T
>è
ho¡Li¡
;

493 
	}
}

501 
	g´Ùeùed
 <
T
 
ex‹nds
 
	gHo¡
> 
£tHo¡Li¡
(
Li¡
<T> 
ho¡Li¡
) {

502 
	gthis
.
	gho¡Li¡
 = 
ho¡Li¡
;

510 
´Ùeùed
 
	$g‘TimeZÚe
() {

511  
timeZÚe
;

512 
	}
}

519 
´Ùeùed
 
	$£tTimeZÚe
(
timeZÚe
) {

520 
this
.
timeZÚe
 =imeZone;

521 
	}
}

528 
public
 
	$g‘Co¡P”SecÚd
() {

529  
co¡P”SecÚd
;

530 
	}
}

537 
´Ùeùed
 
	$£tCo¡P”SecÚd
(
co¡P”SecÚd
) {

538 
this
.
co¡P”SecÚd
 = costPerSecond;

539 
	}
}

546 
´Ùeùed
 
	$g‘AÎoÿtiÚPŞicy
() {

547  
®loÿtiÚPŞicy
;

548 
	}
}

555 
´Ùeùed
 
	$£tAÎoÿtiÚPŞicy
(
®loÿtiÚPŞicy
) {

556 
this
.
®loÿtiÚPŞicy
 =‡llocationPolicy;

557 
	}
}

564 
´Ùeùed
 
	$£tVmm
(
SŒšg
 
vmm
) {

565 
this
.
vmm
 = vmm;

566 
	}
}

568 
public
 
GeoCov”age
 
	$g‘GeoCov”age
() {

569  
geoCov”age
;

570 
	}
}

572 
public
 
	$£tGeoCov”age
(
GeoCov”age
 
geoCov”age
) {

573 
this
.
geoCov”age
 = geoCoverage;

574 
	}
}

	@src/org/fog/entities/MobileActuator.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g’t™›s
;

3 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gGeoLoÿtiÚ
;

5 
public
 cÏs 
	cMobeAùu©Ü
 
ex‹nds
 
	mAùu©Ü
{

7 
public
 
	$MobeAùu©Ü
(
SŒšg
 
Çme
, 
u£rId
, SŒšg 
­pId
,

8 
g©ewayDeviûId
, 
Ï‹ncy
, 
GeoLoÿtiÚ
 
geoLoÿtiÚ
,

9 
SŒšg
 
aùu©ÜTy³
, SŒšg 
¤cModuËName
) {

10 
	`su³r
(
Çme
, 
u£rId
, 
­pId
, 
g©ewayDeviûId
, 
Ï‹ncy
, 
geoLoÿtiÚ
, 
aùu©ÜTy³
,

11 
¤cModuËName
);

15 
public
 
	$MobeAùu©Ü
(
SŒšg
 
Çme
, 
u£rId
, SŒšg 
­pId
,

16 
SŒšg
 
aùu©ÜTy³
) {

17 
	`su³r
(
Çme
, 
u£rId
, 
­pId
, 
aùu©ÜTy³
);

19 
	}
}

	@src/org/fog/entities/MobileDevice.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g’t™›s
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

5 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

6 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

7 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

9 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµEdge
;

10 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµModuË
;

11 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.*;

12 
impÜt
 
	gÜg
.
	gfog
.
	g¶aûm’t
.
	gMobeCÚŒŞËr
;

13 
impÜt
 
	gÜg
.
	gfog
.
	gpŞicy
.
	gAµModuËAÎoÿtiÚPŞicy
;

14 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gCÚfig
;

15 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogEv’ts
;

16 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogUts
;

17 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gLogg”
;

18 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gModuËLaunchCÚfig
;

19 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gMySti¡ics
;

20 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gVmMig¿tiÚTechnique
;

21 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gLogMobe
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

27 
public
 cÏs 
	cMobeDeviû
 
ex‹nds
 
	mFogDeviû
 {

30 
´iv©e
 
	mdœeùiÚ
;

31 
´iv©e
 
	m¥“d
;

33 
´iv©e
 
FogDeviû
 
	msourûS”v”CloudËt
;

34 
´iv©e
 
FogDeviû
 
	mde¡š©iÚS”v”CloudËt
;

35 
´iv©e
 
FogDeviû
 
	mvmLoÿlS”v”CloudËt
;

36 
´iv©e
 
ApDeviû
 
	msourûAp
;

37 
´iv©e
 
ApDeviû
 
	mde¡š©iÚAp
;

38 
´iv©e
 
Vm
 
	mvmMobeDeviû
;

39 
´iv©e
 
	mmigTime
;

40 
´iv©e
 
boŞ—n
 
	mmigPošt
;

41 
´iv©e
 
boŞ—n
 
	mmigZÚe
;

42 
´iv©e
 
	mS‘
<
	mMobeS’sÜ
> 
	m£nsÜs
;

43 
´iv©e
 
	mS‘
<
	mMobeAùu©Ü
> 
	maùu©Üs
;

44 
´iv©e
 
	mmaxS”viûV®ue
;

45 
´iv©e
 
boŞ—n
 
	mmigStus
;

46 
´iv©e
 
boŞ—n
 
	mpo¡CİyStus
;

47 
´iv©e
 
boŞ—n
 
	mhªdoffStus
;

48 
´iv©e
 
boŞ—n
 
	mlockedToHªdoff
;

49 
´iv©e
 
boŞ—n
 
	mlockedToMig¿tiÚ
;

50 
´iv©e
 
boŞ—n
 
	mabÜtMig¿tiÚ
;

51 
´iv©e
 
	mvmSize
;

52 
´iv©e
 
	m‹mpSimuÏtiÚ
;

53 
´iv©e
 
	mtimeFšishHªdoff
 = 0;

54 
´iv©e
 
	mtimeFšishD–iv”yVm
 = 0;

55 
´iv©e
 
	mtimeS¹LiveMig¿tiÚ
 = 0;

56 
´iv©e
 
boŞ—n
 
	m¡©us
;

57 
´Ùeùed
 
VmMig¿tiÚTechnique
 
	mmig¿tiÚTechnique
;

63 @
Ov”ride


64 
public
 
	$hashCode
() {

65 
fš®
 
´ime
 = 31;

66 
»suÉ
 = 1;

67 
»suÉ
 = 
´ime
 *„esuÉ + ((
this
.
	`g‘Name
(è=ğ
nuÎ
è? 0 :his.g‘Name().
	`hashCode
());

68  
»suÉ
;

71 @
Ov”ride


72 
public
 
boŞ—n
 
	$equ®s
(
Objeù
 
obj
) {

73 ià(
this
 =ğ
obj
)

74  
Œue
;

75 ià(
obj
 =ğ
nuÎ
)

76  
çl£
;

77 ià(
	`g‘CÏss
(è!ğ
obj
.getClass())

78  
çl£
;

79 
MobeDeviû
 
Ùh”
 = (MobeDeviûè
obj
;

80 ià(
this
.
	`g‘Name
(è=ğ
nuÎ
) {

81 ià(
Ùh”
.
	`g‘Name
(è!ğ
nuÎ
)

82  
çl£
;

83 } ià(!
this
.
	`g‘Name
().
	`equ®s
(
Ùh”
.getName()))

84  
çl£
;

85  
Œue
;

86 
	}
}

88 
public
 
	$MobeDeviû
() {

90 
	}
}

92 
public
 
	$MobeDeviû
(
SŒšg
 
Çme
, 
CoÜdš©e
 
coÜd
, 
coÜdX
, 
coÜdY
, 
id
) {

94 
	`su³r
(
Çme
, 
coÜdX
, 
coÜdY
, 
id
);

96 
	`£tDœeùiÚ
(0);

97 
	`£tS³ed
(0);

99 
	`£tSourûS”v”CloudËt
(
nuÎ
);

100 
	`£tDe¡š©iÚS”v”CloudËt
(
nuÎ
);

101 
	`£tVmLoÿlS”v”CloudËt
(
nuÎ
);

102 
	`£tSourûAp
(
nuÎ
);

103 
	`£tDe¡š©iÚAp
(
nuÎ
);

104 
	`£tVmMobeDeviû
(
nuÎ
);

105 
	`£tMigTime
(0);

106 
	`£tMigStus
(
çl£
);

107 
	`£tPo¡CİyStus
(
çl£
);

108 
	`£tHªdoffStus
(
çl£
);

109 
	`£tLockedToHªdoff
(
çl£
);

110 
	`£tLockedToMig¿tiÚ
(
çl£
);

111 
	`£tAbÜtMig¿tiÚ
(
çl£
);

112 
	`£tMigPošt
(
çl£
);

113 
	`£tMigZÚe
(
çl£
);

114 
aùu©Üs
 = 
Ãw
 
HashS‘
<>();

115 
£nsÜs
 = 
Ãw
 
HashS‘
<>();

116 
	`£tStus
(
Œue
);

119 
	}
}

120 
public
 
	$MobeDeviû
(
SŒšg
 
Çme
, 
coÜdX
, 
coÜdY
, 
id
, 
dœ
, 
¥
) {

125 
	`su³r
(
Çme
, 
coÜdX
, 
coÜdY
, 
id
);

126 
	`£tDœeùiÚ
(
dœ
);

127 
	`£tS³ed
(
¥
);

129 
	`£tSourûS”v”CloudËt
(
nuÎ
);

130 
	`£tDe¡š©iÚS”v”CloudËt
(
nuÎ
);

131 
	`£tVmLoÿlS”v”CloudËt
(
nuÎ
);

132 
	`£tSourûAp
(
nuÎ
);

133 
	`£tDe¡š©iÚAp
(
nuÎ
);

134 
	`£tVmMobeDeviû
(
nuÎ
);

135 
	`£tMigTime
(0);

136 
	`£tMigStus
(
çl£
);

137 
	`£tPo¡CİyStus
(
çl£
);

139 
	`£tHªdoffStus
(
çl£
);

140 
	`£tLockedToHªdoff
(
çl£
);

141 
	`£tLockedToMig¿tiÚ
(
çl£
);

142 
	`£tStus
(
Œue
);

143 
	`£tAbÜtMig¿tiÚ
(
çl£
);

146 
aùu©Üs
 = 
Ãw
 
HashS‘
<>();

147 
£nsÜs
 = 
Ãw
 
HashS‘
<>();

150 
	}
}

155 
public
 
MobeDeviû
(
SŒšg
 
Çme
,

156 
FogDeviûCh¬aù”i¡ics
 
ch¬aù”i¡ics
,

157 
AµModuËAÎoÿtiÚPŞicy
 
vmAÎoÿtiÚPŞicy
,

158 
LškedLi¡
<
StÜage
> 
¡ÜageLi¡
, 
schedulšgIÁ”v®
, 
u¶škBªdwidth


159 , 
dowÆškBªdwidth
, 
u¶škL©’cy
,

160 
d
, 
coÜdX
, 
coÜdY
, 
id
, 
dœ
, 
¥
, 
maxS”viûV®ue
, 
vmSize


161 , 
VmMig¿tiÚTechnique
 
mig¿tiÚTechnique
è
throws
 
	gExû±iÚ
 {

163 
su³r
(
Çme
, 
ch¬aù”i¡ics
, 
vmAÎoÿtiÚPŞicy


164 , 
¡ÜageLi¡
, 
schedulšgIÁ”v®


165 , 
u¶škBªdwidth


166 , 
dowÆškBªdwidth


167 , 
u¶škL©’cy
, 
¥
, 
coÜdX
, 
coÜdY
, 
id
);

168 
£tDœeùiÚ
(
dœ
);

169 
£tS³ed
(
¥
);

171 
£tSourûS”v”CloudËt
(
nuÎ
);

172 
£tDe¡š©iÚS”v”CloudËt
(
nuÎ
);

173 
£tVmLoÿlS”v”CloudËt
(
nuÎ
);

174 
£tSourûAp
(
nuÎ
);

175 
£tDe¡š©iÚAp
(
nuÎ
);

176 
£tVmMobeDeviû
(
nuÎ
);

177 
£tMigTime
(0);

178 
£tMigStus
(
çl£
);

179 
£tPo¡CİyStus
(
çl£
);

181 
£tVmSize
(
vmSize
);

182 
£tHªdoffStus
(
çl£
);

183 
£tLockedToHªdoff
(
çl£
);

184 
£tStus
(
Œue
);

185 
£tAbÜtMig¿tiÚ
(
çl£
);

186 
£tMig¿tiÚTechnique
(
mig¿tiÚTechnique
);

188 
	gaùu©Üs
 = 
Ãw
 
HashS‘
<>();

189 
	g£nsÜs
 = 
Ãw
 
HashS‘
<>();

190 
£tMaxS”viûV®ue
(
maxS”viûV®ue
);

194 @
Ov”ride


195 
public
 
SŒšg
 
	$toSŒšg
() {

196  
this
.
	`g‘Name
(è+ "[coÜdX="+this.
	`g‘CoÜd
().
	`g‘CoÜdX
()

197 + ", coÜdY="+
this
.
	`g‘CoÜd
().
	`g‘CoÜdY
()

198 + ", dœeùiÚ=" + 
dœeùiÚ
 + ", s³ed=" + 
¥“d


200 + 
sourûS”v”CloudËt
 + ", destinationCloudletServer="

201 + 
de¡š©iÚS”v”CloudËt
 + ", sourûAp=" + 
sourûAp


202 + ", de¡š©iÚAp=" + 
de¡š©iÚAp
 + ", vmMobileDevice="

203 + 
vmMobeDeviû
 + ", migTime=" + 
migTime
 + ", sensors="

204 + 
£nsÜs
 + ",‡ùu©Üs=" + 
aùu©Üs
 + "]";

205 
	}
}

206 @
Ov”ride


207 
´Ùeùed
 
	$´oûssOth”Ev’t
(
SimEv’t
 
ev
) {

208 
ev
.
	`g‘Tag
()){

209 
FogEv’ts
.
TUPLE_ARRIVAL
:

210 
	`´oûssTu¶eA¼iv®
(
ev
);

212 
FogEv’ts
.
LAUNCH_MODULE
:

213 
	`´oûssModuËA¼iv®
(
ev
);

215 
FogEv’ts
.
RELEASE_OPERATOR
:

216 
	`´oûssO³¿tÜR–—£
(
ev
);

218 
FogEv’ts
.
SENSOR_JOINED
:

219 
	`´oûssS’sÜJoššg
(
ev
);

221 
FogEv’ts
.
SEND_PERIODIC_TUPLE
:

222 
	`£ndP”iodicTu¶e
(
ev
);

224 
FogEv’ts
.
APP_SUBMIT
:

225 
	`´oûssAµSubm™
(
ev
);

227 
FogEv’ts
.
UPDATE_NORTH_TUPLE_QUEUE
:

228 
	`upd©eNÜthTu¶eQueue
();

230 
FogEv’ts
.
UPDATE_SOUTH_TUPLE_QUEUE
:

231 
	`upd©eSouthTu¶eQueue
();

233 
FogEv’ts
.
ACTIVE_APP_UPDATE
:

234 
	`upd©eAùiveAµliÿtiÚs
(
ev
);

236 
FogEv’ts
.
ACTUATOR_JOINED
:

237 
	`´oûssAùu©ÜJošed
(
ev
);

239 
FogEv’ts
.
LAUNCH_MODULE_INSTANCE
:

240 
	`upd©eModuËIn¡ªûCouÁ
(
ev
);

242 
FogEv’ts
.
RESOURCE_MGMT
:

243 
	`mªageResourûs
(
ev
);

248 
	}
}

250 
´Ùeùed
 
	$´oûssTu¶eA¼iv®
(
SimEv’t
 
ev
){

252 
Tu¶e
 
tu¶e
 = (Tu¶e)
ev
.
	`g‘D©a
();

253 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tMyCouÁTÙ®Tu¶e
(1);

255 
boŞ—n
 
æagCÚtšue
=
çl£
;

256 if(!
MobeCÚŒŞËr
.
	`g‘Sm¬tThšgs
().
	`cÚšs
(
this
)){

260 
MobeDeviû
 
¡
: 
MobeCÚŒŞËr
.
	`g‘Sm¬tThšgs
()){

261 
S’sÜ
 
s
: 
¡
.
	`g‘S’sÜs
()){

262 if(
tu¶e
.
	`g‘AµId
().
	`equ®s
(
s
.getAppId())){

263 
æagCÚtšue
=
Œue
;

268 if(!
æagCÚtšue
){

272 if(
tu¶e
.
	`g‘In™ŸlTime
()==-1){

273 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘Tu¶eL©’cy
().
	`put
(
tu¶e
.
	`g‘MyTu¶eId
(), 
CloudSim
.
	`şock
()-
	`g‘U¶škL©’cy
());

274 
tu¶e
.
	`£tIn™ŸlTime
(
CloudSim
.
	`şock
()-
	`g‘U¶škL©’cy
());

277 if(
	`g‘Name
().
	`equ®s
("cloud")){

278 
	`upd©eCloudT¿ffic
();

284 
Logg”
.
	`debug
(
	`g‘Name
(), "Reûivedu¶"+
tu¶e
.
	`g‘CloudËtId
()+" w™hu¶eTy³ = "+tu¶e.
	`g‘Tu¶eTy³
()+"\t| Source : "+

285 
CloudSim
.
	`g‘EÁ™yName
(
ev
.
	`g‘Sourû
())+"|De¡ : "+CloudSim.g‘EÁ™yNameÓv.
	`g‘De¡š©iÚ
()));

286 
	`£nd
(
ev
.
	`g‘Sourû
(), 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
(), 
FogEv’ts
.
TUPLE_ACK
);

288 if(
FogUts
.
­pIdToGeoCov”ageM­
.
	`cÚšsKey
(
tu¶e
.
	`g‘AµId
())){

291 if(
tu¶e
.
	`g‘DœeùiÚ
(è=ğ
Tu¶e
.
ACTUATOR
){

295 
	`£ndTu¶eToAùu©Ü
(
tu¶e
);

301 if((
	`isMigStus
()||
	`isHªdoffStus
())){

304 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tMyCouÁLo¡Tu¶e
(1);

305 if(
	`isMigStus
()){

344 if(
	`g‘Ho¡
().
	`g‘VmLi¡
().
	`size
() > 0){

345 
Vm
 
vm
:
	`g‘Ho¡
().
	`g‘VmLi¡
()){

347 
fš®
 
AµModuË
 
İ”©Ü
 = (AµModuË)
vm
;

348 if(
CloudSim
.
	`şock
() > 0){

349 
	`g‘Ho¡
().
	`g‘VmScheduËr
().
	`d—Îoÿ‹PesFÜVm
(
İ”©Ü
);

350 
	`g‘Ho¡
().
	`g‘VmScheduËr
().
	`®loÿ‹PesFÜVm
(
İ”©Ü
, 
Ãw
 
A¼ayLi¡
<
DoubË
>(){

351 
´Ùeùed
 
fš®
 
£rŸlV”siÚUID
 = 1L;

352 {
	`add
((è
	`g‘Ho¡
().
	`g‘TÙ®Ms
());}});

363 if(
	`g‘Name
().
	`equ®s
("şoud"è&& 
tu¶e
.
	`g‘De¡ModuËName
()==
nuÎ
){

364 
	`£ndNow
(
	`g‘CÚŒŞËrId
(), 
FogEv’ts
.
TUPLE_FINISHED
, 
nuÎ
);

374 if(
­pToModuËsM­
.
	`cÚšsKey
(
tu¶e
.
	`g‘AµId
())){

375 if(
­pToModuËsM­
.
	`g‘
(
tu¶e
.
	`g‘AµId
()).
	`cÚšs
Ñu¶e.
	`g‘De¡ModuËName
())){

376 
vmId
 = -1;

377 
Vm
 
vm
 : 
	`g‘Ho¡
().
	`g‘VmLi¡
()){

379 if(((
AµModuË
)
vm
).
	`g‘Name
().
	`equ®s
(
tu¶e
.
	`g‘De¡ModuËName
()))

380 
vmId
 = 
vm
.
	`g‘Id
();

383 if(
vmId
 < 0

384 || (
tu¶e
.
	`g‘ModuËCİyM­
().
	`cÚšsKey
Ñu¶e.
	`g‘De¡ModuËName
()) &&

385 
tu¶e
.
	`g‘ModuËCİyM­
().
	`g‘
Ñu¶e.
	`g‘De¡ModuËName
())!=
vmId
 )){

388 
tu¶e
.
	`£tVmId
(
vmId
);

391 
	`upd©eTimšgsOnReût
(
tu¶e
);

393 
	`execu‹Tu¶e
(
ev
, 
tu¶e
.
	`g‘De¡ModuËName
());

394 }if(
tu¶e
.
	`g‘De¡ModuËName
()!=
nuÎ
){

395 if(
tu¶e
.
	`g‘DœeùiÚ
(è=ğ
Tu¶e
.
UP
)

396 
	`£ndUp
(
tu¶e
);

397 if(
tu¶e
.
	`g‘DœeùiÚ
(è=ğ
Tu¶e
.
DOWN
){

398 
chdId
 : 
	`g‘Chd»nIds
())

399 
	`£ndDown
(
tu¶e
, 
chdId
);

402 
	`£ndUp
(
tu¶e
);

405 if(
tu¶e
.
	`g‘DœeùiÚ
(è=ğ
Tu¶e
.
UP
)

406 
	`£ndUp
(
tu¶e
);

407 if(
tu¶e
.
	`g‘DœeùiÚ
(è=ğ
Tu¶e
.
DOWN
){

408 
chdId
 : 
	`g‘Chd»nIds
())

409 
	`£ndDown
(
tu¶e
, 
chdId
);

413 
	}
}

414 
´iv©e
 
	$£ndP”iodicTu¶e
(
SimEv’t
 
ev
) {

415 
AµEdge
 
edge
 = (AµEdge)
ev
.
	`g‘D©a
();

416 
SŒšg
 
¤cModuË
 = 
edge
.
	`g‘Sourû
();

417 
AµModuË
 
moduË
 = 
nuÎ
;

418 
Vm
 
vm
 : 
	`g‘Ho¡
().
	`g‘VmLi¡
()){

420 if(((
AµModuË
)
vm
).
	`g‘Name
().
	`equ®s
(
¤cModuË
)){

421 
moduË
=(
AµModuË
)
vm
;

426 if(
moduË
 =ğ
nuÎ
)

429 
š¡ªûCouÁ
 = 
	`g‘ModuËIn¡ªûCouÁ
().
	`g‘
(
moduË
.
	`g‘AµId
()).g‘(
¤cModuË
);

434 
i
 = 0;i<((
edge
.
	`g‘DœeùiÚ
()==
Tu¶e
.
UP
)?
š¡ªûCouÁ
:1);i++){

435 
Tu¶e
 
tu¶e
 = 
­¶iÿtiÚM­
.
	`g‘
(
moduË
.
	`g‘AµId
()).
	`ü—‹Tu¶e
(
edge
, 
	`g‘Id
());

436 
	`upd©eTimšgsOnS’dšg
(
tu¶e
);

437 
	`£ndToS–f
(
tu¶e
);

439 
	`£nd
(
	`g‘Id
(), 
edge
.
	`g‘P”iodic™y
(), 
FogEv’ts
.
SEND_PERIODIC_TUPLE
,ƒdge);

440 
	}
}

442 
´iv©e
 
	$upd©eModuËIn¡ªûCouÁ
(
SimEv’t
 
ev
) {

443 
ModuËLaunchCÚfig
 
cÚfig
 = (ModuËLaunchCÚfig)
ev
.
	`g‘D©a
();

444 
SŒšg
 
­pId
 = 
cÚfig
.
	`g‘ModuË
().
	`g‘AµId
();

445 if(!
moduËIn¡ªûCouÁ
.
	`cÚšsKey
(
­pId
))

446 
moduËIn¡ªûCouÁ
.
	`put
(
­pId
, 
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

447 
moduËIn¡ªûCouÁ
.
	`g‘
(
­pId
).
	`put
(
cÚfig
.
	`g‘ModuË
().
	`g‘Name
(), cÚfig.
	`g‘In¡ªûCouÁ
());

448 
Sy¡em
.
out
.
	`´šn
(
	`g‘Name
()+ " C»©šg "+
cÚfig
.
	`g‘In¡ªûCouÁ
()+" in¡ªû oàmoduË "+cÚfig.
	`g‘ModuË
().getName());

449 
	}
}

450 
´iv©e
 
	$mªageResourûs
(
SimEv’t
 
ev
) {

452 
	`£nd
(
	`g‘Id
(), 
CÚfig
.
RESOURCE_MGMT_INTERVAL
, 
FogEv’ts
.
RESOURCE_MGMT
);

453 
	}
}

455 
public
 
	$g‘MaxS”viûV®ue
() {

456  
maxS”viûV®ue
;

457 
	}
}

459 
public
 
	$£tMaxS”viûV®ue
(
maxS”viûV®ue
) {

460 
this
.
maxS”viûV®ue
 = maxServiceValue;

461 
	}
}

463 
public
 
	$g‘DœeùiÚ
() {

464  
dœeùiÚ
;

465 
	}
}

467 
public
 
	$£tDœeùiÚ
(
dœeùiÚ
) {

468 
this
.
dœeùiÚ
 = direction;

469 
	}
}

471 
public
 
	$g‘S³ed
() {

472  
¥“d
;

473 
	}
}

475 
public
 
	$£tS³ed
(
¥“d
) {

476 
this
.
¥“d
 = speed;

477 
	}
}

489 
public
 
FogDeviû
 
	$g‘SourûS”v”CloudËt
() {

490  
sourûS”v”CloudËt
;

491 
	}
}

493 
public
 
	$£tSourûS”v”CloudËt
(
FogDeviû
 
sourûS”v”CloudËt
) {

494 
this
.
sourûS”v”CloudËt
 = sourceServerCloudlet;

495 
	}
}

497 
public
 
FogDeviû
 
	$g‘De¡š©iÚS”v”CloudËt
() {

498  
de¡š©iÚS”v”CloudËt
;

499 
	}
}

501 
public
 
	$£tDe¡š©iÚS”v”CloudËt
(
FogDeviû
 
de¡š©iÚS”v”CloudËt
) {

502 
this
.
de¡š©iÚS”v”CloudËt
 = destinationServerCloudlet;

503 
	}
}

505 
public
 
ApDeviû
 
	$g‘SourûAp
() {

506  
sourûAp
;

507 
	}
}

509 
public
 
	$£tSourûAp
(
ApDeviû
 
sourûAp
) {

510 
this
.
sourûAp
 = sourceAp;

511 
	}
}

513 
public
 
ApDeviû
 
	$g‘De¡š©iÚAp
() {

514  
de¡š©iÚAp
;

515 
	}
}

517 
public
 
	$£tDe¡š©iÚAp
(
ApDeviû
 
de¡š©iÚAp
) {

518 
this
.
de¡š©iÚAp
 = destinationAp;

519 
	}
}

521 
public
 
Vm
 
	$g‘VmMobeDeviû
() {

522  
vmMobeDeviû
;

523 
	}
}

525 
public
 
	$£tVmMobeDeviû
(
Vm
 
vmMobeDeviû
) {

526 
this
.
vmMobeDeviû
 = vmMobileDevice;

527 
	}
}

529 
public
 
	$g‘VmSize
() {

530  
vmSize
;

531 
	}
}

533 
public
 
	$£tVmSize
(
vmSize
) {

534 
this
.
vmSize
 = vmSize;

535 
	}
}

537 
public
 
	$g‘MigTime
() {

538  
migTime
;

539 
	}
}

541 
public
 
	$£tMigTime
(
d
) {

542 
this
.
migTime
 = 
d
;

543 
	}
}

545 
public
 
	gS‘
<
	gMobeS’sÜ
> 
	$g‘S’sÜs
() {

546  
£nsÜs
;

547 
	}
}

549 
public
 
£tS’sÜs
(
S‘
<
MobeS’sÜ
> 
£nsÜs
) {

550 
	gthis
.
	g£nsÜs
 = 
£nsÜs
;

553 
public
 
	gS‘
<
	gMobeAùu©Ü
> 
	$g‘Aùu©Üs
() {

554  
aùu©Üs
;

555 
	}
}

557 
public
 
£tAùu©Üs
(
S‘
<
MobeAùu©Ü
> 
aùu©Üs
) {

558 
	gthis
.
	gaùu©Üs
 = 
aùu©Üs
;

561 
public
 
boŞ—n
 
	$isMigStus
() {

562  
migStus
;

563 
	}
}

565 
public
 
	$£tMigStus
(
boŞ—n
 
migStus
) {

566 
this
.
migStus
 = migStatus;

567 
	}
}

569 
public
 
	$g‘TempSimuÏtiÚ
() {

570  
‹mpSimuÏtiÚ
;

571 
	}
}

573 
public
 
	$£tTempSimuÏtiÚ
(
‹mpSimuÏtiÚ
) {

574 
this
.
‹mpSimuÏtiÚ
 =empSimulation;

575 
	}
}

577 
public
 
boŞ—n
 
	$isHªdoffStus
() {

578  
hªdoffStus
;

579 
	}
}

581 
public
 
	$£tHªdoffStus
(
boŞ—n
 
hªdoffStus
) {

582 
this
.
hªdoffStus
 = handoffStatus;

583 
	}
}

585 
public
 
	$g‘TimeFšishHªdoff
() {

586  
timeFšishHªdoff
;

587 
	}
}

589 
public
 
	$£tTimeFšishHªdoff
(
timeFšishHªdoff
) {

590 
this
.
timeFšishHªdoff
 =imeFinishHandoff;

591 
	}
}

593 
public
 
	$g‘TimeFšishD–iv”yVm
() {

594  
timeFšishD–iv”yVm
;

595 
	}
}

597 
public
 
	$£tTimeFšishD–iv”yVm
(
timeFšishD–iv”yVm
) {

598 
this
.
timeFšishD–iv”yVm
 =imeFinishDeliveryVm;

599 
	}
}

601 
public
 
FogDeviû
 
	$g‘VmLoÿlS”v”CloudËt
() {

602  
vmLoÿlS”v”CloudËt
;

603 
	}
}

605 
public
 
	$£tVmLoÿlS”v”CloudËt
(
FogDeviû
 
vmLoÿlS”v”CloudËt
) {

606 
this
.
vmLoÿlS”v”CloudËt
 = vmLocalServerCloudlet;

607 
	}
}

609 
public
 
boŞ—n
 
	$isStus
() {

610  
¡©us
;

611 
	}
}

613 
public
 
	$£tStus
(
boŞ—n
 
¡©us
) {

614 
this
.
¡©us
 = status;

615 
	}
}

617 
public
 
boŞ—n
 
	$isLockedToHªdoff
() {

618  
lockedToHªdoff
;

619 
	}
}

621 
public
 
	$£tLockedToHªdoff
(
boŞ—n
 
LockedToHªdoff
) {

622 
this
.
lockedToHªdoff
 = 
LockedToHªdoff
;

623 
	}
}

625 
public
 
boŞ—n
 
	$isLockedToMig¿tiÚ
() {

626  
lockedToMig¿tiÚ
;

627 
	}
}

629 
public
 
	$£tLockedToMig¿tiÚ
(
boŞ—n
 
lockedToMig¿tiÚ
) {

630 
this
.
lockedToMig¿tiÚ
 =†ockedToMigration;

631 
	}
}

633 
public
 
boŞ—n
 
	$isAbÜtMig¿tiÚ
() {

634  
abÜtMig¿tiÚ
;

635 
	}
}

637 
public
 
	$£tAbÜtMig¿tiÚ
(
boŞ—n
 
abÜtMig¿tiÚ
) {

638 
this
.
abÜtMig¿tiÚ
 =‡bortMigration;

639 
	}
}

641 
public
 
VmMig¿tiÚTechnique
 
	$g‘Mig¿tiÚTechnique
() {

642  
mig¿tiÚTechnique
;

643 
	}
}

645 
public
 
	$£tMig¿tiÚTechnique
(
VmMig¿tiÚTechnique
 
mig¿tiÚTechnique
) {

646 
this
.
mig¿tiÚTechnique
 = migrationTechnique;

647 
	}
}

649 
public
 
boŞ—n
 
	$isMigPošt
() {

650  
migPošt
;

651 
	}
}

653 
public
 
	$£tMigPošt
(
boŞ—n
 
migPošt
) {

654 
this
.
migPošt
 = migPoint;

655 
	}
}

657 
public
 
boŞ—n
 
	$isMigZÚe
() {

658  
migZÚe
;

659 
	}
}

661 
public
 
	$£tMigZÚe
(
boŞ—n
 
migZÚe
) {

662 
this
.
migZÚe
 = migZone;

663 
	}
}

665 
public
 
boŞ—n
 
	$isPo¡CİyStus
() {

666  
po¡CİyStus
;

667 
	}
}

669 
public
 
	$£tPo¡CİyStus
(
boŞ—n
 
po¡CİyStus
) {

670 
this
.
po¡CİyStus
 =…ostCopyStatus;

671 
	}
}

673 
public
 
	$g‘TimeS¹LiveMig¿tiÚ
() {

674  
timeS¹LiveMig¿tiÚ
;

675 
	}
}

677 
public
 
	$£tTimeS¹LiveMig¿tiÚ
(
timeS¹LiveMig¿tiÚ
) {

678 
this
.
timeS¹LiveMig¿tiÚ
 =imeStartLiveMigration;

679 
	}
}

	@src/org/fog/entities/MobileSensor.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g’t™›s
;

3 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gGeoLoÿtiÚ
;

4 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gDi¡ributiÚ
;

6 
public
 cÏs 
	cMobeS’sÜ
 
ex‹nds
 
	mS’sÜ
{

8 
public
 
	$MobeS’sÜ
(
SŒšg
 
Çme
, 
u£rId
, SŒšg 
­pId
,

9 
g©ewayDeviûId
, 
Ï‹ncy
, 
GeoLoÿtiÚ
 
geoLoÿtiÚ
,

10 
Di¡ributiÚ
 
Œªsm™Di¡ributiÚ
, 
ıuL’gth
, 
nwL’gth
,

11 
SŒšg
 
tu¶eTy³
, SŒšg 
de¡ModuËName
) {

12 
	`su³r
(
Çme
, 
u£rId
, 
­pId
, 
g©ewayDeviûId
, 
Ï‹ncy
, 
geoLoÿtiÚ
,

13 
Œªsm™Di¡ributiÚ
, 
ıuL’gth
, 
nwL’gth
, 
tu¶eTy³
, 
de¡ModuËName
);

18 
public
 
	$MobeS’sÜ
(
SŒšg
 
Çme
, 
u£rId
, SŒšg 
­pId
,

19 
g©ewayDeviûId
, 
Ï‹ncy
, 
GeoLoÿtiÚ
 
geoLoÿtiÚ
,

20 
Di¡ributiÚ
 
Œªsm™Di¡ributiÚ
, 
SŒšg
 
tu¶eTy³
) {

21 
	`su³r
(
Çme
, 
u£rId
, 
­pId
, 
g©ewayDeviûId
, 
Ï‹ncy
, 
geoLoÿtiÚ
,

22 
Œªsm™Di¡ributiÚ
, 
tu¶eTy³
);

24 
	}
}

26 
public
 
	$MobeS’sÜ
(
SŒšg
 
Çme
, SŒšg 
tu¶eTy³
, 
u£rId
,

27 
SŒšg
 
­pId
, 
Di¡ributiÚ
 
Œªsm™Di¡ributiÚ
) {

28 
	`su³r
(
Çme
, 
tu¶eTy³
, 
u£rId
, 
­pId
, 
Œªsm™Di¡ributiÚ
);

30 
	}
}

	@src/org/fog/entities/PhysicalTopology.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g’t™›s
;

3 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
public
 cÏs 
	cPhysiÿlTİŞogy
 {

7 
´iv©e
 
	mLi¡
<
	mFogDeviû
> 
	mfogDeviûs
;

8 
´iv©e
 
	mLi¡
<
	mS’sÜ
> 
	m£nsÜs
;

9 
´iv©e
 
	mLi¡
<
	mAùu©Ü
> 
	maùu©Üs
;

10 
public
 
	mLi¡
<
	mFogDeviû
> 
	$g‘FogDeviûs
() {

11  
fogDeviûs
;

13 
public
 
	`£tFogDeviûs
(
Li¡
<
FogDeviû
> 
fogDeviûs
) {

14 
this
.
fogDeviûs
 = fogDevices;

15 
	}
}

16 
public
 
	gLi¡
<
	gS’sÜ
> 
	$g‘S’sÜs
() {

17  
£nsÜs
;

18 
	}
}

19 
public
 
£tS’sÜs
(
Li¡
<
S’sÜ
> 
£nsÜs
) {

20 
	gthis
.
	g£nsÜs
 = 
£nsÜs
;

22 
public
 
	gLi¡
<
	gAùu©Ü
> 
	$g‘Aùu©Üs
() {

23  
aùu©Üs
;

24 
	}
}

25 
public
 
£tAùu©Üs
(
Li¡
<
Aùu©Ü
> 
aùu©Üs
) {

26 
	gthis
.
	gaùu©Üs
 = 
aùu©Üs
;

	@src/org/fog/entities/Sensor.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g’t™›s
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

5 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–FuÎ
;

6 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

7 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEÁ™y
;

8 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

9 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµEdge
;

10 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµLoİ
;

11 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµliÿtiÚ
;

12 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogEv’ts
;

13 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogUts
;

14 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gGeoLoÿtiÚ
;

15 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gLogg”
;

16 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gTimeK“³r
;

17 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gDi¡ributiÚ
;

19 
public
 cÏs 
	cS’sÜ
 
ex‹nds
 
	mSimEÁ™y
{

21 
´iv©e
 
	mg©ewayDeviûId
;

22 
´iv©e
 
GeoLoÿtiÚ
 
	mgeoLoÿtiÚ
;

23 
´iv©e
 
	mouutSize
;

24 
´iv©e
 
SŒšg
 
	m­pId
;

25 
´iv©e
 
	mu£rId
;

26 
´iv©e
 
SŒšg
 
	mtu¶eTy³
;

27 
´iv©e
 
SŒšg
 
	m£nsÜName
;

28 
´iv©e
 
SŒšg
 
	mde¡ModuËName
;

29 
´iv©e
 
Di¡ributiÚ
 
	mŒªsm™Di¡ributiÚ
;

30 
´iv©e
 
	mcÚŒŞËrId
;

31 
´iv©e
 
AµliÿtiÚ
 
	m­p
;

32 
´iv©e
 
	mÏ‹ncy
;

34 
public
 
	$S’sÜ
(
SŒšg
 
Çme
, 
u£rId
, SŒšg 
­pId
, 
g©ewayDeviûId
, 
Ï‹ncy
, 
GeoLoÿtiÚ
 
geoLoÿtiÚ
,

35 
Di¡ributiÚ
 
Œªsm™Di¡ributiÚ
, 
ıuL’gth
, 
nwL’gth
, 
SŒšg
 
tu¶eTy³
, SŒšg 
de¡ModuËName
) {

36 
	`su³r
(
Çme
);

37 
this
.
	`£tAµId
(
­pId
);

38 
this
.
g©ewayDeviûId
 = gatewayDeviceId;

39 
this
.
geoLoÿtiÚ
 = geoLocation;

40 
this
.
ouutSize
 = 3;

41 
this
.
	`£tT¿nsm™Di¡ributiÚ
(
Œªsm™Di¡ributiÚ
);

42 
	`£tU£rId
(
u£rId
);

43 
	`£tDe¡ModuËName
(
de¡ModuËName
);

44 
	`£tTu¶eTy³
(
tu¶eTy³
);

45 
	`£tS’sÜName
(
£nsÜName
);

46 
	`£tL©’cy
(
Ï‹ncy
);

50 
public
 
	$S’sÜ
(
SŒšg
 
Çme
, 
u£rId
, SŒšg 
­pId
, 
g©ewayDeviûId
, 
Ï‹ncy
, 
GeoLoÿtiÚ
 
geoLoÿtiÚ
,

51 
Di¡ributiÚ
 
Œªsm™Di¡ributiÚ
, 
SŒšg
 
tu¶eTy³
) {

52 
	`su³r
(
Çme
);

53 
this
.
	`£tAµId
(
­pId
);

54 
this
.
g©ewayDeviûId
 = gatewayDeviceId;

55 
this
.
geoLoÿtiÚ
 = geoLocation;

56 
this
.
ouutSize
 = 3;

57 
this
.
	`£tT¿nsm™Di¡ributiÚ
(
Œªsm™Di¡ributiÚ
);

58 
	`£tU£rId
(
u£rId
);

59 
	`£tTu¶eTy³
(
tu¶eTy³
);

60 
	`£tS’sÜName
(
£nsÜName
);

61 
	`£tL©’cy
(
Ï‹ncy
);

62 
	}
}

73 
public
 
	$S’sÜ
(
SŒšg
 
Çme
, SŒšg 
tu¶eTy³
, 
u£rId
, SŒšg 
­pId
, 
Di¡ributiÚ
 
Œªsm™Di¡ributiÚ
) {

74 
	`su³r
(
Çme
);

75 
this
.
	`£tAµId
(
­pId
);

76 
this
.
	`£tT¿nsm™Di¡ributiÚ
(
Œªsm™Di¡ributiÚ
);

77 
	`£tTu¶eTy³
(
tu¶eTy³
);

78 
	`£tS’sÜName
(
tu¶eTy³
);

79 
	`£tU£rId
(
u£rId
);

80 
	}
}

82 
public
 
	$Œªsm™
(){

83 
AµEdge
 
_edge
 = 
nuÎ
;

84 
AµEdge
 
edge
 : 
	`g‘Aµ
().
	`g‘Edges
()){

85 if(
edge
.
	`g‘Sourû
().
	`equ®s
(
	`g‘Tu¶eTy³
())){

86 
_edge
 = 
edge
;

91 
ıuL’gth
 = (è
_edge
.
	`g‘Tu¶eCpuL’gth
();

92 
nwL’gth
 = (è
_edge
.
	`g‘Tu¶eNwL’gth
();

94 
Tu¶e
 
tu¶e
 = 
Ãw
 
	`Tu¶e
(
	`g‘AµId
(), 
FogUts
.
	`g’”©eTu¶eId
(), Tu¶e.
UP
, 
ıuL’gth
, 1, 
nwL’gth
, 
ouutSize
,

95 
Ãw
 
	`Utiz©iÚMod–FuÎ
(),‚ew UtilizationModelFull(),‚ew UtilizationModelFull());

96 
tu¶e
.
	`£tU£rId
(
	`g‘U£rId
());

97 
tu¶e
.
	`£tTu¶eTy³
(
	`g‘Tu¶eTy³
());

99 
tu¶e
.
	`£tDe¡ModuËName
(
_edge
.
	`g‘De¡š©iÚ
());

100 
tu¶e
.
	`£tSrcModuËName
(
	`g‘S’sÜName
());

101 
Logg”
.
	`debug
(
	`g‘Name
(), "S’dšgu¶w™hu¶eId = "+
tu¶e
.
	`g‘CloudËtId
()+"Ø"+
CloudSim
.
	`g‘EÁ™yName
(
g©ewayDeviûId
));

104 
aùu®Tu¶eId
 = 
	`upd©eTimšgs
(
	`g‘S’sÜName
(), 
tu¶e
.
	`g‘De¡ModuËName
());

105 
tu¶e
.
	`£tAùu®Tu¶eId
(
aùu®Tu¶eId
);

111 
	`£nd
(
g©ewayDeviûId
, 
	`g‘L©’cy
(), 
FogEv’ts
.
TUPLE_ARRIVAL
,
tu¶e
);

112 
	}
}

114 
´iv©e
 
	$upd©eTimšgs
(
SŒšg
 
¤c
, SŒšg 
de¡
){

115 
AµliÿtiÚ
 
­¶iÿtiÚ
 = 
	`g‘Aµ
();

116 
AµLoİ
 
loİ
 : 
­¶iÿtiÚ
.
	`g‘Loİs
()){

117 if(
loİ
.
	`hasEdge
(
¤c
, 
de¡
)){

119 
tu¶eId
 = 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘UniqueId
();

120 if(!
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToTu¶eIds
().
	`cÚšsKey
(
loİ
.
	`g‘LoİId
()))

121 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToTu¶eIds
().
	`put
(
loİ
.
	`g‘LoİId
(), 
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

122 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToTu¶eIds
().
	`g‘
(
loİ
.
	`g‘LoİId
()).
	`add
(
tu¶eId
);

123 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘Em™Times
().
	`put
(
tu¶eId
, 
CloudSim
.
	`şock
());

124  
tu¶eId
;

128 
	}
}

130 @
Ov”ride


131 
public
 
	$¡¬tEÁ™y
() {

132 
	`£nd
(
g©ewayDeviûId
, 
CloudSim
.
	`g‘MšTimeB‘w“nEv’ts
(), 
FogEv’ts
.
SENSOR_JOINED
, 
geoLoÿtiÚ
);

133 
	`£nd
(
	`g‘Id
(), 
	`g‘T¿nsm™Di¡ributiÚ
().
	`g‘NextV®ue
(), 
FogEv’ts
.
EMIT_TUPLE
);

134 
	}
}

136 @
Ov”ride


137 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

138 
ev
.
	`g‘Tag
()){

139 
FogEv’ts
.
TUPLE_ACK
:

142 
FogEv’ts
.
EMIT_TUPLE
:

143 
	`Œªsm™
();

144 
	`£nd
(
	`g‘Id
(), 
	`g‘T¿nsm™Di¡ributiÚ
().
	`g‘NextV®ue
(), 
FogEv’ts
.
EMIT_TUPLE
);

148 
	}
}

150 @
Ov”ride


151 
public
 
	$shutdownEÁ™y
() {

153 
	}
}

155 
public
 
	$g‘G©ewayDeviûId
() {

156  
g©ewayDeviûId
;

157 
	}
}

159 
public
 
	$£tG©ewayDeviûId
(
g©ewayDeviûId
) {

160 
this
.
g©ewayDeviûId
 = gatewayDeviceId;

161 
	}
}

163 
public
 
GeoLoÿtiÚ
 
	$g‘GeoLoÿtiÚ
() {

164  
geoLoÿtiÚ
;

165 
	}
}

167 
public
 
	$£tGeoLoÿtiÚ
(
GeoLoÿtiÚ
 
geoLoÿtiÚ
) {

168 
this
.
geoLoÿtiÚ
 = geoLocation;

169 
	}
}

171 
public
 
	$g‘U£rId
() {

172  
u£rId
;

173 
	}
}

175 
public
 
	$£tU£rId
(
u£rId
) {

176 
this
.
u£rId
 = userId;

177 
	}
}

179 
public
 
SŒšg
 
	$g‘Tu¶eTy³
() {

180  
tu¶eTy³
;

181 
	}
}

183 
public
 
	$£tTu¶eTy³
(
SŒšg
 
tu¶eTy³
) {

184 
this
.
tu¶eTy³
 =upleType;

185 
	}
}

187 
public
 
SŒšg
 
	$g‘S’sÜName
() {

188  
£nsÜName
;

189 
	}
}

191 
public
 
	$£tS’sÜName
(
SŒšg
 
£nsÜName
) {

192 
this
.
£nsÜName
 = sensorName;

193 
	}
}

195 
public
 
SŒšg
 
	$g‘AµId
() {

196  
­pId
;

197 
	}
}

199 
public
 
	$£tAµId
(
SŒšg
 
­pId
) {

200 
this
.
­pId
 =‡ppId;

201 
	}
}

203 
public
 
SŒšg
 
	$g‘De¡ModuËName
() {

204  
de¡ModuËName
;

205 
	}
}

207 
public
 
	$£tDe¡ModuËName
(
SŒšg
 
de¡ModuËName
) {

208 
this
.
de¡ModuËName
 = destModuleName;

209 
	}
}

211 
public
 
Di¡ributiÚ
 
	$g‘T¿nsm™Di¡ributiÚ
() {

212  
Œªsm™Di¡ributiÚ
;

213 
	}
}

215 
public
 
	$£tT¿nsm™Di¡ributiÚ
(
Di¡ributiÚ
 
Œªsm™Di¡ributiÚ
) {

216 
this
.
Œªsm™Di¡ributiÚ
 =ransmitDistribution;

217 
	}
}

219 
public
 
	$g‘CÚŒŞËrId
() {

220  
cÚŒŞËrId
;

221 
	}
}

223 
public
 
	$£tCÚŒŞËrId
(
cÚŒŞËrId
) {

224 
this
.
cÚŒŞËrId
 = controllerId;

225 
	}
}

227 
public
 
AµliÿtiÚ
 
	$g‘Aµ
() {

228  
­p
;

229 
	}
}

231 
public
 
	$£tAµ
(
AµliÿtiÚ
 
­p
) {

232 
this
.
­p
 =‡pp;

233 
	}
}

235 
public
 
DoubË
 
	$g‘L©’cy
() {

236  
Ï‹ncy
;

237 
	}
}

239 
public
 
	$£tL©’cy
(
DoubË
 
Ï‹ncy
) {

240 
this
.
Ï‹ncy
 =†atency;

241 
	}
}

	@src/org/fog/entities/Tuple.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g’t™›s
;

3 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

4 
impÜt
 
	gjava
.
	gut
.
	gM­
;

6 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

7 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–
;

8 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gMySti¡ics
;

10 
public
 cÏs 
	cTu¶e
 
ex‹nds
 
	mCloudËt
{

12 
public
 
fš®
 
	mUP
 = 1;

13 
public
 
fš®
 
	mDOWN
 = 2;

14 
public
 
fš®
 
	mACTUATOR
 = 3;

16 
´iv©e
 
SŒšg
 
	m­pId
;

18 
´iv©e
 
SŒšg
 
	mtu¶eTy³
;

19 
´iv©e
 
SŒšg
 
	mde¡ModuËName
;

20 
´iv©e
 
SŒšg
 
	m¤cModuËName
;

21 
´iv©e
 
	maùu®Tu¶eId
;

22 
´iv©e
 
	mdœeùiÚ
;

23 
´iv©e
 
	maùu©ÜId
;

24 
´iv©e
 
	msourûDeviûId
;

25 
´iv©e
 
	mš™ŸlTime
;

26 
´iv©e
 
	mfš®Time
;

27 
´iv©e
 
	mmyTu¶eId
;

34 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	mmoduËCİyM­
;

36 
public
 
	$Tu¶e
(
SŒšg
 
­pId
, 
şoudËtId
, 
dœeùiÚ
, 
şoudËtL’gth
, 
³sNumb”
,

37 
şoudËtFeSize
, 
şoudËtOuutSize
,

38 
Utiz©iÚMod–
 
utiz©iÚMod–Cpu
,

39 
Utiz©iÚMod–
 
utiz©iÚMod–Ram
,

40 
Utiz©iÚMod–
 
utiz©iÚMod–Bw
) {

41 
	`su³r
(
şoudËtId
, 
şoudËtL’gth
, 
³sNumb”
, 
şoudËtFeSize
,

42 
şoudËtOuutSize
, 
utiz©iÚMod–Cpu
, 
utiz©iÚMod–Ram
,

43 
utiz©iÚMod–Bw
);

44 
	`£tAµId
(
­pId
);

45 
	`£tDœeùiÚ
(
dœeùiÚ
);

46 
	`£tSourûDeviûId
(-1);

47 
	`£tModuËCİyM­
(
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

48 
	`£tIn™ŸlTime
(-1);

49 
	`£tFš®Time
(-1);

50 
	`£tMyTu¶eId
(
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘MyCouÁTu¶e
());

53 
public
 
	$g‘Aùu®Tu¶eId
() {

54  
aùu®Tu¶eId
;

55 
	}
}

57 
public
 
	$£tAùu®Tu¶eId
(
aùu®Tu¶eId
) {

58 
this
.
aùu®Tu¶eId
 =‡ctualTupleId;

59 
	}
}

61 
public
 
SŒšg
 
	$g‘AµId
() {

62  
­pId
;

63 
	}
}

65 
public
 
	$£tAµId
(
SŒšg
 
­pId
) {

66 
this
.
­pId
 =‡ppId;

67 
	}
}

69 
public
 
SŒšg
 
	$g‘Tu¶eTy³
() {

70  
tu¶eTy³
;

71 
	}
}

73 
public
 
	$£tTu¶eTy³
(
SŒšg
 
tu¶eTy³
) {

74 
this
.
tu¶eTy³
 =upleType;

75 
	}
}

77 
public
 
SŒšg
 
	$g‘De¡ModuËName
() {

78  
de¡ModuËName
;

79 
	}
}

81 
public
 
	$£tDe¡ModuËName
(
SŒšg
 
de¡ModuËName
) {

82 
this
.
de¡ModuËName
 = destModuleName;

83 
	}
}

85 
public
 
SŒšg
 
	$g‘SrcModuËName
() {

86  
¤cModuËName
;

87 
	}
}

89 
public
 
	$£tSrcModuËName
(
SŒšg
 
¤cModuËName
) {

90 
this
.
¤cModuËName
 = srcModuleName;

91 
	}
}

93 
public
 
	$g‘DœeùiÚ
() {

94  
dœeùiÚ
;

95 
	}
}

97 
public
 
	$£tDœeùiÚ
(
dœeùiÚ
) {

98 
this
.
dœeùiÚ
 = direction;

99 
	}
}

101 
public
 
	$g‘Aùu©ÜId
() {

102  
aùu©ÜId
;

103 
	}
}

105 
public
 
	$£tAùu©ÜId
(
aùu©ÜId
) {

106 
this
.
aùu©ÜId
 =‡ctuatorId;

107 
	}
}

109 
public
 
	$g‘SourûDeviûId
() {

110  
sourûDeviûId
;

111 
	}
}

113 
public
 
	$£tSourûDeviûId
(
sourûDeviûId
) {

114 
this
.
sourûDeviûId
 = sourceDeviceId;

115 
	}
}

117 
public
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘ModuËCİyM­
() {

118  
moduËCİyM­
;

119 
	}
}

121 
public
 
£tModuËCİyM­
(
M­
<
SŒšg
, 
IÁeg”
> 
moduËCİyM­
) {

122 
	gthis
.
	gmoduËCİyM­
 = 
moduËCİyM­
;

125 
public
 
	$g‘In™ŸlTime
() {

126  
š™ŸlTime
;

127 
	}
}

129 
public
 
	$£tIn™ŸlTime
(
š™ŸlTime
) {

130 
this
.
š™ŸlTime
 = initialTime;

131 
	}
}

133 
public
 
	$g‘Fš®Time
() {

134  
fš®Time
;

135 
	}
}

137 
public
 
	$£tFš®Time
(
fš®Time
) {

138 
this
.
fš®Time
 = finalTime;

139 
	}
}

141 
public
 
	$g‘MyTu¶eId
() {

142  
myTu¶eId
;

143 
	}
}

145 
public
 
	$£tMyTu¶eId
(
myTu¶eId
) {

146 
this
.
myTu¶eId
 = myTupleId;

147 
	}
}

	@src/org/fog/examples/CleanFromJson.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gexam¶es
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

5 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

7 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

8 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

9 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµEdge
;

10 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµLoİ
;

11 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµliÿtiÚ
;

12 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	g£Ëùiv™y
.
	gF¿ùiÚ®S–eùiv™y
;

13 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogBrok”
;

14 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gPhysiÿlTİŞogy
;

15 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gTu¶e
;

16 
impÜt
 
	gÜg
.
	gfog
.
	g¶aûm’t
.
	gCÚŒŞËr
;

17 
impÜt
 
	gÜg
.
	gfog
.
	g¶aûm’t
.
	gModuËM­pšg
;

18 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gJsÚToTİŞogy
;

26 
public
 cÏs 
	cCËªFromJsÚ
 {

28 
public
 
	$maš
(
SŒšg
[] 
¬gs
) {

30 
Log
.
	`´štLše
("Starting VRGame...");

32 
Œy
 {

33 
Log
.
	`di§bË
();

34 
num_u£r
 = 1;

35 
C®’d¬
 
ÿËnd¬
 = C®’d¬.
	`g‘In¡ªû
();

36 
boŞ—n
 
Œaû_æag
 = 
çl£
;

38 
CloudSim
.
	`š™
(
num_u£r
, 
ÿËnd¬
, 
Œaû_æag
);

40 
SŒšg
 
­pId
 = "vr_game";

42 
FogBrok”
 
brok”
 = 
Ãw
 
	`FogBrok”
("broker");

44 
AµliÿtiÚ
 
­¶iÿtiÚ
 = 
	`ü—‹AµliÿtiÚ
(
­pId
, 
brok”
.
	`g‘Id
());

45 
­¶iÿtiÚ
.
	`£tU£rId
(
brok”
.
	`g‘Id
());

50 
PhysiÿlTİŞogy
 
physiÿlTİŞogy
 = 
JsÚToTİŞogy
.
	`g‘PhysiÿlTİŞogy
(
brok”
.
	`g‘Id
(), 
­pId
, "topologies/routerTopology");

52 
ModuËM­pšg
 
moduËM­pšg
 = ModuËM­pšg.
	`ü—‹ModuËM­pšg
();

54 
CÚŒŞËr
 
cÚŒŞËr
 = 
Ãw
 
	`CÚŒŞËr
("ma¡”-cÚŒŞËr", 
physiÿlTİŞogy
.
	`g‘FogDeviûs
(),…hysiÿlTİŞogy.
	`g‘S’sÜs
(),

55 
physiÿlTİŞogy
.
	`g‘Aùu©Üs
(), 
moduËM­pšg
);

58 
cÚŒŞËr
.
	`subm™AµliÿtiÚ
(
­¶iÿtiÚ
, 0);

60 
CloudSim
.
	`¡¬tSimuÏtiÚ
();

62 
CloudSim
.
	`¡İSimuÏtiÚ
();

64 
Log
.
	`´štLše
("VRGame finished!");

65 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

66 
e
.
	`´štSckT¿û
();

67 
Log
.
	`´štLše
("Unwantedƒrrors happen");

72 @
	`Suµ»ssW¬nšgs
({ "£rŸl" 
	}
})

73 
´iv©e
 
AµliÿtiÚ
 
	$ü—‹AµliÿtiÚ
(
SŒšg
 
­pId
, 
u£rId
){

75 
AµliÿtiÚ
 
­¶iÿtiÚ
 = AµliÿtiÚ.
	`ü—‹AµliÿtiÚ
(
­pId
, 
u£rId
);

76 
­¶iÿtiÚ
.
	`addAµModuË
("client", 10);

77 
­¶iÿtiÚ
.
	`addAµModuË
("classifier", 10);

78 
­¶iÿtiÚ
.
	`addAµModuË
("tuner", 10);

80 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("ş›Á", "TEMP", "_SENSOR", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

81 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("ş›Á", "CLASSIFICATION", "ACTUATOR", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

82 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("şassif›r", "_SENSOR", "CLASSIFICATION", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

83 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("şassif›r", "_SENSOR", "HISTORY", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(0.1));

84 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("tuÃr", "HISTORY", "TUNING_PARAMS", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

86 
­¶iÿtiÚ
.
	`addAµEdge
("TEMP", "ş›Á", 1000, 100, "TEMP", 
Tu¶e
.
UP
, 
AµEdge
.
SENSOR
);

87 
­¶iÿtiÚ
.
	`addAµEdge
("ş›Á", "şassif›r", 8000, 100, "_SENSOR", 
Tu¶e
.
UP
, 
AµEdge
.
MODULE
);

88 
­¶iÿtiÚ
.
	`addAµEdge
("şassif›r", "tuÃr", 1000000, 100, "HISTORY", 
Tu¶e
.
UP
, 
AµEdge
.
MODULE
);

89 
­¶iÿtiÚ
.
	`addAµEdge
("şassif›r", "ş›Á", 1000, 100, "CLASSIFICATION", 
Tu¶e
.
DOWN
, 
AµEdge
.
MODULE
);

90 
­¶iÿtiÚ
.
	`addAµEdge
("tuÃr", "şassif›r", 1000, 100, "TUNING_PARAMS", 
Tu¶e
.
DOWN
, 
AµEdge
.
MODULE
);

91 
­¶iÿtiÚ
.
	`addAµEdge
("ş›Á", "MOTOR", 1000, 100, "ACTUATOR", 
Tu¶e
.
DOWN
, 
AµEdge
.
ACTUATOR
);

94 
fš®
 
AµLoİ
 
loİ1
 = 
Ãw
 
	`AµLoİ
Òew 
A¼ayLi¡
<
SŒšg
>(){{
	`add
("TEMP");add("client");add("classifier");add("client");add("MOTOR");}});

95 
fš®
 
AµLoİ
 
loİ2
 = 
Ãw
 
	`AµLoİ
Òew 
A¼ayLi¡
<
SŒšg
>(){{
	`add
("classifier");add("tuner");add("classifier");}});

96 
Li¡
<
AµLoİ
> 
loİs
 = 
Ãw
 
A¼ayLi¡
<AµLoİ>(){{
	`add
(
loİ1
);add(
loİ2
);}};

98 
­¶iÿtiÚ
.
	`£tLoİs
(
loİs
);

101  
­¶iÿtiÚ
;

102 
	}
}

	@src/org/fog/examples/DCNSFog.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gexam¶es
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

5 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

6 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

8 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

9 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

10 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

12 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gPow”Ho¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”Sim¶e
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gBwProvisiÚ”Ov”bookšg
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gPeProvisiÚ”Ov”bookšg
;

17 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµEdge
;

18 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµLoİ
;

19 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµliÿtiÚ
;

20 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	g£Ëùiv™y
.
	gF¿ùiÚ®S–eùiv™y
;

21 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gAùu©Ü
;

22 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogBrok”
;

23 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

24 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviûCh¬aù”i¡ics
;

25 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gS’sÜ
;

26 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gTu¶e
;

27 
impÜt
 
	gÜg
.
	gfog
.
	g¶aûm’t
.
	gCÚŒŞËr
;

28 
impÜt
 
	gÜg
.
	gfog
.
	g¶aûm’t
.
	gModuËM­pšg
;

29 
impÜt
 
	gÜg
.
	gfog
.
	gpŞicy
.
	gAµModuËAÎoÿtiÚPŞicy
;

30 
impÜt
 
	gÜg
.
	gfog
.
	gscheduËr
.
	gSŒ—mO³¿tÜScheduËr
;

31 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogLš—rPow”Mod–
;

32 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogUts
;

33 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gTimeK“³r
;

34 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gD‘”mši¡icDi¡ributiÚ
;

41 
public
 cÏs 
	cDCNSFog
 {

42 
	mLi¡
<
	mFogDeviû
> 
	mfogDeviûs
 = 
Ãw
 
A¼ayLi¡
<
FogDeviû
>();

43 
	mLi¡
<
	mS’sÜ
> 
	m£nsÜs
 = 
Ãw
 
A¼ayLi¡
<
S’sÜ
>();

44 
	mLi¡
<
	mAùu©Ü
> 
	maùu©Üs
 = 
Ãw
 
A¼ayLi¡
<
Aùu©Ü
>();

45 
	mnumOfA»as
 = 1;

46 
	mnumOfCam”asP”A»a
 = 1;

48 
´iv©e
 
boŞ—n
 
	mCLOUD
 = 
çl£
;

50 
public
 
	$maš
(
SŒšg
[] 
¬gs
) {

52 
Log
.
	`´štLše
("Starting DCNS...");

54 
Œy
 {

55 
Log
.
	`di§bË
();

56 
num_u£r
 = 1;

57 
C®’d¬
 
ÿËnd¬
 = C®’d¬.
	`g‘In¡ªû
();

58 
boŞ—n
 
Œaû_æag
 = 
çl£
;

60 
CloudSim
.
	`š™
(
num_u£r
, 
ÿËnd¬
, 
Œaû_æag
);

62 
SŒšg
 
­pId
 = "dcns";

64 
FogBrok”
 
brok”
 = 
Ãw
 
	`FogBrok”
("broker");

66 
AµliÿtiÚ
 
­¶iÿtiÚ
 = 
	`ü—‹AµliÿtiÚ
(
­pId
, 
brok”
.
	`g‘Id
());

67 
­¶iÿtiÚ
.
	`£tU£rId
(
brok”
.
	`g‘Id
());

69 
	`ü—‹FogDeviûs
(
brok”
.
	`g‘Id
(), 
­pId
);

71 
CÚŒŞËr
 
cÚŒŞËr
 = 
nuÎ
;

73 
ModuËM­pšg
 
moduËM­pšg
 = ModuËM­pšg.
	`ü—‹ModuËM­pšg
();

74 
FogDeviû
 
deviû
 : 
fogDeviûs
){

75 if(
deviû
.
	`g‘Name
().
	`¡¬tsW™h
("m")){

76 
moduËM­pšg
.
	`addModuËToDeviû
("mÙiÚ_d‘eùÜ", 
deviû
.
	`g‘Name
(), 1);

79 
moduËM­pšg
.
	`addModuËToDeviû
("user_interface", "cloud", 1);

80 if(
CLOUD
){

82 
moduËM­pšg
.
	`addModuËToDeviû
("objeù_d‘eùÜ", "şoud", 
numOfA»as
*
numOfCam”asP”A»a
);

83 
moduËM­pšg
.
	`addModuËToDeviû
("objeù_Œack”", "şoud", 
numOfA»as
*
numOfCam”asP”A»a
);

86 
cÚŒŞËr
 = 
Ãw
 
	`CÚŒŞËr
("ma¡”-cÚŒŞËr", 
fogDeviûs
, 
£nsÜs
,

87 
aùu©Üs
, 
moduËM­pšg
);

89 
cÚŒŞËr
.
	`subm™AµliÿtiÚ
(
­¶iÿtiÚ
, 0);

91 
TimeK“³r
.
	`g‘In¡ªû
().
	`£tSimuÏtiÚS¹Time
(
C®’d¬
.g‘In¡ªû().
	`g‘TimeInMlis
());

93 
CloudSim
.
	`¡¬tSimuÏtiÚ
();

95 
CloudSim
.
	`¡İSimuÏtiÚ
();

97 
Log
.
	`´štLše
("VRGame finished!");

98 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

99 
e
.
	`´štSckT¿û
();

100 
Log
.
	`´štLše
("Unwantedƒrrors happen");

109 
´iv©e
 
	$ü—‹FogDeviûs
(
u£rId
, 
SŒšg
 
­pId
) {

110 
FogDeviû
 
şoud
 = 
	`ü—‹FogDeviû
("cloud", 44800, 40000, 100, 10000, 0, 0.01, 16*103, 16*83.25);

111 
şoud
.
	`£tP¬’tId
(-1);

112 
fogDeviûs
.
	`add
(
şoud
);

113 
FogDeviû
 
´oxy
 = 
	`ü—‹FogDeviû
("proxy-server", 2800, 4000, 10000, 10000, 1, 0.0, 107.339, 83.4333);

114 
´oxy
.
	`£tP¬’tId
(
şoud
.
	`g‘Id
());

115 
´oxy
.
	`£tU¶škL©’cy
(100);

116 
fogDeviûs
.
	`add
(
´oxy
);

117 
i
=0;i<
numOfA»as
;i++){

118 
	`addA»a
(
i
+"", 
u£rId
, 
­pId
, 
´oxy
.
	`g‘Id
());

120 
	}
}

122 
´iv©e
 
FogDeviû
 
	$addA»a
(
SŒšg
 
id
, 
u£rId
, SŒšg 
­pId
, 
·»ÁId
){

123 
FogDeviû
 
rou‹r
 = 
	`ü—‹FogDeviû
("d-"+
id
, 2800, 4000, 10000, 10000, 1, 0.0, 107.339, 83.4333);

124 
fogDeviûs
.
	`add
(
rou‹r
);

125 
rou‹r
.
	`£tU¶škL©’cy
(2);

126 
i
=0;i<
numOfCam”asP”A»a
;i++){

127 
SŒšg
 
mobeId
 = 
id
+"-"+
i
;

128 
FogDeviû
 
ÿm”a
 = 
	`addCam”a
(
mobeId
, 
u£rId
, 
­pId
, 
rou‹r
.
	`g‘Id
());

129 
ÿm”a
.
	`£tU¶škL©’cy
(2);

130 
fogDeviûs
.
	`add
(
ÿm”a
);

132 
rou‹r
.
	`£tP¬’tId
(
·»ÁId
);

133  
rou‹r
;

134 
	}
}

136 
´iv©e
 
FogDeviû
 
	$addCam”a
(
SŒšg
 
id
, 
u£rId
, SŒšg 
­pId
, 
·»ÁId
){

137 
FogDeviû
 
ÿm”a
 = 
	`ü—‹FogDeviû
("m-"+
id
, 500, 1000, 10000, 10000, 3, 0, 87.53, 82.44);

138 
ÿm”a
.
	`£tP¬’tId
(
·»ÁId
);

139 
S’sÜ
 
£nsÜ
 = 
Ãw
 
	`S’sÜ
("s-"+
id
, "CAMERA", 
u£rId
, 
­pId
,‚ew 
	`D‘”mši¡icDi¡ributiÚ
(5));

140 
£nsÜs
.
	`add
(
£nsÜ
);

141 
Aùu©Ü
 
±z
 = 
Ãw
 
	`Aùu©Ü
("±z-"+
id
, 
u£rId
, 
­pId
, "PTZ_CONTROL");

142 
aùu©Üs
.
	`add
(
±z
);

143 
£nsÜ
.
	`£tG©ewayDeviûId
(
ÿm”a
.
	`g‘Id
());

144 
£nsÜ
.
	`£tL©’cy
(1.0);

145 
±z
.
	`£tG©ewayDeviûId
(
ÿm”a
.
	`g‘Id
());

146 
±z
.
	`£tL©’cy
(1.0);

147  
ÿm”a
;

148 
	}
}

163 
´iv©e
 
FogDeviû
 
	$ü—‹FogDeviû
(
SŒšg
 
nodeName
, 
ms
,

164 
¿m
, 
upBw
, 
downBw
, 
Ëv–
, 
¿‹P”Ms
, 
busyPow”
, 
idËPow”
) {

166 
Li¡
<
Pe
> 
³Li¡
 = 
Ãw
 
A¼ayLi¡
<Pe>();

169 
³Li¡
.
	`add
(
Ãw
 
	`Pe
(0,‚ew 
	`PeProvisiÚ”Ov”bookšg
(
ms
)));

171 
ho¡Id
 = 
FogUts
.
	`g’”©eEÁ™yId
();

172 
¡Üage
 = 1000000;

173 
bw
 = 10000;

175 
Pow”Ho¡
 
ho¡
 = 
Ãw
 
	`Pow”Ho¡
(

176 
ho¡Id
,

177 
Ãw
 
	`RamProvisiÚ”Sim¶e
(
¿m
),

178 
Ãw
 
	`BwProvisiÚ”Ov”bookšg
(
bw
),

179 
¡Üage
,

180 
³Li¡
,

181 
Ãw
 
	`SŒ—mO³¿tÜScheduËr
(
³Li¡
),

182 
Ãw
 
	`FogLš—rPow”Mod–
(
busyPow”
, 
idËPow”
)

185 
Li¡
<
Ho¡
> 
ho¡Li¡
 = 
Ãw
 
A¼ayLi¡
<Host>();

186 
ho¡Li¡
.
	`add
(
ho¡
);

188 
SŒšg
 
¬ch
 = "x86";

189 
SŒšg
 
os
 = "Linux";

190 
SŒšg
 
vmm
 = "Xen";

191 
time_zÚe
 = 10.0;

192 
co¡
 = 3.0;

193 
co¡P”Mem
 = 0.05;

194 
co¡P”StÜage
 = 0.001;

196 
co¡P”Bw
 = 0.0;

197 
LškedLi¡
<
StÜage
> 
¡ÜageLi¡
 = 
Ãw
 LinkedList<Storage>();

200 
FogDeviûCh¬aù”i¡ics
 
ch¬aù”i¡ics
 = 
Ãw
 
	`FogDeviûCh¬aù”i¡ics
(

201 
¬ch
, 
os
, 
vmm
, 
ho¡
, 
time_zÚe
, 
co¡
, 
co¡P”Mem
,

202 
co¡P”StÜage
, 
co¡P”Bw
);

204 
FogDeviû
 
fogdeviû
 = 
nuÎ
;

205 
Œy
 {

206 
fogdeviû
 = 
Ãw
 
	`FogDeviû
(
nodeName
, 
ch¬aù”i¡ics
,

207 
Ãw
 
	`AµModuËAÎoÿtiÚPŞicy
(
ho¡Li¡
), 
¡ÜageLi¡
, 10, 
upBw
, 
downBw
, 0, 
¿‹P”Ms
);

208 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

209 
e
.
	`´štSckT¿û
();

212 
fogdeviû
.
	`£tLev–
(
Ëv–
);

213  
fogdeviû
;

214 
	}
}

222 @
Suµ»ssW¬nšgs
({"serial" })

223 
´iv©e
 
AµliÿtiÚ
 
	$ü—‹AµliÿtiÚ
(
SŒšg
 
­pId
, 
u£rId
){

225 
AµliÿtiÚ
 
­¶iÿtiÚ
 = AµliÿtiÚ.
	`ü—‹AµliÿtiÚ
(
­pId
, 
u£rId
);

229 
­¶iÿtiÚ
.
	`addAµModuË
("object_detector", 10);

230 
­¶iÿtiÚ
.
	`addAµModuË
("motion_detector", 10);

231 
­¶iÿtiÚ
.
	`addAµModuË
("object_tracker", 10);

232 
­¶iÿtiÚ
.
	`addAµModuË
("user_interface", 10);

237 
­¶iÿtiÚ
.
	`addAµEdge
("CAMERA", "mÙiÚ_d‘eùÜ", 1000, 20000, "CAMERA", 
Tu¶e
.
UP
, 
AµEdge
.
SENSOR
);

238 
­¶iÿtiÚ
.
	`addAµEdge
("mÙiÚ_d‘eùÜ", "objeù_d‘eùÜ", 2000, 2000, "MOTION_VIDEO_STREAM", 
Tu¶e
.
UP
, 
AµEdge
.
MODULE
);

239 
­¶iÿtiÚ
.
	`addAµEdge
("objeù_d‘eùÜ", "u£r_š‹rçû", 500, 2000, "DETECTED_OBJECT", 
Tu¶e
.
UP
, 
AµEdge
.
MODULE
);

240 
­¶iÿtiÚ
.
	`addAµEdge
("objeù_d‘eùÜ", "objeù_Œack”", 1000, 100, "OBJECT_LOCATION", 
Tu¶e
.
UP
, 
AµEdge
.
MODULE
);

241 
­¶iÿtiÚ
.
	`addAµEdge
("objeù_Œack”", "PTZ_CONTROL", 100, 28, 100, "PTZ_PARAMS", 
Tu¶e
.
DOWN
, 
AµEdge
.
ACTUATOR
);

246 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("mÙiÚ_d‘eùÜ", "CAMERA", "MOTION_VIDEO_STREAM", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

247 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("objeù_d‘eùÜ", "MOTION_VIDEO_STREAM", "OBJECT_LOCATION", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

248 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("objeù_d‘eùÜ", "MOTION_VIDEO_STREAM", "DETECTED_OBJECT", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(0.05));

254 
fš®
 
AµLoİ
 
loİ1
 = 
Ãw
 
	`AµLoİ
Òew 
A¼ayLi¡
<
SŒšg
>(){{
	`add
("motion_detector");add("object_detector");add("object_tracker");}});

255 
fš®
 
AµLoİ
 
loİ2
 = 
Ãw
 
	`AµLoİ
Òew 
A¼ayLi¡
<
SŒšg
>(){{
	`add
("object_tracker");add("PTZ_CONTROL");}});

256 
Li¡
<
AµLoİ
> 
loİs
 = 
Ãw
 
A¼ayLi¡
<AµLoİ>(){{
	`add
(
loİ1
);add(
loİ2
);}};

258 
­¶iÿtiÚ
.
	`£tLoİs
(
loİs
);

259  
­¶iÿtiÚ
;

260 
	}
}

	@src/org/fog/examples/VRGameFog.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gexam¶es
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

5 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

6 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

8 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

9 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

10 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

12 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gPow”Ho¡
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”Sim¶e
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gBwProvisiÚ”Ov”bookšg
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gPeProvisiÚ”Ov”bookšg
;

17 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµEdge
;

18 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµLoİ
;

19 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµliÿtiÚ
;

20 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	g£Ëùiv™y
.
	gF¿ùiÚ®S–eùiv™y
;

21 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gAùu©Ü
;

22 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogBrok”
;

23 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

24 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviûCh¬aù”i¡ics
;

25 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gS’sÜ
;

26 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gTu¶e
;

27 
impÜt
 
	gÜg
.
	gfog
.
	g¶aûm’t
.
	gCÚŒŞËr
;

28 
impÜt
 
	gÜg
.
	gfog
.
	g¶aûm’t
.
	gModuËM­pšg
;

29 
impÜt
 
	gÜg
.
	gfog
.
	gpŞicy
.
	gAµModuËAÎoÿtiÚPŞicy
;

30 
impÜt
 
	gÜg
.
	gfog
.
	gscheduËr
.
	gSŒ—mO³¿tÜScheduËr
;

31 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogLš—rPow”Mod–
;

32 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogUts
;

33 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gTimeK“³r
;

34 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gD‘”mši¡icDi¡ributiÚ
;

41 
public
 cÏs 
	cVRGameFog
 {

42 
	mLi¡
<
	mFogDeviû
> 
	mfogDeviûs
 = 
Ãw
 
A¼ayLi¡
<
FogDeviû
>();

43 
	mLi¡
<
	mS’sÜ
> 
	m£nsÜs
 = 
Ãw
 
A¼ayLi¡
<
S’sÜ
>();

44 
	mLi¡
<
	mAùu©Ü
> 
	maùu©Üs
 = 
Ãw
 
A¼ayLi¡
<
Aùu©Ü
>();

46 
boŞ—n
 
	mCLOUD
 = 
Œue
;

48 
	mnumOfD•ts
 = 1;

49 
	mnumOfMobesP”D•t
 = 4;

50 
	mEEG_TRANSMISSION_TIME
 = 5.1;

53 
public
 
	$maš
(
SŒšg
[] 
¬gs
) {

55 
Log
.
	`´štLše
("Starting VRGame...");

57 
Œy
 {

58 
Log
.
	`di§bË
();

59 
num_u£r
 = 1;

60 
C®’d¬
 
ÿËnd¬
 = C®’d¬.
	`g‘In¡ªû
();

61 
boŞ—n
 
Œaû_æag
 = 
çl£
;

63 
CloudSim
.
	`š™
(
num_u£r
, 
ÿËnd¬
, 
Œaû_æag
);

65 
SŒšg
 
­pId
 = "vr_game";

67 
FogBrok”
 
brok”
 = 
Ãw
 
	`FogBrok”
("broker");

69 
AµliÿtiÚ
 
­¶iÿtiÚ
 = 
	`ü—‹AµliÿtiÚ
(
­pId
, 
brok”
.
	`g‘Id
());

70 
­¶iÿtiÚ
.
	`£tU£rId
(
brok”
.
	`g‘Id
());

72 
	`ü—‹FogDeviûs
(
brok”
.
	`g‘Id
(), 
­pId
);

74 
ModuËM­pšg
 
moduËM­pšg
 = ModuËM­pšg.
	`ü—‹ModuËM­pšg
();

76 if(
CLOUD
){

78 
moduËM­pšg
.
	`addModuËToDeviû
("cÚÃùÜ", "şoud", 
numOfD•ts
*
numOfMobesP”D•t
);

79 
moduËM­pšg
.
	`addModuËToDeviû
("cÚûÁ¿tiÚ_ÿlcuÏtÜ", "şoud", 
numOfD•ts
*
numOfMobesP”D•t
);

80 
FogDeviû
 
deviû
 : 
fogDeviûs
){

81 if(
deviû
.
	`g‘Name
().
	`¡¬tsW™h
("m")){

82 
moduËM­pšg
.
	`addModuËToDeviû
("ş›Á", 
deviû
.
	`g‘Name
(), 1);

87 
moduËM­pšg
.
	`addModuËToDeviû
("cÚÃùÜ", "şoud", 
numOfD•ts
*
numOfMobesP”D•t
);

92 
CÚŒŞËr
 
cÚŒŞËr
 = 
Ãw
 
	`CÚŒŞËr
("ma¡”-cÚŒŞËr", 
fogDeviûs
, 
£nsÜs
,

93 
aùu©Üs
, 
moduËM­pšg
);

95 
cÚŒŞËr
.
	`subm™AµliÿtiÚ
(
­¶iÿtiÚ
, 0);

97 
TimeK“³r
.
	`g‘In¡ªû
().
	`£tSimuÏtiÚS¹Time
(
C®’d¬
.g‘In¡ªû().
	`g‘TimeInMlis
());

99 
CloudSim
.
	`¡¬tSimuÏtiÚ
();

101 
CloudSim
.
	`¡İSimuÏtiÚ
();

103 
Log
.
	`´štLše
("VRGame finished!");

104 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

105 
e
.
	`´štSckT¿û
();

106 
Log
.
	`´štLše
("Unwantedƒrrors happen");

115 
´iv©e
 
	$ü—‹FogDeviûs
(
u£rId
, 
SŒšg
 
­pId
) {

116 
FogDeviû
 
şoud
 = 
	`ü—‹FogDeviû
("cloud", 44800, 40000, 100, 10000, 0, 0.01, 16*103, 16*83.25);

117 
şoud
.
	`£tP¬’tId
(-1);

118 
FogDeviû
 
´oxy
 = 
	`ü—‹FogDeviû
("proxy-server", 2800, 4000, 10000, 10000, 1, 0.0, 107.339, 83.4333);

119 
´oxy
.
	`£tP¬’tId
(
şoud
.
	`g‘Id
());

120 
´oxy
.
	`£tU¶škL©’cy
(100);

122 
fogDeviûs
.
	`add
(
şoud
);

123 
fogDeviûs
.
	`add
(
´oxy
);

125 
i
=0;i<
numOfD•ts
;i++){

126 
	`addGw
(
i
+"", 
u£rId
, 
­pId
, 
´oxy
.
	`g‘Id
());

129 
	}
}

131 
´iv©e
 
FogDeviû
 
	$addGw
(
SŒšg
 
id
, 
u£rId
, SŒšg 
­pId
, 
·»ÁId
){

132 
FogDeviû
 
d•t
 = 
	`ü—‹FogDeviû
("d-"+
id
, 2800, 4000, 10000, 10000, 1, 0.0, 107.339, 83.4333);

133 
fogDeviûs
.
	`add
(
d•t
);

134 
d•t
.
	`£tP¬’tId
(
·»ÁId
);

135 
d•t
.
	`£tU¶škL©’cy
(4);

136 
i
=0;i<
numOfMobesP”D•t
;i++){

137 
SŒšg
 
mobeId
 = 
id
+"-"+
i
;

138 
FogDeviû
 
mobe
 = 
	`addMobe
(
mobeId
, 
u£rId
, 
­pId
, 
d•t
.
	`g‘Id
());

139 
mobe
.
	`£tU¶škL©’cy
(2);

140 
fogDeviûs
.
	`add
(
mobe
);

142  
d•t
;

143 
	}
}

145 
´iv©e
 
FogDeviû
 
	$addMobe
(
SŒšg
 
id
, 
u£rId
, SŒšg 
­pId
, 
·»ÁId
){

146 
FogDeviû
 
mobe
 = 
	`ü—‹FogDeviû
("m-"+
id
, 1000, 1000, 10000, 270, 3, 0, 87.53, 82.44);

147 
mobe
.
	`£tP¬’tId
(
·»ÁId
);

148 
S’sÜ
 
“gS’sÜ
 = 
Ãw
 
	`S’sÜ
("s-"+
id
, "EEG", 
u£rId
, 
­pId
,‚ew 
	`D‘”mši¡icDi¡ributiÚ
(
EEG_TRANSMISSION_TIME
));

149 
£nsÜs
.
	`add
(
“gS’sÜ
);

150 
Aùu©Ü
 
di¥Ïy
 = 
Ãw
 
	`Aùu©Ü
("a-"+
id
, 
u£rId
, 
­pId
, "DISPLAY");

151 
aùu©Üs
.
	`add
(
di¥Ïy
);

152 
“gS’sÜ
.
	`£tG©ewayDeviûId
(
mobe
.
	`g‘Id
());

153 
“gS’sÜ
.
	`£tL©’cy
(6.0);

154 
di¥Ïy
.
	`£tG©ewayDeviûId
(
mobe
.
	`g‘Id
());

155 
di¥Ïy
.
	`£tL©’cy
(1.0);

156  
mobe
;

157 
	}
}

172 
´iv©e
 
FogDeviû
 
	$ü—‹FogDeviû
(
SŒšg
 
nodeName
, 
ms
,

173 
¿m
, 
upBw
, 
downBw
, 
Ëv–
, 
¿‹P”Ms
, 
busyPow”
, 
idËPow”
) {

175 
Li¡
<
Pe
> 
³Li¡
 = 
Ãw
 
A¼ayLi¡
<Pe>();

178 
³Li¡
.
	`add
(
Ãw
 
	`Pe
(0,‚ew 
	`PeProvisiÚ”Ov”bookšg
(
ms
)));

180 
ho¡Id
 = 
FogUts
.
	`g’”©eEÁ™yId
();

181 
¡Üage
 = 1000000;

182 
bw
 = 10000;

184 
Pow”Ho¡
 
ho¡
 = 
Ãw
 
	`Pow”Ho¡
(

185 
ho¡Id
,

186 
Ãw
 
	`RamProvisiÚ”Sim¶e
(
¿m
),

187 
Ãw
 
	`BwProvisiÚ”Ov”bookšg
(
bw
),

188 
¡Üage
,

189 
³Li¡
,

190 
Ãw
 
	`SŒ—mO³¿tÜScheduËr
(
³Li¡
),

191 
Ãw
 
	`FogLš—rPow”Mod–
(
busyPow”
, 
idËPow”
)

194 
Li¡
<
Ho¡
> 
ho¡Li¡
 = 
Ãw
 
A¼ayLi¡
<Host>();

195 
ho¡Li¡
.
	`add
(
ho¡
);

197 
SŒšg
 
¬ch
 = "x86";

198 
SŒšg
 
os
 = "Linux";

199 
SŒšg
 
vmm
 = "Xen";

200 
time_zÚe
 = 10.0;

201 
co¡
 = 3.0;

202 
co¡P”Mem
 = 0.05;

203 
co¡P”StÜage
 = 0.001;

205 
co¡P”Bw
 = 0.0;

206 
LškedLi¡
<
StÜage
> 
¡ÜageLi¡
 = 
Ãw
 LinkedList<Storage>();

209 
FogDeviûCh¬aù”i¡ics
 
ch¬aù”i¡ics
 = 
Ãw
 
	`FogDeviûCh¬aù”i¡ics
(

210 
¬ch
, 
os
, 
vmm
, 
ho¡
, 
time_zÚe
, 
co¡
, 
co¡P”Mem
,

211 
co¡P”StÜage
, 
co¡P”Bw
);

213 
FogDeviû
 
fogdeviû
 = 
nuÎ
;

214 
Œy
 {

215 
fogdeviû
 = 
Ãw
 
	`FogDeviû
(
nodeName
, 
ch¬aù”i¡ics
,

216 
Ãw
 
	`AµModuËAÎoÿtiÚPŞicy
(
ho¡Li¡
), 
¡ÜageLi¡
, 10, 
upBw
, 
downBw
, 0, 
¿‹P”Ms
);

217 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

218 
e
.
	`´štSckT¿û
();

221 
fogdeviû
.
	`£tLev–
(
Ëv–
);

222  
fogdeviû
;

223 
	}
}

231 @
Suµ»ssW¬nšgs
({"serial" })

232 
´iv©e
 
AµliÿtiÚ
 
	$ü—‹AµliÿtiÚ
(
SŒšg
 
­pId
, 
u£rId
){

234 
AµliÿtiÚ
 
­¶iÿtiÚ
 = AµliÿtiÚ.
	`ü—‹AµliÿtiÚ
(
­pId
, 
u£rId
);

239 
­¶iÿtiÚ
.
	`addAµModuË
("client", 10);

240 
­¶iÿtiÚ
.
	`addAµModuË
("concentration_calculator", 10);

241 
­¶iÿtiÚ
.
	`addAµModuË
("connector", 10);

246 if(
EEG_TRANSMISSION_TIME
==10)

247 
­¶iÿtiÚ
.
	`addAµEdge
("EEG", "ş›Á", 2000, 500, "EEG", 
Tu¶e
.
UP
, 
AµEdge
.
SENSOR
);

249 
­¶iÿtiÚ
.
	`addAµEdge
("EEG", "ş›Á", 3000, 500, "EEG", 
Tu¶e
.
UP
, 
AµEdge
.
SENSOR
);

250 
­¶iÿtiÚ
.
	`addAµEdge
("ş›Á", "cÚûÁ¿tiÚ_ÿlcuÏtÜ", 3500, 500, "_SENSOR", 
Tu¶e
.
UP
, 
AµEdge
.
MODULE
);

251 
­¶iÿtiÚ
.
	`addAµEdge
("cÚûÁ¿tiÚ_ÿlcuÏtÜ", "cÚÃùÜ", 100, 1000, 1000, "PLAYER_GAME_STATE", 
Tu¶e
.
UP
, 
AµEdge
.
MODULE
);

252 
­¶iÿtiÚ
.
	`addAµEdge
("cÚûÁ¿tiÚ_ÿlcuÏtÜ", "ş›Á", 14, 500, "CONCENTRATION", 
Tu¶e
.
DOWN
, 
AµEdge
.
MODULE
);

253 
­¶iÿtiÚ
.
	`addAµEdge
("cÚÃùÜ", "ş›Á", 100, 28, 1000, "GLOBAL_GAME_STATE", 
Tu¶e
.
DOWN
, 
AµEdge
.
MODULE
);

254 
­¶iÿtiÚ
.
	`addAµEdge
("ş›Á", "DISPLAY", 1000, 500, "SELF_STATE_UPDATE", 
Tu¶e
.
DOWN
, 
AµEdge
.
ACTUATOR
);

255 
­¶iÿtiÚ
.
	`addAµEdge
("ş›Á", "DISPLAY", 1000, 500, "GLOBAL_STATE_UPDATE", 
Tu¶e
.
DOWN
, 
AµEdge
.
ACTUATOR
);

260 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("ş›Á", "EEG", "_SENSOR", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(0.9));

261 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("ş›Á", "CONCENTRATION", "SELF_STATE_UPDATE", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

262 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("cÚûÁ¿tiÚ_ÿlcuÏtÜ", "_SENSOR", "CONCENTRATION", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

263 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("ş›Á", "GLOBAL_GAME_STATE", "GLOBAL_STATE_UPDATE", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

269 
fš®
 
AµLoİ
 
loİ1
 = 
Ãw
 
	`AµLoİ
Òew 
A¼ayLi¡
<
SŒšg
>(){{
	`add
("EEG");add("client");add("concentration_calculator");add("client");add("DISPLAY");}});

270 
Li¡
<
AµLoİ
> 
loİs
 = 
Ãw
 
A¼ayLi¡
<AµLoİ>(){{
	`add
(
loİ1
);}};

271 
­¶iÿtiÚ
.
	`£tLoİs
(
loİs
);

273  
­¶iÿtiÚ
;

274 
	}
}

	@src/org/fog/gui/core/ActuatorGui.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gio
.
	gS”ŸlizabË
;

5 
public
 cÏs 
	cAùu©ÜGui
 
ex‹nds
 
Node
 
im¶em’ts
 
	mS”ŸlizabË
{

7 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 4087896123649020073L;

9 
´iv©e
 
SŒšg
 
	mÇme
;

10 
´iv©e
 
SŒšg
 
	maùu©ÜTy³
;

12 
public
 
	$Aùu©ÜGui
(
SŒšg
 
Çme
, SŒšg 
aùu©ÜTy³
){

13 
	`su³r
(
Çme
, "ACTUATOR");

14 
	`£tName
(
Çme
);

15 
	`£tAùu©ÜTy³
(
aùu©ÜTy³
);

18 
public
 
SŒšg
 
	$g‘Name
() {

19  
Çme
;

20 
	}
}

22 
public
 
	$£tName
(
SŒšg
 
Çme
) {

23 
this
.
Çme
 =‚ame;

24 
	}
}

26 @
Ov”ride


27 
public
 
SŒšg
 
	$toSŒšg
() {

29 
	}
}

31 
public
 
SŒšg
 
	$g‘Aùu©ÜTy³
() {

32  
aùu©ÜTy³
;

33 
	}
}

35 
public
 
	$£tAùu©ÜTy³
(
SŒšg
 
aùu©ÜTy³
) {

36 
this
.
aùu©ÜTy³
 =‡ctuatorType;

37 
	}
}

	@src/org/fog/gui/core/ActuatorModule.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

7 
public
 cÏs 
	cAùu©ÜModuË
 
ex‹nds
 
	mNode
 {

8 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 804858850147477656L;

10 
SŒšg
 
	maùu©ÜTy³
;

12 
public
 
	$Aùu©ÜModuË
() {

15 
public
 
	$Aùu©ÜModuË
(
SŒšg
 
aùu©ÜTy³
) {

16 
	`su³r
(
aùu©ÜTy³
, "ACTUATOR_MODULE");

17 
	`£tAùu©ÜTy³
(
aùu©ÜTy³
);

18 
	}
}

21 
public
 
SŒšg
 
	$g‘Aùu©ÜTy³
() {

22  
aùu©ÜTy³
;

23 
	}
}

25 
public
 
	$£tAùu©ÜTy³
(
SŒšg
 
aùu©ÜTy³
) {

26 
this
.
aùu©ÜTy³
 =‡ctuatorType;

27 
	}
}

29 @
Ov”ride


30 
public
 
SŒšg
 
	$toSŒšg
() {

32 
	}
}

	@src/org/fog/gui/core/AppModule.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

7 
public
 cÏs 
	cAµModuË
 
ex‹nds
 
	mNode
 {

8 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 804858850147477656L;

12 
public
 
	$AµModuË
() {

15 
public
 
	$AµModuË
(
SŒšg
 
Çme
) {

16 
	`su³r
(
Çme
, "APP_MODULE");

17 
	}
}

20 @
Ov”ride


21 
public
 
SŒšg
 
	$toSŒšg
() {

23 
	}
}

	@src/org/fog/gui/core/Bridge.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

4 
impÜt
 
	gjava
.
	gio
.
	gFeR—d”
;

5 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

6 
impÜt
 
	gjava
.
	gio
.
	gSŒšgWr™”
;

7 
impÜt
 
	gjava
.
	gm©h
.
	gBigDecim®
;

8 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

9 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

10 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gM­
;

13 
impÜt
 
	gjava
.
	gut
.
	gM­
.
	gEÁry
;

15 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gD‘”mši¡icDi¡ributiÚ
;

16 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gDi¡ributiÚ
;

17 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gNÜm®Di¡ributiÚ
;

18 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gUnifÜmDi¡ributiÚ
;

19 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONA¼ay
;

20 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONObjeù
;

21 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONV®ue
;

23 
public
 cÏs 
	cBridge
 {

25 
´iv©e
 
Node
 
	$g‘Node
(
G¿ph
 
g¿ph
, 
SŒšg
 
Çme
){

26 
Node
 
node
 : 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
()){

27 if(
node
!=
nuÎ
){

28 if(
node
.
	`g‘Name
().
	`equ®s
(
Çme
)){

29  
node
;

33  
nuÎ
;

37 
public
 
G¿ph
 
	$jsÚToG¿ph
(
SŒšg
 
feName
, 
ty³
){

39 
G¿ph
 
g¿ph
 = 
Ãw
 
	`G¿ph
();

42 if(0 =ğ
ty³
){

43 
Œy
 {

44 
JSONObjeù
 
doc
 = (JSONObjeùè
JSONV®ue
.
	`·r£
(
Ãw
 
	`FeR—d”
(
feName
));

45 
JSONA¼ay
 
nodes
 = (JSONA¼ayè
doc
.
	`g‘
("nodes");

46 @
	`Suµ»ssW¬nšgs
("unchecked")

47 
I‹¿tÜ
<
JSONObjeù
> 
™”
 =
nodes
.
	`™”©Ü
();

48 
™”
.
	`hasNext
()){

49 
JSONObjeù
 
node
 = 
™”
.
	`Ãxt
();

50 
SŒšg
 
nodeTy³
 = (SŒšgè
node
.
	`g‘
("type");

51 
SŒšg
 
nodeName
 = (SŒšgè
node
.
	`g‘
("name");

53 if(
nodeTy³
.
	`equ®sIgnÜeCa£
("host")){

54 
³s
 = (
LÚg
è
node
.
	`g‘
("pes");

55 
ms
 = (
LÚg
è
node
.
	`g‘
("mips");

56 
¿m
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("¿m")).
	`štV®ueExaù
();

57 
¡Üage
 = (
LÚg
è
node
.
	`g‘
("storage");

58 
bw
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("bw")).
	`štV®ueExaù
();

60 
num
 = 1;

61 ià(
node
.
	`g‘
("nums")!ğ
nuÎ
)

62 
num
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("nums")).
	`štV®ueExaù
();

64 
n
 = 0;‚< 
num
;‚++) {

65 
Node
 
hNode
 = 
Ãw
 
	`Ho¡Node
(
nodeName
, 
nodeTy³
, 
³s
, 
ms
, 
¿m
, 
¡Üage
, 
bw
);

66 
g¿ph
.
	`addNode
(
hNode
);

69 } if(
nodeTy³
.
	`equ®s
("FOG_DEVICE")){

70 
ms
 = (
LÚg
è
node
.
	`g‘
("mips");

71 
¿m
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("¿m")).
	`štV®ueExaù
();

72 
upBw
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("upBw")).
	`štV®ueExaù
();

73 
downBw
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("downBw")).
	`štV®ueExaù
();

74 
Ëv–
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("Ëv–")).
	`štV®ue
();

75 
¿‹
 = 
Ãw
 
	`BigDecim®
((
DoubË
)
node
.
	`g‘
("¿‹P”Ms")).
	`doubËV®ue
();

77 
Node
 
fogDeviû
 = 
Ãw
 
	`FogDeviûGui
(
nodeName
, 
ms
, 
¿m
, 
upBw
, 
downBw
, 
Ëv–
, 
¿‹
);

78 
g¿ph
.
	`addNode
(
fogDeviû
);

80 } if(
nodeTy³
.
	`equ®s
("SENSOR")){

81 
SŒšg
 
£nsÜTy³
 = 
node
.
	`g‘
("£nsÜTy³").
	`toSŒšg
();

82 
di¡Ty³
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("di¡ributiÚ")).
	`štV®ue
();

83 
Di¡ributiÚ
 
di¡ributiÚ
 = 
nuÎ
;

84 if(
di¡Ty³
 =ğ
Di¡ributiÚ
.
DETERMINISTIC
)

85 
di¡ributiÚ
 = 
Ãw
 
	`D‘”mši¡icDi¡ributiÚ
Òew 
	`BigDecim®
((
DoubË
)
node
.
	`g‘
("v®ue")).
	`doubËV®ue
());

86 if(
di¡Ty³
 =ğ
Di¡ributiÚ
.
NORMAL
){

87 
di¡ributiÚ
 = 
Ãw
 
	`NÜm®Di¡ributiÚ
Òew 
	`BigDecim®
((
DoubË
)
node
.
	`g‘
("m—n")).
	`doubËV®ue
(),

88 
Ãw
 
	`BigDecim®
((
DoubË
)
node
.
	`g‘
("¡dDev")).
	`doubËV®ue
());

89 } if(
di¡Ty³
 =ğ
Di¡ributiÚ
.
UNIFORM
){

90 
di¡ributiÚ
 = 
Ãw
 
	`UnifÜmDi¡ributiÚ
Òew 
	`BigDecim®
((
DoubË
)
node
.
	`g‘
("mš")).
	`doubËV®ue
(),

91 
Ãw
 
	`BigDecim®
((
DoubË
)
node
.
	`g‘
("max")).
	`doubËV®ue
());

93 
Sy¡em
.
out
.
	`´šn
("S’sÜy³ : "+
£nsÜTy³
);

94 
Node
 
£nsÜ
 = 
Ãw
 
	`S’sÜGui
(
nodeName
, 
£nsÜTy³
, 
di¡ributiÚ
);

95 
g¿ph
.
	`addNode
(
£nsÜ
);

96 } if(
nodeTy³
.
	`equ®s
("ACTUATOR")){

97 
SŒšg
 
aùu©ÜTy³
 = 
node
.
	`g‘
("aùu©ÜTy³").
	`toSŒšg
();

98 
Node
 
aùu©Ü
 = 
Ãw
 
	`Aùu©ÜGui
(
nodeName
, 
aùu©ÜTy³
);

99 
g¿ph
.
	`addNode
(
aùu©Ü
);

101 
bw
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("bw")).
	`štV®ueExaù
();

102 
iİs
 = (
LÚg
è
node
.
	`g‘
("iops");

103 
uµÜts
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("uµÜts")).
	`štV®ueExaù
();

104 
dowÅÜts
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("dowÅÜts")).
	`štV®ueExaù
();

106 
Node
 
sNode
 = 
Ãw
 
	`Sw™chNode
(
nodeName
, 
nodeTy³
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
bw
);

107 
g¿ph
.
	`addNode
(
sNode
);

111 
JSONA¼ay
 
lšks
 = (JSONA¼ayè
doc
.
	`g‘
("links");

112 @
	`Suµ»ssW¬nšgs
("unchecked")

113 
I‹¿tÜ
<
JSONObjeù
> 
lšksI‹r
 =
lšks
.
	`™”©Ü
();

114 
lšksI‹r
.
	`hasNext
()){

115 
JSONObjeù
 
lšk
 = 
lšksI‹r
.
	`Ãxt
();

116 
SŒšg
 
¤c
 = (SŒšgè
lšk
.
	`g‘
("source");

117 
SŒšg
 
d¡
 = (SŒšgè
lšk
.
	`g‘
("destination");

118 
Ït
 = (
DoubË
è
lšk
.
	`g‘
("latency");

120 
Node
 
sourû
 = (Nodeè
	`g‘Node
(
g¿ph
, 
¤c
);

121 
Node
 
rg‘
 = (Nodeè
	`g‘Node
(
g¿ph
, 
d¡
);

123 if(
sourû
!=
nuÎ
 && 
rg‘
!=null){

124 
Sy¡em
.
out
.
	`´šn
("Addšgƒdgb‘w“À"+
sourû
.
	`g‘Name
()+" & "+
rg‘
.getName());

125 
Edge
 
edge
 = 
Ãw
 
	`Edge
(
rg‘
, 
Ït
);

126 
g¿ph
.
	`addEdge
(
sourû
, 
edge
);

129 } 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

130 
e
.
	`´štSckT¿û
();

133 }if(1 =ğ
ty³
){

134 
Œy
 {

135 
JSONObjeù
 
doc
 = (JSONObjeùè
JSONV®ue
.
	`·r£
(
Ãw
 
	`FeR—d”
(
feName
));

136 
JSONA¼ay
 
nodes
 = (JSONA¼ayè
doc
.
	`g‘
("nodes");

137 @
	`Suµ»ssW¬nšgs
("unchecked")

138 
I‹¿tÜ
<
JSONObjeù
> 
™”
 = 
nodes
.
	`™”©Ü
();

139 
™”
.
	`hasNext
()){

140 
JSONObjeù
 
node
 = 
™”
.
	`Ãxt
();

142 
SŒšg
 
nodeTy³
 = (SŒšgè
node
.
	`g‘
("type");

143 
SŒšg
 
nodeName
 = (SŒšgè
node
.
	`g‘
("name");

144 
³s
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("³s")).
	`štV®ueExaù
();

145 
ms
 = (
LÚg
è
node
.
	`g‘
("mips");

146 
¿m
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("¿m")).
	`štV®ueExaù
();

147 
size
 = (
LÚg
è
node
.
	`g‘
("size");

149 
Node
 
vmNode
 = 
Ãw
 
	`VmNode
(
nodeName
, 
nodeTy³
, 
size
, 
³s
, 
ms
, 
¿m
);

150 
g¿ph
.
	`addNode
(
vmNode
);

153 
JSONA¼ay
 
lšks
 = (JSONA¼ayè
doc
.
	`g‘
("links");

155 @
	`Suµ»ssW¬nšgs
("unchecked")

156 
I‹¿tÜ
<
JSONObjeù
> 
lšksI‹r
 = 
lšks
.
	`™”©Ü
();

157 
lšksI‹r
.
	`hasNext
()){

158 
JSONObjeù
 
lšk
 = 
lšksI‹r
.
	`Ãxt
();

159 
SŒšg
 
Çme
 = (SŒšgè
lšk
.
	`g‘
("name");

160 
SŒšg
 
¤c
 = (SŒšgè
lšk
.
	`g‘
("source");

161 
SŒšg
 
d¡
 = (SŒšgè
lšk
.
	`g‘
("destination");

163 
Objeù
 
»qBw
 = 
lšk
.
	`g‘
("bandwidth");

165 
bw
 = 0;

166 if(
»qBw
 !ğ
nuÎ
)

167 
bw
 = (
LÚg
è
»qBw
;

169 
Node
 
sourû
 = 
	`g‘Node
(
g¿ph
, 
¤c
);

170 
Node
 
rg‘
 = 
	`g‘Node
(
g¿ph
, 
d¡
);

172 
Edge
 
edge
 = 
Ãw
 
	`Edge
(
rg‘
, 
Çme
, 
bw
);

173 
g¿ph
.
	`addEdge
(
sourû
, 
edge
);

176 } 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

177 
e
.
	`´štSckT¿û
();

180 
Sy¡em
.
out
.
	`´šn
("############################");

181 
Sy¡em
.
out
.
	`´šn
(
g¿ph
.
	`g‘AdjaûncyLi¡
());

182 
Sy¡em
.
out
.
	`´šn
("############################");

183  
g¿ph
;

184 
	}
}

187 @
Suµ»ssW¬nšgs
("unchecked")

188 
public
 
SŒšg
 
	$g¿phToJsÚ
(
G¿ph
 
g¿ph
){

189 
Sy¡em
.
out
.
	`´šn
();

190 
Sy¡em
.
out
.
	`´šn
("****************************");

191 
Sy¡em
.
out
.
	`´šn
(
g¿ph
.
	`g‘AdjaûncyLi¡
());

192 
Sy¡em
.
out
.
	`´šn
("****************************");

193 if(
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`size
() < 1){

196 
M­
<
Node
, 
Li¡
<Node>> 
edgeLi¡
 = 
Ãw
 
HashM­
<Node, List<Node>>();

198 
JSONObjeù
 
tİo
 = 
Ãw
 
	`JSONObjeù
();

199 
JSONA¼ay
 
nodes
 = 
Ãw
 
	`JSONA¼ay
();

200 
JSONA¼ay
 
lšks
 = 
Ãw
 
	`JSONA¼ay
();

202 
EÁry
<
Node
, 
Li¡
<
Edge
>> 
’Œy
 : 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`’ŒyS‘
()) {

203 
Node
 
¤cNode
 = 
’Œy
.
	`g‘Key
();

206 
JSONObjeù
 
jobj
 = 
Ãw
 
	`JSONObjeù
();

207 
¤cNode
.
	`g‘Ty³
()){

209 
Aùu©ÜGui
 
aùu©Ü
 = (Aùu©ÜGui)
¤cNode
;

210 
jobj
.
	`put
("Çme", 
aùu©Ü
.
	`g‘Name
());

211 
jobj
.
	`put
("ty³", 
aùu©Ü
.
	`g‘Ty³
());

212 
jobj
.
	`put
("aùu©ÜTy³", 
aùu©Ü
.
	`g‘Aùu©ÜTy³
());

215 
S’sÜGui
 
£nsÜ
 = (S’sÜGui)
¤cNode
;

216 
jobj
.
	`put
("Çme", 
£nsÜ
.
	`g‘Name
());

217 
jobj
.
	`put
("£nsÜTy³", 
£nsÜ
.
	`g‘S’sÜTy³
());

218 
jobj
.
	`put
("ty³", 
£nsÜ
.
	`g‘Ty³
());

219 
jobj
.
	`put
("di¡ributiÚ", 
£nsÜ
.
	`g‘Di¡ributiÚTy³
());

220 if(
£nsÜ
.
	`g‘Di¡ributiÚTy³
()==
Di¡ributiÚ
.
DETERMINISTIC
)

221 
jobj
.
	`put
("v®ue", ((
D‘”mši¡icDi¡ributiÚ
)
£nsÜ
.
	`g‘Di¡ributiÚ
()).
	`g‘V®ue
());

222 if(
£nsÜ
.
	`g‘Di¡ributiÚTy³
()==
Di¡ributiÚ
.
NORMAL
){

223 
jobj
.
	`put
("m—n", ((
NÜm®Di¡ributiÚ
)
£nsÜ
.
	`g‘Di¡ributiÚ
()).
	`g‘M—n
());

224 
jobj
.
	`put
("¡dDev", ((
NÜm®Di¡ributiÚ
)
£nsÜ
.
	`g‘Di¡ributiÚ
()).
	`g‘StdDev
());

225 } if(
£nsÜ
.
	`g‘Di¡ributiÚTy³
()==
Di¡ributiÚ
.
UNIFORM
){

226 
jobj
.
	`put
("mš", ((
UnifÜmDi¡ributiÚ
)
£nsÜ
.
	`g‘Di¡ributiÚ
()).
	`g‘Mš
());

227 
jobj
.
	`put
("max", ((
UnifÜmDi¡ributiÚ
)
£nsÜ
.
	`g‘Di¡ributiÚ
()).
	`g‘Max
());

231 
FogDeviûGui
 
fogDeviû
 = (FogDeviûGui)
¤cNode
;

232 
jobj
.
	`put
("Çme", 
fogDeviû
.
	`g‘Name
());

233 
jobj
.
	`put
("ty³", 
fogDeviû
.
	`g‘Ty³
());

234 
jobj
.
	`put
("ms", 
fogDeviû
.
	`g‘Ms
());

235 
jobj
.
	`put
("¿m", 
fogDeviû
.
	`g‘Ram
());

236 
jobj
.
	`put
("upBw", 
fogDeviû
.
	`g‘UpBw
());

237 
jobj
.
	`put
("downBw", 
fogDeviû
.
	`g‘DownBw
());

238 
jobj
.
	`put
("Ëv–", 
fogDeviû
.
	`g‘Lev–
());

239 
jobj
.
	`put
("¿‹P”Ms", 
fogDeviû
.
	`g‘R©eP”Ms
());

242 
Ho¡Node
 
hNode
 = (Ho¡Node)
¤cNode
;

243 
jobj
.
	`put
("Çme", 
hNode
.
	`g‘Name
());

244 
jobj
.
	`put
("ty³", 
hNode
.
	`g‘Ty³
());

245 
jobj
.
	`put
("³s", 
hNode
.
	`g‘Pes
());

246 
jobj
.
	`put
("ms", 
hNode
.
	`g‘Ms
());

247 
jobj
.
	`put
("¿m", 
hNode
.
	`g‘Ram
());

248 
jobj
.
	`put
("¡Üage", 
hNode
.
	`g‘StÜage
());

249 
jobj
.
	`put
("bw", 
hNode
.
	`g‘Bw
());

253 
Sw™chNode
 
sNode
 = (Sw™chNode)
¤cNode
;

254 
jobj
.
	`put
("Çme", 
sNode
.
	`g‘Name
());

255 
jobj
.
	`put
("ty³", 
sNode
.
	`g‘Ty³
());

256 
jobj
.
	`put
("iİs", 
sNode
.
	`g‘Iİs
());

257 
jobj
.
	`put
("uµÜts", 
sNode
.
	`g‘DowÅÜts
());

258 
jobj
.
	`put
("dowÅÜts", 
sNode
.
	`g‘DowÅÜts
());

259 
jobj
.
	`put
("bw", 
sNode
.
	`g‘Bw
());

262 
VmNode
 
vNode
 = (VmNode)
¤cNode
;

263 
jobj
.
	`put
("Çme", 
vNode
.
	`g‘Name
());

264 
jobj
.
	`put
("ty³", 
vNode
.
	`g‘Ty³
());

265 
jobj
.
	`put
("size", 
vNode
.
	`g‘Size
());

266 
jobj
.
	`put
("³s", 
vNode
.
	`g‘Pes
());

267 
jobj
.
	`put
("ms", 
vNode
.
	`g‘Ms
());

268 
jobj
.
	`put
("¿m", 
vNode
.
	`g‘Ram
());

271 
nodes
.
	`add
(
jobj
);

274 
Edge
 
edge
 : 
’Œy
.
	`g‘V®ue
()) {

275 
Node
 
de¡Node
 = 
edge
.
	`g‘Node
();

278 ià(
edgeLi¡
.
	`cÚšsKey
(
de¡Node
è&&ƒdgeLi¡.
	`g‘
(de¡Node).
	`cÚšs
(
¤cNode
)) {

282 
JSONObjeù
 
jobj2
 = 
Ãw
 
	`JSONObjeù
();

283 
jobj2
.
	`put
("sourû", 
¤cNode
.
	`g‘Name
());

284 
jobj2
.
	`put
("de¡š©iÚ", 
de¡Node
.
	`g‘Name
());

285 if("ho¡"==
de¡Node
.
	`g‘Ty³
() || "core"==destNode.getType() || "edge"==destNode.getType() ||

286 "FOG_DEVICE"==
de¡Node
.
	`g‘Ty³
() || "SENSOR"==destNode.getType() || "ACTUATOR"==destNode.getType()){

287 
jobj2
.
	`put
("Ï‹ncy", 
edge
.
	`g‘L©’cy
());

288 }if("vm"==
de¡Node
.
	`g‘Name
()){

289 if(
edge
.
	`g‘Bªdwidth
()>0){

290 
jobj2
.
	`put
("bªdwidth", 
edge
.
	`g‘Bªdwidth
());

293 
lšks
.
	`add
(
jobj2
);

296 ià(
edgeLi¡
.
	`cÚšsKey
(
’Œy
.
	`g‘Key
())) {

297 
edgeLi¡
.
	`g‘
(
’Œy
.
	`g‘Key
()).
	`add
(
edge
.
	`g‘Node
());

299 
Li¡
<
Node
> 
ns
 = 
Ãw
 
A¼ayLi¡
<Node>();

300 
ns
.
	`add
(
edge
.
	`g‘Node
());

301 
edgeLi¡
.
	`put
(
’Œy
.
	`g‘Key
(), 
ns
);

306 
tİo
.
	`put
("nodes", 
nodes
);

307 
tİo
.
	`put
("lšks", 
lšks
);

309 
SŒšgWr™”
 
out
 = 
Ãw
 
	`SŒšgWr™”
();

310 
SŒšg
 
jsÚText
 = "";

311 
Œy
 {

312 
tİo
.
	`wr™eJSONSŒšg
(
out
);

313 
jsÚText
 = 
out
.
	`toSŒšg
();

314 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

316 
e
.
	`´štSckT¿û
();

320  
jsÚText
;

321 
	}
}

	@src/org/fog/gui/core/Coordinates.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

3 
public
 cÏs 
	cCoÜdš©es
 {

5 
´iv©e
 
	mx
;

6 
´iv©e
 
	my
;

8 
public
 
	$CoÜdš©es
() {

9 
this
.
x
 = 0;

10 
this
.
y
 = 0;

12 
public
 
	$CoÜdš©es
(
x
, 
y
) {

13 
this
.
x
 = x;

14 
this
.
y
 = y;

15 
	}
}

17 
public
 
	$g‘X
() {

18  
x
;

19 
	}
}

20 
public
 
	$£tX
(
x
) {

21 
this
.
x
 = x;

22 
	}
}

24 
public
 
	$g‘Y
() {

25  
y
;

26 
	}
}

27 
public
 
	$£tY
(
y
) {

28 
this
.
y
 = y;

29 
	}
}

31 @
Ov”ride


32 
public
 
SŒšg
 
	$toSŒšg
() {

33  "CoÜdš©e [abscis§=" + 
x
 + ", ordš©e=" + 
y
 + "]";

34 
	}
}

	@src/org/fog/gui/core/Edge.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gio
.
	gS”ŸlizabË
;

4 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

5 
impÜt
 
	gjava
.
	gut
.
	gM­
;

11 
public
 cÏs 
	cEdge
 
im¶em’ts
 
	mS”ŸlizabË
 {

12 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -356975278987708987L;

14 
´iv©e
 
Node
 
	mde¡
 = 
nuÎ
;

16 
´iv©e
 
	mÏ‹ncy
 = 0.0;

17 
´iv©e
 
SŒšg
 
	mÇme
 = "";

18 
´iv©e
 
	mbªdwidth
 = 0;

25 
public
 
	$Edge
(
Node
 
to
) {

26 
this
.
de¡
 = 
to
;

30 
public
 
	$Edge
(
Node
 
to
, 
Ï‹ncy
) {

31 
this
.
de¡
 = 
to
;

32 
this
.
Ï‹ncy
 =†atency;

33 
	}
}

36 
public
 
	$Edge
(
Node
 
to
, 
SŒšg
 
Çme
, 
bw
) {

37 
this
.
de¡
 = 
to
;

38 
this
.
Çme
 =‚ame;

39 
this
.
bªdwidth
 = 
bw
;

40 
	}
}

43 
public
 
Edge
(
Node
 
to
, 
M­
<
SŒšg
, 
Objeù
> 
šfo
){

44 
	gthis
.
	gde¡
 = 
to
;

45 if(
	gšfo
.
g‘
("Çme")!=
nuÎ
){

46 
this
.
Çme
 = (
SŒšg
è
šfo
.
g‘
("name");

48 if(
	gšfo
.
g‘
("bªdwidth")!=
nuÎ
){

49 
this
.
bªdwidth
 = (è
šfo
.
g‘
("bandwidth");

51 if(
	gšfo
.
g‘
("Ï‹ncy")!=
nuÎ
){

52 
this
.
Ï‹ncy
 = (è
šfo
.
g‘
("latency");

56 
public
 
Node
 
	$g‘Node
() {

57  
de¡
;

58 
	}
}

60 
public
 
	$g‘Bªdwidth
() {

61  
bªdwidth
;

62 
	}
}

64 
public
 
	$g‘L©’cy
() {

65  
Ï‹ncy
;

66 
	}
}

68 
public
 
	gM­
<
	gSŒšg
, 
	gObjeù
> 
	$g‘Info
() {

69 
M­
<
SŒšg
, 
Objeù
> 
šfo
 = 
Ãw
 
HashM­
<String, Object>();

70 
šfo
.
	`put
("Çme", 
this
.
Çme
);

71 
šfo
.
	`put
("bªdwidth",
this
.
bªdwidth
);

72 
šfo
.
	`put
("Ï‹ncy", 
this
.
Ï‹ncy
);

73  
šfo
;

74 
	}
}

76 
public
 
£tInfo
(
M­
<
SŒšg
, 
Objeù
> 
šfo
){

77 if(
	gšfo
.
g‘
("Çme")!=
nuÎ
){

78 
this
.
Çme
 = (
SŒšg
è
šfo
.
g‘
("name");

80 if(
	gšfo
.
g‘
("bªdwidth")!=
nuÎ
){

81 
this
.
bªdwidth
 = (è
šfo
.
g‘
("bandwidth");

83 if(
	gšfo
.
g‘
("Ï‹ncy")!=
nuÎ
){

84 
this
.
Ï‹ncy
 = (è
šfo
.
g‘
("latency");

88 @
Ov”ride


89 
public
 
SŒšg
 
	$toSŒšg
() {

90  "Edg[de¡=" + 
de¡
 + "]";

91 
	}
}

	@src/org/fog/gui/core/FogDeviceGui.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

7 
public
 cÏs 
	cFogDeviûGui
 
ex‹nds
 
	mNode
 {

8 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -8635044061126993668L;

10 
´iv©e
 
	mËv–
;

11 
´iv©e
 
SŒšg
 
	mÇme
;

12 
´iv©e
 
	mms
;

13 
´iv©e
 
	m¿m
;

14 
´iv©e
 
	mupBw
;

15 
´iv©e
 
	mdownBw
;

16 
´iv©e
 
	m¿‹P”Ms
;

18 
public
 
	$FogDeviûGui
() {

21 
public
 
	$FogDeviûGui
(
SŒšg
 
Çme
, 
ms
, 
¿m
, 
upBw
, 
downBw
, 
Ëv–
, 
¿‹
) {

22 
	`su³r
(
Çme
, "FOG_DEVICE");

23 
this
.
Çme
 =‚ame;

24 
this
.
ms
 = mips;

25 
this
.
¿m
 =„am;

26 
this
.
upBw
 = upBw;

27 
this
.
downBw
 = downBw;

28 
this
.
Ëv–
 =†evel;

29 
this
.
¿‹P”Ms
 = 
¿‹
;

30 
	}
}

33 
public
 
SŒšg
 
	$g‘Name
() {

34  
Çme
;

35 
	}
}

37 
public
 
	$£tName
(
SŒšg
 
Çme
) {

38 
this
.
Çme
 =‚ame;

39 
	}
}

41 
public
 
	$g‘Ms
() {

42  
ms
;

43 
	}
}

45 
public
 
	$£tMs
(
ms
) {

46 
this
.
ms
 = mips;

47 
	}
}

49 
public
 
	$g‘Ram
() {

50  
¿m
;

51 
	}
}

53 
public
 
	$£tRam
(
¿m
) {

54 
this
.
¿m
 =„am;

55 
	}
}

57 
public
 
	$g‘UpBw
() {

58  
upBw
;

59 
	}
}

61 
public
 
	$£tUpBw
(
upBw
) {

62 
this
.
upBw
 = upBw;

63 
	}
}

65 
public
 
	$g‘DownBw
() {

66  
downBw
;

67 
	}
}

69 
public
 
	$£tDownBw
(
downBw
) {

70 
this
.
downBw
 = downBw;

71 
	}
}

73 @
Ov”ride


74 
public
 
SŒšg
 
	$toSŒšg
() {

75  "FogDeviû [ms=" + 
ms
 + "„am=" + 
¿m
 + " upBw=" + 
upBw
 + " downBw=" + 
downBw
 + "]";

76 
	}
}

78 
public
 
	$g‘Lev–
() {

79  
Ëv–
;

80 
	}
}

82 
public
 
	$£tLev–
(
Ëv–
) {

83 
this
.
Ëv–
 =†evel;

84 
	}
}

86 
public
 
	$g‘R©eP”Ms
() {

87  
¿‹P”Ms
;

88 
	}
}

90 
public
 
	$£tR©eP”Ms
(
¿‹P”Ms
) {

91 
this
.
¿‹P”Ms
 =„atePerMips;

92 
	}
}

	@src/org/fog/gui/core/Graph.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gio
.
	gS”ŸlizabË
;

4 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

5 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

6 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

7 
impÜt
 
	gjava
.
	gut
.
	gM­
;

8 
impÜt
 
	gjava
.
	gut
.
	gM­
.
	gEÁry
;

15 
public
 cÏs 
	cG¿ph
 
im¶em’ts
 
	mS”ŸlizabË
 {

16 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 745864022429447529L;

18 
´iv©e
 
	mM­
<
	mNode
, 
	mLi¡
<
	mEdge
>> 
	madjaûncyLi¡
;

21 
public
 
	$G¿ph
() {

23 
adjaûncyLi¡
 = 
Ãw
 
HashM­
<
Node
, 
Li¡
<
Edge
>>();

26 
public
 
	`G¿ph
(
M­
<
Node
, 
Li¡
<
Edge
>> 
adjaûncyLi¡
) {

27 
this
.
adjaûncyLi¡
 =‡djacencyList;

28 
	}
}

30 
public
 
£tAdjaûncyLi¡
(
M­
<
Node
, 
Li¡
<
Edge
>> 
adjaûncyLi¡
) {

31 
	gthis
.
	gadjaûncyLi¡
 = 
adjaûncyLi¡
;

34 
public
 
	gM­
<
	gNode
, 
	gLi¡
<
	gEdge
>> 
	$g‘AdjaûncyLi¡
() {

35  
adjaûncyLi¡
;

36 
	}
}

39 
public
 
	$addEdge
(
Node
 
key
, 
Edge
 
v®ue
) {

41 ià(
adjaûncyLi¡
.
	`cÚšsKey
(
key
)) {

42 ià(
adjaûncyLi¡
.
	`g‘
(
key
è=ğ
nuÎ
) {

43 
adjaûncyLi¡
.
	`put
(
key
, 
Ãw
 
A¼ayLi¡
<
Edge
>());

47 ià(
v®ue
 !ğ
nuÎ
) {

48 
adjaûncyLi¡
.
	`g‘
(
key
).
	`add
(
v®ue
);

51 
Li¡
<
Edge
> 
edges
 = 
Ãw
 
A¼ayLi¡
<Edge>();

53 ià(
v®ue
 !ğ
nuÎ
) {

54 
edges
.
	`add
(
v®ue
);

57 
adjaûncyLi¡
.
	`put
(
key
, 
edges
);

84 
	}
}

87 
public
 
	$addNode
(
Node
 
node
) {

88 
	`addEdge
(
node
, 
nuÎ
);

89 
	}
}

91 
public
 
	$»moveEdge
(
Node
 
key
, 
Edge
 
v®ue
) {

93 ià(!
adjaûncyLi¡
.
	`cÚšsKey
(
key
)) {

94 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Thadjaûncy†i¡ dÛ nÙ cÚš‡‚odfÜhgiv’ key: " + 
key
);

96 
Li¡
<
Edge
> 
edges
 = 
adjaûncyLi¡
.
	`g‘
(
key
);

98 ià(!
edges
.
	`cÚšs
(
v®ue
)) {

99 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Thli¡ oàedge dÛ nÙ cÚšhgiv’ƒdgtØ»move: " + 
v®ue
);

102 
edges
.
	`»move
(
v®ue
);

104 
Li¡
<
Edge
> 
»v”£Edges
 = 
adjaûncyLi¡
.
	`g‘
(
v®ue
.
	`g‘Node
());

105 
Li¡
<
Edge
> 
toRemove
 = 
Ãw
 
A¼ayLi¡
<Edge>();

106 
Edge
 
edge
 : 
»v”£Edges
) {

107 ià(
edge
.
	`g‘Node
().
	`equ®s
(
key
)) {

108 
toRemove
.
	`add
(
edge
);

112 
»v”£Edges
.
	`»moveAÎ
(
toRemove
);

113 
	}
}

116 
public
 
	$»moveNode
(
Node
 
key
) {

118 ià(!
adjaûncyLi¡
.
	`cÚšsKey
(
key
)) {

119 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Thadjaûncy†i¡ dÛ nÙ cÚš‡‚odfÜhgiv’ key: " + 
key
);

122 
adjaûncyLi¡
.
	`»move
(
key
);

125 
EÁry
<
Node
, 
Li¡
<
Edge
>> 
’Œy
 : 
adjaûncyLi¡
.
	`’ŒyS‘
()) {

127 
Li¡
<
Edge
> 
toRemove
 = 
Ãw
 
A¼ayLi¡
<Edge>();

129 
Edge
 
edge
 : 
’Œy
.
	`g‘V®ue
()) {

130 ià(
edge
.
	`g‘Node
().
	`equ®s
(
key
)) {

131 
toRemove
.
	`add
(
edge
);

134 
’Œy
.
	`g‘V®ue
().
	`»moveAÎ
(
toRemove
);

136 
	}
}

138 
public
 
	$ş—rG¿ph
(){

139 
adjaûncyLi¡
.
	`ş—r
();

140 
	}
}

142 
public
 
SŒšg
 
	$toJsÚSŒšg
(){

143 
SŒšg
 
jsÚText
 = 
Bridge
.
	`g¿phToJsÚ
(
this
);

144  
jsÚText
;

145 
	}
}

148 @
Ov”ride


149 
public
 
SŒšg
 
	$toSŒšg
() {

150  "G¿ph [adjaûncyLi¡=" + 
adjaûncyLi¡
 + "]";

151 
	}
}

	@src/org/fog/gui/core/GraphView.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gawt
.
	gCŞÜ
;

4 
impÜt
 
	gjava
.
	gawt
.
	gFÚtM‘rics
;

5 
impÜt
 
	gjava
.
	gawt
.
	gG¿phics
;

6 
impÜt
 
	gjava
.
	gawt
.
	gImage
;

7 
impÜt
 
	gjava
.
	gawt
.
	gToŞk™
;

8 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

9 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

10 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gM­
.
	gEÁry
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gJSüŞlPªe
;

18 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogUts
;

22 
public
 cÏs 
	cG¿phV›w
 
ex‹nds
 
	mJPª–
 {

24 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 1L;

26 
´iv©e
 
JPª–
 
	mÿnvas
;

27 
´iv©e
 
G¿ph
 
	mg¿ph
;

29 
´iv©e
 
Image
 
	mimgHo¡
;

30 
´iv©e
 
Image
 
	mimgS’sÜ
;

31 
´iv©e
 
Image
 
	mimgSw™ch
;

32 
´iv©e
 
Image
 
	mimgAµModuË
;

33 
´iv©e
 
Image
 
	mimgAùu©Ü
;

34 
´iv©e
 
Image
 
	mimgS’sÜModuË
;

35 
´iv©e
 
Image
 
	mimgAùu©ÜModuË
;

37 
public
 
	$G¿phV›w
(
fš®
 
G¿ph
 
g¿ph
) {

39 
this
.
g¿ph
 = graph;

40 
imgHo¡
 = 
ToŞk™
.
	`g‘DeçuÉToŞk™
().
	`g‘Image
(
this
.
	`g‘CÏss
().
	`g‘Resourû
("/images/host.png"));

41 
imgSw™ch
 = 
ToŞk™
.
	`g‘DeçuÉToŞk™
().
	`g‘Image
(
this
.
	`g‘CÏss
().
	`g‘Resourû
("/images/disk.png"));

42 
imgAµModuË
 = 
ToŞk™
.
	`g‘DeçuÉToŞk™
().
	`g‘Image
(
this
.
	`g‘CÏss
().
	`g‘Resourû
("/images/module.png"));

43 
imgS’sÜ
 = 
ToŞk™
.
	`g‘DeçuÉToŞk™
().
	`g‘Image
(
this
.
	`g‘CÏss
().
	`g‘Resourû
("/images/sensor.png"));

44 
imgAùu©Ü
 = 
ToŞk™
.
	`g‘DeçuÉToŞk™
().
	`g‘Image
(
this
.
	`g‘CÏss
().
	`g‘Resourû
("/images/actuator.png"));

45 
imgS’sÜModuË
 = 
ToŞk™
.
	`g‘DeçuÉToŞk™
().
	`g‘Image
(
this
.
	`g‘CÏss
().
	`g‘Resourû
("/images/sensorModule.png"));

46 
imgAùu©ÜModuË
 = 
ToŞk™
.
	`g‘DeçuÉToŞk™
().
	`g‘Image
(
this
.
	`g‘CÏss
().
	`g‘Resourû
("/images/actuatorModule.png"));

48 
	`š™CompÚ’ts
();

51 
´iv©e
 
M­
<
Node
, 
Li¡
<Node>> 
	$ü—‹Chd»nM­
(){

52 
M­
<
Node
, 
Li¡
<Node>> 
chd»nM­
 = 
Ãw
 
HashM­
<Node, List<Node>>();

53 
Node
 
node
 : 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
()){

54 if(
node
.
	`g‘Ty³
().
	`equ®s
("FOG_DEVICE"è&& !
chd»nM­
.
	`cÚšsKey
(node))

55 
chd»nM­
.
	`put
(
node
, 
Ãw
 
A¼ayLi¡
<
Node
>());

56 
Li¡
<
Edge
> 
edgeLi¡
 = 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`g‘
(
node
);

58 
Edge
 
edge
 : 
edgeLi¡
){

59 
Node
 
Ãighbour
 = 
edge
.
	`g‘Node
();

60 if(
node
.
	`g‘Ty³
().
	`equ®s
("SENSOR") ||‚ode.getType().equals("ACTUATOR")){

61 if(!
chd»nM­
.
	`cÚšsKey
(
Ãighbour
)){

62 
chd»nM­
.
	`put
(
Ãighbour
, 
Ãw
 
A¼ayLi¡
<
Node
>());

64 
chd»nM­
.
	`g‘
(
Ãighbour
).
	`add
(
node
);

65 } if(
Ãighbour
.
	`g‘Ty³
().
	`equ®s
("SENSOR") ||‚eighbour.getType().equals("ACTUATOR")){

66 if(!
chd»nM­
.
	`cÚšsKey
(
node
)){

67 
chd»nM­
.
	`put
(
node
, 
Ãw
 
A¼ayLi¡
<
Node
>());

69 
chd»nM­
.
	`g‘
(
node
).
	`add
(
Ãighbour
);

71 
Node
 
chd
 = (((
FogDeviûGui
)
node
).
	`g‘Lev–
(è> ((FogDeviûGui)
Ãighbour
).getLevel())?node:neighbour;

72 
Node
 
·»Á
 = (((
FogDeviûGui
)
node
).
	`g‘Lev–
(è< ((FogDeviûGui)
Ãighbour
).getLevel())?node:neighbour;

73 if(!
chd»nM­
.
	`cÚšsKey
(
·»Á
)){

74 
chd»nM­
.
	`put
(
·»Á
, 
Ãw
 
A¼ayLi¡
<
Node
>());

76 
chd»nM­
.
	`g‘
(
·»Á
).
	`add
(
chd
);

80  
chd»nM­
;

81 
	}
}

83 @
Suµ»ssW¬nšgs
("serial")

84 
´iv©e
 
	$š™CompÚ’ts
() {

86 
ÿnvas
 = 
Ãw
 
	`JPª–
() {

87 @
Ov”ride


88 
public
 
	`·št
(
G¿phics
 
g
) {

90 ià(
g¿ph
.
	`g‘AdjaûncyLi¡
(è=ğ
nuÎ
) {

94 
M­
<
Node
, 
CoÜdš©es
> 
coÜdFÜNodes
 = 
Ãw
 
HashM­
<Node, Coordinates>();

98 
Sy¡em
.
out
.
	`´šn
("sys:"+
ÿnvas
.
	`g‘Width
(è+ ":" + cªvas.
	`g‘Height
());

100 
height
 = 40;

103 
FÚtM‘rics
 
f
 = 
g
.
	`g‘FÚtM‘rics
();

104 
nodeHeight
 = 
M©h
.
	`max
(
height
, 
f
.
	`g‘Height
());

105 
nodeWidth
 = 
nodeHeight
;

107 
maxLev–
=-1, 
mšLev–
=
FogUts
.
MAX
;

108 
M­
<
IÁeg”
, 
Li¡
<
Node
>> 
Ëv–M­
 = 
Ãw
 
HashM­
<Integer, List<Node>>();

109 
Li¡
<
Node
> 
’dpošts
 = 
Ãw
 
A¼ayLi¡
<Node>();

110 
Node
 
node
 : 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
()) {

111 if(
node
.
	`g‘Ty³
().
	`equ®s
("FOG_DEVICE")){

112 
Ëv–
 = ((
FogDeviûGui
)
node
).
	`g‘Lev–
();

113 if(!
Ëv–M­
.
	`cÚšsKey
(
Ëv–
))

114 
Ëv–M­
.
	`put
(
Ëv–
, 
Ãw
 
A¼ayLi¡
<
Node
>());

115 
Ëv–M­
.
	`g‘
(
Ëv–
).
	`add
(
node
);

117 if(
Ëv–
 > 
maxLev–
)

118 
maxLev–
 = 
Ëv–
;

119 if(
Ëv–
 < 
mšLev–
)

120 
mšLev–
 = 
Ëv–
;

121 } if(
node
.
	`g‘Ty³
().
	`equ®s
("SENSOR") ||‚ode.getType().equals("ACTUATOR")){

122 
’dpošts
.
	`add
(
node
);

126 
yDi¡
 = 
ÿnvas
.
	`g‘Height
()/(
maxLev–
-
mšLev–
+3);

127 
Sy¡em
.
out
.
	`´šn
("===================\n================\n=============");

129 
M­
<
IÁeg”
, 
Li¡
<
PÏûHŞd”
>> 
Ëv–ToPÏûHŞd”M­
 = 
Ãw
 
HashM­
<Integer, List<PlaceHolder>>();

131 
k
=1;

132 
i
=
mšLev–
;i<=
maxLev–
;i++, 
k
++){

133 
xDi¡
 = 
ÿnvas
.
	`g‘Width
()/(
Ëv–M­
.
	`g‘
(
i
).
	`size
()+1);

135 
j
=1;j<=
Ëv–M­
.
	`g‘
(
i
).
	`size
();j++){

136 
x
 = ()
xDi¡
*
j
;

137 
y
 = ()
yDi¡
*
k
;

138 if(!
Ëv–ToPÏûHŞd”M­
.
	`cÚšsKey
(
i
))

139 
Ëv–ToPÏûHŞd”M­
.
	`put
(
i
, 
Ãw
 
A¼ayLi¡
<
PÏûHŞd”
>());

140 
Ëv–ToPÏûHŞd”M­
.
	`g‘
(
i
).
	`add
(
Ãw
 
	`PÏûHŞd”
(
x
, 
y
));

147 
Li¡
<
PÏûHŞd”
> 
’dpoštPÏûHŞd”s
 = 
Ãw
 
A¼ayLi¡
<PlaceHolder>();

149 
xDi¡
 = 
ÿnvas
.
	`g‘Width
()/(
’dpošts
.
	`size
()+1);

150 
i
=0;i<
’dpošts
.
	`size
();i++){

151 
Node
 
node
 = 
’dpošts
.
	`g‘
(
i
);

152 
x
 = ()
xDi¡
*(
i
+1);

153 
y
 = ()
yDi¡
*
k
;

154 
’dpoštPÏûHŞd”s
.
	`add
(
Ãw
 
	`PÏûHŞd”
(
x
, 
y
));

156 
coÜdFÜNodes
.
	`put
(
node
, 
Ãw
 
	`CoÜdš©es
(
x
, 
y
));

157 
node
.
	`£tCoÜdš©e
(
Ãw
 
	`CoÜdš©es
(
x
, 
y
));

160 
Node
 
node
 : 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
()) {

161 if(
node
.
	`g‘Ty³
().
	`equ®s
("FOG_DEVICE")||node.getType().equals("SENSOR")||node.getType().equals("ACTUATOR"))

172 
coÜdFÜNodes
 = 
	`g‘CoÜdFÜNodes
(
Ëv–ToPÏûHŞd”M­
, 
’dpoštPÏûHŞd”s
, 
Ëv–M­
, 
’dpošts
, 
mšLev–
, 
maxLev–
);

173 
Sy¡em
.
out
.
	`´šn
("COORD MAP"+
coÜdFÜNodes
);

175 
M­
<
Node
, 
Li¡
<Node>> 
d¿wnLi¡
 = 
Ãw
 
HashM­
<Node, List<Node>>();

179 
EÁry
<
Node
, 
CoÜdš©es
> 
’Œy
 : 
coÜdFÜNodes
.
	`’ŒyS‘
()) {

181 
g
.
	`£tCŞÜ
(
CŞÜ
.
bÏck
);

184 
CoÜdš©es
 
w¿µ”
 = 
’Œy
.
	`g‘V®ue
();

185 
SŒšg
 
nodeName
 = 
’Œy
.
	`g‘Key
().
	`g‘Name
();

186 
’Œy
.
	`g‘Key
().
	`g‘Ty³
()){

188 
g
.
	`d¿wImage
(
imgHo¡
, 
w¿µ”
.
	`g‘X
(è- 
nodeWidth
 / 2, w¿µ”.
	`g‘Y
(è- 
nodeHeight
 / 2,‚odeWidth,‚odeHeight, 
this
);

191 
g
.
	`d¿wImage
(
imgAµModuË
, 
w¿µ”
.
	`g‘X
(è- 
nodeWidth
 / 2, w¿µ”.
	`g‘Y
(è- 
nodeHeight
 / 2,‚odeWidth,‚odeHeight, 
this
);

192 
g
.
	`d¿wSŒšg
(
nodeName
, 
w¿µ”
.
	`g‘X
(è- 
f
.
	`¡ršgWidth
ÒodeNameè/ 2, w¿µ”.
	`g‘Y
(è+ 
nodeHeight
);

196 
g
.
	`d¿wImage
(
imgSw™ch
, 
w¿µ”
.
	`g‘X
(è- 
nodeWidth
 / 2, w¿µ”.
	`g‘Y
(è- 
nodeHeight
 / 2,‚odeWidth,‚odeHeight, 
this
);

199 
g
.
	`d¿wImage
(
imgHo¡
, 
w¿µ”
.
	`g‘X
(è- 
nodeWidth
 / 2, w¿µ”.
	`g‘Y
(è- 
nodeHeight
 / 2,‚odeWidth,‚odeHeight, 
this
);

200 
g
.
	`d¿wSŒšg
(
nodeName
, 
w¿µ”
.
	`g‘X
(è- 
f
.
	`¡ršgWidth
ÒodeNameè/ 2, w¿µ”.
	`g‘Y
(è+ 
nodeHeight
);

203 
g
.
	`d¿wImage
(
imgS’sÜ
, 
w¿µ”
.
	`g‘X
(è- 
nodeWidth
 / 2, w¿µ”.
	`g‘Y
(è- 
nodeHeight
 / 2,‚odeWidth,‚odeHeight, 
this
);

204 
g
.
	`d¿wSŒšg
(
nodeName
, 
w¿µ”
.
	`g‘X
(è- 
f
.
	`¡ršgWidth
ÒodeNameè/ 2, w¿µ”.
	`g‘Y
(è+ 
nodeHeight
);

207 
g
.
	`d¿wImage
(
imgAùu©Ü
, 
w¿µ”
.
	`g‘X
(è- 
nodeWidth
 / 2, w¿µ”.
	`g‘Y
(è- 
nodeHeight
 / 2,‚odeWidth,‚odeHeight, 
this
);

208 
g
.
	`d¿wSŒšg
(
nodeName
, 
w¿µ”
.
	`g‘X
(è- 
f
.
	`¡ršgWidth
ÒodeNameè/ 2, w¿µ”.
	`g‘Y
(è+ 
nodeHeight
);

211 
g
.
	`d¿wImage
(
imgS’sÜModuË
, 
w¿µ”
.
	`g‘X
(è- 
nodeWidth
 / 2, w¿µ”.
	`g‘Y
(è- 
nodeHeight
 / 2,‚odeWidth,‚odeHeight, 
this
);

212 
g
.
	`d¿wSŒšg
(
nodeName
, 
w¿µ”
.
	`g‘X
(è- 
f
.
	`¡ršgWidth
ÒodeNameè/ 2, w¿µ”.
	`g‘Y
(è+ 
nodeHeight
);

215 
g
.
	`d¿wImage
(
imgAùu©ÜModuË
, 
w¿µ”
.
	`g‘X
(è- 
nodeWidth
 / 2, w¿µ”.
	`g‘Y
(è- 
nodeHeight
 / 2,‚odeWidth,‚odeHeight, 
this
);

216 
g
.
	`d¿wSŒšg
(
nodeName
, 
w¿µ”
.
	`g‘X
(è- 
f
.
	`¡ršgWidth
ÒodeNameè/ 2, w¿µ”.
	`g‘Y
(è+ 
nodeHeight
);

234 
EÁry
<
Node
, 
Li¡
<
Edge
>> 
’Œy
 : 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`’ŒyS‘
()) {

236 
CoÜdš©es
 
¡¬tNode
 = 
coÜdFÜNodes
.
	`g‘
(
’Œy
.
	`g‘Key
());

237 
Sy¡em
.
out
.
	`´šn
("S¹ Nod: "+
’Œy
.
	`g‘Key
().
	`g‘Name
());

239 
Edge
 
edge
 : 
’Œy
.
	`g‘V®ue
()) {

246 
CoÜdš©es
 
rg‘Node
 = 
coÜdFÜNodes
.
	`g‘
(
edge
.
	`g‘Node
());

247 
Sy¡em
.
out
.
	`´šn
("T¬g‘ Nod: "+
edge
.
	`g‘Node
().
	`g‘Name
());

248 
g
.
	`£tCŞÜ
(
CŞÜ
.
RED
);

249 
g
.
	`d¿wLše
(
¡¬tNode
.
	`g‘X
(), s¹Node.
	`g‘Y
(), 
rg‘Node
.getX(),argetNode.getY());

252 ià(
d¿wnLi¡
.
	`cÚšsKey
(
’Œy
.
	`g‘Key
())) {

253 
d¿wnLi¡
.
	`g‘
(
’Œy
.
	`g‘Key
()).
	`add
(
edge
.
	`g‘Node
());

255 
Li¡
<
Node
> 
nodes
 = 
Ãw
 
A¼ayLi¡
<Node>();

256 
nodes
.
	`add
(
edge
.
	`g‘Node
());

257 
d¿wnLi¡
.
	`put
(
’Œy
.
	`g‘Key
(), 
nodes
);

275 
JSüŞlPªe
 
süŞlPªe
 = 
Ãw
 
	`JSüŞlPªe
(
ÿnvas
);

276 
	`£tLayout
(
Ãw
 
	`BoxLayout
(
this
, 
BoxLayout
.
PAGE_AXIS
));

277 
	`add
(
süŞlPªe
);

278 
	}
}

280 
´Ùeùed
 
	gM­
<
	gNode
, 
	gCoÜdš©es
> 
g‘CoÜdFÜNodes
(

281 
M­
<
IÁeg”
, 
Li¡
<
PÏûHŞd”
>> 
Ëv–ToPÏûHŞd”M­
,

282 
Li¡
<
PÏûHŞd”
> 
’dpoštPÏûHŞd”s
,

283 
M­
<
IÁeg”
, 
Li¡
<
Node
>> 
Ëv–M­
, Li¡<Node> 
’dpošts
, 
mšLev–
, 
maxLev–
) {

285 
	gM­
<
	gNode
, 
	gCoÜdš©es
> 
	gcoÜdFÜNodesM­
 = 
Ãw
 
HashM­
<
Node
, Coordinates>();

286 
	gM­
<
	gNode
, 
	gLi¡
<Node>> 
	gchd»nM­
 = 
ü—‹Chd»nM­
();

288 
Node
 
	gnode
 : 
g¿ph
.
g‘AdjaûncyLi¡
().
keyS‘
())
node
.
£tPÏûd
(
çl£
);

289 
Node
 
	gnode
 : 
’dpošts
)
node
.
£tPÏûd
(
çl£
);

291 if(
	gmaxLev–
 < 0)

292  
Ãw
 
	gHashM­
<
	gNode
, 
	gCoÜdš©es
>();

294 
	gj
=0;

295 
PÏûHŞd”
 
	g¶aûHŞd”
 : 
Ëv–ToPÏûHŞd”M­
.
g‘
(
mšLev–
)){

296 
Node
 
node
 = 
Ëv–M­
.
g‘
(
mšLev–
).g‘(
j
);

297 
	g¶aûHŞd”
.
£tNode
(
node
);

298 
	gnode
.
£tCoÜdš©e
(
¶aûHŞd”
.
g‘CoÜdš©es
());

299 
	gcoÜdFÜNodesM­
.
put
(
node
,‚ode.
g‘CoÜdš©e
());

300 
	gnode
.
£tPÏûd
(
Œue
);

301 
	gj
++;

304 
	gËv–
 = 
mšLev–
+1;Ëv– <ğ
maxLev–
;†evel++){

305 
	gLi¡
<
	gPÏûHŞd”
> 
	guµ”Lev–Nodes
 = 
Ëv–ToPÏûHŞd”M­
.
g‘
(
Ëv–
-1);

306 
	gLi¡
<
	gNode
> 
	gnodes
 = 
Ëv–M­
.
g‘
(
Ëv–
);

307 
	gi
=0;

308 
PÏûHŞd”
 
	g·»ÁPH
 : 
uµ”Lev–Nodes
){

309 
Li¡
<
Node
> 
chd»n
 = 
chd»nM­
.
g‘
(
·»ÁPH
.
g‘Node
());

310 
Node
 
	gchd
 : 
chd»n
){

311 
PÏûHŞd”
 
chdPÏûHŞd”
 = 
Ëv–ToPÏûHŞd”M­
.
g‘
(
Ëv–
).g‘(
i
);

312 
	gchdPÏûHŞd”
.
£tOccup›d
(
Œue
);

313 
	gchdPÏûHŞd”
.
£tNode
(
chd
);

314 
	gchd
.
£tCoÜdš©e
(
chdPÏûHŞd”
.
g‘CoÜdš©es
());

315 
	gcoÜdFÜNodesM­
.
put
(
chd
, chd.
g‘CoÜdš©e
());

316 
	gchd
.
£tPÏûd
(
Œue
);

317 
	gi
++;

320 
Node
 
	gnode
 : 
nodes
){

321 if(!
node
.
isPÏûd
()){

322 
PÏûHŞd”
 
¶aûHŞd”
 = 
Ëv–ToPÏûHŞd”M­
.
g‘
(
Ëv–
).g‘(
i
);

323 
	g¶aûHŞd”
.
£tOccup›d
(
Œue
);

324 
	g¶aûHŞd”
.
£tNode
(
node
);

325 
	gnode
.
£tCoÜdš©e
(
¶aûHŞd”
.
g‘CoÜdš©es
());

326 
	gcoÜdFÜNodesM­
.
put
(
node
,‚ode.
g‘CoÜdš©e
());

327 
	gnode
.
£tPÏûd
(
Œue
);

328 
	gi
++;

332 
	gi
=0;

333 
PÏûHŞd”
 
	g·»ÁPH
 : 
Ëv–ToPÏûHŞd”M­
.
g‘
(
maxLev–
)){

334 
Li¡
<
Node
>
chd»n
 = 
chd»nM­
.
g‘
(
·»ÁPH
.
g‘Node
());

335 
Node
 
	gchd
 : 
chd»n
){

336 
PÏûHŞd”
 
¶aûHŞd”
 = 
’dpoštPÏûHŞd”s
.
g‘
(
i
);

337 
	g¶aûHŞd”
.
£tOccup›d
(
Œue
);

338 
	g¶aûHŞd”
.
£tNode
(
chd
);

339 
	gchd
.
£tCoÜdš©e
(
¶aûHŞd”
.
g‘CoÜdš©es
());

340 
	gcoÜdFÜNodesM­
.
put
(
chd
, chd.
g‘CoÜdš©e
());

341 
	gchd
.
£tPÏûd
(
Œue
);

342 
	gi
++;

345 
Node
 
	gnode
 : 
’dpošts
){

346 if(!
node
.
isPÏûd
()){

347 
PÏûHŞd”
 
¶aûHŞd”
 = 
’dpoštPÏûHŞd”s
.
g‘
(
i
);

348 
	g¶aûHŞd”
.
£tOccup›d
(
Œue
);

349 
	g¶aûHŞd”
.
£tNode
(
node
);

350 
	gnode
.
£tCoÜdš©e
(
¶aûHŞd”
.
g‘CoÜdš©es
());

351 
	gcoÜdFÜNodesM­
.
put
(
node
,‚ode.
g‘CoÜdš©e
());

352 
	gnode
.
£tPÏûd
(
Œue
);

353 
	gi
++;

356  
	gcoÜdFÜNodesM­
;

375 
public
 
	$£tG¿ph
(
G¿ph
 
ÃwG¿ph
){

376 
this
.
g¿ph
 = 
ÃwG¿ph
;

377 
	}
}

	@src/org/fog/gui/core/HostNode.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

7 
public
 cÏs 
	cHo¡Node
 
ex‹nds
 
	mNode
 {

8 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -8635044061126993668L;

10 
´iv©e
 
	m³s
;

11 
´iv©e
 
	mms
;

12 
´iv©e
 
	m¿m
;

13 
´iv©e
 
	m¡Üage
;

14 
´iv©e
 
	mbw
;

17 
public
 
	$Ho¡Node
() {

20 
public
 
	$Ho¡Node
(
SŒšg
 
Çme
, SŒšg 
ty³
, 
³s
, 
ms
, 
¿m
, 
¡Üage
, 
bw
) {

21 
	`su³r
(
Çme
, 
ty³
);

22 
this
.
³s
 =…es;

23 
this
.
ms
 = mips;

24 
this
.
¿m
 =„am;

25 
this
.
¡Üage
 = storage;

26 
this
.
bw
 = bw;

27 
	}
}

29 
public
 
	$£tPes
(
³s
) {

30 
this
.
³s
 =…es;

31 
	}
}

33 
public
 
	$g‘Pes
() {

34  
³s
;

35 
	}
}

37 
public
 
	$£tMs
(
ms
) {

38 
this
.
ms
 = mips;

39 
	}
}

41 
public
 
	$g‘Ms
() {

42  
ms
;

43 
	}
}

45 
public
 
	$£tRam
(
¿m
) {

46 
this
.
¿m
 =„am;

47 
	}
}

49 
public
 
	$g‘Ram
() {

50  
¿m
;

51 
	}
}

53 
public
 
	$£tStÜage
(
¡Üage
) {

54 
this
.
¡Üage
 = storage;

55 
	}
}

57 
public
 
	$g‘StÜage
() {

58  
¡Üage
;

59 
	}
}

61 
public
 
	$£tBw
(
bw
) {

62 
this
.
bw
 = bw;

63 
	}
}

65 
public
 
	$g‘Bw
() {

66  
bw
;

67 
	}
}

69 @
Ov”ride


70 
public
 
SŒšg
 
	$toSŒšg
() {

71  "Nod[³s=" + 
³s
 + " ms=" + 
ms
 + "„am=" + 
¿m
 + " stÜage=" + 
¡Üage
 + " bw=" + 
bw
 + "]";

72 
	}
}

	@src/org/fog/gui/core/Link.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gio
.
	gS”ŸlizabË
;

4 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

5 
impÜt
 
	gjava
.
	gut
.
	gM­
;

11 
public
 cÏs 
	cLšk
 
ex‹nds
 
Edge
 
im¶em’ts
 
	mS”ŸlizabË
 {

12 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -356975278987708987L;

14 
´iv©e
 
Node
 
	mde¡
 = 
nuÎ
;

16 
´iv©e
 
	mÏ‹ncy
 = 0.0;

17 
´iv©e
 
SŒšg
 
	mÇme
 = "";

18 
´iv©e
 
	mbªdwidth
 = 0;

25 
public
 
	$Lšk
(
Node
 
to
) {

26 
	`su³r
(
to
);

27 
this
.
de¡
 = 
to
;

31 
public
 
	$Lšk
(
Node
 
to
, 
Ï‹ncy
) {

32 
	`su³r
(
to
, 
Ï‹ncy
);

33 
this
.
de¡
 = 
to
;

34 
this
.
Ï‹ncy
 =†atency;

35 
	}
}

38 
public
 
	$Lšk
(
Node
 
to
, 
SŒšg
 
Çme
, 
bw
) {

39 
	`su³r
(
to
, 
Çme
, 
bw
);

40 
this
.
de¡
 = 
to
;

41 
this
.
Çme
 =‚ame;

42 
this
.
bªdwidth
 = 
bw
;

43 
	}
}

46 
public
 
Lšk
(
Node
 
to
, 
M­
<
SŒšg
, 
Objeù
> 
šfo
){

47 
su³r
(
to
, 
šfo
);

48 
	gthis
.
	gde¡
 = 
to
;

49 if(
	gšfo
.
g‘
("Çme")!=
nuÎ
){

50 
this
.
Çme
 = (
SŒšg
è
šfo
.
g‘
("name");

52 if(
	gšfo
.
g‘
("bªdwidth")!=
nuÎ
){

53 
this
.
bªdwidth
 = (è
šfo
.
g‘
("bandwidth");

55 if(
	gšfo
.
g‘
("Ï‹ncy")!=
nuÎ
){

56 
this
.
Ï‹ncy
 = (è
šfo
.
g‘
("latency");

60 
public
 
Node
 
	$g‘Node
() {

61  
de¡
;

62 
	}
}

64 
public
 
	$g‘Bªdwidth
() {

65  
bªdwidth
;

66 
	}
}

68 
public
 
	$g‘L©’cy
() {

69  
Ï‹ncy
;

70 
	}
}

72 
public
 
	gM­
<
	gSŒšg
, 
	gObjeù
> 
	$g‘Info
() {

73 
M­
<
SŒšg
, 
Objeù
> 
šfo
 = 
Ãw
 
HashM­
<String, Object>();

74 
šfo
.
	`put
("Çme", 
this
.
Çme
);

75 
šfo
.
	`put
("bªdwidth",
this
.
bªdwidth
);

76 
šfo
.
	`put
("Ï‹ncy", 
this
.
Ï‹ncy
);

77  
šfo
;

78 
	}
}

80 
public
 
£tInfo
(
M­
<
SŒšg
, 
Objeù
> 
šfo
){

81 if(
	gšfo
.
g‘
("Çme")!=
nuÎ
){

82 
this
.
Çme
 = (
SŒšg
è
šfo
.
g‘
("name");

84 if(
	gšfo
.
g‘
("bªdwidth")!=
nuÎ
){

85 
this
.
bªdwidth
 = (è
šfo
.
g‘
("bandwidth");

87 if(
	gšfo
.
g‘
("Ï‹ncy")!=
nuÎ
){

88 
this
.
Ï‹ncy
 = (è
šfo
.
g‘
("latency");

92 @
Ov”ride


93 
public
 
SŒšg
 
	$toSŒšg
() {

94  "Edg[de¡=" + 
de¡
 + "]";

95 
	}
}

	@src/org/fog/gui/core/Node.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gio
.
	gS”ŸlizabË
;

10 
public
 cÏs 
	cNode
 
im¶em’ts
 
	mS”ŸlizabË
 {

11 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 823544330517091616L;

13 
´iv©e
 
CoÜdš©es
 
	mcoÜd
;

14 
´iv©e
 
SŒšg
 
	mÇme
;

15 
´iv©e
 
SŒšg
 
	mty³
;

16 
´iv©e
 
boŞ—n
 
	misPÏûd
;

18 
public
 
	$Node
() {

19 
	`£tPÏûd
(
çl£
);

22 
public
 
	$Node
(
SŒšg
 
Çme
, SŒšg 
ty³
) {

23 
this
.
Çme
 =‚ame;

24 
this
.
ty³
 =ype;

25 
	`£tPÏûd
(
çl£
);

26 
coÜd
 = 
Ãw
 
	`CoÜdš©es
();

27 
	}
}

29 
public
 
	$£tName
(
SŒšg
 
Çme
) {

30 
this
.
Çme
 =‚ame;

31 
	}
}

33 
public
 
SŒšg
 
	$g‘Name
() {

34  
Çme
;

35 
	}
}

37 
public
 
	$£tTy³
(
SŒšg
 
ty³
) {

38 
this
.
ty³
 =ype;

39 
	}
}

41 
public
 
SŒšg
 
	$g‘Ty³
() {

42  
ty³
;

43 
	}
}

45 
public
 
	$£tCoÜdš©e
(
CoÜdš©es
 
coÜd
) {

46 
this
.
coÜd
.
	`£tX
(coÜd.
	`g‘X
());

47 
this
.
coÜd
.
	`£tY
(coÜd.
	`g‘Y
());

48 
	}
}

50 
public
 
CoÜdš©es
 
	$g‘CoÜdš©e
() {

51  
coÜd
;

52 
	}
}

54 @
Ov”ride


55 
public
 
	$hashCode
() {

56 
fš®
 
´ime
 = 31;

57 
»suÉ
 = 1;

58 
»suÉ
 = 
´ime
 *„esuÉ + ((
Çme
 =ğ
nuÎ
è? 0 :‚ame.
	`hashCode
());

59  
»suÉ
;

60 
	}
}

62 @
Ov”ride


63 
public
 
boŞ—n
 
	$equ®s
(
Objeù
 
obj
) {

64 ià(
this
 =ğ
obj
)

65  
Œue
;

66 ià(
obj
 =ğ
nuÎ
)

67  
çl£
;

68 ià(
	`g‘CÏss
(è!ğ
obj
.getClass())

69  
çl£
;

70 
Node
 
Ùh”
 = (Nodeè
obj
;

71 ià(
Çme
 =ğ
nuÎ
) {

72 ià(
Ùh”
.
Çme
 !ğ
nuÎ
)

73  
çl£
;

74 } ià(!
Çme
.
	`equ®s
(
Ùh”
.name))

75  
çl£
;

76  
Œue
;

77 
	}
}

79 @
Ov”ride


80 
public
 
SŒšg
 
	$toSŒšg
() {

81  "Nod[Çme=" + 
Çme
 + "y³=" + 
ty³
 + "]";

82 
	}
}

84 
public
 
boŞ—n
 
	$isPÏûd
() {

85  
isPÏûd
;

86 
	}
}

88 
public
 
	$£tPÏûd
(
boŞ—n
 
isPÏûd
) {

89 
this
.
isPÏûd
 = isPlaced;

90 
	}
}

	@src/org/fog/gui/core/NodeCellRenderer.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gawt
.
	gCompÚ’t
;

5 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

6 
impÜt
 
	gjavax
.
	gswšg
.
	gJLi¡
;

7 
impÜt
 
	gjavax
.
	gswšg
.
	gLi¡C–lR’d””
;

10 @
Suµ»ssW¬nšgs
("rawtypes")

11 
public
 cÏs 
	cNodeC–lR’d””
 
ex‹nds
 
JLab–
 
im¶em’ts
 
	mLi¡C–lR’d””
 {

12 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 6021697923766790099L;

14 @
Ov”ride


15 
public
 
CompÚ’t
 
	$g‘Li¡C–lR’d””CompÚ’t
(
JLi¡
 
li¡
, 
Objeù
 
v®ue
, 
šdex
, 
boŞ—n
 
isS–eùed
, boŞ—À
ûÎHasFocus
) {

17 
Node
 
node
 = (Nodeè
v®ue
;

18 
JLab–
 
Ïb–
 = 
Ãw
 
	`JLab–
();

20 ià(
node
 !ğ
nuÎ
 &&‚ode.
	`g‘Name
() !=‚ull) {

21 
Ïb–
.
	`£tText
(
node
.
	`g‘Name
());

24  
Ïb–
;

27 
	}
}

	@src/org/fog/gui/core/PlaceHolder.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

3 
public
 cÏs 
	cPÏûHŞd”
 {

5 
´Ùeùed
 
CoÜdš©es
 
	mcoÜdš©es
;

6 
´Ùeùed
 
boŞ—n
 
	misOccup›d
;

7 
´Ùeùed
 
Node
 
	mnode
;

9 
public
 
Node
 
	$g‘Node
() {

10  
node
;

13 
public
 
	$£tNode
(
Node
 
node
) {

14 
this
.
node
 =‚ode;

15 
	}
}

17 
public
 
boŞ—n
 
	$isOccup›d
() {

18  
isOccup›d
;

19 
	}
}

21 
public
 
	$£tOccup›d
(
boŞ—n
 
isOccup›d
) {

22 
this
.
isOccup›d
 = isOccupied;

23 
	}
}

25 
public
 
	$PÏûHŞd”
(
CoÜdš©es
 
coÜdš©es
){

26 
	`£tCoÜdš©es
(
coÜdš©es
);

27 
	`£tOccup›d
(
çl£
);

28 
	}
}

30 
public
 
	$PÏûHŞd”
(){

31 
	`£tCoÜdš©es
(
Ãw
 
	`CoÜdš©es
());

32 
	`£tOccup›d
(
çl£
);

33 
	}
}

35 
public
 
	$PÏûHŞd”
(
x
, 
y
){

36 
	`£tCoÜdš©es
(
Ãw
 
	`CoÜdš©es
(
x
, 
y
));

37 
	`£tOccup›d
(
çl£
);

38 
	}
}

40 
public
 
CoÜdš©es
 
	$g‘CoÜdš©es
() {

41  
coÜdš©es
;

42 
	}
}

44 
public
 
	$£tCoÜdš©es
(
CoÜdš©es
 
coÜdš©es
) {

45 
this
.
coÜdš©es
 = coordinates;

46 
	}
}

	@src/org/fog/gui/core/SensorGui.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

3 
impÜt
 
	gjava
.
	gio
.
	gS”ŸlizabË
;

5 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gD‘”mši¡icDi¡ributiÚ
;

6 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gDi¡ributiÚ
;

7 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gNÜm®Di¡ributiÚ
;

8 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gUnifÜmDi¡ributiÚ
;

10 
public
 cÏs 
	cS’sÜGui
 
ex‹nds
 
Node
 
im¶em’ts
 
	mS”ŸlizabË
{

12 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 4087896123649020073L;

14 
´iv©e
 
SŒšg
 
	mÇme
;

15 
´iv©e
 
SŒšg
 
	m£nsÜTy³
;

17 
´iv©e
 
Di¡ributiÚ
 
	mdi¡ributiÚ
;

19 
public
 
	$S’sÜGui
(
SŒšg
 
Çme
, SŒšg 
ty³
, 
Di¡ributiÚ
 
di¡ributiÚ
){

20 
	`su³r
(
Çme
, "SENSOR");

21 
	`£tName
(
Çme
);

22 
	`£tS’sÜTy³
(
ty³
);

23 
	`£tDi¡ributiÚ
(
di¡ributiÚ
);

26 
public
 
	$S’sÜGui
(
SŒšg
 
Çme
, SŒšg 
£nsÜTy³
, SŒšg 
£ËùedI‹m
, 
nÜm®M—n_
,

27 
nÜm®StdDev_
, 
unifÜmLow_
, 
unifÜmUp_
,

28 
d‘”mši¡icV®_
) {

29 
	`su³r
(
Çme
, "SENSOR");

30 
	`£tName
(
Çme
);

31 
	`£tS’sÜTy³
(
£nsÜTy³
);

32 if(
nÜm®M—n_
 != -1){

33 
	`£tDi¡ributiÚ
(
Ãw
 
	`NÜm®Di¡ributiÚ
(
nÜm®M—n_
, 
nÜm®StdDev_
));

34 }if(
unifÜmLow_
 != -1){

35 
	`£tDi¡ributiÚ
(
Ãw
 
	`UnifÜmDi¡ributiÚ
(
unifÜmLow_
, 
unifÜmUp_
));

36 }if(
d‘”mši¡icV®_
 != -1){

37 
	`£tDi¡ributiÚ
(
Ãw
 
	`D‘”mši¡icDi¡ributiÚ
(
d‘”mši¡icV®_
));

39 
	}
}

41 
public
 
	$g‘Di¡ributiÚTy³
(){

42  
di¡ributiÚ
.
	`g‘Di¡ributiÚTy³
();

43 
	}
}

45 
public
 
SŒšg
 
	$g‘Name
() {

46  
Çme
;

47 
	}
}

49 
public
 
	$£tName
(
SŒšg
 
Çme
) {

50 
this
.
Çme
 =‚ame;

51 
	}
}

53 
public
 
Di¡ributiÚ
 
	$g‘Di¡ributiÚ
() {

54  
di¡ributiÚ
;

55 
	}
}

57 
public
 
	$£tDi¡ributiÚ
(
Di¡ributiÚ
 
di¡ributiÚ
) {

58 
this
.
di¡ributiÚ
 = distribution;

59 
	}
}

61 @
Ov”ride


62 
public
 
SŒšg
 
	$toSŒšg
() {

64 if(
di¡ributiÚ
 
š¡ªûof
 
NÜm®Di¡ributiÚ
)

65  "S’sÜ [di¡=1 m—n=" + ((
NÜm®Di¡ributiÚ
)
di¡ributiÚ
).
	`g‘M—n
(è+ " stdDev=" + ((NÜm®Di¡ributiÚ)di¡ributiÚ).
	`g‘StdDev
() + "]";

66 if(
di¡ributiÚ
 
š¡ªûof
 
UnifÜmDi¡ributiÚ
)

67  "S’sÜ [di¡=2 mš=" + ((
UnifÜmDi¡ributiÚ
)
di¡ributiÚ
).
	`g‘Mš
(è+ " max=" + ((UnifÜmDi¡ributiÚ)di¡ributiÚ).
	`g‘Max
() + "]";

68 if(
di¡ributiÚ
 
š¡ªûof
 
D‘”mši¡icDi¡ributiÚ
)

69  "S’sÜ [di¡=3 v®ue=" + ((
D‘”mši¡icDi¡ributiÚ
)
di¡ributiÚ
).
	`g‘V®ue
() + "]";

72 
	}
}

74 
public
 
SŒšg
 
	$g‘S’sÜTy³
() {

75  
£nsÜTy³
;

76 
	}
}

78 
public
 
	$£tS’sÜTy³
(
SŒšg
 
£nsÜTy³
) {

79 
this
.
£nsÜTy³
 = sensorType;

80 
	}
}

	@src/org/fog/gui/core/SensorModule.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

7 
public
 cÏs 
	cS’sÜModuË
 
ex‹nds
 
	mNode
 {

8 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 804858850147477656L;

10 
SŒšg
 
	m£nsÜTy³
;

12 
public
 
	$S’sÜModuË
() {

15 
public
 
	$S’sÜModuË
(
SŒšg
 
£nsÜTy³
) {

16 
	`su³r
(
£nsÜTy³
, "SENSOR_MODULE");

17 
	`£tS’sÜTy³
(
£nsÜTy³
);

18 
	}
}

21 
public
 
SŒšg
 
	$g‘S’sÜTy³
() {

22  
£nsÜTy³
;

23 
	}
}

25 
public
 
	$£tS’sÜTy³
(
SŒšg
 
£nsÜTy³
) {

26 
this
.
£nsÜTy³
 = sensorType;

27 
	}
}

29 @
Ov”ride


30 
public
 
SŒšg
 
	$toSŒšg
() {

32 
	}
}

	@src/org/fog/gui/core/SpringUtilities.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

3 
impÜt
 
	gjavax
.
	gswšg
.*;

4 
impÜt
 
	gjavax
.
	gswšg
.
	gS´šgLayout
;

5 
impÜt
 
	gjava
.
	gawt
.*;

13 
public
 cÏs 
	cS´šgUt™›s
 {

18 
public
 
	$´štSizes
(
CompÚ’t
 
c
) {

19 
Sy¡em
.
out
.
	`´šn
("mšimumSizğ" + 
c
.
	`g‘MšimumSize
());

20 
Sy¡em
.
out
.
	`´šn
("´eã¼edSizğ" + 
c
.
	`g‘P»ã¼edSize
());

21 
Sy¡em
.
out
.
	`´šn
("maximumSizğ" + 
c
.
	`g‘MaximumSize
());

38 
public
 
	$makeGrid
(
CÚš”
 
·»Á
,

39 
rows
, 
cŞs
,

40 
š™ŸlX
, 
š™ŸlY
,

41 
xPad
, 
yPad
) {

42 
S´šgLayout
 
Ïyout
;

43 
Œy
 {

44 
Ïyout
 = (
S´šgLayout
)
·»Á
.
	`g‘Layout
();

45 } 
	`ÿtch
 (
CÏssCa¡Exû±iÚ
 
exc
) {

46 
Sy¡em
.
”r
.
	`´šn
("The first‡rgumento makeGrid must use SpringLayout.");

50 
S´šg
 
xPadS´šg
 = S´šg.
	`cÚ¡ªt
(
xPad
);

51 
S´šg
 
yPadS´šg
 = S´šg.
	`cÚ¡ªt
(
yPad
);

52 
S´šg
 
š™ŸlXS´šg
 = S´šg.
	`cÚ¡ªt
(
š™ŸlX
);

53 
S´šg
 
š™ŸlYS´šg
 = S´šg.
	`cÚ¡ªt
(
š™ŸlY
);

54 
max
 = 
rows
 * 
cŞs
;

58 
S´šg
 
maxWidthS´šg
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(
·»Á
.
	`g‘CompÚ’t
(0)).

59 
	`g‘Width
();

60 
S´šg
 
maxHeightS´šg
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(
·»Á
.
	`g‘CompÚ’t
(0)).

61 
	`g‘Height
();

62 
i
 = 1; i < 
max
; i++) {

63 
S´šgLayout
.
CÚ¡¿šts
 
cÚs
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(

64 
·»Á
.
	`g‘CompÚ’t
(
i
));

66 
maxWidthS´šg
 = 
S´šg
.
	`max
(maxWidthS´šg, 
cÚs
.
	`g‘Width
());

67 
maxHeightS´šg
 = 
S´šg
.
	`max
(maxHeightS´šg, 
cÚs
.
	`g‘Height
());

72 
i
 = 0; i < 
max
; i++) {

73 
S´šgLayout
.
CÚ¡¿šts
 
cÚs
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(

74 
·»Á
.
	`g‘CompÚ’t
(
i
));

76 
cÚs
.
	`£tWidth
(
maxWidthS´šg
);

77 
cÚs
.
	`£tHeight
(
maxHeightS´šg
);

82 
S´šgLayout
.
CÚ¡¿šts
 
Ï¡CÚs
 = 
nuÎ
;

83 
S´šgLayout
.
CÚ¡¿šts
 
Ï¡RowCÚs
 = 
nuÎ
;

84 
i
 = 0; i < 
max
; i++) {

85 
S´šgLayout
.
CÚ¡¿šts
 
cÚs
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(

86 
·»Á
.
	`g‘CompÚ’t
(
i
));

87 ià(
i
 % 
cŞs
 == 0) {

88 
Ï¡RowCÚs
 = 
Ï¡CÚs
;

89 
cÚs
.
	`£tX
(
š™ŸlXS´šg
);

91 
cÚs
.
	`£tX
(
S´šg
.
	`sum
(
Ï¡CÚs
.
	`g‘CÚ¡¿št
(
S´šgLayout
.
EAST
),

92 
xPadS´šg
));

95 ià(
i
 / 
cŞs
 == 0) {

96 
cÚs
.
	`£tY
(
š™ŸlYS´šg
);

98 
cÚs
.
	`£tY
(
S´šg
.
	`sum
(
Ï¡RowCÚs
.
	`g‘CÚ¡¿št
(
S´šgLayout
.
SOUTH
),

99 
yPadS´šg
));

101 
Ï¡CÚs
 = 
cÚs
;

105 
S´šgLayout
.
CÚ¡¿šts
 
pCÚs
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(
·»Á
);

106 
pCÚs
.
	`£tCÚ¡¿št
(
S´šgLayout
.
SOUTH
,

107 
S´šg
.
	`sum
(

108 
S´šg
.
	`cÚ¡ªt
(
yPad
),

109 
Ï¡CÚs
.
	`g‘CÚ¡¿št
(
S´šgLayout
.
SOUTH
)));

110 
pCÚs
.
	`£tCÚ¡¿št
(
S´šgLayout
.
EAST
,

111 
S´šg
.
	`sum
(

112 
S´šg
.
	`cÚ¡ªt
(
xPad
),

113 
Ï¡CÚs
.
	`g‘CÚ¡¿št
(
S´šgLayout
.
EAST
)));

114 
	}
}

117 
´iv©e
 
	gS´šgLayout
.
CÚ¡¿šts
 
	$g‘CÚ¡¿štsFÜC–l
(

118 
row
, 
cŞ
,

119 
CÚš”
 
·»Á
,

120 
cŞs
) {

121 
S´šgLayout
 
Ïyout
 = (S´šgLayoutè
·»Á
.
	`g‘Layout
();

122 
CompÚ’t
 
c
 = 
·»Á
.
	`g‘CompÚ’t
(
row
 * 
cŞs
 + 
cŞ
);

123  
Ïyout
.
	`g‘CÚ¡¿šts
(
c
);

124 
	}
}

141 
public
 
	$makeCom·ùGrid
(
CÚš”
 
·»Á
,

142 
rows
, 
cŞs
,

143 
š™ŸlX
, 
š™ŸlY
,

144 
xPad
, 
yPad
) {

145 
S´šgLayout
 
Ïyout
;

146 
Œy
 {

147 
Ïyout
 = (
S´šgLayout
)
·»Á
.
	`g‘Layout
();

148 } 
	`ÿtch
 (
CÏssCa¡Exû±iÚ
 
exc
) {

149 
Sy¡em
.
”r
.
	`´šn
("The first‡rgumento makeCompactGrid must use SpringLayout.");

154 
S´šg
 
x
 = S´šg.
	`cÚ¡ªt
(
š™ŸlX
);

155 
c
 = 0; c < 
cŞs
; c++) {

156 
S´šg
 
width
 = S´šg.
	`cÚ¡ªt
(0);

157 
r
 = 0;„ < 
rows
;„++) {

158 
width
 = 
S´šg
.
	`max
(width,

159 
	`g‘CÚ¡¿štsFÜC–l
(
r
, 
c
, 
·»Á
, 
cŞs
).

160 
	`g‘Width
());

162 
r
 = 0;„ < 
rows
;„++) {

163 
S´šgLayout
.
CÚ¡¿šts
 
cÚ¡¿šts
 =

164 
	`g‘CÚ¡¿štsFÜC–l
(
r
, 
c
, 
·»Á
, 
cŞs
);

165 
cÚ¡¿šts
.
	`£tX
(
x
);

166 
cÚ¡¿šts
.
	`£tWidth
(
width
);

168 
x
 = 
S´šg
.
	`sum
(x, S´šg.sum(
width
, S´šg.
	`cÚ¡ªt
(
xPad
)));

172 
S´šg
 
y
 = S´šg.
	`cÚ¡ªt
(
š™ŸlY
);

173 
r
 = 0;„ < 
rows
;„++) {

174 
S´šg
 
height
 = S´šg.
	`cÚ¡ªt
(0);

175 
c
 = 0; c < 
cŞs
; c++) {

176 
height
 = 
S´šg
.
	`max
(height,

177 
	`g‘CÚ¡¿štsFÜC–l
(
r
, 
c
, 
·»Á
, 
cŞs
).

178 
	`g‘Height
());

180 
c
 = 0; c < 
cŞs
; c++) {

181 
S´šgLayout
.
CÚ¡¿šts
 
cÚ¡¿šts
 =

182 
	`g‘CÚ¡¿štsFÜC–l
(
r
, 
c
, 
·»Á
, 
cŞs
);

183 
cÚ¡¿šts
.
	`£tY
(
y
);

184 
cÚ¡¿šts
.
	`£tHeight
(
height
);

186 
y
 = 
S´šg
.
	`sum
(y, S´šg.sum(
height
, S´šg.
	`cÚ¡ªt
(
yPad
)));

190 
S´šgLayout
.
CÚ¡¿šts
 
pCÚs
 = 
Ïyout
.
	`g‘CÚ¡¿šts
(
·»Á
);

191 
pCÚs
.
	`£tCÚ¡¿št
(
S´šgLayout
.
SOUTH
, 
y
);

192 
pCÚs
.
	`£tCÚ¡¿št
(
S´šgLayout
.
EAST
, 
x
);

193 
	}
}

	@src/org/fog/gui/core/SwitchNode.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

7 
public
 cÏs 
	cSw™chNode
 
ex‹nds
 
	mNode
 {

8 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 804858850147477656L;

10 
´iv©e
 
	miİs
;

11 
´iv©e
 
	muµÜts
;

12 
´iv©e
 
	mdowÅÜts
;

13 
´iv©e
 
	mbw
;

16 
public
 
	$Sw™chNode
() {

19 
public
 
	$Sw™chNode
(
SŒšg
 
Çme
, SŒšg 
ty³
, 
iİs
, 
uµÜts
, 
dowÅÜts
, 
bw
) {

20 
	`su³r
(
Çme
, 
ty³
);

21 
this
.
iİs
 = iops;

22 
this
.
uµÜts
 = upports;

23 
this
.
dowÅÜts
 = downports;

24 
this
.
bw
 = bw;

25 
	}
}

27 
public
 
	$£tIİs
(
iİs
) {

28 
this
.
iİs
 = iops;

29 
	}
}

31 
public
 
	$g‘Iİs
() {

32  
iİs
;

33 
	}
}

35 
public
 
	$£tUµÜts
(
uµÜts
) {

36 
this
.
uµÜts
 = upports;

37 
	}
}

39 
public
 
	$g‘UµÜts
() {

40  
uµÜts
;

41 
	}
}

42 
public
 
	$£tDowÅÜts
(
dowÅÜts
) {

43 
this
.
dowÅÜts
 = downports;

44 
	}
}

46 
public
 
	$g‘DowÅÜts
() {

47  
dowÅÜts
;

48 
	}
}

49 
public
 
	$£tBw
(
bw
) {

50 
this
.
bw
 = bw;

51 
	}
}

53 
public
 
	$g‘Bw
() {

54  
bw
;

55 
	}
}

57 @
Ov”ride


58 
public
 
SŒšg
 
	$toSŒšg
() {

59  "Nod[iİs=" + 
iİs
 + " uµÜts=" + 
uµÜts
 + " dowÅÜts=" + 
dowÅÜts
 + " bw=" + 
bw
 + "]";

60 
	}
}

	@src/org/fog/gui/core/VmNode.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
;

7 
public
 cÏs 
	cVmNode
 
ex‹nds
 
	mNode
 {

8 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 804858850147477656L;

10 
´iv©e
 
	msize
;

11 
´iv©e
 
	m³s
;

12 
´iv©e
 
	mms
;

13 
´iv©e
 
	m¿m
;

16 
public
 
	$VmNode
() {

19 
public
 
	$VmNode
(
SŒšg
 
Çme
, SŒšg 
ty³
, 
size
, 
³s
, 
ms
, 
¿m
) {

20 
	`su³r
(
Çme
, 
ty³
);

21 
this
.
size
 = size;

22 
this
.
³s
 =…es;

23 
this
.
ms
 = mips;

24 
this
.
¿m
 =„am;

25 
	}
}

27 
public
 
	$£tSize
(
size
) {

28 
this
.
size
 = size;

29 
	}
}

31 
public
 
	$g‘Size
() {

32  
size
;

33 
	}
}

35 
public
 
	$£tPes
(
³s
) {

36 
this
.
³s
 =…es;

37 
	}
}

39 
public
 
	$g‘Pes
() {

40  
³s
;

41 
	}
}

42 
public
 
	$£tMs
(
ms
) {

43 
this
.
ms
 = mips;

44 
	}
}

46 
public
 
	$g‘Ms
() {

47  
ms
;

48 
	}
}

49 
public
 
	$£tRam
(
¿m
) {

50 
this
.
¿m
 =„am;

51 
	}
}

53 
public
 
	$g‘Ram
() {

54  
¿m
;

55 
	}
}

57 @
Ov”ride


58 
public
 
SŒšg
 
	$toSŒšg
() {

59  "Nod[size=" + 
size
 + "…es=" + 
³s
 + " ms=" + 
ms
 + "„am=" + 
¿m
 + "]";

60 
	}
}

	@src/org/fog/gui/dialog/About.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

4 
impÜt
 
	gjava
.
	gawt
.
	gFÚt
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

8 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

9 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

10 
impÜt
 
	gjavax
.
	gswšg
.
	gImageIcÚ
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

15 @
Suµ»ssW¬nšgs
("serial")

16 şas 
	cAbout
 
ex‹nds
 
	mJDŸlog
 {

18 
public
 
	$About
() {

19 
	`š™UI
();

22 
public
 
fš®
 
	$š™UI
() {

24 
	`£tLayout
(
Ãw
 
	`BoxLayout
(
	`g‘CÚ‹ÁPªe
(), 
BoxLayout
.
Y_AXIS
));

26 
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(0, 10)));

28 
ImageIcÚ
 
icÚ
 = 
Ãw
 
	`ImageIcÚ
("src/logo.png");

29 
JLab–
 
Ïb–
 = 
Ãw
 
	`JLab–
(
icÚ
);

30 
Ïb–
.
	`£tAlignm’tX
(0.5f);

31 
	`add
(
Ïb–
);

33 
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(0, 10)));

35 
JLab–
 
Çme
 = 
Ãw
 
	`JLab–
("CloudSim SDN, 1.00");

36 
Çme
.
	`£tFÚt
(
Ãw
 
	`FÚt
("S”if", 
FÚt
.
BOLD
, 15));

37 
Çme
.
	`£tAlignm’tX
(0.5f);

38 
	`add
(
Çme
);

40 
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(0, 50)));

42 
JBu‰Ú
 
şo£
 = 
Ãw
 
	`JBu‰Ú
("Close");

43 
şo£
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

44 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

45 
	`di¥o£
();

49 
şo£
.
	`£tAlignm’tX
(0.5f);

50 
	`add
(
şo£
);

52 
	`£tMod®™yTy³
(
Mod®™yTy³
.
APPLICATION_MODAL
);

54 
	`£tT™Ë
("About CloudSim");

55 
	`£tDeçuÉClo£O³¿tiÚ
(
DISPOSE_ON_CLOSE
);

56 
	`£tLoÿtiÚR–©iveTo
(
nuÎ
);

57 
	`£tSize
(350, 300);

58 
	}
}

	@src/org/fog/gui/dialog/AddActuator.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

8 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

9 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

10 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gS´šgLayout
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gUIMªag”
;

21 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gAùu©ÜGui
;

22 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿ph
;

23 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gS´šgUt™›s
;

25 @
Suµ»ssW¬nšgs
({ "rawtypes" })

26 
public
 cÏs 
	cAddAùu©Ü
 
ex‹nds
 
	mJDŸlog
 {

27 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -511667786177319577L;

29 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

31 
´iv©e
 
JTextF›ld
 
	maùu©ÜName
;

32 
´iv©e
 
JTextF›ld
 
	maùu©ÜTy³
;

39 
public
 
	$AddAùu©Ü
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

40 
this
.
g¿ph
 = graph;

42 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

44 
	`add
(
	`ü—‹IÅutPª–A»a
(), 
BÜd”Layout
.
CENTER
);

45 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

47 
	`£tT™Ë
("Add Actuator");

48 
	`£tMod®
(
Œue
);

49 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(350, 400));

50 
	`£tResizabË
(
çl£
);

51 
	`·ck
();

52 
	`£tLoÿtiÚR–©iveTo
(
äame
);

53 
	`£tVisibË
(
Œue
);

57 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

59 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

60 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

62 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

63 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

65 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

66 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

67 
	`£tVisibË
(
çl£
);

71 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

72 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

73 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

74 ià(
aùu©ÜName
.
	`g‘Text
(è=ğ
nuÎ
 ||‡ùu©ÜName.g‘Text().
	`Ëngth
() < 1) {

75 
	`´om±
("Pleaseype Actuator‚ame", "Error");

77 if(!
ÿtchedE¼Ü
){

78 
Aùu©ÜGui
 
aùu©Ü
 = 
Ãw
 
	`Aùu©ÜGui
(
aùu©ÜName
.
	`g‘Text
(),

79 
aùu©ÜTy³
.
	`g‘Text
().
	`toSŒšg
());

80 
g¿ph
.
	`addNode
(
aùu©Ü
);

81 
	`£tVisibË
(
çl£
);

87 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

88 
bu‰ÚPª–
.
	`add
(
okBŠ
);

89 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

90 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

91 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

93  
bu‰ÚPª–
;

94 
	}
}

96 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–A»a
() {

98 
JPª–
 
¥ršgPª–
 = 
Ãw
 
	`JPª–
Òew 
	`S´šgLayout
());

99 
¥ršgPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

101 
JLab–
 
lName
 = 
Ãw
 
	`JLab–
("Name: ");

102 
¥ršgPª–
.
	`add
(
lName
);

103 
aùu©ÜName
 = 
Ãw
 
	`JTextF›ld
();

104 
lName
.
	`£tLab–FÜ
(
aùu©ÜName
);

105 
¥ršgPª–
.
	`add
(
aùu©ÜName
);

107 
JLab–
 
lTy³
 = 
Ãw
 
	`JLab–
("Actuator Type : ");

108 
¥ršgPª–
.
	`add
(
lTy³
);

109 
aùu©ÜTy³
 = 
Ãw
 
	`JTextF›ld
();

110 
lName
.
	`£tLab–FÜ
(
aùu©ÜTy³
);

111 
¥ršgPª–
.
	`add
(
aùu©ÜTy³
);

115 
S´šgUt™›s
.
	`makeCom·ùGrid
(
¥ršgPª–
,

119  
¥ršgPª–
;

120 
	}
}

123 
public
 
	$£tUIFÚt
 (
javax
.
swšg
.
¶af
.
FÚtUIResourû
 
f
){

124 
java
.
ut
.
Enum”©iÚ
 
keys
 = 
UIMªag”
.
	`g‘DeçuÉs
().
	`keys
();

125 
keys
.
	`hasMÜeEËm’ts
()) {

126 
Objeù
 
key
 = 
keys
.
	`ÃxtEËm’t
();

127 
Objeù
 
v®ue
 = 
UIMªag”
.
	`g‘
 (
key
);

128 ià(
v®ue
 !ğ
nuÎ
 && v®u
š¡ªûof
 
javax
.
swšg
.
¶af
.
FÚtUIResourû
)

129 
UIMªag”
.
	`put
 (
key
, 
f
);

131 
	}
}

133 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

134 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddAùu©Ü
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

135 
	}
}

	@src/org/fog/gui/dialog/AddActuatorModule.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

8 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

9 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

10 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gS´šgLayout
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gUIMªag”
;

21 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gAùu©ÜModuË
;

22 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿ph
;

23 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gNode
;

24 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gS´šgUt™›s
;

26 @
Suµ»ssW¬nšgs
({ "rawtypes" })

27 
public
 cÏs 
	cAddAùu©ÜModuË
 
ex‹nds
 
	mJDŸlog
 {

28 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -5116677861770319577L;

30 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

32 
´iv©e
 
JTextF›ld
 
	maùu©ÜTy³
;

39 
public
 
	$AddAùu©ÜModuË
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

40 
this
.
g¿ph
 = graph;

42 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

44 
	`add
(
	`ü—‹IÅutPª–A»a
(), 
BÜd”Layout
.
CENTER
);

45 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

47 
	`£tT™Ë
("Add Sensor Module");

48 
	`£tMod®
(
Œue
);

49 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(350, 400));

50 
	`£tResizabË
(
çl£
);

51 
	`·ck
();

52 
	`£tLoÿtiÚR–©iveTo
(
äame
);

53 
	`£tVisibË
(
Œue
);

57 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

59 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

60 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

62 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

63 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

65 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

66 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

67 
	`£tVisibË
(
çl£
);

71 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

72 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

73 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

74 ià(
aùu©ÜTy³
.
	`g‘Text
(è=ğ
nuÎ
 ||‡ùu©ÜTy³.g‘Text().
	`Ëngth
() < 1) {

75 
	`´om±
("Pleaseƒnter Actuator Type", "Error");

77 
Œy
 {

79 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

80 
ÿtchedE¼Ü
 = 
Œue
;

81 
	`´om±
("Input should be‚umerical character", "Error");

83 if(!
ÿtchedE¼Ü
){

84 
Node
 
node
 = 
Ãw
 
	`Aùu©ÜModuË
(
aùu©ÜTy³
.
	`g‘Text
().
	`toSŒšg
());

85 
g¿ph
.
	`addNode
(
node
);

86 
	`£tVisibË
(
çl£
);

92 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

93 
bu‰ÚPª–
.
	`add
(
okBŠ
);

94 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

95 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

96 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

98  
bu‰ÚPª–
;

99 
	}
}

101 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–A»a
() {

103 
JPª–
 
¥ršgPª–
 = 
Ãw
 
	`JPª–
Òew 
	`S´šgLayout
());

104 
¥ršgPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

106 
JLab–
 
lName
 = 
Ãw
 
	`JLab–
("Sensor Type: ");

107 
¥ršgPª–
.
	`add
(
lName
);

108 
aùu©ÜTy³
 = 
Ãw
 
	`JTextF›ld
();

109 
lName
.
	`£tLab–FÜ
(
aùu©ÜTy³
);

110 
¥ršgPª–
.
	`add
(
aùu©ÜTy³
);

114 
S´šgUt™›s
.
	`makeCom·ùGrid
(
¥ršgPª–
,

118  
¥ršgPª–
;

119 
	}
}

121 
public
 
	$£tUIFÚt
 (
javax
.
swšg
.
¶af
.
FÚtUIResourû
 
f
){

122 
java
.
ut
.
Enum”©iÚ
 
keys
 = 
UIMªag”
.
	`g‘DeçuÉs
().
	`keys
();

123 
keys
.
	`hasMÜeEËm’ts
()) {

124 
Objeù
 
key
 = 
keys
.
	`ÃxtEËm’t
();

125 
Objeù
 
v®ue
 = 
UIMªag”
.
	`g‘
 (
key
);

126 ià(
v®ue
 !ğ
nuÎ
 && v®u
š¡ªûof
 
javax
.
swšg
.
¶af
.
FÚtUIResourû
)

127 
UIMªag”
.
	`put
 (
key
, 
f
);

129 
	}
}

131 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

132 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddAùu©ÜModuË
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

133 
	}
}

	@src/org/fog/gui/dialog/AddAppEdge.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gCompÚ’t
;

5 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

6 
impÜt
 
	gjava
.
	gawt
.
	gLab–
;

7 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

8 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

9 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mEv’t
;

10 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mLi¡’”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gComboBoxMod–
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gDeçuÉComboBoxMod–
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gJComboBox
;

23 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

24 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

25 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

26 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

27 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

28 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

29 
impÜt
 
	gjavax
.
	gswšg
.
	gS´šgLayout
;

31 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gEdge
;

32 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿ph
;

33 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gNode
;

34 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gNodeC–lR’d””
;

35 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gS´šgUt™›s
;

38 
public
 cÏs 
	cAddAµEdge
 
ex‹nds
 
	mJDŸlog
 {

39 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 4794808969864918000L;

41 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

42 
´iv©e
 
JComboBox
 
	msourûNode
;

43 
´iv©e
 
JComboBox
 
	mrg‘Node
;

44 
´iv©e
 
JTextF›ld
 
	mtu¶eTy³
;

45 
´iv©e
 
JTextF›ld
 
	mtu¶eCpuL’
;

46 
´iv©e
 
JTextF›ld
 
	mtu¶eNwL’
;

49 
public
 
	$AddAµEdge
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

51 
this
.
g¿ph
 = graph;

53 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

55 
	`add
(
	`ü—‹IÅutPª–
(), 
BÜd”Layout
.
CENTER
);

56 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

58 
	`£tT™Ë
("Add Applicationƒdge");

59 
	`£tMod®
(
Œue
);

60 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(400, 250));

61 
	`£tResizabË
(
çl£
);

62 
	`·ck
();

63 
	`£tLoÿtiÚR–©iveTo
(
äame
);

64 
	`£tVisibË
(
Œue
);

67 @
	`Suµ»ssW¬nšgs
("unchecked")

68 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–
() {

70 
CompÚ’t
 
rigid
 = 
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0));

72 
JPª–
 
šputPª–W¿µ”
 = 
Ãw
 
	`JPª–
();

73 
šputPª–W¿µ”
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(šputPª–W¿µ”, 
BoxLayout
.
PAGE_AXIS
));

75 
JPª–
 
šputPª–
 = 
Ãw
 
	`JPª–
();

76 
šputPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(šputPª–, 
BoxLayout
.
LINE_AXIS
));

78 
JPª–
 
‹xtA»aPª–
 = 
Ãw
 
	`JPª–
();

79 
‹xtA»aPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
ÑextA»aPª–, 
BoxLayout
.
LINE_AXIS
));

81 
JPª–
 
‹xtA»aPª–2
 = 
Ãw
 
	`JPª–
();

82 
‹xtA»aPª–2
.
	`£tLayout
(
Ãw
 
	`BoxLayout
ÑextA»aPª–2, 
BoxLayout
.
LINE_AXIS
));

84 
ComboBoxMod–
 
sourûNodeMod–
 = 
Ãw
 
	`DeçuÉComboBoxMod–
(
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
().
	`toA¼ay
());

86 
sourûNodeMod–
.
	`£tS–eùedI‹m
(
nuÎ
);

88 
sourûNode
 = 
Ãw
 
	`JComboBox
(
sourûNodeMod–
);

89 
rg‘Node
 = 
Ãw
 
	`JComboBox
();

90 
sourûNode
.
	`£tMaximumSize
(sourûNode.
	`g‘P»ã¼edSize
());

91 
sourûNode
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150, sourûNode.
	`g‘P»ã¼edSize
().
height
));

92 
sourûNode
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150, sourûNode.
	`g‘P»ã¼edSize
().
height
));

93 
rg‘Node
.
	`£tMaximumSize
Ñ¬g‘Node.
	`g‘P»ã¼edSize
());

94 
rg‘Node
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150,¬g‘Node.
	`g‘P»ã¼edSize
().
height
));

95 
rg‘Node
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150,¬g‘Node.
	`g‘P»ã¼edSize
().
height
));

97 
NodeC–lR’d””
 
»nd””
 = 
Ãw
 
	`NodeC–lR’d””
();

99 
sourûNode
.
	`£tR’d””
(
»nd””
);

100 
rg‘Node
.
	`£tR’d””
(
»nd””
);

102 
sourûNode
.
	`addI‹mLi¡’”
(
Ãw
 
	`I‹mLi¡’”
() {

104 @
Ov”ride


105 
public
 
	`™emS‹Chªged
(
I‹mEv’t
 
e
) {

108 
rg‘Node
.
	`»moveAÎI‹ms
();

109 
Node
 
£ËùedNode
 = (Nodeè
sourûNode
.
	`g‘S–eùedI‹m
();

111 ià(
£ËùedNode
 !ğ
nuÎ
) {

113 
Li¡
<
Node
> 
nodesToDi¥Ïy
 = 
Ãw
 
A¼ayLi¡
<Node>();

114 
S‘
<
Node
> 
®lNodes
 = 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
();

117 
Li¡
<
Edge
> 
edgesFÜS–eùedNode
 = 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`g‘
(
£ËùedNode
);

118 
S‘
<
Node
> 
nodesInEdges
 = 
Ãw
 
HashS‘
<Node>();

119 
Edge
 
edge
 : 
edgesFÜS–eùedNode
) {

120 
nodesInEdges
.
	`add
(
edge
.
	`g‘Node
());

123 
Node
 
node
 : 
®lNodes
) {

124 ià(!
node
.
	`equ®s
(
£ËùedNode
è&& !
nodesInEdges
.
	`cÚšs
(node)) {

125 
nodesToDi¥Ïy
.
	`add
(
node
);

129 
ComboBoxMod–
 
rg‘NodeMod–
 = 
Ãw
 
	`DeçuÉComboBoxMod–
(
nodesToDi¥Ïy
.
	`toA¼ay
());

130 
rg‘Node
.
	`£tMod–
(
rg‘NodeMod–
);

135 
šputPª–
.
	`add
(
sourûNode
);

136 
šputPª–
.
	`add
(
Ãw
 
	`Lab–
("--->"));

137 
šputPª–
.
	`add
(
rg‘Node
);

138 
šputPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

139 
šputPª–W¿µ”
.
	`add
(
šputPª–
);

143 
JPª–
 
¥ršgPª–
 = 
Ãw
 
	`JPª–
Òew 
	`S´šgLayout
());

147 
JLab–
 
tu¶eTy³Lab–
 = 
Ãw
 
	`JLab–
("Tuple Type : ");

148 
¥ršgPª–
.
	`add
(
tu¶eTy³Lab–
);

149 
tu¶eTy³
 = 
Ãw
 
	`JTextF›ld
();

150 
tu¶eTy³Lab–
.
	`£tLab–FÜ
(
tu¶eTy³
);

151 
¥ršgPª–
.
	`add
(
tu¶eTy³
);

153 
JLab–
 
tu¶eCpuL’Lab–
 = 
Ãw
 
	`JLab–
("Tuple CPU Len : ");

154 
¥ršgPª–
.
	`add
(
tu¶eCpuL’Lab–
);

155 
tu¶eCpuL’
 = 
Ãw
 
	`JTextF›ld
();

156 
tu¶eCpuL’Lab–
.
	`£tLab–FÜ
(
tu¶eCpuL’
);

157 
¥ršgPª–
.
	`add
(
tu¶eCpuL’
);

159 
JLab–
 
tu¶eNwL’Lab–
 = 
Ãw
 
	`JLab–
("Tuple NW Len : ");

160 
¥ršgPª–
.
	`add
(
tu¶eNwL’Lab–
);

161 
tu¶eNwL’
 = 
Ãw
 
	`JTextF›ld
();

162 
tu¶eNwL’Lab–
.
	`£tLab–FÜ
(
tu¶eNwL’
);

163 
¥ršgPª–
.
	`add
(
tu¶eNwL’
);

165 
S´šgUt™›s
.
	`makeCom·ùGrid
(
¥ršgPª–
,

170 
šputPª–W¿µ”
.
	`add
(
¥ršgPª–
);

172  
šputPª–W¿µ”
;

173 
	}
}

175 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

177 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

178 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

180 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

181 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

183 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

184 @
Ov”ride


185 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

186 
	`£tVisibË
(
çl£
);

190 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

191 @
Ov”ride


192 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

194 
SŒšg
 
Çme
 = "default";

195 
bªdwidth
 = 0;

196 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

198 ià(
tu¶eTy³
.
	`g‘Text
(è=ğ
nuÎ
 ||u¶eTy³.g‘Text().
	`isEm±y
()) {

199 
ÿtchedE¼Ü
 = 
Œue
;

200 
	`´om±
("Pleaseƒnter Tuple Type", "Error");

201 } ià(
tu¶eCpuL’
.
	`g‘Text
(è=ğ
nuÎ
 ||u¶eCpuL’.g‘Text().
	`isEm±y
()) {

202 
ÿtchedE¼Ü
 = 
Œue
;

203 
	`´om±
("Pleaseƒnter Tuple CPU Length", "Error");

204 } ià(
tu¶eNwL’
.
	`g‘Text
(è=ğ
nuÎ
 ||u¶eNwL’.g‘Text().
	`isEm±y
()) {

205 
ÿtchedE¼Ü
 = 
Œue
;

206 
	`´om±
("Pleaseƒnter Tuple NW Length", "Error");

209 
Çme
 = ((
Node
)
sourûNode
.
	`g‘S–eùedI‹m
()).
	`g‘Name
()+"-"+((Node)sourceNode.getSelectedItem()).getName();

213 ià(!
ÿtchedE¼Ü
) {

214 ià(
sourûNode
.
	`g‘S–eùedI‹m
(è=ğ
nuÎ
 || 
rg‘Node
.getSelectedItem() ==‚ull) {

215 
	`´om±
("Please select‚ode", "Error");

218 
Node
 
sourû
 = (Nodeè
sourûNode
.
	`g‘S–eùedI‹m
();

219 
Node
 
rg‘
 = (Nodeè
rg‘Node
.
	`g‘S–eùedI‹m
();

221 
Edge
 
edge
 = 
Ãw
 
	`Edge
(
rg‘
, 
Çme
, 
bªdwidth
);

222 
g¿ph
.
	`addEdge
(
sourû
, 
edge
);

224 
	`£tVisibË
(
çl£
);

231 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

232 
bu‰ÚPª–
.
	`add
(
okBŠ
);

233 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

234 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

235 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(10, 10, 10, 10));

237  
bu‰ÚPª–
;

238 
	}
}

240 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

241 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddAµEdge
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

242 
	}
}

	@src/org/fog/gui/dialog/AddApplicationModule.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

8 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

9 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

10 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gS´šgLayout
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gUIMªag”
;

21 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gAµModuË
;

22 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿ph
;

23 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gNode
;

24 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gS´šgUt™›s
;

26 @
Suµ»ssW¬nšgs
({ "rawtypes" })

27 
public
 cÏs 
	cAddAµliÿtiÚModuË
 
ex‹nds
 
	mJDŸlog
 {

28 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -5116677861770319577L;

30 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

32 
´iv©e
 
JTextF›ld
 
	mtfName
;

39 
public
 
	$AddAµliÿtiÚModuË
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

40 
this
.
g¿ph
 = graph;

42 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

44 
	`add
(
	`ü—‹IÅutPª–A»a
(), 
BÜd”Layout
.
CENTER
);

45 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

47 
	`£tT™Ë
("Add Application Module");

48 
	`£tMod®
(
Œue
);

49 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(350, 400));

50 
	`£tResizabË
(
çl£
);

51 
	`·ck
();

52 
	`£tLoÿtiÚR–©iveTo
(
äame
);

53 
	`£tVisibË
(
Œue
);

57 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

59 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

60 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

62 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

63 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

65 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

66 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

67 
	`£tVisibË
(
çl£
);

71 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

72 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

73 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

74 ià(
tfName
.
	`g‘Text
(è=ğ
nuÎ
 ||fName.g‘Text().
	`Ëngth
() < 1) {

75 
	`´om±
("Pleaseype VM‚ame", "Error");

77 
Œy
 {

79 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

80 
ÿtchedE¼Ü
 = 
Œue
;

81 
	`´om±
("Input should be‚umerical character", "Error");

83 if(!
ÿtchedE¼Ü
){

84 
Node
 
node
 = 
Ãw
 
	`AµModuË
(
tfName
.
	`g‘Text
().
	`toSŒšg
());

85 
g¿ph
.
	`addNode
(
node
);

86 
	`£tVisibË
(
çl£
);

92 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

93 
bu‰ÚPª–
.
	`add
(
okBŠ
);

94 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

95 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

96 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

98  
bu‰ÚPª–
;

99 
	}
}

101 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–A»a
() {

103 
JPª–
 
¥ršgPª–
 = 
Ãw
 
	`JPª–
Òew 
	`S´šgLayout
());

104 
¥ršgPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

106 
JLab–
 
lName
 = 
Ãw
 
	`JLab–
("Name: ");

107 
¥ršgPª–
.
	`add
(
lName
);

108 
tfName
 = 
Ãw
 
	`JTextF›ld
();

109 
lName
.
	`£tLab–FÜ
(
tfName
);

110 
¥ršgPª–
.
	`add
(
tfName
);

114 
S´šgUt™›s
.
	`makeCom·ùGrid
(
¥ršgPª–
,

118  
¥ršgPª–
;

119 
	}
}

121 
public
 
	$£tUIFÚt
 (
javax
.
swšg
.
¶af
.
FÚtUIResourû
 
f
){

122 
java
.
ut
.
Enum”©iÚ
 
keys
 = 
UIMªag”
.
	`g‘DeçuÉs
().
	`keys
();

123 
keys
.
	`hasMÜeEËm’ts
()) {

124 
Objeù
 
key
 = 
keys
.
	`ÃxtEËm’t
();

125 
Objeù
 
v®ue
 = 
UIMªag”
.
	`g‘
 (
key
);

126 ià(
v®ue
 !ğ
nuÎ
 && v®u
š¡ªûof
 
javax
.
swšg
.
¶af
.
FÚtUIResourû
)

127 
UIMªag”
.
	`put
 (
key
, 
f
);

129 
	}
}

131 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

132 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddAµliÿtiÚModuË
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

133 
	}
}

	@src/org/fog/gui/dialog/AddFogDevice.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

8 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

9 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

10 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gS´šgLayout
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gUIMªag”
;

21 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gFogDeviûGui
;

22 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿ph
;

23 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gS´šgUt™›s
;

25 @
Suµ»ssW¬nšgs
({ "rawtypes" })

26 
public
 cÏs 
	cAddFogDeviû
 
ex‹nds
 
	mJDŸlog
 {

27 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -5116677861770319577L;

29 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

31 
´iv©e
 
JLab–
 
	mdeviûNameLab–
;

32 
´iv©e
 
JLab–
 
	mupBwLab–
;

33 
´iv©e
 
JLab–
 
	mdownBwLab–
;

34 
´iv©e
 
JLab–
 
	mmsLab–
;

35 
´iv©e
 
JLab–
 
	m¿mLab–
;

36 
´iv©e
 
JLab–
 
	mËv–Lab–
;

37 
´iv©e
 
JLab–
 
	m¿‹Lab–
;

39 
´iv©e
 
JTextF›ld
 
	mdeviûName
;

40 
´iv©e
 
JTextF›ld
 
	mupBw
;

41 
´iv©e
 
JTextF›ld
 
	mdownBw
;

42 
´iv©e
 
JTextF›ld
 
	mms
;

43 
´iv©e
 
JTextF›ld
 
	m¿m
;

44 
´iv©e
 
JTextF›ld
 
	mËv–
;

45 
´iv©e
 
JTextF›ld
 
	m¿‹
;

48 
public
 
	$AddFogDeviû
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

49 
this
.
g¿ph
 = graph;

51 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

53 
	`add
(
	`ü—‹IÅutPª–A»a
(), 
BÜd”Layout
.
CENTER
);

54 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

56 
	`£tT™Ë
("Add Fog Device");

57 
	`£tMod®
(
Œue
);

58 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(350, 380));

59 
	`£tResizabË
(
çl£
);

60 
	`·ck
();

61 
	`£tLoÿtiÚR–©iveTo
(
äame
);

62 
	`£tVisibË
(
Œue
);

66 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

68 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

69 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

71 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

72 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

74 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

75 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

76 
	`£tVisibË
(
çl£
);

80 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

81 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

82 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

83 ià(
deviûName
.
	`g‘Text
(è=ğ
nuÎ
 || deviûName.g‘Text().
	`Ëngth
() < 1) {

84 
	`´om±
("Pleaseype VM‚ame", "Error");

85 } ià(
upBw
.
	`g‘Text
(è=ğ
nuÎ
 || upBw.g‘Text().
	`Ëngth
() < 1) {

86 
	`´om±
("Pleaseƒnter uplink BW", "Error");

87 } ià(
downBw
.
	`g‘Text
(è=ğ
nuÎ
 || downBw.g‘Text().
	`Ëngth
() < 1) {

88 
	`´om±
("Pleaseƒnter downlink BW", "Error");

89 } ià(
ms
.
	`g‘Text
(è=ğ
nuÎ
 || ms.g‘Text().
	`Ëngth
() < 1) {

90 
	`´om±
("Pleaseƒnter MIPS", "Error");

91 } ià(
¿m
.
	`g‘Text
(è=ğ
nuÎ
 ||„am.g‘Text().
	`Ëngth
() < 1) {

92 
	`´om±
("Pleaseƒnter RAM", "Error");

93 } ià(
Ëv–
.
	`g‘Text
(è=ğ
nuÎ
 ||†ev–.g‘Text().
	`Ëngth
() < 1) {

94 
	`´om±
("Pleaseƒnter Level", "Error");

95 } ià(
¿‹
.
	`g‘Text
(è=ğ
nuÎ
 ||„©e.g‘Text().
	`Ëngth
() < 1) {

96 
	`´om±
("Pleaseƒnter Rate", "Error");

98 
upBw_
=-1, 
downBw_
=-1, 
ms_
=-1; 
¿m_
=-1, 
Ëv–_
=-1;
¿‹_
 = -1;

99 
Œy
 {

100 
upBw_
 = 
LÚg
.
	`·r£LÚg
(
upBw
.
	`g‘Text
());

101 
downBw_
 = 
LÚg
.
	`·r£LÚg
(
downBw
.
	`g‘Text
());

102 
ms_
 = 
LÚg
.
	`·r£LÚg
(
ms
.
	`g‘Text
());

103 
¿m_
 = 
IÁeg”
.
	`·r£IÁ
(
¿m
.
	`g‘Text
());

104 
Ëv–_
 = 
IÁeg”
.
	`·r£IÁ
(
Ëv–
.
	`g‘Text
());

105 
¿‹_
 = 
DoubË
.
	`·r£DoubË
(
¿‹
.
	`g‘Text
());

106 
ÿtchedE¼Ü
 = 
çl£
;

107 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

108 
ÿtchedE¼Ü
 = 
Œue
;

109 
	`´om±
("Input should be‚umerical character", "Error");

111 if(!
ÿtchedE¼Ü
){

112 
FogDeviûGui
 
fogDeviû
 = 
Ãw
 
	`FogDeviûGui
(
deviûName
.
	`g‘Text
().
	`toSŒšg
(), 
ms_
, 
¿m_
, 
upBw_
, 
downBw_
, 
Ëv–_
, 
¿‹_
);

113 
g¿ph
.
	`addNode
(
fogDeviû
);

114 
	`£tVisibË
(
çl£
);

120 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

121 
bu‰ÚPª–
.
	`add
(
okBŠ
);

122 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

123 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

124 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

126  
bu‰ÚPª–
;

127 
	}
}

129 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–A»a
() {

131 
JPª–
 
¥ršgPª–
 = 
Ãw
 
	`JPª–
Òew 
	`S´šgLayout
());

134 
deviûNameLab–
 = 
Ãw
 
	`JLab–
("Name: ");

135 
¥ršgPª–
.
	`add
(
deviûNameLab–
);

136 
deviûName
 = 
Ãw
 
	`JTextF›ld
();

137 
deviûNameLab–
.
	`£tLab–FÜ
(
deviûName
);

138 
¥ršgPª–
.
	`add
(
deviûName
);

140 
Ëv–Lab–
 = 
Ãw
 
	`JLab–
("Level: ");

141 
¥ršgPª–
.
	`add
(
Ëv–Lab–
);

142 
Ëv–
 = 
Ãw
 
	`JTextF›ld
();

143 
Ëv–Lab–
.
	`£tLab–FÜ
(
Ëv–
);

144 
¥ršgPª–
.
	`add
(
Ëv–
);

146 
upBwLab–
 = 
Ãw
 
	`JLab–
("Uplink Bw: ");

147 
¥ršgPª–
.
	`add
(
upBwLab–
);

148 
upBw
 = 
Ãw
 
	`JTextF›ld
();

149 
upBwLab–
.
	`£tLab–FÜ
(
upBw
);

150 
¥ršgPª–
.
	`add
(
upBw
);

152 
downBwLab–
 = 
Ãw
 
	`JLab–
("Downlink Bw: ");

153 
¥ršgPª–
.
	`add
(
downBwLab–
);

154 
downBw
 = 
Ãw
 
	`JTextF›ld
();

155 
downBwLab–
.
	`£tLab–FÜ
(
downBw
);

156 
¥ršgPª–
.
	`add
(
downBw
);

160 
msLab–
 = 
Ãw
 
	`JLab–
("Mips: ");

161 
¥ršgPª–
.
	`add
(
msLab–
);

162 
ms
 = 
Ãw
 
	`JTextF›ld
();

163 
msLab–
.
	`£tLab–FÜ
(
ms
);

164 
¥ršgPª–
.
	`add
(
ms
);

166 
¿mLab–
 = 
Ãw
 
	`JLab–
("Ram: ");

167 
¥ršgPª–
.
	`add
(
¿mLab–
);

168 
¿m
 = 
Ãw
 
	`JTextF›ld
();

169 
¿mLab–
.
	`£tLab–FÜ
(
¿m
);

170 
¥ršgPª–
.
	`add
(
¿m
);

172 
¿‹Lab–
 = 
Ãw
 
	`JLab–
("Rate/MIPS: ");

173 
¥ršgPª–
.
	`add
(
¿‹Lab–
);

174 
¿‹
 = 
Ãw
 
	`JTextF›ld
();

175 
¿‹Lab–
.
	`£tLab–FÜ
(
¿‹
);

176 
¥ršgPª–
.
	`add
(
¿‹
);

180 
S´šgUt™›s
.
	`makeCom·ùGrid
(
¥ršgPª–
,

185  
¥ršgPª–
;

186 
	}
}

188 
public
 
	$£tUIFÚt
 (
javax
.
swšg
.
¶af
.
FÚtUIResourû
 
f
){

189 
java
.
ut
.
Enum”©iÚ
 
keys
 = 
UIMªag”
.
	`g‘DeçuÉs
().
	`keys
();

190 
keys
.
	`hasMÜeEËm’ts
()) {

191 
Objeù
 
key
 = 
keys
.
	`ÃxtEËm’t
();

192 
Objeù
 
v®ue
 = 
UIMªag”
.
	`g‘
 (
key
);

193 ià(
v®ue
 !ğ
nuÎ
 && v®u
š¡ªûof
 
javax
.
swšg
.
¶af
.
FÚtUIResourû
)

194 
UIMªag”
.
	`put
 (
key
, 
f
);

196 
	}
}

198 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

199 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddFogDeviû
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

200 
	}
}

	@src/org/fog/gui/dialog/AddLink.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gCompÚ’t
;

5 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

6 
impÜt
 
	gjava
.
	gawt
.
	gLab–
;

7 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

8 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

9 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mEv’t
;

10 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mLi¡’”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gComboBoxMod–
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gDeçuÉComboBoxMod–
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gJComboBox
;

23 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

24 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

25 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

26 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

27 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

28 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

30 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gEdge
;

31 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿ph
;

32 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gLšk
;

33 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gNode
;

34 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gNodeC–lR’d””
;

37 
public
 cÏs 
	cAddLšk
 
ex‹nds
 
	mJDŸlog
 {

38 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 4794808969864918000L;

40 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

41 
´iv©e
 
JComboBox
 
	msourûNode
;

42 
´iv©e
 
JComboBox
 
	mrg‘Node
;

43 
´iv©e
 
JTextF›ld
 
	mtfL©’cy
;

46 
public
 
	$AddLšk
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

48 
this
.
g¿ph
 = graph;

50 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

52 
	`add
(
	`ü—‹IÅutPª–
(), 
BÜd”Layout
.
CENTER
);

53 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

55 
	`£tT™Ë
("Add Link");

56 
	`£tMod®
(
Œue
);

57 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(400, 200));

58 
	`£tResizabË
(
çl£
);

59 
	`·ck
();

60 
	`£tLoÿtiÚR–©iveTo
(
äame
);

61 
	`£tVisibË
(
Œue
);

64 @
	`Suµ»ssW¬nšgs
("unchecked")

65 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–
() {

67 
CompÚ’t
 
rigid
 = 
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0));

69 
JPª–
 
šputPª–W¿µ”
 = 
Ãw
 
	`JPª–
();

70 
šputPª–W¿µ”
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(šputPª–W¿µ”, 
BoxLayout
.
PAGE_AXIS
));

72 
JPª–
 
šputPª–
 = 
Ãw
 
	`JPª–
();

73 
šputPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(šputPª–, 
BoxLayout
.
LINE_AXIS
));

75 
JPª–
 
‹xtA»aPª–
 = 
Ãw
 
	`JPª–
();

76 
‹xtA»aPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
ÑextA»aPª–, 
BoxLayout
.
LINE_AXIS
));

78 
ComboBoxMod–
 
sourûNodeMod–
 = 
Ãw
 
	`DeçuÉComboBoxMod–
(
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
().
	`toA¼ay
());

80 
sourûNodeMod–
.
	`£tS–eùedI‹m
(
nuÎ
);

82 
sourûNode
 = 
Ãw
 
	`JComboBox
(
sourûNodeMod–
);

83 
rg‘Node
 = 
Ãw
 
	`JComboBox
();

84 
sourûNode
.
	`£tMaximumSize
(sourûNode.
	`g‘P»ã¼edSize
());

85 
sourûNode
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150, sourûNode.
	`g‘P»ã¼edSize
().
height
));

86 
sourûNode
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150, sourûNode.
	`g‘P»ã¼edSize
().
height
));

87 
rg‘Node
.
	`£tMaximumSize
Ñ¬g‘Node.
	`g‘P»ã¼edSize
());

88 
rg‘Node
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150,¬g‘Node.
	`g‘P»ã¼edSize
().
height
));

89 
rg‘Node
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150,¬g‘Node.
	`g‘P»ã¼edSize
().
height
));

91 
NodeC–lR’d””
 
»nd””
 = 
Ãw
 
	`NodeC–lR’d””
();

93 
sourûNode
.
	`£tR’d””
(
»nd””
);

94 
rg‘Node
.
	`£tR’d””
(
»nd””
);

96 
sourûNode
.
	`addI‹mLi¡’”
(
Ãw
 
	`I‹mLi¡’”
() {

98 @
Ov”ride


99 
public
 
	`™emS‹Chªged
(
I‹mEv’t
 
e
) {

102 
rg‘Node
.
	`»moveAÎI‹ms
();

103 
Node
 
£ËùedNode
 = (Nodeè
sourûNode
.
	`g‘S–eùedI‹m
();

105 ià(
£ËùedNode
 !ğ
nuÎ
) {

107 
Li¡
<
Node
> 
nodesToDi¥Ïy
 = 
Ãw
 
A¼ayLi¡
<Node>();

108 
S‘
<
Node
> 
®lNodes
 = 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
();

111 
Li¡
<
Edge
> 
edgesFÜS–eùedNode
 = 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`g‘
(
£ËùedNode
);

112 
S‘
<
Node
> 
nodesInEdges
 = 
Ãw
 
HashS‘
<Node>();

113 
Edge
 
edge
 : 
edgesFÜS–eùedNode
) {

114 
nodesInEdges
.
	`add
(
edge
.
	`g‘Node
());

116 if(!(
£ËùedNode
.
	`g‘Ty³
().
	`equ®s
("SENSOR")||£ËùedNode.g‘Ty³().equ®s("ACTUATOR")è|| 
edgesFÜS–eùedNode
.
	`size
()==0){

117 
Node
 
node
 : 
®lNodes
) {

118 if((
£ËùedNode
.
	`g‘Ty³
().
	`equ®s
("SENSOR")||£ËùedNode.g‘Ty³().equ®s("ACTUATOR")è&& !
node
.getType().equals("FOG_DEVICE"))

120 ià(!
node
.
	`equ®s
(
£ËùedNode
è&& !
nodesInEdges
.
	`cÚšs
(node)) {

121 
nodesToDi¥Ïy
.
	`add
(
node
);

127 
ComboBoxMod–
 
rg‘NodeMod–
 = 
Ãw
 
	`DeçuÉComboBoxMod–
(
nodesToDi¥Ïy
.
	`toA¼ay
());

128 
rg‘Node
.
	`£tMod–
(
rg‘NodeMod–
);

133 
šputPª–
.
	`add
(
sourûNode
);

134 
šputPª–
.
	`add
(
Ãw
 
	`Lab–
("---->"));

135 
šputPª–
.
	`add
(
rg‘Node
);

136 
šputPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

137 
šputPª–W¿µ”
.
	`add
(
šputPª–
);

139 
‹xtA»aPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

140 
‹xtA»aPª–
.
	`add
(
Ãw
 
	`JLab–
("Latency: "));

141 
tfL©’cy
 = 
Ãw
 
	`JTextF›ld
();

142 
tfL©’cy
.
	`£tMaximumSize
ÑfL©’cy.
	`g‘P»ã¼edSize
());

143 
tfL©’cy
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150,fL©’cy.
	`g‘P»ã¼edSize
().
height
));

144 
tfL©’cy
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150,fL©’cy.
	`g‘P»ã¼edSize
().
height
));

146 
‹xtA»aPª–
.
	`add
(
tfL©’cy
);

147 
‹xtA»aPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

149 
šputPª–W¿µ”
.
	`add
(
‹xtA»aPª–
);

150 
šputPª–W¿µ”
.
	`add
(
Box
.
	`ü—‹V”tiÿlGlue
());

152 
šputPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(10, 10, 10, 10));

154  
šputPª–W¿µ”
;

155 
	}
}

157 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

159 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

160 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

162 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

163 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

165 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

166 @
Ov”ride


167 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

168 
	`£tVisibË
(
çl£
);

172 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

173 @
Ov”ride


174 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

176 
Ï‹ncy
 = 0;

177 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

179 ià(
tfL©’cy
.
	`g‘Text
(è=ğ
nuÎ
 ||fL©’cy.g‘Text().
	`isEm±y
()) {

180 
ÿtchedE¼Ü
 = 
Œue
;

181 
	`´om±
("Pleaseype†atency", "Error");

183 
Œy
 {

184 
Ï‹ncy
 = 
DoubË
.
	`v®ueOf
(
tfL©’cy
.
	`g‘Text
());

185 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

186 
ÿtchedE¼Ü
 = 
Œue
;

187 
	`´om±
("Latency should be doubleype", "Error");

191 ià(!
ÿtchedE¼Ü
) {

192 ià(
sourûNode
.
	`g‘S–eùedI‹m
(è=ğ
nuÎ
 || 
rg‘Node
.getSelectedItem() ==‚ull) {

193 
	`´om±
("Please select‚ode", "Error");

196 
Node
 
sourû
 = (Nodeè
sourûNode
.
	`g‘S–eùedI‹m
();

197 
Node
 
rg‘
 = (Nodeè
rg‘Node
.
	`g‘S–eùedI‹m
();

199 
Lšk
 
edge
 = 
Ãw
 
	`Lšk
(
rg‘
, 
Ï‹ncy
);

200 
g¿ph
.
	`addEdge
(
sourû
, 
edge
);

202 
	`£tVisibË
(
çl£
);

209 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

210 
bu‰ÚPª–
.
	`add
(
okBŠ
);

211 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

212 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

213 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(10, 10, 10, 10));

215  
bu‰ÚPª–
;

216 
	}
}

218 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

219 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddLšk
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

220 
	}
}

	@src/org/fog/gui/dialog/AddPhysicalEdge.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gCompÚ’t
;

5 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

6 
impÜt
 
	gjava
.
	gawt
.
	gLab–
;

7 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

8 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

9 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mEv’t
;

10 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mLi¡’”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gComboBoxMod–
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gDeçuÉComboBoxMod–
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gJComboBox
;

23 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

24 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

25 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

26 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

27 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

28 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

30 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gEdge
;

31 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿ph
;

32 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gNode
;

33 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gNodeC–lR’d””
;

36 
public
 cÏs 
	cAddPhysiÿlEdge
 
ex‹nds
 
	mJDŸlog
 {

37 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 4794808969864918000L;

39 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

40 
´iv©e
 
JComboBox
 
	msourûNode
;

41 
´iv©e
 
JComboBox
 
	mrg‘Node
;

42 
´iv©e
 
JTextF›ld
 
	mtfL©’cy
;

45 
public
 
	$AddPhysiÿlEdge
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

47 
this
.
g¿ph
 = graph;

49 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

51 
	`add
(
	`ü—‹IÅutPª–
(), 
BÜd”Layout
.
CENTER
);

52 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

54 
	`£tT™Ë
("Add Physical Topologyƒdge");

55 
	`£tMod®
(
Œue
);

56 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(400, 200));

57 
	`£tResizabË
(
çl£
);

58 
	`·ck
();

59 
	`£tLoÿtiÚR–©iveTo
(
äame
);

60 
	`£tVisibË
(
Œue
);

63 @
	`Suµ»ssW¬nšgs
("unchecked")

64 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–
() {

66 
CompÚ’t
 
rigid
 = 
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0));

68 
JPª–
 
šputPª–W¿µ”
 = 
Ãw
 
	`JPª–
();

69 
šputPª–W¿µ”
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(šputPª–W¿µ”, 
BoxLayout
.
PAGE_AXIS
));

71 
JPª–
 
šputPª–
 = 
Ãw
 
	`JPª–
();

72 
šputPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(šputPª–, 
BoxLayout
.
LINE_AXIS
));

74 
JPª–
 
‹xtA»aPª–
 = 
Ãw
 
	`JPª–
();

75 
‹xtA»aPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
ÑextA»aPª–, 
BoxLayout
.
LINE_AXIS
));

77 
ComboBoxMod–
 
sourûNodeMod–
 = 
Ãw
 
	`DeçuÉComboBoxMod–
(
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
().
	`toA¼ay
());

79 
sourûNodeMod–
.
	`£tS–eùedI‹m
(
nuÎ
);

81 
sourûNode
 = 
Ãw
 
	`JComboBox
(
sourûNodeMod–
);

82 
rg‘Node
 = 
Ãw
 
	`JComboBox
();

83 
sourûNode
.
	`£tMaximumSize
(sourûNode.
	`g‘P»ã¼edSize
());

84 
sourûNode
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150, sourûNode.
	`g‘P»ã¼edSize
().
height
));

85 
sourûNode
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150, sourûNode.
	`g‘P»ã¼edSize
().
height
));

86 
rg‘Node
.
	`£tMaximumSize
Ñ¬g‘Node.
	`g‘P»ã¼edSize
());

87 
rg‘Node
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150,¬g‘Node.
	`g‘P»ã¼edSize
().
height
));

88 
rg‘Node
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150,¬g‘Node.
	`g‘P»ã¼edSize
().
height
));

90 
NodeC–lR’d””
 
»nd””
 = 
Ãw
 
	`NodeC–lR’d””
();

92 
sourûNode
.
	`£tR’d””
(
»nd””
);

93 
rg‘Node
.
	`£tR’d””
(
»nd””
);

95 
sourûNode
.
	`addI‹mLi¡’”
(
Ãw
 
	`I‹mLi¡’”
() {

97 @
Ov”ride


98 
public
 
	`™emS‹Chªged
(
I‹mEv’t
 
e
) {

101 
rg‘Node
.
	`»moveAÎI‹ms
();

102 
Node
 
£ËùedNode
 = (Nodeè
sourûNode
.
	`g‘S–eùedI‹m
();

104 ià(
£ËùedNode
 !ğ
nuÎ
) {

106 
Li¡
<
Node
> 
nodesToDi¥Ïy
 = 
Ãw
 
A¼ayLi¡
<Node>();

107 
S‘
<
Node
> 
®lNodes
 = 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
();

110 
Li¡
<
Edge
> 
edgesFÜS–eùedNode
 = 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`g‘
(
£ËùedNode
);

111 
S‘
<
Node
> 
nodesInEdges
 = 
Ãw
 
HashS‘
<Node>();

112 
Edge
 
edge
 : 
edgesFÜS–eùedNode
) {

113 
nodesInEdges
.
	`add
(
edge
.
	`g‘Node
());

116 
Node
 
node
 : 
®lNodes
) {

117 ià(!
node
.
	`equ®s
(
£ËùedNode
è&& !
nodesInEdges
.
	`cÚšs
(node)) {

118 
nodesToDi¥Ïy
.
	`add
(
node
);

122 
ComboBoxMod–
 
rg‘NodeMod–
 = 
Ãw
 
	`DeçuÉComboBoxMod–
(
nodesToDi¥Ïy
.
	`toA¼ay
());

123 
rg‘Node
.
	`£tMod–
(
rg‘NodeMod–
);

128 
šputPª–
.
	`add
(
sourûNode
);

129 
šputPª–
.
	`add
(
Ãw
 
	`Lab–
(" ï¿½ï¿½"));

130 
šputPª–
.
	`add
(
rg‘Node
);

131 
šputPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

132 
šputPª–W¿µ”
.
	`add
(
šputPª–
);

134 
‹xtA»aPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

135 
‹xtA»aPª–
.
	`add
(
Ãw
 
	`JLab–
("Latency: "));

136 
tfL©’cy
 = 
Ãw
 
	`JTextF›ld
();

137 
tfL©’cy
.
	`£tMaximumSize
ÑfL©’cy.
	`g‘P»ã¼edSize
());

138 
tfL©’cy
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150,fL©’cy.
	`g‘P»ã¼edSize
().
height
));

139 
tfL©’cy
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150,fL©’cy.
	`g‘P»ã¼edSize
().
height
));

141 
‹xtA»aPª–
.
	`add
(
tfL©’cy
);

142 
‹xtA»aPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

144 
šputPª–W¿µ”
.
	`add
(
‹xtA»aPª–
);

145 
šputPª–W¿µ”
.
	`add
(
Box
.
	`ü—‹V”tiÿlGlue
());

147 
šputPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(10, 10, 10, 10));

149  
šputPª–W¿µ”
;

150 
	}
}

152 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

154 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

155 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

157 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

158 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

160 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

161 @
Ov”ride


162 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

163 
	`£tVisibË
(
çl£
);

167 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

168 @
Ov”ride


169 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

171 
Ï‹ncy
 = 0;

172 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

174 ià(
tfL©’cy
.
	`g‘Text
(è=ğ
nuÎ
 ||fL©’cy.g‘Text().
	`isEm±y
()) {

175 
ÿtchedE¼Ü
 = 
Œue
;

176 
	`´om±
("Pleaseype†atency", "Error");

178 
Œy
 {

179 
Ï‹ncy
 = 
DoubË
.
	`v®ueOf
(
tfL©’cy
.
	`g‘Text
());

180 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

181 
ÿtchedE¼Ü
 = 
Œue
;

182 
	`´om±
("Latency should be doubleype", "Error");

186 ià(!
ÿtchedE¼Ü
) {

187 ià(
sourûNode
.
	`g‘S–eùedI‹m
(è=ğ
nuÎ
 || 
rg‘Node
.getSelectedItem() ==‚ull) {

188 
	`´om±
("Please select‚ode", "Error");

191 
Node
 
sourû
 = (Nodeè
sourûNode
.
	`g‘S–eùedI‹m
();

192 
Node
 
rg‘
 = (Nodeè
rg‘Node
.
	`g‘S–eùedI‹m
();

194 
Edge
 
edge
 = 
Ãw
 
	`Edge
(
rg‘
, 
Ï‹ncy
);

195 
g¿ph
.
	`addEdge
(
sourû
, 
edge
);

197 
	`£tVisibË
(
çl£
);

204 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

205 
bu‰ÚPª–
.
	`add
(
okBŠ
);

206 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

207 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

208 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(10, 10, 10, 10));

210  
bu‰ÚPª–
;

211 
	}
}

213 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

214 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddPhysiÿlEdge
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

215 
	}
}

	@src/org/fog/gui/dialog/AddPhysicalNode.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

7 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mEv’t
;

8 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mLi¡’”
;

10 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gJComboBox
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gS´šgLayout
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gUIMªag”
;

24 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿ph
;

25 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gNode
;

26 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gS´šgUt™›s
;

27 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gSw™chNode
;

28 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gHo¡Node
;

30 @
Suµ»ssW¬nšgs
({ "rawtypes", "unchecked" })

31 
public
 cÏs 
	cAddPhysiÿlNode
 
ex‹nds
 
	mJDŸlog
 {

32 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -5116677861770319577L;

34 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

36 
´iv©e
 
JLab–
 
	mlName
;

37 
´iv©e
 
JLab–
 
	mlTy³
;

38 
´iv©e
 
JLab–
 
	mlBw
;

39 
´iv©e
 
JLab–
 
	mlİ1
;

40 
´iv©e
 
JLab–
 
	mlİ2
;

41 
´iv©e
 
JLab–
 
	mlİ3
;

42 
´iv©e
 
JLab–
 
	mlİ4
;

44 
´iv©e
 
JTextF›ld
 
	mtfName
;

45 
´iv©e
 
JComboBox
 
	mcTy³
;

46 
´iv©e
 
JTextF›ld
 
	mtfBw
;

47 
´iv©e
 
JTextF›ld
 
	mtİ1
;

48 
´iv©e
 
JTextF›ld
 
	mtİ2
;

49 
´iv©e
 
JTextF›ld
 
	mtİ3
;

50 
´iv©e
 
JTextF›ld
 
	mtİ4
;

53 
public
 
	$AddPhysiÿlNode
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

54 
this
.
g¿ph
 = graph;

56 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

58 
	`add
(
	`ü—‹IÅutPª–A»a
(), 
BÜd”Layout
.
CENTER
);

59 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

61 
	`£tT™Ë
("Add Physical Node");

62 
	`£tMod®
(
Œue
);

63 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(350, 380));

64 
	`£tResizabË
(
çl£
);

65 
	`·ck
();

66 
	`£tLoÿtiÚR–©iveTo
(
äame
);

67 
	`£tVisibË
(
Œue
);

71 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

73 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

74 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

76 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

77 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

79 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

80 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

81 
	`£tVisibË
(
çl£
);

85 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

86 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

87 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

88 ià(
tfName
.
	`g‘Text
(è=ğ
nuÎ
 ||fName.g‘Text().
	`Ëngth
() < 1) {

89 
	`´om±
("Pleaseype VM‚ame", "Error");

90 } ià(
tfBw
.
	`g‘Text
(è=ğ
nuÎ
 ||fBw.g‘Text().
	`Ëngth
() < 1) {

91 
	`´om±
("Pleaseype VM Bw", "Error");

92 } if(
cTy³
.
	`g‘S–eùedIndex
() < 0) {

93 
	`´om±
("Pleaseype VM Type", "Error");

95 
SŒšg
 
ty³
 = (SŒšg)
cTy³
.
	`g‘S–eùedI‹m
();

96 if("ho¡"==
	`g‘Ty³
(
ty³
)){

97 ià(
tİ1
.
	`g‘Text
(è=ğ
nuÎ
 ||İ1.g‘Text().
	`Ëngth
() < 1) {

98 
	`´om±
("Pleaseype…es", "Error");

99 } ià(
tİ2
.
	`g‘Text
(è=ğ
nuÎ
 ||İ2.g‘Text().
	`Ëngth
() < 1) {

100 
	`´om±
("Pleaseype VM mips", "Error");

101 } ià(
tİ3
.
	`g‘Text
(è=ğ
nuÎ
 ||İ3.g‘Text().
	`Ëngth
() < 1) {

102 
	`´om±
("Pleaseype VM RAM", "Error");

103 } ià(
tİ4
.
	`g‘Text
(è=ğ
nuÎ
 ||İ4.g‘Text().
	`Ëngth
() < 1) {

104 
	`´om±
("Pleaseype VM Storage", "Error");

106 
t1
 = 0;

107 
t2
 = 0;

108 
t3
 = 0;

109 
t4
 = 0;

110 
t5
 = 0;

111 
Œy
 {

112 
t1
 = 
LÚg
.
	`·r£LÚg
(
tİ1
.
	`g‘Text
());

113 
t2
 = 
LÚg
.
	`·r£LÚg
(
tİ2
.
	`g‘Text
());

114 
t3
 = 
IÁeg”
.
	`·r£IÁ
(
tİ3
.
	`g‘Text
());

115 
t4
 = 
LÚg
.
	`·r£LÚg
(
tİ4
.
	`g‘Text
());

116 
t5
 = 
LÚg
.
	`·r£LÚg
(
tfBw
.
	`g‘Text
());

117 
ÿtchedE¼Ü
 = 
çl£
;

118 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

119 
ÿtchedE¼Ü
 = 
Œue
;

120 
	`´om±
("Input should be‚umerical character", "Error");

122 if(!
ÿtchedE¼Ü
){

123 
Node
 
node
 = 
Ãw
 
	`Ho¡Node
(
tfName
.
	`g‘Text
().
	`toSŒšg
(), 
ty³
, 
t1
, 
t2
, 
t3
, 
t4
, 
t5
);

124 
g¿ph
.
	`addNode
(
node
);

125 
	`£tVisibË
(
çl£
);

128 }if("sw™ch"==
	`g‘Ty³
(
ty³
)){

129 ià(
tİ1
.
	`g‘Text
(è=ğ
nuÎ
 ||İ1.g‘Text().
	`Ëngth
() < 1) {

130 
	`´om±
("Pleaseype Iops", "Error");

131 } ià(
tİ2
.
	`g‘Text
(è=ğ
nuÎ
 ||İ2.g‘Text().
	`Ëngth
() < 1) {

132 
	`´om±
("Pleaseype upports", "Error");

133 } ià(
tİ3
.
	`g‘Text
(è=ğ
nuÎ
 ||İ3.g‘Text().
	`Ëngth
() < 1) {

134 
	`´om±
("Pleaseype VM downports", "Error");

136 
t1
 = 0;

137 
t2
 = 0;

138 
t3
 = 0;

139 
t4
 = 0;

140 
Œy
 {

141 
t1
 = 
LÚg
.
	`·r£LÚg
(
tİ1
.
	`g‘Text
());

142 
t2
 = 
IÁeg”
.
	`·r£IÁ
(
tİ2
.
	`g‘Text
());

143 
t3
 = 
IÁeg”
.
	`·r£IÁ
(
tİ3
.
	`g‘Text
());

144 
t4
 = 
LÚg
.
	`·r£LÚg
(
tfBw
.
	`g‘Text
());

145 
ÿtchedE¼Ü
 = 
çl£
;

146 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

147 
ÿtchedE¼Ü
 = 
Œue
;

148 
	`´om±
("Input should be‚umerical character", "Error");

150 if(!
ÿtchedE¼Ü
){

151 
Node
 
node
 = 
Ãw
 
	`Sw™chNode
(
tfName
.
	`g‘Text
().
	`toSŒšg
(), 
ty³
, 
t1
, 
t2
, 
t3
, 
t4
);

152 
g¿ph
.
	`addNode
(
node
);

153 
	`£tVisibË
(
çl£
);

161 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

162 
bu‰ÚPª–
.
	`add
(
okBŠ
);

163 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

164 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

165 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

167  
bu‰ÚPª–
;

168 
	}
}

170 
´iv©e
 
	$upd©ePª–
(
SŒšg
 
ty³
){

171 
ty³
){

174 
lİ1
.
	`£tText
("Iops: ");

175 
lİ2
.
	`£tText
("Upports: ");

176 
lİ3
.
	`£tText
("Downports: ");

177 
lİ4
.
	`£tVisibË
(
çl£
);

179 
tİ1
.
	`£tText
("");

180 
tİ2
.
	`£tText
("");

181 
tİ3
.
	`£tText
("");

182 
tİ4
.
	`£tVisibË
(
çl£
);

186 
lİ1
.
	`£tText
("Pes: ");

187 
lİ2
.
	`£tText
("Mips: ");

188 
lİ3
.
	`£tText
("Ram: ");

189 
lİ4
.
	`£tVisibË
(
Œue
);

190 
lİ4
.
	`£tText
("Storage: ");

192 
tİ1
.
	`£tText
("");

193 
tİ2
.
	`£tText
("");

194 
tİ3
.
	`£tText
("");

195 
tİ4
.
	`£tVisibË
(
Œue
);

196 
tİ4
.
	`£tText
("");

199 
	}
}

200 
´iv©e
 
SŒšg
 
	$g‘Ty³
(
SŒšg
 
ty³
){

201 if("cÜe"==
ty³
 || "edge"==type){

203 } if("ho¡"==
ty³
){

207 
	}
}

208 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–A»a
() {

209 
SŒšg
[] 
vmTy³
 = {"core","edge","host"};

212 
JPª–
 
¥ršgPª–
 = 
Ãw
 
	`JPª–
Òew 
	`S´šgLayout
());

213 
¥ršgPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

215 
lName
 = 
Ãw
 
	`JLab–
("Name: ");

216 
¥ršgPª–
.
	`add
(
lName
);

217 
tfName
 = 
Ãw
 
	`JTextF›ld
();

218 
lName
.
	`£tLab–FÜ
(
tfName
);

219 
¥ršgPª–
.
	`add
(
tfName
);

221 
lTy³
 = 
Ãw
 
	`JLab–
("Type: ");

222 
¥ršgPª–
.
	`add
(
lTy³
);

223 
cTy³
 = 
Ãw
 
	`JComboBox
(
vmTy³
);

224 
lTy³
.
	`£tLab–FÜ
(
cTy³
);

225 
cTy³
.
	`£tS–eùedIndex
(0);

226 
cTy³
.
	`addI‹mLi¡’”
(
Ãw
 
	`I‹mLi¡’”
() {

227 @
Ov”ride


228 
public
 
	`™emS‹Chªged
(
I‹mEv’t
 
e
) {

229 
JComboBox
 
ùy³
 = (JComboBox)
e
.
	`g‘Sourû
();

230 
SŒšg
 
™em
 = (SŒšg)
ùy³
.
	`g‘S–eùedI‹m
();

231 
	`upd©ePª–
(
™em
);

234 
¥ršgPª–
.
	`add
(
cTy³
);

236 
lBw
 = 
Ãw
 
	`JLab–
("Bw: ");

237 
¥ršgPª–
.
	`add
(
lBw
);

238 
tfBw
 = 
Ãw
 
	`JTextF›ld
();

239 
lBw
.
	`£tLab–FÜ
(
tfBw
);

240 
¥ršgPª–
.
	`add
(
tfBw
);

243 
lİ1
 = 
Ãw
 
	`JLab–
("Pes: ");

244 
¥ršgPª–
.
	`add
(
lİ1
);

245 
tİ1
 = 
Ãw
 
	`JTextF›ld
();

246 
lİ1
.
	`£tLab–FÜ
(
tİ1
);

247 
¥ršgPª–
.
	`add
(
tİ1
);

249 
lİ2
 = 
Ãw
 
	`JLab–
("Mips: ");

250 
¥ršgPª–
.
	`add
(
lİ2
);

251 
tİ2
 = 
Ãw
 
	`JTextF›ld
();

252 
lİ2
.
	`£tLab–FÜ
(
tİ2
);

253 
¥ršgPª–
.
	`add
(
tİ2
);

255 
lİ3
 = 
Ãw
 
	`JLab–
("Ram: ");

256 
¥ršgPª–
.
	`add
(
lİ3
);

257 
tİ3
 = 
Ãw
 
	`JTextF›ld
();

258 
lİ3
.
	`£tLab–FÜ
(
tİ3
);

259 
¥ršgPª–
.
	`add
(
tİ3
);

261 
lİ4
 = 
Ãw
 
	`JLab–
("Storage: ");

262 
¥ršgPª–
.
	`add
(
lİ4
);

263 
tİ4
 = 
Ãw
 
	`JTextF›ld
();

264 
lİ4
.
	`£tLab–FÜ
(
tİ4
);

265 
¥ršgPª–
.
	`add
(
tİ4
);

269 
S´šgUt™›s
.
	`makeCom·ùGrid
(
¥ršgPª–
,

273 
	`upd©ePª–
("core");

274  
¥ršgPª–
;

275 
	}
}

277 
public
 
	$£tUIFÚt
 (
javax
.
swšg
.
¶af
.
FÚtUIResourû
 
f
){

278 
java
.
ut
.
Enum”©iÚ
 
keys
 = 
UIMªag”
.
	`g‘DeçuÉs
().
	`keys
();

279 
keys
.
	`hasMÜeEËm’ts
()) {

280 
Objeù
 
key
 = 
keys
.
	`ÃxtEËm’t
();

281 
Objeù
 
v®ue
 = 
UIMªag”
.
	`g‘
 (
key
);

282 ià(
v®ue
 !ğ
nuÎ
 && v®u
š¡ªûof
 
javax
.
swšg
.
¶af
.
FÚtUIResourû
)

283 
UIMªag”
.
	`put
 (
key
, 
f
);

285 
	}
}

287 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

288 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddPhysiÿlNode
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

289 
	}
}

	@src/org/fog/gui/dialog/AddSensor.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

7 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mEv’t
;

8 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mLi¡’”
;

10 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gJComboBox
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gS´šgLayout
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gUIMªag”
;

24 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gS’sÜ
;

25 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿ph
;

26 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gS’sÜGui
;

27 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gS´šgUt™›s
;

29 @
Suµ»ssW¬nšgs
({ "rawtypes", "unchecked" })

30 
public
 cÏs 
	cAddS’sÜ
 
ex‹nds
 
	mJDŸlog
 {

31 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -511667786177319577L;

33 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

35 
´iv©e
 
JTextF›ld
 
	m£nsÜName
;

36 
´iv©e
 
JTextF›ld
 
	m£nsÜTy³
;

37 
´iv©e
 
JComboBox
 
	mdi¡ributiÚ
;

38 
´iv©e
 
JTextF›ld
 
	munifÜmLow”Bound
;

39 
´iv©e
 
JTextF›ld
 
	munifÜmUµ”Bound
;

40 
´iv©e
 
JTextF›ld
 
	md‘”mši¡icV®ue
;

41 
´iv©e
 
JTextF›ld
 
	mnÜm®M—n
;

42 
´iv©e
 
JTextF›ld
 
	mnÜm®StdDev
;

50 
public
 
	$AddS’sÜ
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

51 
this
.
g¿ph
 = graph;

53 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

55 
	`add
(
	`ü—‹IÅutPª–A»a
(), 
BÜd”Layout
.
CENTER
);

56 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

58 
	`£tT™Ë
("Add Sensor");

59 
	`£tMod®
(
Œue
);

60 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(350, 400));

61 
	`£tResizabË
(
çl£
);

62 
	`·ck
();

63 
	`£tLoÿtiÚR–©iveTo
(
äame
);

64 
	`£tVisibË
(
Œue
);

68 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

70 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

71 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

73 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

74 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

76 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

77 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

78 
	`£tVisibË
(
çl£
);

82 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

83 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

84 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

85 ià(
£nsÜName
.
	`g‘Text
(è=ğ
nuÎ
 || s’sÜName.g‘Text().
	`Ëngth
() < 1) {

86 
	`´om±
("Pleaseype Sensor‚ame", "Error");

87 } ià(
£nsÜTy³
.
	`g‘Text
(è=ğ
nuÎ
 || s’sÜTy³.g‘Text().
	`Ëngth
() < 1) {

88 
	`´om±
("Pleaseype Sensor Type", "Error");

89 } ià(
di¡ributiÚ
.
	`g‘S–eùedIndex
() < 0) {

90 
	`´om±
("Please select Emissionime distribution", "Error");

92 
nÜm®M—n_
 = -1;

93 
nÜm®StdDev_
 = -1;

94 
unifÜmLow_
 = -1;

95 
unifÜmUp_
 = -1;

96 
d‘”mši¡icV®_
 = -1;

97 
SŒšg
 
_£nsÜTy³
 = 
£nsÜTy³
.
	`g‘Text
();

98 
SŒšg
 
di¡
 = (SŒšg)
di¡ributiÚ
.
	`g‘S–eùedI‹m
();

99 if(
di¡
.
	`equ®s
("Normal")){

100 
Œy
 {

101 
nÜm®M—n_
 = 
DoubË
.
	`·r£DoubË
(
nÜm®M—n
.
	`g‘Text
());

102 
nÜm®StdDev_
 = 
DoubË
.
	`·r£DoubË
(
nÜm®StdDev
.
	`g‘Text
());

103 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

104 
ÿtchedE¼Ü
 = 
Œue
;

105 
	`´om±
("Input should be‚umerical character", "Error");

107 if(!
ÿtchedE¼Ü
){

108 
S’sÜGui
 
£nsÜ
 = 
Ãw
 
	`S’sÜGui
(
£nsÜName
.
	`g‘Text
().
	`toSŒšg
(), 
_£nsÜTy³
, (
SŒšg
)
di¡ributiÚ
.
	`g‘S–eùedI‹m
(),

109 
nÜm®M—n_
, 
nÜm®StdDev_
, 
unifÜmLow_
, 
unifÜmUp_
, 
d‘”mši¡icV®_
);

110 
g¿ph
.
	`addNode
(
£nsÜ
);

111 
	`£tVisibË
(
çl£
);

113 } if(
di¡
.
	`equ®s
("Uniform")){

114 
Œy
 {

115 
unifÜmLow_
 = 
DoubË
.
	`·r£DoubË
(
unifÜmLow”Bound
.
	`g‘Text
());

116 
unifÜmUp_
 = 
DoubË
.
	`·r£DoubË
(
unifÜmUµ”Bound
.
	`g‘Text
());

117 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

118 
ÿtchedE¼Ü
 = 
Œue
;

119 
	`´om±
("Input should be‚umerical character", "Error");

121 if(!
ÿtchedE¼Ü
){

122 
S’sÜGui
 
£nsÜ
 = 
Ãw
 
	`S’sÜGui
(
£nsÜName
.
	`g‘Text
().
	`toSŒšg
(), 
_£nsÜTy³
, (
SŒšg
)
di¡ributiÚ
.
	`g‘S–eùedI‹m
(),

123 
nÜm®M—n_
, 
nÜm®StdDev_
, 
unifÜmLow_
, 
unifÜmUp_
, 
d‘”mši¡icV®_
);

124 
g¿ph
.
	`addNode
(
£nsÜ
);

125 
	`£tVisibË
(
çl£
);

127 } if(
di¡
.
	`equ®s
("Deterministic")){

128 
Œy
 {

129 
d‘”mši¡icV®_
 = 
DoubË
.
	`·r£DoubË
(
d‘”mši¡icV®ue
.
	`g‘Text
());

130 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

131 
ÿtchedE¼Ü
 = 
Œue
;

132 
	`´om±
("Input should be‚umerical character", "Error");

134 if(!
ÿtchedE¼Ü
){

135 
S’sÜGui
 
£nsÜ
 = 
Ãw
 
	`S’sÜGui
(
£nsÜName
.
	`g‘Text
().
	`toSŒšg
(), 
_£nsÜTy³
, (
SŒšg
)
di¡ributiÚ
.
	`g‘S–eùedI‹m
(),

136 
nÜm®M—n_
, 
nÜm®StdDev_
, 
unifÜmLow_
, 
unifÜmUp_
, 
d‘”mši¡icV®_
);

137 
g¿ph
.
	`addNode
(
£nsÜ
);

138 
	`£tVisibË
(
çl£
);

145 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

146 
bu‰ÚPª–
.
	`add
(
okBŠ
);

147 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

148 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

149 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

151  
bu‰ÚPª–
;

152 
	}
}

154 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–A»a
() {

155 
SŒšg
[] 
di¡ributiÚTy³
 = {"Normal", "Uniform", "Deterministic"};

158 
JPª–
 
¥ršgPª–
 = 
Ãw
 
	`JPª–
Òew 
	`S´šgLayout
());

159 
¥ršgPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

161 
JLab–
 
lName
 = 
Ãw
 
	`JLab–
("Name: ");

162 
¥ršgPª–
.
	`add
(
lName
);

163 
£nsÜName
 = 
Ãw
 
	`JTextF›ld
();

164 
lName
.
	`£tLab–FÜ
(
£nsÜName
);

165 
¥ršgPª–
.
	`add
(
£nsÜName
);

167 
JLab–
 
lTy³
 = 
Ãw
 
	`JLab–
("Type: ");

168 
¥ršgPª–
.
	`add
(
lTy³
);

169 
£nsÜTy³
 = 
Ãw
 
	`JTextF›ld
();

170 
lTy³
.
	`£tLab–FÜ
(
£nsÜTy³
);

171 
¥ršgPª–
.
	`add
(
£nsÜTy³
);

173 
JLab–
 
di¡Lab–
 = 
Ãw
 
	`JLab–
("Di¡ributiÚ Ty³: ", JLab–.
TRAILING
);

174 
¥ršgPª–
.
	`add
(
di¡Lab–
);

175 
di¡ributiÚ
 = 
Ãw
 
	`JComboBox
(
di¡ributiÚTy³
);

176 
di¡Lab–
.
	`£tLab–FÜ
(
di¡ributiÚ
);

177 
di¡ributiÚ
.
	`£tS–eùedIndex
(-1);

178 
di¡ributiÚ
.
	`addI‹mLi¡’”
(
Ãw
 
	`I‹mLi¡’”
() {

179 @
Ov”ride


180 
public
 
	`™emS‹Chªged
(
I‹mEv’t
 
e
) {

181 
JComboBox
 
ùy³
 = (JComboBox)
e
.
	`g‘Sourû
();

182 
SŒšg
 
™em
 = (SŒšg)
ùy³
.
	`g‘S–eùedI‹m
();

183 
	`upd©ePª–
(
™em
);

188 
¥ršgPª–
.
	`add
(
di¡ributiÚ
);

190 
JLab–
 
nÜm®M—nLab–
 = 
Ãw
 
	`JLab–
("Mean: ");

191 
¥ršgPª–
.
	`add
(
nÜm®M—nLab–
);

192 
nÜm®M—n
 = 
Ãw
 
	`JTextF›ld
();

193 
nÜm®M—nLab–
.
	`£tLab–FÜ
(
nÜm®M—n
);

194 
¥ršgPª–
.
	`add
(
nÜm®M—n
);

196 
JLab–
 
nÜm®StdDevLab–
 = 
Ãw
 
	`JLab–
("StdDev: ");

197 
¥ršgPª–
.
	`add
(
nÜm®StdDevLab–
);

198 
nÜm®StdDev
 = 
Ãw
 
	`JTextF›ld
();

199 
nÜm®StdDevLab–
.
	`£tLab–FÜ
(
nÜm®StdDev
);

200 
¥ršgPª–
.
	`add
(
nÜm®StdDev
);

202 
JLab–
 
unifÜmLowLab–
 = 
Ãw
 
	`JLab–
("Min: ");

203 
¥ršgPª–
.
	`add
(
unifÜmLowLab–
);

204 
unifÜmLow”Bound
 = 
Ãw
 
	`JTextF›ld
();

205 
unifÜmLowLab–
.
	`£tLab–FÜ
(
unifÜmLow”Bound
);

206 
¥ršgPª–
.
	`add
(
unifÜmLow”Bound
);

208 
JLab–
 
unifÜmUpLab–
 = 
Ãw
 
	`JLab–
("Max: ");

209 
¥ršgPª–
.
	`add
(
unifÜmUpLab–
);

210 
unifÜmUµ”Bound
 = 
Ãw
 
	`JTextF›ld
();

211 
unifÜmUpLab–
.
	`£tLab–FÜ
(
unifÜmUµ”Bound
);

212 
¥ršgPª–
.
	`add
(
unifÜmUµ”Bound
);

214 
JLab–
 
d‘”mši¡icV®ueLab–
 = 
Ãw
 
	`JLab–
("Value: ");

215 
¥ršgPª–
.
	`add
(
d‘”mši¡icV®ueLab–
);

216 
d‘”mši¡icV®ue
 = 
Ãw
 
	`JTextF›ld
();

217 
unifÜmLowLab–
.
	`£tLab–FÜ
(
d‘”mši¡icV®ue
);

218 
¥ršgPª–
.
	`add
(
d‘”mši¡icV®ue
);

221 
S´šgUt™›s
.
	`makeCom·ùGrid
(
¥ršgPª–
,

225  
¥ršgPª–
;

226 
	}
}

228 
´Ùeùed
 
	$upd©ePª–
(
SŒšg
 
™em
) {

229 
™em
){

231 
nÜm®M—n
.
	`£tVisibË
(
Œue
);

232 
nÜm®StdDev
.
	`£tVisibË
(
Œue
);

233 
unifÜmLow”Bound
.
	`£tVisibË
(
çl£
);

234 
unifÜmUµ”Bound
.
	`£tVisibË
(
çl£
);

235 
d‘”mši¡icV®ue
.
	`£tVisibË
(
çl£
);

238 
nÜm®M—n
.
	`£tVisibË
(
çl£
);

239 
nÜm®StdDev
.
	`£tVisibË
(
çl£
);

240 
unifÜmLow”Bound
.
	`£tVisibË
(
Œue
);

241 
unifÜmUµ”Bound
.
	`£tVisibË
(
Œue
);

242 
d‘”mši¡icV®ue
.
	`£tVisibË
(
çl£
);

245 
nÜm®M—n
.
	`£tVisibË
(
çl£
);

246 
nÜm®StdDev
.
	`£tVisibË
(
çl£
);

247 
unifÜmLow”Bound
.
	`£tVisibË
(
çl£
);

248 
unifÜmUµ”Bound
.
	`£tVisibË
(
çl£
);

249 
d‘”mši¡icV®ue
.
	`£tVisibË
(
Œue
);

255 
	}
}

257 
public
 
	$£tUIFÚt
 (
javax
.
swšg
.
¶af
.
FÚtUIResourû
 
f
){

258 
java
.
ut
.
Enum”©iÚ
 
keys
 = 
UIMªag”
.
	`g‘DeçuÉs
().
	`keys
();

259 
keys
.
	`hasMÜeEËm’ts
()) {

260 
Objeù
 
key
 = 
keys
.
	`ÃxtEËm’t
();

261 
Objeù
 
v®ue
 = 
UIMªag”
.
	`g‘
 (
key
);

262 ià(
v®ue
 !ğ
nuÎ
 && v®u
š¡ªûof
 
javax
.
swšg
.
¶af
.
FÚtUIResourû
)

263 
UIMªag”
.
	`put
 (
key
, 
f
);

265 
	}
}

267 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

268 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddS’sÜ
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

269 
	}
}

	@src/org/fog/gui/dialog/AddSensorModule.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

8 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

9 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

10 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gS´šgLayout
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gUIMªag”
;

21 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿ph
;

22 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gNode
;

23 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gS’sÜModuË
;

24 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gS´šgUt™›s
;

26 @
Suµ»ssW¬nšgs
({ "rawtypes" })

27 
public
 cÏs 
	cAddS’sÜModuË
 
ex‹nds
 
	mJDŸlog
 {

28 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -5116677861770319577L;

30 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

32 
´iv©e
 
JTextF›ld
 
	m£nsÜTy³
;

39 
public
 
	$AddS’sÜModuË
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

40 
this
.
g¿ph
 = graph;

42 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

44 
	`add
(
	`ü—‹IÅutPª–A»a
(), 
BÜd”Layout
.
CENTER
);

45 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

47 
	`£tT™Ë
("Add Sensor Module");

48 
	`£tMod®
(
Œue
);

49 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(350, 400));

50 
	`£tResizabË
(
çl£
);

51 
	`·ck
();

52 
	`£tLoÿtiÚR–©iveTo
(
äame
);

53 
	`£tVisibË
(
Œue
);

57 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

59 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

60 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

62 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

63 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

65 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

66 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

67 
	`£tVisibË
(
çl£
);

71 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

72 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

73 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

74 ià(
£nsÜTy³
.
	`g‘Text
(è=ğ
nuÎ
 || s’sÜTy³.g‘Text().
	`Ëngth
() < 1) {

75 
	`´om±
("Pleaseƒntyer Sensor Type", "Error");

77 
Œy
 {

79 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

80 
ÿtchedE¼Ü
 = 
Œue
;

81 
	`´om±
("Input should be‚umerical character", "Error");

83 if(!
ÿtchedE¼Ü
){

84 
Node
 
node
 = 
Ãw
 
	`S’sÜModuË
(
£nsÜTy³
.
	`g‘Text
().
	`toSŒšg
());

85 
g¿ph
.
	`addNode
(
node
);

86 
	`£tVisibË
(
çl£
);

92 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

93 
bu‰ÚPª–
.
	`add
(
okBŠ
);

94 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

95 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

96 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

98  
bu‰ÚPª–
;

99 
	}
}

101 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–A»a
() {

103 
JPª–
 
¥ršgPª–
 = 
Ãw
 
	`JPª–
Òew 
	`S´šgLayout
());

104 
¥ršgPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

106 
JLab–
 
lName
 = 
Ãw
 
	`JLab–
("Sensor Type: ");

107 
¥ršgPª–
.
	`add
(
lName
);

108 
£nsÜTy³
 = 
Ãw
 
	`JTextF›ld
();

109 
lName
.
	`£tLab–FÜ
(
£nsÜTy³
);

110 
¥ršgPª–
.
	`add
(
£nsÜTy³
);

114 
S´šgUt™›s
.
	`makeCom·ùGrid
(
¥ršgPª–
,

118  
¥ršgPª–
;

119 
	}
}

121 
public
 
	$£tUIFÚt
 (
javax
.
swšg
.
¶af
.
FÚtUIResourû
 
f
){

122 
java
.
ut
.
Enum”©iÚ
 
keys
 = 
UIMªag”
.
	`g‘DeçuÉs
().
	`keys
();

123 
keys
.
	`hasMÜeEËm’ts
()) {

124 
Objeù
 
key
 = 
keys
.
	`ÃxtEËm’t
();

125 
Objeù
 
v®ue
 = 
UIMªag”
.
	`g‘
 (
key
);

126 ià(
v®ue
 !ğ
nuÎ
 && v®u
š¡ªûof
 
javax
.
swšg
.
¶af
.
FÚtUIResourû
)

127 
UIMªag”
.
	`put
 (
key
, 
f
);

129 
	}
}

131 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

132 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddS’sÜModuË
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

133 
	}
}

	@src/org/fog/gui/dialog/AddVirtualEdge.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gCompÚ’t
;

5 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

6 
impÜt
 
	gjava
.
	gawt
.
	gLab–
;

7 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

8 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

9 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mEv’t
;

10 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mLi¡’”
;

11 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gComboBoxMod–
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gDeçuÉComboBoxMod–
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gJComboBox
;

23 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

24 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

25 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

26 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

27 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

28 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

30 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gEdge
;

31 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿ph
;

32 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gNode
;

33 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gNodeC–lR’d””
;

38 
public
 cÏs 
	cAddVœtu®Edge
 
ex‹nds
 
	mJDŸlog
 {

39 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = 4794808969864918000L;

41 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

42 
´iv©e
 
JComboBox
 
	msourûNode
;

43 
´iv©e
 
JComboBox
 
	mrg‘Node
;

44 
´iv©e
 
JTextF›ld
 
	mtfName
;

45 
´iv©e
 
JTextF›ld
 
	mtfBªdwidth
;

48 
public
 
	$AddVœtu®Edge
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

50 
this
.
g¿ph
 = graph;

52 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

54 
	`add
(
	`ü—‹IÅutPª–
(), 
BÜd”Layout
.
CENTER
);

55 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

57 
	`£tT™Ë
("Add Virtual Topologyƒdge");

58 
	`£tMod®
(
Œue
);

59 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(400, 250));

60 
	`£tResizabË
(
çl£
);

61 
	`·ck
();

62 
	`£tLoÿtiÚR–©iveTo
(
äame
);

63 
	`£tVisibË
(
Œue
);

66 @
	`Suµ»ssW¬nšgs
("unchecked")

67 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–
() {

69 
CompÚ’t
 
rigid
 = 
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0));

71 
JPª–
 
šputPª–W¿µ”
 = 
Ãw
 
	`JPª–
();

72 
šputPª–W¿µ”
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(šputPª–W¿µ”, 
BoxLayout
.
PAGE_AXIS
));

74 
JPª–
 
šputPª–
 = 
Ãw
 
	`JPª–
();

75 
šputPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(šputPª–, 
BoxLayout
.
LINE_AXIS
));

77 
JPª–
 
‹xtA»aPª–
 = 
Ãw
 
	`JPª–
();

78 
‹xtA»aPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
ÑextA»aPª–, 
BoxLayout
.
LINE_AXIS
));

80 
JPª–
 
‹xtA»aPª–2
 = 
Ãw
 
	`JPª–
();

81 
‹xtA»aPª–2
.
	`£tLayout
(
Ãw
 
	`BoxLayout
ÑextA»aPª–2, 
BoxLayout
.
LINE_AXIS
));

83 
ComboBoxMod–
 
sourûNodeMod–
 = 
Ãw
 
	`DeçuÉComboBoxMod–
(
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
().
	`toA¼ay
());

85 
sourûNodeMod–
.
	`£tS–eùedI‹m
(
nuÎ
);

87 
sourûNode
 = 
Ãw
 
	`JComboBox
(
sourûNodeMod–
);

88 
rg‘Node
 = 
Ãw
 
	`JComboBox
();

89 
sourûNode
.
	`£tMaximumSize
(sourûNode.
	`g‘P»ã¼edSize
());

90 
sourûNode
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150, sourûNode.
	`g‘P»ã¼edSize
().
height
));

91 
sourûNode
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150, sourûNode.
	`g‘P»ã¼edSize
().
height
));

92 
rg‘Node
.
	`£tMaximumSize
Ñ¬g‘Node.
	`g‘P»ã¼edSize
());

93 
rg‘Node
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(150,¬g‘Node.
	`g‘P»ã¼edSize
().
height
));

94 
rg‘Node
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(150,¬g‘Node.
	`g‘P»ã¼edSize
().
height
));

96 
NodeC–lR’d””
 
»nd””
 = 
Ãw
 
	`NodeC–lR’d””
();

98 
sourûNode
.
	`£tR’d””
(
»nd””
);

99 
rg‘Node
.
	`£tR’d””
(
»nd””
);

101 
sourûNode
.
	`addI‹mLi¡’”
(
Ãw
 
	`I‹mLi¡’”
() {

103 @
Ov”ride


104 
public
 
	`™emS‹Chªged
(
I‹mEv’t
 
e
) {

107 
rg‘Node
.
	`»moveAÎI‹ms
();

108 
Node
 
£ËùedNode
 = (Nodeè
sourûNode
.
	`g‘S–eùedI‹m
();

110 ià(
£ËùedNode
 !ğ
nuÎ
) {

112 
Li¡
<
Node
> 
nodesToDi¥Ïy
 = 
Ãw
 
A¼ayLi¡
<Node>();

113 
S‘
<
Node
> 
®lNodes
 = 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`keyS‘
();

116 
Li¡
<
Edge
> 
edgesFÜS–eùedNode
 = 
g¿ph
.
	`g‘AdjaûncyLi¡
().
	`g‘
(
£ËùedNode
);

117 
S‘
<
Node
> 
nodesInEdges
 = 
Ãw
 
HashS‘
<Node>();

118 
Edge
 
edge
 : 
edgesFÜS–eùedNode
) {

119 
nodesInEdges
.
	`add
(
edge
.
	`g‘Node
());

122 
Node
 
node
 : 
®lNodes
) {

123 ià(!
node
.
	`equ®s
(
£ËùedNode
è&& !
nodesInEdges
.
	`cÚšs
(node)) {

124 
nodesToDi¥Ïy
.
	`add
(
node
);

128 
ComboBoxMod–
 
rg‘NodeMod–
 = 
Ãw
 
	`DeçuÉComboBoxMod–
(
nodesToDi¥Ïy
.
	`toA¼ay
());

129 
rg‘Node
.
	`£tMod–
(
rg‘NodeMod–
);

134 
šputPª–
.
	`add
(
sourûNode
);

136 
šputPª–
.
	`add
(
Ãw
 
	`Lab–
(" ï¿½ï¿½"));

137 
šputPª–
.
	`add
(
rg‘Node
);

138 
šputPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

139 
šputPª–W¿µ”
.
	`add
(
šputPª–
);

141 
‹xtA»aPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

142 
‹xtA»aPª–
.
	`add
(
Ãw
 
	`JLab–
("Edge Name: "));

143 
tfName
 = 
Ãw
 
	`JTextF›ld
();

144 
tfName
.
	`£tMaximumSize
ÑfName.
	`g‘P»ã¼edSize
());

145 
tfName
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(180,fName.
	`g‘P»ã¼edSize
().
height
));

146 
tfName
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(180,fName.
	`g‘P»ã¼edSize
().
height
));

147 
‹xtA»aPª–
.
	`add
(
tfName
);

148 
‹xtA»aPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

149 
šputPª–W¿µ”
.
	`add
(
‹xtA»aPª–
);

150 
šputPª–W¿µ”
.
	`add
(
Box
.
	`ü—‹V”tiÿlGlue
());

152 
‹xtA»aPª–2
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

153 
‹xtA»aPª–2
.
	`add
(
Ãw
 
	`JLab–
("Bandwidth: "));

154 
tfBªdwidth
 = 
Ãw
 
	`JTextF›ld
();

155 
tfBªdwidth
.
	`£tMaximumSize
ÑfBªdwidth.
	`g‘P»ã¼edSize
());

156 
tfBªdwidth
.
	`£tMšimumSize
(
Ãw
 
	`Dim’siÚ
(180,fBªdwidth.
	`g‘P»ã¼edSize
().
height
));

157 
tfBªdwidth
.
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(180,fBªdwidth.
	`g‘P»ã¼edSize
().
height
));

158 
‹xtA»aPª–2
.
	`add
(
tfBªdwidth
);

159 
‹xtA»aPª–2
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

160 
šputPª–W¿µ”
.
	`add
(
‹xtA»aPª–2
);

161 
šputPª–W¿µ”
.
	`add
(
Box
.
	`ü—‹V”tiÿlGlue
());

163 
šputPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(10, 10, 10, 10));

165  
šputPª–W¿µ”
;

166 
	}
}

168 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

170 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

171 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

173 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

174 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

176 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

177 @
Ov”ride


178 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

179 
	`£tVisibË
(
çl£
);

183 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

184 @
Ov”ride


185 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

187 
SŒšg
 
Çme
 = "default";

188 
bªdwidth
 = 0;

189 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

191 ià(
tfName
.
	`g‘Text
(è=ğ
nuÎ
 ||fName.g‘Text().
	`isEm±y
()) {

192 
ÿtchedE¼Ü
 = 
Œue
;

193 
	`´om±
("Pleaseype Edge Name", "Error");

195 
Çme
 = (
SŒšg
)
tfName
.
	`g‘Text
();

198 ià(
tfBªdwidth
.
	`g‘Text
(è=ğ
nuÎ
 ||fBªdwidth.g‘Text().
	`isEm±y
()) {

199 
ÿtchedE¼Ü
 = 
Œue
;

200 
	`´om±
("Pleaseype Bandwidth", "Error");

202 
Œy
 {

203 
bªdwidth
 = 
LÚg
.
	`v®ueOf
(
tfBªdwidth
.
	`g‘Text
());

204 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

205 
ÿtchedE¼Ü
 = 
Œue
;

206 
	`´om±
("Bandwidth should be†ongype", "Error");

210 ià(!
ÿtchedE¼Ü
) {

211 ià(
sourûNode
.
	`g‘S–eùedI‹m
(è=ğ
nuÎ
 || 
rg‘Node
.getSelectedItem() ==‚ull) {

212 
	`´om±
("Please select‚ode", "Error");

215 
Node
 
sourû
 = (Nodeè
sourûNode
.
	`g‘S–eùedI‹m
();

216 
Node
 
rg‘
 = (Nodeè
rg‘Node
.
	`g‘S–eùedI‹m
();

218 
Edge
 
edge
 = 
Ãw
 
	`Edge
(
rg‘
, 
Çme
, 
bªdwidth
);

219 
g¿ph
.
	`addEdge
(
sourû
, 
edge
);

221 
	`£tVisibË
(
çl£
);

228 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

229 
bu‰ÚPª–
.
	`add
(
okBŠ
);

230 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

231 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

232 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(10, 10, 10, 10));

234  
bu‰ÚPª–
;

235 
	}
}

237 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

238 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddVœtu®Edge
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

239 
	}
}

	@src/org/fog/gui/dialog/AddVirtualNode.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

7 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mEv’t
;

8 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gI‹mLi¡’”
;

10 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gJComboBox
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextF›ld
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gS´šgLayout
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gUIMªag”
;

24 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿ph
;

25 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gS´šgUt™›s
;

26 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gVmNode
;

27 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gNode
;

29 @
Suµ»ssW¬nšgs
({ "rawtypes", "unchecked" })

30 
public
 cÏs 
	cAddVœtu®Node
 
ex‹nds
 
	mJDŸlog
 {

31 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -5116677861770319577L;

33 
´iv©e
 
fš®
 
G¿ph
 
	mg¿ph
;

35 
´iv©e
 
JTextF›ld
 
	mtfName
;

36 
´iv©e
 
JComboBox
 
	mcTy³
;

37 
´iv©e
 
JTextF›ld
 
	mtfSize
;

38 
´iv©e
 
JTextF›ld
 
	mtfPes
;

39 
´iv©e
 
JTextF›ld
 
	mtfMs
;

40 
´iv©e
 
JTextF›ld
 
	mtfRam
;

47 
public
 
	$AddVœtu®Node
(
fš®
 
G¿ph
 
g¿ph
, fš® 
JF¿me
 
äame
) {

48 
this
.
g¿ph
 = graph;

50 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

52 
	`add
(
	`ü—‹IÅutPª–A»a
(), 
BÜd”Layout
.
CENTER
);

53 
	`add
(
	`ü—‹Bu‰ÚPª–
(), 
BÜd”Layout
.
PAGE_END
);

55 
	`£tT™Ë
("Add Virtual Node");

56 
	`£tMod®
(
Œue
);

57 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(350, 400));

58 
	`£tResizabË
(
çl£
);

59 
	`·ck
();

60 
	`£tLoÿtiÚR–©iveTo
(
äame
);

61 
	`£tVisibË
(
Œue
);

65 
´iv©e
 
JPª–
 
	$ü—‹Bu‰ÚPª–
() {

67 
JPª–
 
bu‰ÚPª–
 = 
Ãw
 
	`JPª–
();

68 
bu‰ÚPª–
.
	`£tLayout
(
Ãw
 
	`BoxLayout
(bu‰ÚPª–, 
BoxLayout
.
LINE_AXIS
));

70 
JBu‰Ú
 
okBŠ
 = 
Ãw
 
	`JBu‰Ú
("Ok");

71 
JBu‰Ú
 
ÿnûlBŠ
 = 
Ãw
 
	`JBu‰Ú
("Cancel");

73 
ÿnûlBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

74 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

75 
	`£tVisibË
(
çl£
);

79 
okBŠ
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

80 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

81 
boŞ—n
 
ÿtchedE¼Ü
 = 
çl£
;

82 ià(
tfName
.
	`g‘Text
(è=ğ
nuÎ
 ||fName.g‘Text().
	`Ëngth
() < 1) {

83 
	`´om±
("Pleaseype VM‚ame", "Error");

84 } ià(
cTy³
.
	`g‘S–eùedIndex
() < 0) {

85 
	`´om±
("Please select VMype", "Error");

86 } ià(
tfSize
.
	`g‘Text
(è=ğ
nuÎ
 ||fSize.g‘Text().
	`Ëngth
() < 1) {

87 
	`´om±
("Pleaseype VM size", "Error");

88 } ià(
tfPes
.
	`g‘Text
(è=ğ
nuÎ
 ||fPes.g‘Text().
	`Ëngth
() < 1) {

89 
	`´om±
("Pleaseype…es", "Error");

90 } ià(
tfMs
.
	`g‘Text
(è=ğ
nuÎ
 ||fMs.g‘Text().
	`Ëngth
() < 1) {

91 
	`´om±
("Pleaseype VM mips", "Error");

92 } ià(
tfRam
.
	`g‘Text
(è=ğ
nuÎ
 ||fRam.g‘Text().
	`Ëngth
() < 1) {

93 
	`´om±
("Pleaseype VM RAM", "Error");

95 
t1
 = 0;

96 
t2
 = 0;

97 
t3
 = 0;

98 
t4
 = 0;

99 
Œy
 {

100 
t1
 = 
LÚg
.
	`·r£LÚg
(
tfSize
.
	`g‘Text
());

101 
t2
 = 
IÁeg”
.
	`·r£IÁ
(
tfPes
.
	`g‘Text
());

102 
t3
 = 
LÚg
.
	`·r£LÚg
(
tfMs
.
	`g‘Text
());

103 
t4
 = 
IÁeg”
.
	`·r£IÁ
(
tfRam
.
	`g‘Text
());

104 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e1
) {

105 
ÿtchedE¼Ü
 = 
Œue
;

106 
	`´om±
("Input should be‚umerical character", "Error");

108 if(!
ÿtchedE¼Ü
){

109 
Node
 
node
 = 
Ãw
 
	`VmNode
(
tfName
.
	`g‘Text
().
	`toSŒšg
(), (
SŒšg
)
cTy³
.
	`g‘S–eùedI‹m
(),

110 
t1
, 
t2
, 
t3
, 
t4
);

111 
g¿ph
.
	`addNode
(
node
);

112 
	`£tVisibË
(
çl£
);

118 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹HÜizÚlGlue
());

119 
bu‰ÚPª–
.
	`add
(
okBŠ
);

120 
bu‰ÚPª–
.
	`add
(
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(10, 0)));

121 
bu‰ÚPª–
.
	`add
(
ÿnûlBŠ
);

122 
bu‰ÚPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

124  
bu‰ÚPª–
;

125 
	}
}

127 
´iv©e
 
JPª–
 
	$ü—‹IÅutPª–A»a
() {

128 
SŒšg
[] 
vmTy³
 = {"vm"};

131 
JPª–
 
¥ršgPª–
 = 
Ãw
 
	`JPª–
Òew 
	`S´šgLayout
());

132 
¥ršgPª–
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

134 
JLab–
 
lName
 = 
Ãw
 
	`JLab–
("Name: ");

135 
¥ršgPª–
.
	`add
(
lName
);

136 
tfName
 = 
Ãw
 
	`JTextF›ld
();

137 
lName
.
	`£tLab–FÜ
(
tfName
);

138 
¥ršgPª–
.
	`add
(
tfName
);

140 
JLab–
 
lTy³
 = 
Ãw
 
	`JLab–
("Ty³: ", JLab–.
TRAILING
);

141 
¥ršgPª–
.
	`add
(
lTy³
);

142 
cTy³
 = 
Ãw
 
	`JComboBox
(
vmTy³
);

143 
lTy³
.
	`£tLab–FÜ
(
cTy³
);

144 
cTy³
.
	`£tS–eùedIndex
(-1);

145 
cTy³
.
	`addI‹mLi¡’”
(
Ãw
 
	`I‹mLi¡’”
() {

146 @
Ov”ride


147 
public
 
	`™emS‹Chªged
(
I‹mEv’t
 
e
) {

151 
¥ršgPª–
.
	`add
(
cTy³
);

153 
JLab–
 
lSize
 = 
Ãw
 
	`JLab–
("Size: ");

154 
¥ršgPª–
.
	`add
(
lSize
);

155 
tfSize
 = 
Ãw
 
	`JTextF›ld
();

156 
lSize
.
	`£tLab–FÜ
(
tfSize
);

157 
¥ršgPª–
.
	`add
(
tfSize
);

159 
JLab–
 
lPes
 = 
Ãw
 
	`JLab–
("Pes: ");

160 
¥ršgPª–
.
	`add
(
lPes
);

161 
tfPes
 = 
Ãw
 
	`JTextF›ld
();

162 
lPes
.
	`£tLab–FÜ
(
tfPes
);

163 
¥ršgPª–
.
	`add
(
tfPes
);

165 
JLab–
 
lMs
 = 
Ãw
 
	`JLab–
("Mips: ");

166 
¥ršgPª–
.
	`add
(
lMs
);

167 
tfMs
 = 
Ãw
 
	`JTextF›ld
();

168 
lMs
.
	`£tLab–FÜ
(
tfMs
);

169 
¥ršgPª–
.
	`add
(
tfMs
);

171 
JLab–
 
lRam
 = 
Ãw
 
	`JLab–
("Ram: ");

172 
¥ršgPª–
.
	`add
(
lRam
);

173 
tfRam
 = 
Ãw
 
	`JTextF›ld
();

174 
lRam
.
	`£tLab–FÜ
(
tfRam
);

175 
¥ršgPª–
.
	`add
(
tfRam
);

178 
S´šgUt™›s
.
	`makeCom·ùGrid
(
¥ršgPª–
,

182  
¥ršgPª–
;

183 
	}
}

185 
public
 
	$£tUIFÚt
 (
javax
.
swšg
.
¶af
.
FÚtUIResourû
 
f
){

186 
java
.
ut
.
Enum”©iÚ
 
keys
 = 
UIMªag”
.
	`g‘DeçuÉs
().
	`keys
();

187 
keys
.
	`hasMÜeEËm’ts
()) {

188 
Objeù
 
key
 = 
keys
.
	`ÃxtEËm’t
();

189 
Objeù
 
v®ue
 = 
UIMªag”
.
	`g‘
 (
key
);

190 ià(
v®ue
 !ğ
nuÎ
 && v®u
š¡ªûof
 
javax
.
swšg
.
¶af
.
FÚtUIResourû
)

191 
UIMªag”
.
	`put
 (
key
, 
f
);

193 
	}
}

195 
´iv©e
 
	$´om±
(
SŒšg
 
msg
, SŒšg 
ty³
){

196 
JO±iÚPªe
.
	`showMes§geDŸlog
(
AddVœtu®Node
.
this
, 
msg
, 
ty³
, JO±iÚPªe.
ERROR_MESSAGE
);

197 
	}
}

	@src/org/fog/gui/dialog/SDNRun.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

6 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

7 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

8 
impÜt
 
	gjava
.
	gio
.
	gFeR—d”
;

9 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	gExecutiÚExû±iÚ
;

11 
impÜt
 
	gjavax
.
	gswšg
.
	gBÜd”FaùÜy
;

12 
impÜt
 
	gjavax
.
	gswšg
.
	gBox
;

13 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gImageIcÚ
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gJCompÚ’t
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gJDŸlog
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gJLab–
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gJSüŞlPªe
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gJTextA»a
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gSwšgWÜk”
;

23 
impÜt
 
	gjavax
.
	gswšg
.
	gTim”
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gg¿ph
.
	gexam¶e
.
	gG¿phicSDNExam¶e
;

27 
public
 cÏs 
	cSDNRun
 
ex‹nds
 
	mJDŸlog
 {

28 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -8313194085507492462L;

30 
´iv©e
 
SŒšg
 
	mphysiÿlTİŞogyFe
 = "";

31 
´iv©e
 
SŒšg
 
	md•loym’tFe
 = "";

32 
´iv©e
 
SŒšg
 
	mwÜklßds_background
 = "";

33 
´iv©e
 
SŒšg
 
	mwÜklßds
 = "";

35 
´iv©e
 
JPª–
 
	m·Ãl
;

36 
´iv©e
 
JSüŞlPªe
 
	m·Ã
;

37 
´iv©e
 
JTextA»a
 
	mouutA»a
;

38 
´iv©e
 
JLab–
 
	mimageLab–
;

39 
´iv©e
 
JLab–
 
	mmsgLab–
;

40 
´iv©e
 
JCompÚ’t
 
	m¥aû
;

41 
´iv©e
 
	mcouÁ”
 = 0;

42 
´iv©e
 
Tim”
 
	mtim”
;

44 
´iv©e
 
G¿phicSDNExam¶e
 
	msdn
;

46 
public
 
	$SDNRun
(
fš®
 
SŒšg
 
phy
, fš® SŒšg 
vœ
, fš® SŒšg 
wlbk
, fš® SŒšg 
wl
, fš® 
JF¿me
 
äame
){

47 
physiÿlTİŞogyFe
 = 
phy
;

48 
d•loym’tFe
 = 
vœ
;

49 
wÜklßds_background
 = 
wlbk
;

50 
wÜklßds
 = 
wl
;

52 
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

54 
·Ãl
 = 
Ãw
 
	`JPª–
();

55 
·Ãl
.
	`£tLayout
(
Ãw
 
	`BoxLayout
Õª–, 
BoxLayout
.
Y_AXIS
));

56 
·Ãl
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(15, 15, 15, 15));

58 
	`š™UI
();

59 
	`run
();

60 
	`add
(
·Ãl
, 
BÜd”Layout
.
CENTER
);

62 
	`£tDeçuÉClo£O³¿tiÚ
(
DISPOSE_ON_CLOSE
 );

63 
	`£tT™Ë
("Run Simulation");

64 
	`£tMod®
(
Œue
);

65 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(900, 600));

66 
	`£tResizabË
(
çl£
);

67 
	`·ck
();

68 
	`£tLoÿtiÚR–©iveTo
(
äame
);

69 
	`£tVisibË
(
Œue
);

72 
´iv©e
 
	$š™UI
(){

73 
ImageIcÚ
 
ii
 = 
Ãw
 
	`ImageIcÚ
(
this
.
	`g‘CÏss
().
	`g‘Resourû
("/src/1.gif"));

74 
imageLab–
 = 
Ãw
 
	`JLab–
(
ii
);

75 
imageLab–
.
	`£tAlignm’tX
(
CENTER_ALIGNMENT
);

76 
msgLab–
 = 
Ãw
 
	`JLab–
("Simulation isƒxecuting");

77 
msgLab–
.
	`£tAlignm’tX
(
CENTER_ALIGNMENT
);

78 
¥aû
 = (
JCompÚ’t
)
Box
.
	`ü—‹RigidA»a
(
Ãw
 
	`Dim’siÚ
(0, 200));

79 
·Ãl
.
	`add
(
¥aû
);

80 
·Ãl
.
	`add
(
msgLab–
);

81 
·Ãl
.
	`add
(
imageLab–
);

83 
·Ã
 = 
Ãw
 
	`JSüŞlPªe
();

84 
ouutA»a
 = 
Ãw
 
	`JTextA»a
();

86 
ouutA»a
.
	`£tLšeW¿p
(
Œue
);

87 
ouutA»a
.
	`£tW¿pStyËWÜd
(
Œue
);

88 
ouutA»a
.
	`£tBÜd”
(
BÜd”FaùÜy
.
	`ü—‹Em±yBÜd”
(8, 8, 8, 8));

89 
ouutA»a
.
	`£tEd™abË
(
çl£
);

93 
·Ã
.
	`g‘V›wpÜt
().
	`add
(
ouutA»a
);

94 
·Ãl
.
	`add
(
·Ã
);

95 
·Ã
.
	`£tVisibË
(
çl£
);

96 
	}
}

98 
´iv©e
 
	$run
(){

100 
sdn
 = 
Ãw
 
	`G¿phicSDNExam¶e
(
physiÿlTİŞogyFe
, 
d•loym’tFe
, 
wÜklßds_background
, 
wÜklßds
, 
ouutA»a
);

102 
SwšgWÜk”
<
BoŞ—n
, 
Void
> 
wÜk”
 = 
Ãw
 SwingWorker<Boolean, Void>() {

103 
´Ùeùed
 
BoŞ—n
 
	`doInBackground
(è
throws
 
Exû±iÚ
 {

104 
boŞ—n
 
sucûss
 = 
çl£
;

105 
sucûss
 = 
sdn
.
	`simuÏ‹
();

106 if(
sucûss
){

107 
sdn
.
	`ouut
();

108 
	`­³nd
("<<<<<<<<<< Simulation completed >>>>>>>>>");

110 
	`­³nd
("<<<<<<<<<< Running Error >>>>>>>>>>");

112  
sucûss
;

115 
´Ùeùed
 
	`dÚe
() {

116 
boŞ—n
 
¡©us
;

117 
Œy
 {

118 
¡©us
 = 
	`g‘
();

119 
·Ãl
.
	`»move
(
¥aû
);

120 
·Ãl
.
	`»move
(
imageLab–
);

121 
·Ãl
.
	`»move
(
msgLab–
);

122 
·Ã
.
	`£tVisibË
(
Œue
);

123 
·Ãl
.
	`»v®id©e
();

124 
·Ãl
.
	`»·št
();

126 } 
	`ÿtch
 (
IÁ”ru±edExû±iÚ
 
e
) {

128 } 
	`ÿtch
 (
ExecutiÚExû±iÚ
 
e
) {

133 
wÜk”
.
	`execu‹
();

134 
	}
}

136 
´iv©e
 
	$­³nd
(
SŒšg
 
cÚ‹Á
){

137 
ouutA»a
.
	`­³nd
(
cÚ‹Á
+"\n");

138 
	}
}

141 
´iv©e
 
	$¡¬tTe¡
(){

142 
AùiÚLi¡’”
 
upd©eProB¬
 = 
Ãw
 
	`AùiÚLi¡’”
() {

143 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
aùiÚEv’t
) {

144 if(
couÁ”
>=100){

145 
tim”
.
	`¡İ
();

146 
·Ãl
.
	`»move
(
¥aû
);

147 
·Ãl
.
	`»move
(
imageLab–
);

148 
·Ãl
.
	`»move
(
msgLab–
);

149 
·Ã
.
	`£tVisibË
(
Œue
);

150 
·Ãl
.
	`»v®id©e
();

151 
·Ãl
.
	`»·št
();

154 
couÁ”
 +=2;

158 
tim”
 = 
Ãw
 
	`Tim”
(50, 
upd©eProB¬
);

159 
tim”
.
	`¡¬t
();

160 
	}
}

161 
´iv©e
 
	$»adFe
(
SŒšg
 
·th
, 
JTextA»a
 
¬—
) {

163 
Œy
{

164 
FeR—d”
 
»ad”
 = 
Ãw
 
	`FeR—d”
(
·th
);

165 
Bufã»dR—d”
 
br
 = 
Ãw
 
	`Bufã»dR—d”
(
»ad”
);

166 
¬—
.
	`»ad
Ğ
br
, 
nuÎ
 );

167 
br
.
	`şo£
();

168 
¬—
.
	`»que¡Focus
();

169 }
	`ÿtch
(
Exû±iÚ
 
e2
) {

170 
Sy¡em
.
out
.
	`´šn
(
e2
);

172 
	}
}

	@src/org/fog/gui/example/FogGui.java

1 
·ckage
 
	gÜg
.
	gfog
.
	ggui
.
	gexam¶e
;

3 
impÜt
 
	gjava
.
	gawt
.
	gBÜd”Layout
;

4 
impÜt
 
	gjava
.
	gawt
.
	gDim’siÚ
;

5 
impÜt
 
	gjava
.
	gawt
.
	gFÚt
;

6 
impÜt
 
	gjava
.
	gawt
.
	gToŞk™
;

7 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚEv’t
;

8 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gAùiÚLi¡’”
;

9 
impÜt
 
	gjava
.
	gawt
.
	gev’t
.
	gKeyEv’t
;

10 
impÜt
 
	gjava
.
	gio
.
	gFe
;

11 
impÜt
 
	gjava
.
	gio
.
	gFeOuutSŒ—m
;

12 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

14 
impÜt
 
	gjavax
.
	gswšg
.
	gBoxLayout
;

15 
impÜt
 
	gjavax
.
	gswšg
.
	gBu‰ÚGroup
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	gImageIcÚ
;

17 
impÜt
 
	gjavax
.
	gswšg
.
	gJBu‰Ú
;

18 
impÜt
 
	gjavax
.
	gswšg
.
	gJFeChoo£r
;

19 
impÜt
 
	gjavax
.
	gswšg
.
	gJF¿me
;

20 
impÜt
 
	gjavax
.
	gswšg
.
	gJM’u
;

21 
impÜt
 
	gjavax
.
	gswšg
.
	gJM’uB¬
;

22 
impÜt
 
	gjavax
.
	gswšg
.
	gJM’uI‹m
;

23 
impÜt
 
	gjavax
.
	gswšg
.
	gJO±iÚPªe
;

24 
impÜt
 
	gjavax
.
	gswšg
.
	gJPª–
;

25 
impÜt
 
	gjavax
.
	gswšg
.
	gJRadioBu‰ÚM’uI‹m
;

26 
impÜt
 
	gjavax
.
	gswšg
.
	gJToŞB¬
;

27 
impÜt
 
	gjavax
.
	gswšg
.
	gKeySŒoke
;

28 
impÜt
 
	gjavax
.
	gswšg
.
	gSwšgUt™›s
;

29 
impÜt
 
	gjavax
.
	gswšg
.
	gUIMªag”
;

30 
impÜt
 
	gjavax
.
	gswšg
.
	gfechoo£r
.
	gFeF‹r
;

31 
impÜt
 
	gjavax
.
	gswšg
.
	gfechoo£r
.
	gFeNameEx‹nsiÚF‹r
;

33 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gBridge
;

34 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿ph
;

35 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gcÜe
.
	gG¿phV›w
;

36 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
.
	gAddAùu©Ü
;

37 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
.
	gAddFogDeviû
;

38 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
.
	gAddLšk
;

39 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
.
	gAddPhysiÿlEdge
;

40 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
.
	gAddPhysiÿlNode
;

41 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
.
	gAddS’sÜ
;

42 
impÜt
 
	gÜg
.
	gfog
.
	ggui
.
	gdŸlog
.
	gSDNRun
;

45 
public
 cÏs 
	cFogGui
 
ex‹nds
 
	mJF¿me
 {

46 
´iv©e
 
fš®
 
	m£rŸlV”siÚUID
 = -2238414769964738933L;

48 
´iv©e
 
JPª–
 
	mcÚ‹ÁPªe
;

51 
´iv©e
 
SŒšg
 
	mphysiÿlTİŞogyFe
 = "";

52 
´iv©e
 
SŒšg
 
	md•loym’tFe
 = "";

53 
´iv©e
 
SŒšg
 
	mwÜklßds_background
 = "";

54 
´iv©e
 
SŒšg
 
	mwÜklßds
 = "";

56 
´iv©e
 
JPª–
 
	m·Ãl
;

57 
´iv©e
 
JPª–
 
	mg¿ph
;

59 
´iv©e
 
G¿ph
 
	mphysiÿlG¿ph
;

61 
´iv©e
 
G¿phV›w
 
	mphysiÿlCªvas
;

64 
´iv©e
 
JBu‰Ú
 
	mbŠRun
;

66 
´iv©e
 
SŒšg
 
	mmode
;

68 
public
 
	$FogGui
() {

69 
	`£tDeçuÉClo£O³¿tiÚ
(
EXIT_ON_CLOSE
);

70 
	`£tP»ã¼edSize
(
Ãw
 
	`Dim’siÚ
(1280, 800));

71 
	`£tLoÿtiÚR–©iveTo
(
nuÎ
);

74 
	`£tT™Ë
("Fog Topology Creator");

75 
cÚ‹ÁPªe
 = 
Ãw
 
	`JPª–
();

76 
	`£tCÚ‹ÁPªe
(
cÚ‹ÁPªe
);

77 
cÚ‹ÁPªe
.
	`£tLayout
(
Ãw
 
	`BÜd”Layout
());

79 
	`š™UI
();

80 
	`š™G¿ph
();

82 
	`·ck
();

83 
	`£tVisibË
(
Œue
);

86 
public
 
fš®
 
	$š™UI
() {

87 
	`£tUIFÚt
 (
Ãw
 
javax
.
swšg
.
¶af
.
	`FÚtUIResourû
("S”if",
FÚt
.
BOLD
,18));

89 
·Ãl
 = 
Ãw
 
	`JPª–
();

90 
·Ãl
.
	`£tLayout
(
Ãw
 
	`BoxLayout
Õª–, 
BoxLayout
.
Y_AXIS
));

92 
g¿ph
 = 
Ãw
 
	`JPª–
Òew 
java
.
awt
.
	`GridLayout
(1, 2));

94 
	`š™B¬
();

95 
	`doPos™iÚ
();

96 
	}
}

99 
´iv©e
 
	$doPos™iÚ
() {

101 
Dim’siÚ
 
sü“nSize
 = 
ToŞk™
.
	`g‘DeçuÉToŞk™
().
	`g‘Sü“nSize
();

102 
height
 = 
sü“nSize
.height;

103 
width
 = 
sü“nSize
.width;

105 
x
 = (
width
 / 2 - 1280 / 2);

106 
y
 = (
height
 / 2 - 800 / 2);

110 
this
.
	`£tLoÿtiÚ
(
x
, 
y
);

111 
	}
}

114 
´iv©e
 
fš®
 
	$š™B¬
() {

116 
AùiÚLi¡’”
 
»adPhyTİoLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

117 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

118 
physiÿlTİŞogyFe
 = 
	`impÜtFe
("josn");

119 
	`checkImpÜtStus
();

122 
AùiÚLi¡’”
 
»adVœTİoLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

123 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

124 
d•loym’tFe
 = 
	`impÜtFe
("json");

125 
	`checkImpÜtStus
();

128 
AùiÚLi¡’”
 
»adWÜklßdBkLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

129 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

130 
wÜklßds_background
 = 
	`impÜtFe
("cvs");

131 
	`checkImpÜtStus
();

134 
AùiÚLi¡’”
 
»adWÜklßdLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

135 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

136 
wÜklßds
 = 
	`impÜtFe
("cvs");

137 
	`checkImpÜtStus
();

141 
AùiÚLi¡’”
 
addFogDeviûLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

142 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

143 
	`İ’AddFogDeviûDŸlog
();

147 
AùiÚLi¡’”
 
addPhysiÿlNodeLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

148 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

149 
	`İ’AddPhysiÿlNodeDŸlog
();

153 
AùiÚLi¡’”
 
addPhysiÿlEdgeLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

154 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

155 
	`İ’AddPhysiÿlEdgeDŸlog
();

159 
AùiÚLi¡’”
 
addLškLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

160 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

161 
	`İ’AddLškDŸlog
();

165 
AùiÚLi¡’”
 
addAùu©ÜLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

166 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

167 
	`İ’AddAùu©ÜDŸlog
();

171 
AùiÚLi¡’”
 
addS’sÜLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

172 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

173 
	`İ’AddS’sÜDŸlog
();

176 
AùiÚLi¡’”
 
impÜtPhyTİoLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

177 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

178 
SŒšg
 
feName
 = 
	`impÜtFe
("josn");

179 
G¿ph
 
phyG¿ph
ğ
Bridge
.
	`jsÚToG¿ph
(
feName
, 0);

180 
physiÿlG¿ph
 = 
phyG¿ph
;

181 
physiÿlCªvas
.
	`£tG¿ph
(
physiÿlG¿ph
);

182 
physiÿlCªvas
.
	`»·št
();

186 
AùiÚLi¡’”
 
§vePhyTİoLi¡’”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

187 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

188 
Œy
 {

189 
	`§veFe
("jsÚ", 
physiÿlG¿ph
);

190 } 
	`ÿtch
 (
IOExû±iÚ
 
e1
) {

191 
e1
.
	`´štSckT¿û
();

199 
JToŞB¬
 
toŞb¬
 = 
Ãw
 
	`JToŞB¬
();

201 
ImageIcÚ
 
iS’sÜ
 = 
Ãw
 
	`ImageIcÚ
(

202 
	`g‘CÏss
().
	`g‘Resourû
("/images/sensor.png"));

203 
ImageIcÚ
 
iAùu©Ü
 = 
Ãw
 
	`ImageIcÚ
(

204 
	`g‘CÏss
().
	`g‘Resourû
("/images/actuator.png"));

205 
ImageIcÚ
 
iFogDeviû
 = 
Ãw
 
	`ImageIcÚ
(

206 
	`g‘CÏss
().
	`g‘Resourû
("/images/dc.png"));

207 
ImageIcÚ
 
iLšk
 = 
Ãw
 
	`ImageIcÚ
(

208 
	`g‘CÏss
().
	`g‘Resourû
("/images/hline2.png"));

209 
ImageIcÚ
 
iHO³n
 = 
Ãw
 
	`ImageIcÚ
(

210 
	`g‘CÏss
().
	`g‘Resourû
("/images/openPhyTop.png"));

211 
ImageIcÚ
 
iHSave
 = 
Ãw
 
	`ImageIcÚ
(

212 
	`g‘CÏss
().
	`g‘Resourû
("/images/savePhyTop.png"));

214 
ImageIcÚ
 
run
 = 
Ãw
 
	`ImageIcÚ
(

215 
	`g‘CÏss
().
	`g‘Resourû
("/images/play.png"));

216 
ImageIcÚ
 
ex™
 = 
Ãw
 
	`ImageIcÚ
(

217 
	`g‘CÏss
().
	`g‘Resourû
("/images/exit.png"));

219 
fš®
 
JBu‰Ú
 
bŠS’sÜ
 = 
Ãw
 
	`JBu‰Ú
(
iS’sÜ
);

220 
bŠS’sÜ
.
	`£tToŞTText
("Add Sensor");

221 
fš®
 
JBu‰Ú
 
bŠAùu©Ü
 = 
Ãw
 
	`JBu‰Ú
(
iAùu©Ü
);

222 
bŠAùu©Ü
.
	`£tToŞTText
("Add Actuator");

224 
fš®
 
JBu‰Ú
 
bŠFogDeviû
 = 
Ãw
 
	`JBu‰Ú
(
iFogDeviû
);

225 
bŠFogDeviû
.
	`£tToŞTText
("Add Fog Device");

226 
fš®
 
JBu‰Ú
 
bŠLšk
 = 
Ãw
 
	`JBu‰Ú
(
iLšk
);

227 
bŠLšk
.
	`£tToŞTText
("Add Link");

230 
fš®
 
JBu‰Ú
 
bŠHİ’
 = 
Ãw
 
	`JBu‰Ú
(
iHO³n
);

231 
bŠHİ’
.
	`£tToŞTText
("Open Physical Topology");

232 
fš®
 
JBu‰Ú
 
bŠH§ve
 = 
Ãw
 
	`JBu‰Ú
(
iHSave
);

233 
bŠH§ve
.
	`£tToŞTText
("Save Physical Topology");

235 
bŠRun
 = 
Ãw
 
	`JBu‰Ú
(
run
);

236 
bŠRun
.
	`£tToŞTText
("Start simulation");

237 
JBu‰Ú
 
bŠEx™
 = 
Ãw
 
	`JBu‰Ú
(
ex™
);

238 
bŠEx™
.
	`£tToŞTText
("Exit CloudSim");

239 
toŞb¬
.
	`£tAlignm’tX
(0);

242 
bŠS’sÜ
.
	`addAùiÚLi¡’”
(
addS’sÜLi¡’”
);

243 
bŠAùu©Ü
.
	`addAùiÚLi¡’”
(
addAùu©ÜLi¡’”
);

244 
bŠFogDeviû
.
	`addAùiÚLi¡’”
(
addFogDeviûLi¡’”
);

245 
bŠLšk
.
	`addAùiÚLi¡’”
(
addLškLi¡’”
);

246 
bŠHİ’
.
	`addAùiÚLi¡’”
(
impÜtPhyTİoLi¡’”
);

247 
bŠH§ve
.
	`addAùiÚLi¡’”
(
§vePhyTİoLi¡’”
);

249 
bŠRun
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

250 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

251 if("i"==
mode
){

252 if(
physiÿlTİŞogyFe
==
nuÎ
 ||…hysiÿlTİŞogyFe.
	`isEm±y
()){

253 
JO±iÚPªe
.
	`showMes§geDŸlog
(
·Ãl
, "PËa£ s–eù…hysiÿlTİŞogyFe", "E¼Ü", JO±iÚPªe.
ERROR_MESSAGE
);

256 if(
d•loym’tFe
==
nuÎ
 || d•loym’tFe.
	`isEm±y
()){

257 
JO±iÚPªe
.
	`showMes§geDŸlog
(
·Ãl
, "PËa£ s–eù d•loym’tFe", "E¼Ü", JO±iÚPªe.
ERROR_MESSAGE
);

260 if(
wÜklßds_background
==
nuÎ
 || wÜklßds_background.
	`isEm±y
()){

261 
JO±iÚPªe
.
	`showMes§geDŸlog
(
·Ãl
, "PËa£ s–eù wÜklßds_background", "E¼Ü", JO±iÚPªe.
ERROR_MESSAGE
);

264 if(
wÜklßds
==
nuÎ
 || wÜklßds.
	`isEm±y
()){

265 
JO±iÚPªe
.
	`showMes§geDŸlog
(
·Ãl
, "PËa£ s–eù wÜklßds", "E¼Ü", JO±iÚPªe.
ERROR_MESSAGE
);

269 
SDNRun
 
run
 = 
Ãw
 
	`SDNRun
(
physiÿlTİŞogyFe
, 
d•loym’tFe
,

270 
wÜklßds_background
, 
wÜklßds
, 
FogGui
.
this
);

273 }if("m"==
mode
){

279 
bŠEx™
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

280 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

281 
Sy¡em
.
	`ex™
(0);

286 
toŞb¬
.
	`add
(
bŠS’sÜ
);

287 
toŞb¬
.
	`add
(
bŠAùu©Ü
);

288 
toŞb¬
.
	`add
(
bŠFogDeviû
);

289 
toŞb¬
.
	`add
(
bŠLšk
);

290 
toŞb¬
.
	`add
(
bŠHİ’
);

291 
toŞb¬
.
	`add
(
bŠH§ve
);

293 
toŞb¬
.
	`addS•¬©Ü
();

300 
toŞb¬
.
	`addS•¬©Ü
();

302 
toŞb¬
.
	`add
(
bŠRun
);

303 
toŞb¬
.
	`add
(
bŠEx™
);

305 
·Ãl
.
	`add
(
toŞb¬
);

307 
cÚ‹ÁPªe
.
	`add
(
·Ãl
, 
BÜd”Layout
.
NORTH
);

314 
JM’uB¬
 
m’ub¬
 = 
Ãw
 
	`JM’uB¬
();

318 
JM’u
 
g¿ph
 = 
Ãw
 
	`JM’u
("Graph");

319 
g¿ph
.
	`£tMÃmÚic
(
KeyEv’t
.
VK_G
);

322 
fš®
 
JM’uI‹m
 
MiPhy
 = 
Ãw
 
	`JM’uI‹m
("Physical Topology");

323 
fš®
 
JM’uI‹m
 
MiVœ
 = 
Ãw
 
	`JM’uI‹m
("Virtual Topology");

324 
fš®
 
JM’uI‹m
 
MiWl1
 = 
Ãw
 
	`JM’uI‹m
("Workload Background");

325 
fš®
 
JM’uI‹m
 
MiWl2
 = 
Ãw
 
	`JM’uI‹m
("Workload");

327 
fš®
 
JM’u
 
MuPhy
 = 
Ãw
 
	`JM’u
("Physical");

328 
JM’uI‹m
 
MiFogDeviû
 = 
Ãw
 
	`JM’uI‹m
("Add Fog Device");

329 
JM’uI‹m
 
MiPhyEdge
 = 
Ãw
 
	`JM’uI‹m
("Add Edge");

330 
JM’uI‹m
 
MiPhyO³n
 = 
Ãw
 
	`JM’uI‹m
("Import Physical Topology");

331 
JM’uI‹m
 
MiPhySave
 = 
Ãw
 
	`JM’uI‹m
("Save Physical Topology");

332 
MuPhy
.
	`add
(
MiFogDeviû
);

333 
MuPhy
.
	`add
(
MiPhyEdge
);

334 
MuPhy
.
	`add
(
MiPhyO³n
);

335 
MuPhy
.
	`add
(
MiPhySave
);

337 
MiPhy
.
	`addAùiÚLi¡’”
(
»adPhyTİoLi¡’”
);

338 
MiVœ
.
	`addAùiÚLi¡’”
(
»adVœTİoLi¡’”
);

339 
MiWl1
.
	`addAùiÚLi¡’”
(
»adWÜklßdBkLi¡’”
);

340 
MiWl2
.
	`addAùiÚLi¡’”
(
»adWÜklßdLi¡’”
);

342 
MiFogDeviû
.
	`addAùiÚLi¡’”
(
addFogDeviûLi¡’”
);

343 
MiPhyEdge
.
	`addAùiÚLi¡’”
(
addPhysiÿlEdgeLi¡’”
);

344 
MiPhyO³n
.
	`addAùiÚLi¡’”
(
impÜtPhyTİoLi¡’”
);

345 
MiPhySave
.
	`addAùiÚLi¡’”
(
§vePhyTİoLi¡’”
);

347 
g¿ph
.
	`add
(
MuPhy
);

349 
g¿ph
.
	`add
(
MiPhy
);

351 
g¿ph
.
	`add
(
MiWl1
);

352 
g¿ph
.
	`add
(
MiWl2
);

355 
JM’u
 
v›w
 = 
Ãw
 
	`JM’u
("View");

356 
v›w
.
	`£tMÃmÚic
(
KeyEv’t
.
VK_F
);

359 
AùiÚLi¡’”
 
aùiÚSw™ch”
 = 
Ãw
 
	`AùiÚLi¡’”
() {

360 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
e
) {

361 
Œy
 {

362 
SŒšg
 
cmd
 = 
e
.
	`g‘AùiÚCommªd
();

363 if("Cªvas" =ğ
cmd
){

364 
bŠS’sÜ
.
	`£tVisibË
(
Œue
);

365 
bŠAùu©Ü
.
	`£tVisibË
(
Œue
);

366 
bŠFogDeviû
.
	`£tVisibË
(
Œue
);

367 
bŠLšk
.
	`£tVisibË
(
Œue
);

368 
bŠHİ’
.
	`£tVisibË
(
Œue
);

369 
bŠH§ve
.
	`£tVisibË
(
Œue
);

371 
MiPhy
.
	`£tVisibË
(
çl£
);

372 
MiVœ
.
	`£tVisibË
(
çl£
);

373 
MiWl1
.
	`£tVisibË
(
çl£
);

374 
MiWl2
.
	`£tVisibË
(
çl£
);

375 
MuPhy
.
	`£tVisibË
(
Œue
);

378 
bŠRun
.
	`£tVisibË
(
çl£
);

379 
bŠRun
.
	`£tEÇbËd
(
çl£
);

381 
mode
 = "m";

383 }if("ExecutiÚ" =ğ
cmd
){

384 
bŠS’sÜ
.
	`£tVisibË
(
çl£
);

385 
bŠAùu©Ü
.
	`£tVisibË
(
çl£
);

386 
bŠFogDeviû
.
	`£tVisibË
(
çl£
);

387 
bŠLšk
.
	`£tVisibË
(
çl£
);

388 
bŠHİ’
.
	`£tVisibË
(
çl£
);

389 
bŠH§ve
.
	`£tVisibË
(
çl£
);

391 
MiPhy
.
	`£tVisibË
(
Œue
);

392 
MiVœ
.
	`£tVisibË
(
Œue
);

393 
MiWl1
.
	`£tVisibË
(
Œue
);

394 
MiWl2
.
	`£tVisibË
(
Œue
);

395 
MuPhy
.
	`£tVisibË
(
çl£
);

398 
bŠRun
.
	`£tVisibË
(
Œue
);

399 
bŠRun
.
	`£tEÇbËd
(
çl£
);

401 
mode
 = "i";

404 } 
	`ÿtch
 (
Exû±iÚ
 
ex
) {

405 
ex
.
	`´štSckT¿û
();

409 
JRadioBu‰ÚM’uI‹m
 
mªu®Mode
 = 
Ãw
 
	`JRadioBu‰ÚM’uI‹m
("Canvas");

410 
mªu®Mode
.
	`£tAcûË¿tÜ
(
KeySŒoke
.
	`g‘KeySŒoke
(
KeyEv’t
.
VK_U
, 
AùiÚEv’t
.
CTRL_MASK
));

411 
mªu®Mode
.
	`addAùiÚLi¡’”
(
aùiÚSw™ch”
);

412 
JRadioBu‰ÚM’uI‹m
 
impÜtMode
 = 
Ãw
 
	`JRadioBu‰ÚM’uI‹m
("Execution");

413 
impÜtMode
.
	`£tAcûË¿tÜ
(
KeySŒoke
.
	`g‘KeySŒoke
(
KeyEv’t
.
VK_I
, 
AùiÚEv’t
.
CTRL_MASK
));

414 
impÜtMode
.
	`addAùiÚLi¡’”
(
aùiÚSw™ch”
);

415 
Bu‰ÚGroup
 
group
 = 
Ãw
 
	`Bu‰ÚGroup
();

416 
group
.
	`add
(
mªu®Mode
);

417 
group
.
	`add
(
impÜtMode
);

419 
JM’uI‹m
 
feEx™
 = 
Ãw
 
	`JM’uI‹m
("Exit");

420 
feEx™
.
	`£tMÃmÚic
(
KeyEv’t
.
VK_C
);

421 
feEx™
.
	`£tToŞTText
("Exit CloudSim");

422 
feEx™
.
	`£tAcûË¿tÜ
(
KeySŒoke
.
	`g‘KeySŒoke
(
KeyEv’t
.
VK_W
,

423 
AùiÚEv’t
.
CTRL_MASK
));

425 
feEx™
.
	`addAùiÚLi¡’”
(
Ãw
 
	`AùiÚLi¡’”
() {

426 
public
 
	`aùiÚP”fÜmed
(
AùiÚEv’t
 
ev’t
) {

427 
Sy¡em
.
	`ex™
(0);

432 
v›w
.
	`add
(
mªu®Mode
);

433 
v›w
.
	`add
(
impÜtMode
);

434 
v›w
.
	`addS•¬©Ü
();

435 
v›w
.
	`add
(
feEx™
);

439 
m’ub¬
.
	`add
(
v›w
);

440 
m’ub¬
.
	`add
(
g¿ph
);

443 
	`£tJM’uB¬
(
m’ub¬
);

449 
mªu®Mode
.
	`£tS–eùed
(
Œue
);

450 
mode
 = "m";

453 
bŠS’sÜ
.
	`£tVisibË
(
Œue
);

454 
bŠAùu©Ü
.
	`£tVisibË
(
Œue
);

455 
bŠFogDeviû
.
	`£tVisibË
(
Œue
);

456 
bŠLšk
.
	`£tVisibË
(
Œue
);

457 
bŠHİ’
.
	`£tVisibË
(
Œue
);

458 
bŠH§ve
.
	`£tVisibË
(
Œue
);

460 
MiPhy
.
	`£tVisibË
(
çl£
);

461 
MiVœ
.
	`£tVisibË
(
çl£
);

462 
MiWl1
.
	`£tVisibË
(
çl£
);

463 
MiWl2
.
	`£tVisibË
(
çl£
);

464 
MuPhy
.
	`£tVisibË
(
Œue
);

467 
bŠRun
.
	`£tVisibË
(
çl£
);

468 
bŠRun
.
	`£tEÇbËd
(
çl£
);

471 
	}
}

473 
´Ùeùed
 
	$İ’AddAùu©ÜDŸlog
() {

474 
AddAùu©Ü
 
aùu©Ü
 = 
Ãw
 
	`AddAùu©Ü
(
physiÿlG¿ph
, 
FogGui
.
this
);

475 
physiÿlCªvas
.
	`»·št
();

476 
	}
}

478 
´Ùeùed
 
	$İ’AddLškDŸlog
() {

479 
AddLšk
 
phyEdge
 = 
Ãw
 
	`AddLšk
(
physiÿlG¿ph
, 
FogGui
.
this
);

480 
physiÿlCªvas
.
	`»·št
();

482 
	}
}

484 
´Ùeùed
 
	$İ’AddFogDeviûDŸlog
() {

485 
AddFogDeviû
 
fogDeviû
 = 
Ãw
 
	`AddFogDeviû
(
physiÿlG¿ph
, 
FogGui
.
this
);

486 
physiÿlCªvas
.
	`»·št
();

488 
	}
}

491 
´iv©e
 
	$š™G¿ph
(){

492 
physiÿlG¿ph
 = 
Ãw
 
	`G¿ph
();

495 
physiÿlCªvas
 = 
Ãw
 
	`G¿phV›w
(
physiÿlG¿ph
);

498 
g¿ph
.
	`add
(
physiÿlCªvas
);

500 
cÚ‹ÁPªe
.
	`add
(
g¿ph
, 
BÜd”Layout
.
CENTER
);

501 
	}
}

505 
´iv©e
 
	$İ’AddPhysiÿlNodeDŸlog
(){

506 
AddPhysiÿlNode
 
phyNode
 = 
Ãw
 
	`AddPhysiÿlNode
(
physiÿlG¿ph
, 
FogGui
.
this
);

507 
physiÿlCªvas
.
	`»·št
();

508 
	}
}

509 
´iv©e
 
	$İ’AddPhysiÿlEdgeDŸlog
(){

510 
AddPhysiÿlEdge
 
phyEdge
 = 
Ãw
 
	`AddPhysiÿlEdge
(
physiÿlG¿ph
, 
FogGui
.
this
);

511 
physiÿlCªvas
.
	`»·št
();

512 
	}
}

514 
´Ùeùed
 
	$İ’AddS’sÜDŸlog
() {

515 
AddS’sÜ
 
£nsÜ
 = 
Ãw
 
	`AddS’sÜ
(
physiÿlG¿ph
, 
FogGui
.
this
);

516 
physiÿlCªvas
.
	`»·št
();

517 
	}
}

520 
´iv©e
 
SŒšg
 
	$impÜtFe
(
SŒšg
 
ty³
){

521 
JFeChoo£r
 
feİ’
 = 
Ãw
 
	`JFeChoo£r
();

522 
FeF‹r
 
f‹r
 = 
Ãw
 
	`FeNameEx‹nsiÚF‹r
(
ty³
.
	`toUµ”Ca£
()+" Files",ype);

523 
feİ’
.
	`addChoo§bËFeF‹r
(
f‹r
);

525 
»t
 = 
feİ’
.
	`showDŸlog
(
·Ãl
, "Import file");

527 ià(
»t
 =ğ
JFeChoo£r
.
APPROVE_OPTION
) {

528 
Fe
 
fe
 = 
feİ’
.
	`g‘S–eùedFe
();

529  
fe
.
	`g‘P©h
();

532 
	}
}

535 
´iv©e
 
	$§veFe
(
SŒšg
 
ty³
, 
G¿ph
 
g¿ph
è
throws
 
IOExû±iÚ
{

536 
JFeChoo£r
 
feİ’
 = 
Ãw
 
	`JFeChoo£r
();

537 
FeF‹r
 
f‹r
 = 
Ãw
 
	`FeNameEx‹nsiÚF‹r
(
ty³
.
	`toUµ”Ca£
()+" Files",ype);

538 
feİ’
.
	`addChoo§bËFeF‹r
(
f‹r
);

540 
»t
 = 
feİ’
.
	`showSaveDŸlog
(
·Ãl
);

542 ià(
»t
 =ğ
JFeChoo£r
.
APPROVE_OPTION
) {

543 
SŒšg
 
jsÚText
 = 
g¿ph
.
	`toJsÚSŒšg
();

544 
Sy¡em
.
out
.
	`´šn
(
jsÚText
);

545 
SŒšg
 
·th
 = 
feİ’
.
	`g‘S–eùedFe
().
	`toSŒšg
();

546 
Fe
 
fe
 = 
Ãw
 
	`Fe
(
·th
);

547 
FeOuutSŒ—m
 
out
 = 
Ãw
 
	`FeOuutSŒ—m
(
fe
);

548 
out
.
	`wr™e
(
jsÚText
.
	`g‘By‹s
());

549 
out
.
	`şo£
();

551 
	}
}

553 
´iv©e
 
	$£tUIFÚt
(
javax
.
swšg
.
¶af
.
FÚtUIResourû
 
f
){

554 
java
.
ut
.
Enum”©iÚ
 
keys
 = 
UIMªag”
.
	`g‘DeçuÉs
().
	`keys
();

555 
keys
.
	`hasMÜeEËm’ts
()) {

556 
Objeù
 
key
 = 
keys
.
	`ÃxtEËm’t
();

557 
Objeù
 
v®ue
 = 
UIMªag”
.
	`g‘
 (
key
);

558 ià(
v®ue
 !ğ
nuÎ
 && v®u
š¡ªûof
 
javax
.
swšg
.
¶af
.
FÚtUIResourû
)

559 
UIMªag”
.
	`put
 (
key
, 
f
);

561 
	}
}

563 
´iv©e
 
	$checkImpÜtStus
(){

564 if((
physiÿlTİŞogyFe
!=
nuÎ
 && !physiÿlTİŞogyFe.
	`isEm±y
()) &&

565 (
d•loym’tFe
!=
nuÎ
 && !d•loym’tFe.
	`isEm±y
()) &&

566 (
wÜklßds_background
!=
nuÎ
 && !wÜklßds_background.
	`isEm±y
()) &&

567 (
wÜklßds
!=
nuÎ
 && !wÜklßds.
	`isEm±y
())){

568 
bŠRun
.
	`£tEÇbËd
(
Œue
);

570 
bŠRun
.
	`£tEÇbËd
(
çl£
);

572 
	}
}

577 
public
 
	$maš
(
SŒšg
 
¬gs
[]è
throws
 
IÁ”ru±edExû±iÚ
 {

578 
SwšgUt™›s
.
	`švokeL©”
(
Ãw
 
	`RuÂabË
() {

579 
public
 
	`run
() {

580 
FogGui
 
sdn
 = 
Ãw
 
	`FogGui
();

581 
sdn
.
	`£tVisibË
(
Œue
);

584 
	}
}

	@src/org/fog/localization/Coordinate.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

4 
impÜt
 
	gjava
.
	gut
.
	gQueue
;

6 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.*;

7 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.*;

8 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gDœeùiÚs
;

11 
public
 cÏs 
	cCoÜdš©e
 {

13 
´iv©e
 
	mcoÜdX
;

14 
´iv©e
 
	mcoÜdY
;

24 
public
 
	$CoÜdš©e
(){

28 
public
 
boŞ—n
 
	$isW™hšLim™Pos™iÚ
(
CoÜdš©e
 
c
){

29 ià(
c
.
	`g‘CoÜdX
()>=
MaxAndMš
.
MAX_X
||

30 
c
.
	`g‘CoÜdX
()<0||

31 
c
.
	`g‘CoÜdY
()>=
MaxAndMš
.
MAX_Y
||

32 
c
.
	`g‘CoÜdY
()<0)

33  
çl£
;

35  
Œue
;

36 
	}
}

37 
public
 
	$de§bËSm¬tThšg
(
MobeDeviû
 
sm¬tThšg
){

39 
sm¬tThšg
.
	`£tCoÜd
(() -1, ()-1);

40 
	}
}

42 
public
 
	$¿dŸnsToDeg»e
 (
DoubË
 
dœeùiÚ
){

44 
deg»e
 = 
dœeùiÚ
*(180/
M©h
.
PI
);

46 ià(
deg»e
 < 0)

47 
deg»e
 += 360;

49  
deg»e
;

50 
	}
}

52 
public
 
	$cÚv”tDœeùiÚ
(
DoubË
 
dœeùiÚ
){

54 
deg»e
 = 
	`¿dŸnsToDeg»e
(
dœeùiÚ
);

56 ià(
deg»e
 > 337.5 && degree <= 22.5)

57  
DœeùiÚs
.
EAST
;

58 ià(
deg»e
 > 22.5 && degree <= 67.5)

59  
DœeùiÚs
.
NORTHEAST
;

60 ià(
deg»e
 > 67.5 && degree <= 112.5)

61  
DœeùiÚs
.
NORTH
;

62 ià(
deg»e
 > 112.5 && degree <= 157.5)

63  
DœeùiÚs
.
NORTHWEST
;

64 ià(
deg»e
 > 157.5 && degree <= 202.5)

65  
DœeùiÚs
.
NORTHWEST
;

66 ià(
deg»e
 > 202.5 && degree <= 247.5)

67  
DœeùiÚs
.
SOUTHWEST
;

68 ià(
deg»e
 > 247.5 && degree <= 292.5)

69  
DœeùiÚs
.
SOUTH
;

71  
DœeùiÚs
.
SOUTHEAST
;

72 
	}
}

74 
public
 
ÃwCoÜdš©e
(
MobeDeviû
 
sm¬tThšg
, 
Queue
<
SŒšg
[]>
q
){

76 if(!
	gq
.
isEm±y
()){

77 
	gSŒšg
[] 
	gcoodš©es
 = 
q
.
pŞl
();

79 
	gdœeùiÚ
 = 
cÚv”tDœeùiÚ
(
DoubË
.
·r£DoubË
(
coodš©es
[0]));

80 
	gx
 = (è
DoubË
.
·r£DoubË
(
coodš©es
[1]);

81 
	gy
 = (è
DoubË
.
·r£DoubË
(
coodš©es
[2]);

82 
	g¥“d
 = (è
DoubË
.
·r£DoubË
(
coodš©es
[3]);

87 if(
	gx
<0||
	gy
<0||x>=
MaxAndMš
.
MAX_X
||
y
>=MaxAndMš.
MAX_Y
){

88 
de§bËSm¬tThšg
(
sm¬tThšg
);

93 
	gsm¬tThšg
.
£tDœeùiÚ
(
dœeùiÚ
);

94 
	gsm¬tThšg
.
g‘CoÜd
().
£tCoÜdX
(
x
);

95 
	gsm¬tThšg
.
g‘CoÜd
().
£tCoÜdY
(
y
);

96 
	gsm¬tThšg
.
£tS³ed
(
¥“d
);

100 
de§bËSm¬tThšg
(
sm¬tThšg
);

104 
public
 
	$ÃwCoÜdš©e
(
MobeDeviû
 
sm¬tThšg
, 
add
, 
CoÜdš©e
 
coÜdDeviûs
){

106 if(
sm¬tThšg
.
	`g‘S³ed
()!=0){

107 
šü—£X
ğ(
sm¬tThšg
.
	`g‘CoÜd
().
	`g‘CoÜdX
()+(sm¬tThšg.
	`g‘S³ed
()*
add
));

108 
šü—£Y
ğ(
sm¬tThšg
.
	`g‘CoÜd
().
	`g‘CoÜdY
()+(sm¬tThšg.
	`g‘S³ed
()*
add
));

109 
deü—£X
ğ(
sm¬tThšg
.
	`g‘CoÜd
().
	`g‘CoÜdX
()-(sm¬tThšg.
	`g‘S³ed
()*
add
));

110 
deü—£Y
ğ(
sm¬tThšg
.
	`g‘CoÜd
().
	`g‘CoÜdY
()-(sm¬tThšg.
	`g‘S³ed
()*
add
));

111 
dœeùiÚ
ğ
sm¬tThšg
.
	`g‘DœeùiÚ
();

112 
ŞdCoÜdX
 = 
sm¬tThšg
.
	`g‘CoÜd
().
	`g‘CoÜdX
();

113 
ŞdCoÜdY
 = 
sm¬tThšg
.
	`g‘CoÜd
().
	`g‘CoÜdY
();

117 if(
deü—£X
<0||
deü—£Y
<0||
šü—£X
>=
MaxAndMš
.
MAX_X
||
šü—£Y
>=MaxAndMš.
MAX_Y
){

118 
	`de§bËSm¬tThšg
(
sm¬tThšg
);

124 if(
dœeùiÚ
==
DœeùiÚs
.
EAST
){

127 
sm¬tThšg
.
	`g‘CoÜd
().
	`£tCoÜdX
(
šü—£X
);

134 if(
dœeùiÚ
==
DœeùiÚs
.
WEST
){

137 
sm¬tThšg
.
	`g‘CoÜd
().
	`£tCoÜdX
(
deü—£X
);

144 if(
dœeùiÚ
==
DœeùiÚs
.
SOUTH
){

147 
sm¬tThšg
.
	`g‘CoÜd
().
	`£tCoÜdY
(
šü—£Y
);

154 if(
dœeùiÚ
==
DœeùiÚs
.
NORTH
){

157 
sm¬tThšg
.
	`g‘CoÜd
().
	`£tCoÜdY
(
deü—£Y
);

164 if(
dœeùiÚ
==
DœeùiÚs
.
SOUTHEAST
){

167 
sm¬tThšg
.
	`g‘CoÜd
().
	`£tCoÜdX
(
šü—£X
);

168 
sm¬tThšg
.
	`g‘CoÜd
().
	`£tCoÜdY
(
šü—£Y
);

179 if(
dœeùiÚ
==
DœeùiÚs
.
NORTHWEST
){

182 
sm¬tThšg
.
	`g‘CoÜd
().
	`£tCoÜdX
(
deü—£X
);

183 
sm¬tThšg
.
	`g‘CoÜd
().
	`£tCoÜdY
(
deü—£Y
);

194 if(
dœeùiÚ
==
DœeùiÚs
.
SOUTHWEST
){

197 
sm¬tThšg
.
	`g‘CoÜd
().
	`£tCoÜdX
(
deü—£X
);

198 
sm¬tThšg
.
	`g‘CoÜd
().
	`£tCoÜdY
(
šü—£Y
);

209 if(
dœeùiÚ
==
DœeùiÚs
.
NORTHEAST
){

212 
sm¬tThšg
.
	`g‘CoÜd
().
	`£tCoÜdX
(
šü—£X
);

213 
sm¬tThšg
.
	`g‘CoÜd
().
	`£tCoÜdY
(
deü—£Y
);

225 
	}
}

231 
public
 
	$g‘CoÜdX
() {

232  
coÜdX
;

233 
	}
}

235 
public
 
	$£tCoÜdX
(
coÜdX
) {

236 
this
.
coÜdX
 = coordX;

237 
	}
}

239 
public
 
	$g‘CoÜdY
() {

240  
coÜdY
;

241 
	}
}

243 
public
 
	$£tCoÜdY
(
coÜdY
) {

244 
this
.
coÜdY
 = coordY;

245 
	}
}

	@src/org/fog/localization/DiscoverLocalization.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
;

2 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.*;

3 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.*;

5 
public
 cÏs 
	cDiscov”Loÿliz©iÚ
 {

7 
´iv©e
 
	mcoÜdX
;

8 
´iv©e
 
	mcoÜdY
;

9 
´iv©e
 
	mth‘a
;

10 
´iv©e
 
	mdœeùiÚ
;

11 
public
 
	$Discov”Loÿliz©iÚ
() {

22 
public
 
	$discov”Loÿl
(
CoÜdš©e
 
fœ¡CoÜd
, CoÜdš©
£cÚdCoÜd
){

28 
	`£tCoÜdX
((
fœ¡CoÜd
.
	`g‘CoÜdX
(è- 
£cÚdCoÜd
.getCoordX())*(-1));

29 
	`£tCoÜdY
((
fœ¡CoÜd
.
	`g‘CoÜdY
(è- 
£cÚdCoÜd
.getCoordY())*(-1));

30 
	`£tTh‘a
(
Di¡ªûs
.
	`fšdTh‘a
(
	`g‘CoÜdX
(),
	`g‘CoÜdY
()));

31  
Di¡ªûs
.
	`fšdPos™iÚ
(
	`g‘Th‘a
());

32 
	}
}

33 
public
 
	$g‘CoÜdX
() {

34  
coÜdX
;

35 
	}
}

36 
public
 
	$£tCoÜdX
(
coÜdX
) {

37 
Discov”Loÿliz©iÚ
.
coÜdX
 = coordX;

38 
	}
}

39 
public
 
	$g‘CoÜdY
() {

40  
coÜdY
;

41 
	}
}

42 
public
 
	$£tCoÜdY
(
coÜdY
) {

43 
Discov”Loÿliz©iÚ
.
coÜdY
 = coordY;

44 
	}
}

45 
public
 
	$g‘Th‘a
() {

46  
th‘a
;

47 
	}
}

48 
public
 
	$£tTh‘a
(
th‘a
) {

49 
Discov”Loÿliz©iÚ
.
th‘a
 =heta;

50 
	}
}

51 
public
 
	$g‘DœeùiÚ
() {

52  
dœeùiÚ
;

53 
	}
}

54 
public
 
	$£tDœeùiÚ
(
dœeùiÚ
) {

55 
Discov”Loÿliz©iÚ
.
dœeùiÚ
 = direction;

56 
	}
}

	@src/org/fog/localization/Distances.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
;

2 
impÜt
 
	gjava
.
	gÏng
.
	gM©h
;

3 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

6 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.*;

7 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.*;

8 
public
 cÏs 
	cDi¡ªûs
 {

10 
public
 
	$Di¡ªûs
() {

18 
´iv©e
 
coÜdX
;

19 
´iv©e
 
coÜdY
;

20 
´iv©e
 
fœ¡
;

21 
´iv©e
 
£cÚd
;

22 
´iv©e
 
di¡ªû
;

23 
´iv©e
 
th‘a
;

25 
public
 
	`theClo£¡Ap
(
Li¡
<
ApDeviû
> 
­Deviûs
, 
MobeDeviû
 
sm¬tThšg
){

26 
choo£
=
­Deviûs
.
	`g‘
(0).
	`g‘MyId
();

27 
mš
=
	`checkDi¡ªû
(
­Deviûs
.
	`g‘
(0).
	`g‘CoÜd
(), 
sm¬tThšg
.getCoord());

28 
ApDeviû
 
­
:
­Deviûs
){

29 
	`£tDi¡ªû
(
	`checkDi¡ªû
(
­
.
	`g‘CoÜd
(), 
sm¬tThšg
.getCoord()));

32 ià(
	`g‘Di¡ªû
()<
mš
){

33 
choo£
=
­
.
	`g‘MyId
();

34 
mš
=
	`g‘Di¡ªû
();

38 if(
mš
<=
MaxAndMš
.
MAX_DISTANCE
)

39  
choo£
;

44 
	}
}

46 
public
 
theClo£¡S”v”CloudËt
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
, 
MobeDeviû
 
sm¬tThšg
){

47 
	gchoo£
=
£rv”CloudËts
.
g‘
(0).
g‘MyId
();

48 
	gmš
=
checkDi¡ªû
(
£rv”CloudËts
.
g‘
(0).
g‘CoÜd
(), 
sm¬tThšg
.getCoord());

50 
FogDeviû
 
	gsc
 : 
£rv”CloudËts
){

51 
£tDi¡ªû
(
checkDi¡ªû
(
sc
.
g‘CoÜd
(), 
sm¬tThšg
.getCoord()));

53 ià(
g‘Di¡ªû
()<
	gmš
){

54 
	gchoo£
=
sc
.
g‘MyId
();

55 
	gmš
=
g‘Di¡ªû
();

59  
	gchoo£
;

61 
public
 
theClo£¡S”v”CloudËtToAp
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
, 
ApDeviû
 
­Deviû
){

63 
	gchoo£
=0;

64 
	gmš
=
checkDi¡ªû
(
£rv”CloudËts
.
g‘
(0).
g‘CoÜd
(), 
­Deviû
.getCoord());

66 
FogDeviû
 
	gsc
 : 
£rv”CloudËts
){

67 
£tDi¡ªû
(
checkDi¡ªû
(
sc
.
g‘CoÜd
(), 
­Deviû
.getCoord()));

69 ià(
g‘Di¡ªû
()<
	gmš
){

70 
	gchoo£
=
sc
.
g‘MyId
();

71 
	gmš
=
g‘Di¡ªû
();

83  
	gchoo£
;

87 
public
 
	$fšdTh‘a
(
coÜdX
, 
coÜdY
){

88 
	`£tCoÜdX
(
coÜdX
);

89 
	`£tCoÜdY
(
coÜdY
);

90 if(
coÜdX
!=0)

91 
	`£tTh‘a
(
M©h
.
	`©ª
(((è
coÜdY
è/ (()
coÜdX
)è* (180/M©h.
PI
));

93 
	`£tTh‘a
(0);

95 if(
coÜdX
 < 0 && 
coÜdY
 >= 0)

96  180 + 
	`g‘Th‘a
();

98 if(
coÜdX
 < 0 && 
coÜdY
 < 0)

99  180 + 
	`g‘Th‘a
();

101 if(
coÜdX
 > 0 && 
coÜdY
 < 0)

102  360 + 
	`g‘Th‘a
();

104 if(
coÜdX
 =ğ0 && 
coÜdY
 > 0)

105  90 + 
	`g‘Th‘a
();

107 if(
coÜdX
 =ğ0 && 
coÜdY
 < 0)

108  270 + 
	`g‘Th‘a
();

111  
	`g‘Th‘a
();

112 
	}
}

113 
public
 
	$fšdPos™iÚ
(
th
){

114 
	`£tTh‘a
(
th
);

116 if((
	`g‘Th‘a
()>=0&&getTheta()<=22.5)||(getTheta()>337.5&&getTheta()<=360))

117  
DœeùiÚs
.
EAST
;

119 if(
	`g‘Th‘a
()>22.5&&getTheta()<=67.5)

120  
DœeùiÚs
.
SOUTHEAST
;

122 if(
	`g‘Th‘a
()>67.5&&getTheta()<=112.5)

123  
DœeùiÚs
.
SOUTH
;

125 if(
	`g‘Th‘a
()>112.5&&getTheta()<=157.5)

126  
DœeùiÚs
.
SOUTHWEST
;

128 if(
	`g‘Th‘a
()>157.5&&getTheta()<=202.5)

129  
DœeùiÚs
.
WEST
;

131 if(
	`g‘Th‘a
()>202.5&&getTheta()<=247.5)

132  
DœeùiÚs
.
NORTHWEST
;

134 if(
	`g‘Th‘a
()>247.5&&getTheta()<=292.5)

135  
DœeùiÚs
.
NORTH
;

137 if(
	`g‘Th‘a
()>292.5&&getTheta()<=337.5)

138  
DœeùiÚs
.
NORTHEAST
;

140  
DœeùiÚs
.
NONE
;

142 
	}
}

143 
public
 
	$checkDi¡ªû
(
CoÜdš©e
 
fœ¡CoÜd
, CoÜdš©
£cÚdCoÜd
){

145 
	`£tFœ¡
((è
M©h
.
	`pow
(
fœ¡CoÜd
.
	`g‘CoÜdX
()-
£cÚdCoÜd
.getCoordX(),2));

146 
	`£tSecÚd
((è
M©h
.
	`pow
(
fœ¡CoÜd
.
	`g‘CoÜdY
()-
£cÚdCoÜd
.getCoordY(),2));

147 
	`£tDi¡ªû
(
M©h
.
	`sq¹
(
	`g‘Fœ¡
()+
	`g‘SecÚd
()));

148  
	`g‘Di¡ªû
();

149 
	}
}

151 
public
 
	$g‘CoÜdX
() {

152  
coÜdX
;

153 
	}
}

154 
public
 
	$£tCoÜdX
(
coÜdX
) {

155 
Di¡ªûs
.
coÜdX
 = coordX;

156 
	}
}

157 
public
 
	$g‘CoÜdY
() {

158  
coÜdY
;

159 
	}
}

160 
public
 
	$£tCoÜdY
(
coÜdY
) {

161 
Di¡ªûs
.
coÜdY
 = coordY;

162 
	}
}

163 
public
 
	$g‘Fœ¡
() {

164  
fœ¡
;

165 
	}
}

166 
public
 
	$£tFœ¡
(
fœ¡
) {

167 
Di¡ªûs
.
fœ¡
 = first;

168 
	}
}

169 
public
 
	$g‘SecÚd
() {

170  
£cÚd
;

171 
	}
}

172 
public
 
	$£tSecÚd
(
£cÚd
) {

173 
Di¡ªûs
.
£cÚd
 = second;

174 
	}
}

175 
public
 
	$g‘Di¡ªû
() {

176  
di¡ªû
;

177 
	}
}

178 
public
 
	$£tDi¡ªû
(
di¡ªû
) {

179 
Di¡ªûs
.
di¡ªû
 = distance;

180 
	}
}

181 
public
 
	$g‘Th‘a
() {

182  
th‘a
;

183 
	}
}

184 
public
 
	$£tTh‘a
(
th‘a
) {

185 
Di¡ªûs
.
th‘a
 =heta;

186 
	}
}

	@src/org/fog/localization/Map.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
;

3 
public
 cÏs 
	cM­
 {

4 
´iv©e
 
	msizeM­
;

5 
´iv©e
 
	mm­
[][];

7 
public
 
	$M­
(
sizeM­
) {

9 
this
.
	`£tSizeM­
(
sizeM­
);

10 
this
.
	`£tM­
Ñhis.
	`g‘M­
());

12 
public
 
	$M­
(){

14 
	}
}

15 
public
 
	$g‘SizeM­
() {

16  
sizeM­
;

17 
	}
}

20 
public
 
	$£tSizeM­
(
sizeM­
) {

21 
this
.
sizeM­
 = sizeMap;

22 
	}
}

25 
public
 
fš®
 [][] 
	$g‘M­
() {

26  
m­
;

27 
	}
}

29 
public
 
fš®
 
	$£tM­
([][] 
m­
) {

30 
this
.
m­
 = 
Ãw
 [this.
	`g‘SizeM­
()][this.getSizeMap()];

31 
	}
}

	@src/org/fog/placement/Controller.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g¶aûm’t
;

3 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

4 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

5 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

6 
impÜt
 
	gjava
.
	gut
.
	gM­
;

7 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

9 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

10 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEÁ™y
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

12 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµEdge
;

13 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµLoİ
;

14 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµModuË
;

15 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµliÿtiÚ
;

16 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gAùu©Ü
;

17 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

18 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeAùu©Ü
;

19 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

20 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeS’sÜ
;

21 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gS’sÜ
;

22 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gCÚfig
;

23 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogEv’ts
;

24 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogUts
;

25 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gModuËLaunchCÚfig
;

26 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gN‘wÜkU§geMÚ™Ü
;

27 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gTimeK“³r
;

29 
public
 cÏs 
	cCÚŒŞËr
 
ex‹nds
 
	mSimEÁ™y
{

31 
public
 
boŞ—n
 
	mONLY_CLOUD
 = 
çl£
;

33 
´iv©e
 
	mLi¡
<
	mFogDeviû
> 
	mfogDeviûs
;

34 
´iv©e
 
	mLi¡
<
	mS’sÜ
> 
	m£nsÜs
;

35 
´iv©e
 
	mLi¡
<
	mAùu©Ü
> 
	maùu©Üs
;

38 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mAµliÿtiÚ
> 
	m­¶iÿtiÚs
;

39 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	m­pLaunchD–ays
;

40 
´iv©e
 
ModuËM­pšg
 
	mmoduËM­pšg
;

41 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mglob®Cu¼’tCpuLßd
;

44 
public
 
CÚŒŞËr
(
SŒšg
 
Çme
, 
Li¡
<
FogDeviû
> 
fogDeviûs
, Li¡<
S’sÜ
> 
£nsÜs
, Li¡<
Aùu©Ü
> 
aùu©Üs
, 
ModuËM­pšg
 
moduËM­pšg
) {

45 
su³r
(
Çme
);

46 
	mthis
.
	m­¶iÿtiÚs
 = 
Ãw
 
HashM­
<
SŒšg
, 
	mAµliÿtiÚ
>();

47 
£tAµLaunchD–ays
(
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

48 
£tModuËM­pšg
(
moduËM­pšg
);

49 
FogDeviû
 
	mfogDeviû
 : 
fogDeviûs
){

50 
fogDeviû
.
£tCÚŒŞËrId
(
g‘Id
());

52 
£tFogDeviûs
(
fogDeviûs
);

53 
£tAùu©Üs
(
aùu©Üs
);

54 
£tS’sÜs
(
£nsÜs
);

55 
cÚÃùW™hL©’c›s
();

64 
´iv©e
 
FogDeviû
 
	$g‘FogDeviûById
(
id
){

65 
FogDeviû
 
fogDeviû
 : 
	`g‘FogDeviûs
()){

66 if(
id
==
fogDeviû
.
	`g‘Id
())

67  
fogDeviû
;

69  
nuÎ
;

70 
	}
}

72 
´iv©e
 
	$cÚÃùW™hL©’c›s
(){

73 
FogDeviû
 
fogDeviû
 : 
	`g‘FogDeviûs
()){

74 
FogDeviû
 
·»Á
 = 
	`g‘FogDeviûById
(
fogDeviû
.
	`g‘P¬’tId
());

75 if(
·»Á
 =ğ
nuÎ
)

77 
Ï‹ncy
 = 
fogDeviû
.
	`g‘U¶škL©’cy
();

78 
·»Á
.
	`g‘ChdToL©’cyM­
().
	`put
(
fogDeviû
.
	`g‘Id
(), 
Ï‹ncy
);

79 
·»Á
.
	`g‘Chd»nIds
().
	`add
(
fogDeviû
.
	`g‘Id
());

81 
	}
}

83 @
Ov”ride


84 
public
 
	$¡¬tEÁ™y
() {

85 
SŒšg
 
­pId
 : 
­¶iÿtiÚs
.
	`keyS‘
()){

86 if(
	`g‘AµLaunchD–ays
().
	`g‘
(
­pId
)==0)

87 
	`´oûssAµSubm™
(
­¶iÿtiÚs
.
	`g‘
(
­pId
));

89 
	`£nd
(
	`g‘Id
(), 
	`g‘AµLaunchD–ays
().
	`g‘
(
­pId
), 
FogEv’ts
.
APP_SUBMIT
, 
­¶iÿtiÚs
.get(appId));

92 
	`£nd
(
	`g‘Id
(), 
CÚfig
.
RESOURCE_MANAGE_INTERVAL
, 
FogEv’ts
.
CONTROLLER_RESOURCE_MANAGE
);

94 
	`£nd
(
	`g‘Id
(), 
CÚfig
.
MAX_SIMULATION_TIME
, 
FogEv’ts
.
STOP_SIMULATION
);

96 
FogDeviû
 
dev
 : 
	`g‘FogDeviûs
())

97 
	`£ndNow
(
dev
.
	`g‘Id
(), 
FogEv’ts
.
RESOURCE_MGMT
);

99 
	}
}

101 @
Ov”ride


102 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

103 
ev
.
	`g‘Tag
()){

104 
FogEv’ts
.
APP_SUBMIT
:

105 
	`´oûssAµSubm™
(
ev
);

107 
FogEv’ts
.
TUPLE_FINISHED
:

108 
	`´oûssTu¶eFšished
(
ev
);

110 
FogEv’ts
.
CONTROLLER_RESOURCE_MANAGE
:

111 
	`mªageResourûs
();

113 
FogEv’ts
.
STOP_SIMULATION
:

114 
Sy¡em
.
out
.
	`´šn
("*****Finish here... Controller 112*****");

115 
CloudSim
.
	`¡İSimuÏtiÚ
();

116 
	`´štTimeD‘as
();

117 
	`´štPow”D‘as
();

118 
	`´štCo¡D‘as
();

119 
	`´štN‘wÜkU§geD‘as
();

120 
Sy¡em
.
	`ex™
(0);

124 
	}
}

126 
´iv©e
 
	$´štN‘wÜkU§geD‘as
() {

127 
Sy¡em
.
out
.
	`´šn
("TÙ®‚‘wÜk u§gğ"+
N‘wÜkU§geMÚ™Ü
.
	`g‘N‘wÜkU§ge
()/
CÚfig
.
MAX_SIMULATION_TIME
);

129 
	}
}

131 
´iv©e
 
FogDeviû
 
	$g‘Cloud
(){

132 
FogDeviû
 
dev
 : 
	`g‘FogDeviûs
())

133 if(
dev
.
	`g‘Name
().
	`equ®s
("cloud"))

134  
dev
;

135  
nuÎ
;

136 
	}
}

138 
´iv©e
 
	$´štCo¡D‘as
(){

139 
Sy¡em
.
out
.
	`´šn
("Co¡ oàexecutiÚ iÀşoud = "+
	`g‘Cloud
().
	`g‘TÙ®Co¡
());

140 
	}
}

141 
´iv©e
 
	$´štPow”D‘as
() {

143 
FogDeviû
 
fogDeviû
 : 
	`g‘FogDeviûs
()){

144 
Sy¡em
.
out
.
	`´šn
(
fogDeviû
.
	`g‘Name
(è+ " : EÃrgy CÚsumed = "+fogDeviû.
	`g‘EÃrgyCÚsum±iÚ
());

146 
	}
}

148 
´iv©e
 
SŒšg
 
	$g‘SŒšgFÜLoİId
(
loİId
){

149 
SŒšg
 
­pId
 : 
	`g‘AµliÿtiÚs
().
	`keyS‘
()){

150 
AµliÿtiÚ
 
­p
 = 
	`g‘AµliÿtiÚs
().
	`g‘
(
­pId
);

151 
AµLoİ
 
loİ
 : 
­p
.
	`g‘Loİs
()){

152 if(
loİ
.
	`g‘LoİId
(è=ğ
loİId
)

153  
loİ
.
	`g‘ModuËs
().
	`toSŒšg
();

156  
nuÎ
;

157 
	}
}

158 
´iv©e
 
	$´štTimeD‘as
() {

159 
Sy¡em
.
out
.
	`´šn
("=========================================");

160 
Sy¡em
.
out
.
	`´šn
("============== RESULTS ==================");

161 
Sy¡em
.
out
.
	`´šn
("=========================================");

162 
Sy¡em
.
out
.
	`´šn
("EXECUTION TIME : "+ (
C®’d¬
.
	`g‘In¡ªû
().
	`g‘TimeInMlis
(è- 
TimeK“³r
.g‘In¡ªû().
	`g‘SimuÏtiÚS¹Time
()));

163 
Sy¡em
.
out
.
	`´šn
("=========================================");

164 
Sy¡em
.
out
.
	`´šn
("APPLICATION LOOP DELAYS");

165 
Sy¡em
.
out
.
	`´šn
("=========================================");

166 
IÁeg”
 
loİId
 : 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToTu¶eIds
().
	`keyS‘
()){

177 
Sy¡em
.
out
.
	`´šn
(
	`g‘SŒšgFÜLoİId
(
loİId
è+ " ---> "+
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tAv”age
().
	`g‘
(loopId));

179 
Sy¡em
.
out
.
	`´šn
("=========================================");

180 
Sy¡em
.
out
.
	`´šn
("TUPLE CPU EXECUTION DELAY");

181 
Sy¡em
.
out
.
	`´šn
("=========================================");

183 
SŒšg
 
tu¶eTy³
 : 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘Tu¶eTy³ToAv”ageCpuTime
().
	`keyS‘
()){

184 
Sy¡em
.
out
.
	`´šn
(
tu¶eTy³
 + " ---> "+
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘Tu¶eTy³ToAv”ageCpuTime
().
	`g‘
(tupleType));

187 
Sy¡em
.
out
.
	`´šn
("=========================================");

188 
	}
}

190 
´Ùeùed
 
	$mªageResourûs
(){

191 
	`£nd
(
	`g‘Id
(), 
CÚfig
.
RESOURCE_MANAGE_INTERVAL
, 
FogEv’ts
.
CONTROLLER_RESOURCE_MANAGE
);

192 
	}
}

194 
´iv©e
 
	$´oûssTu¶eFšished
(
SimEv’t
 
ev
) {

195 
	}
}

197 @
Ov”ride


198 
public
 
	$shutdownEÁ™y
() {

201 
	}
}

203 
public
 
	$subm™AµliÿtiÚ
(
AµliÿtiÚ
 
­¶iÿtiÚ
, 
d–ay
){

204 
FogUts
.
­pIdToGeoCov”ageM­
.
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(),‡µliÿtiÚ.
	`g‘GeoCov”age
());

205 
	`g‘AµliÿtiÚs
().
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(),‡pplication);

206 
	`g‘AµLaunchD–ays
().
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(), 
d–ay
);

207 
S’sÜ
 
£nsÜ
 : 
£nsÜs
){

208 
£nsÜ
.
	`£tAµ
(
­¶iÿtiÚ
);

210 
Aùu©Ü
 
ac
 : 
aùu©Üs
){

211 
ac
.
	`£tAµ
(
­¶iÿtiÚ
);

214 
AµEdge
 
edge
 : 
­¶iÿtiÚ
.
	`g‘Edges
()){

215 if(
edge
.
	`g‘EdgeTy³
(è=ğ
AµEdge
.
ACTUATOR
){

216 
SŒšg
 
moduËName
 = 
edge
.
	`g‘Sourû
();

217 
Aùu©Ü
 
aùu©Ü
 : 
	`g‘Aùu©Üs
()){

218 if(
aùu©Ü
.
	`g‘Aùu©ÜTy³
().
	`equ®sIgnÜeCa£
(
edge
.
	`g‘De¡š©iÚ
()))

219 
­¶iÿtiÚ
.
	`g‘ModuËByName
(
moduËName
).
	`subsüibeAùu©Ü
(
aùu©Ü
.
	`g‘Id
(), 
edge
.
	`g‘Tu¶eTy³
());

224 
	}
}

228 
´iv©e
 
	$´oûssAµSubm™
(
SimEv’t
 
ev
){

229 
AµliÿtiÚ
 
­p
 = (AµliÿtiÚè
ev
.
	`g‘D©a
();

230 
	`´oûssAµSubm™
(
­p
);

231 
	}
}

233 
´iv©e
 
	$´oûssAµSubm™
(
AµliÿtiÚ
 
­¶iÿtiÚ
){

234 
Sy¡em
.
out
.
	`´šn
(
CloudSim
.
	`şock
()+" Subm™‹d‡µliÿtiÚ "+ 
­¶iÿtiÚ
.
	`g‘AµId
());

235 
FogUts
.
­pIdToGeoCov”ageM­
.
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(),‡µliÿtiÚ.
	`g‘GeoCov”age
());

236 
	`g‘AµliÿtiÚs
().
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(),‡pplication);

239 
ModuËPÏûm’t
 
moduËPÏûm’t
 = 
Ãw
 
	`ModuËPÏûm’tM­pšg
(
	`g‘FogDeviûs
(), 
­¶iÿtiÚ
, 
	`g‘ModuËM­pšg
(),
glob®Cu¼’tCpuLßd
);

240 
FogDeviû
 
fogDeviû
 : 
fogDeviûs
){

241 
	`£ndNow
(
fogDeviû
.
	`g‘Id
(), 
FogEv’ts
.
ACTIVE_APP_UPDATE
, 
­¶iÿtiÚ
);

244 
M­
<
IÁeg”
, 
Li¡
<
AµModuË
>> 
deviûToModuËM­
 = 
moduËPÏûm’t
.
	`g‘DeviûToModuËM­
();

245 
M­
<
IÁeg”
, M­<
SŒšg
, IÁeg”>> 
š¡ªûCouÁM­
 = 
moduËPÏûm’t
.
	`g‘ModuËIn¡ªûCouÁM­
();

246 
IÁeg”
 
deviûId
 : 
deviûToModuËM­
.
	`keyS‘
()){

247 
AµModuË
 
moduË
 : 
deviûToModuËM­
.
	`g‘
(
deviûId
)){

248 
	`£ndNow
(
deviûId
, 
FogEv’ts
.
APP_SUBMIT
, 
­¶iÿtiÚ
);

249 
	`£ndNow
(
deviûId
, 
FogEv’ts
.
LAUNCH_MODULE
, 
moduË
);

250 
	`£ndNow
(
deviûId
, 
FogEv’ts
.
LAUNCH_MODULE_INSTANCE
,

251 
Ãw
 
	`ModuËLaunchCÚfig
(
moduË
, 
š¡ªûCouÁM­
.
	`g‘
(
deviûId
).g‘(moduË.
	`g‘Name
())));

254 
	}
}

256 
public
 
	gLi¡
<
	gFogDeviû
> 
	$g‘FogDeviûs
() {

257  
fogDeviûs
;

258 
	}
}

260 
public
 
£tFogDeviûs
(
Li¡
<
FogDeviû
> 
fogDeviûs
) {

261 
	gthis
.
	gfogDeviûs
 = 
fogDeviûs
;

264 
public
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘AµLaunchD–ays
() {

265  
­pLaunchD–ays
;

266 
	}
}

268 
public
 
£tAµLaunchD–ays
(
M­
<
SŒšg
, 
IÁeg”
> 
­pLaunchD–ays
) {

269 
	gthis
.
	g­pLaunchD–ays
 = 
­pLaunchD–ays
;

272 
public
 
	gM­
<
	gSŒšg
, 
	gAµliÿtiÚ
> 
	$g‘AµliÿtiÚs
() {

273  
­¶iÿtiÚs
;

274 
	}
}

276 
public
 
£tAµliÿtiÚs
(
M­
<
SŒšg
, 
AµliÿtiÚ
> 
­¶iÿtiÚs
) {

277 
	gthis
.
	g­¶iÿtiÚs
 = 
­¶iÿtiÚs
;

279 
public
 
ModuËM­pšg
 
	$g‘ModuËM­pšg
() {

280  
moduËM­pšg
;

281 
	}
}

282 
public
 
	$£tModuËM­pšg
(
ModuËM­pšg
 
moduËM­pšg
) {

283 
this
.
moduËM­pšg
 = moduleMapping;

284 
	}
}

286 
public
 
	gLi¡
<
	gS’sÜ
> 
	$g‘S’sÜs
() {

287  
£nsÜs
;

288 
	}
}

290 
public
 
£tS’sÜs
(
Li¡
<
S’sÜ
> 
£nsÜs
) {

291 
S’sÜ
 
	g£nsÜ
 : 
£nsÜs
)

292 
£nsÜ
.
£tCÚŒŞËrId
(
g‘Id
());

293 
	gthis
.
	g£nsÜs
 = 
£nsÜs
;

297 
public
 
	gLi¡
<
	gAùu©Ü
> 
	$g‘Aùu©Üs
() {

298  
aùu©Üs
;

299 
	}
}

301 
public
 
£tAùu©Üs
(
Li¡
<
Aùu©Ü
> 
aùu©Üs
) {

302 
	gthis
.
	gaùu©Üs
 = 
aùu©Üs
;

311 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘Glob®Cu¼’tCpuLßd
() {

312  
glob®Cu¼’tCpuLßd
;

313 
	}
}

321 
public
 
£tGlob®Cu¼’tCpuLßd
(
M­
<
IÁeg”
, 
DoubË
> 
glob®Cu¼’tCpuLßd
) {

322 
	gthis
.
	gglob®Cu¼’tCpuLßd
 = 
glob®Cu¼’tCpuLßd
;

	@src/org/fog/placement/MobileController.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g¶aûm’t
;

3 
impÜt
 
	gjava
.
	gio
.
	gBufã»dWr™”
;

4 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

5 
impÜt
 
	gjava
.
	gio
.
	gFeWr™”
;

6 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

7 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

8 
impÜt
 
	gjava
.
	gio
.
	gUnsuµÜ‹dEncodšgExû±iÚ
;

9 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

10 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

11 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

12 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gM­
;

15 
impÜt
 
	gjava
.
	gut
.
	gQueue
;

16 
impÜt
 
	gjava
.
	gut
.
	gM­
.
	gEÁry
;

17 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

18 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

20 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	gut
.
	gPaœ
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËr
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËrTimeSh¬ed
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gN‘wÜkTİŞogy
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEÁ™y
;

26 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

27 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµEdge
;

28 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµLoİ
;

29 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµModuË
;

30 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµliÿtiÚ
;

31 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	g£Ëùiv™y
.
	gS–eùiv™yMod–
;

32 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.*;

33 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gCoÜdš©e
;

34 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDi¡ªûs
;

35 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gCÚfig
;

36 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogEv’ts
;

37 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogUts
;

38 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gModuËLaunchCÚfig
;

39 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gN‘wÜkU§geMÚ™Ü
;

40 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gTimeK“³r
;

41 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gMig¿tiÚ
;

42 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gMySti¡ics
;

43 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gNextS‹p
;

44 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gLogMobe
;

45 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMaxAndMš
;

46 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMobeEv’ts
;

48 
public
 cÏs 
	cMobeCÚŒŞËr
 
ex‹nds
 
	mSimEÁ™y
 {

49 
´iv©e
 
boŞ—n
 
	mmig¿tiÚAbË
;

50 
´iv©e
 
	mmigPoštPŞicy
;

52 
´iv©e
 
	m¡•PŞicy
;

53 
´iv©e
 
CoÜdš©e
 
	mcoÜdDeviûs
;

55 
´iv©e
 
	mmigSŒ©egyPŞicy
;

56 
´iv©e
 
	m£ed
;

58 
´iv©e
 
	mLi¡
<
	mFogDeviû
> 
	m£rv”CloudËts
;

59 
´iv©e
 
	mLi¡
<
	mMobeDeviû
> 
	msm¬tThšgs
;

60 
´iv©e
 
	mLi¡
<
	mApDeviû
> 
	m­Deviûs
;

61 
´iv©e
 
	mLi¡
<
	mFogBrok”
> 
	mbrok”Li¡
;

62 
´iv©e
 
	mQueue
<
	mSŒšg
[]> 
	mq
;

65 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mAµliÿtiÚ
> 
	m­¶iÿtiÚs
;

66 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	m­pLaunchD–ays
;

67 
´iv©e
 
ModuËM­pšg
 
	mmoduËM­pšg
;

68 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mglob®Cu¼’tCpuLßd
;

70 
fš®
 
	mnumOfD•ts
 = 1;

71 
fš®
 
	mnumOfMobesP”D•t
 = 4;

72 
´iv©e
 
Rªdom
 
	m¿nd
;

73 
public
 
	$MobeCÚŒŞËr
(){

76 
public
 
	`MobeCÚŒŞËr
(
SŒšg
 
Çme
, 
Li¡
<
FogDeviû
> 
£rv”CloudËts
, Li¡<
ApDeviû
> 
­Deviûs
, Li¡<
MobeDeviû
> 
sm¬tThšgs
,Li¡<
FogBrok”
> 
brok”s
, 
Queue
<SŒšg[]> 
q
, 
ModuËM­pšg
 
moduËM­pšg


77 , 
migPoštPŞicy
, 
migSŒ©egyPŞicy
, 
¡•PŞicy
, 
CoÜdš©e
 
coÜdDeviûs
, 
£ed
, 
boŞ—n
 
mig¿tiÚAbË
) {

79 
	`su³r
(
Çme
);

80 
this
.
­¶iÿtiÚs
 = 
Ãw
 
HashM­
<
SŒšg
, 
AµliÿtiÚ
>();

81 
this
.
glob®Cu¼’tCpuLßd
 = 
Ãw
 
HashM­
 <
IÁeg”
, 
DoubË
>();

82 
	`£tAµLaunchD–ays
(
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

83 
	`£tModuËM­pšg
(
moduËM­pšg
);

84 
FogDeviû
 
sc
 : 
£rv”CloudËts
){

85 
sc
.
	`£tCÚŒŞËrId
(
	`g‘Id
());

87 
	`£tS“d
(
£ed
);

88 
	`£tS”v”CloudËts
(
£rv”CloudËts
);

89 
	`£tApDeviûs
(
­Deviûs
);

90 
	`£tSm¬tThšgs
(
sm¬tThšgs
);

91 
	`£tBrok”Li¡
(
brok”s
);

92 
	`£tQueue
(
q
);

93 
	`£tMigPoštPŞicy
(
migPoštPŞicy
);

94 
	`£tMigSŒ©egyPŞicy
(
migSŒ©egyPŞicy
);

95 
	`£tS‹pPŞicy
(
¡•PŞicy
);

96 
	`£tCoÜdDeviûs
(
coÜdDeviûs
);

97 
	`cÚÃùW™hL©’c›s
();

98 
	`š™ŸlizeCPULßds
();

99 
	`£tRªd
(
Ãw
 
	`Rªdom
(
	`g‘S“d
()*
LÚg
.
MAX_VALUE
));

100 
	`£tMig¿tiÚAbË
(
mig¿tiÚAbË
);

101 
	}
}

102 
public
 
MobeCÚŒŞËr
(
SŒšg
 
Çme
, 
Li¡
<
FogDeviû
> 
£rv”CloudËts
,

103 
Li¡
<
ApDeviû
> 
­Deviûs
, Li¡<
MobeDeviû
> 
sm¬tThšgs
,

104 
migPoštPŞicy
, 
migSŒ©egyPŞicy
, 
¡•PŞicy
,

105 
CoÜdš©e
 
coÜdDeviûs
, 
£ed
) {

107 
su³r
(
Çme
);

108 
	gthis
.
	g­¶iÿtiÚs
 = 
Ãw
 
HashM­
<
SŒšg
, 
	gAµliÿtiÚ
>();

109 
	gthis
.
	gglob®Cu¼’tCpuLßd
 = 
Ãw
 
HashM­
 <
IÁeg”
, 
	gDoubË
>();

110 
£tAµLaunchD–ays
(
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

111 
£tModuËM­pšg
(
moduËM­pšg
);

112 
FogDeviû
 
	gsc
 : 
£rv”CloudËts
){

113 
sc
.
£tCÚŒŞËrId
(
g‘Id
());

115 
£tS“d
(
£ed
);

116 
£tS”v”CloudËts
(
£rv”CloudËts
);

117 
£tApDeviûs
(
­Deviûs
);

118 
£tSm¬tThšgs
(
sm¬tThšgs
);

119 
£tMigPoštPŞicy
(
migPoštPŞicy
);

120 
£tMigSŒ©egyPŞicy
(
migSŒ©egyPŞicy
);

121 
£tS‹pPŞicy
(
¡•PŞicy
);

122 
£tCoÜdDeviûs
(
coÜdDeviûs
);

123 
cÚÃùW™hL©’c›s
();

124 
š™ŸlizeCPULßds
();

125 
£tRªd
(
Ãw
 
Rªdom
(
g‘S“d
()*
LÚg
.
MAX_VALUE
));

128 
´iv©e
 
	$cÚÃùW™hL©’c›s
(){

129 
FogDeviû
 
¡
 : 
	`g‘Sm¬tThšgs
()){

130 
FogDeviû
 
·»Á
 = 
	`g‘FogDeviûById
(
¡
.
	`g‘P¬’tId
());

131 if(
·»Á
 =ğ
nuÎ
){

134 
Ï‹ncy
 = 
¡
.
	`g‘U¶škL©’cy
();

135 
·»Á
.
	`g‘ChdToL©’cyM­
().
	`put
(
¡
.
	`g‘Id
(), 
Ï‹ncy
);

136 
·»Á
.
	`g‘Chd»nIds
().
	`add
(
¡
.
	`g‘Id
());

138 
	}
}

139 
´iv©e
 
FogDeviû
 
	$g‘FogDeviûById
(
id
){

140 
FogDeviû
 
sc
 : 
	`g‘S”v”CloudËts
()){

141 if(
id
==
sc
.
	`g‘Id
())

142  
sc
;

144  
nuÎ
;

145 
	}
}

147 
´iv©e
 
	$š™ŸlizeCPULßds
() {

159 
FogDeviû
 
sc
 : 
	`g‘S”v”CloudËts
()){

160 
this
.
glob®Cu¼’tCpuLßd
.
	`put
(
sc
.
	`g‘Id
(), 0.0);

162 
MobeDeviû
 
¡
 : 
	`g‘Sm¬tThšgs
()){

163 
this
.
glob®Cu¼’tCpuLßd
.
	`put
(
¡
.
	`g‘Id
(), 0.0);

165 
	}
}

166 @
Ov”ride


167 
public
 
	$¡¬tEÁ™y
() {

169 
SŒšg
 
­pId
 : 
­¶iÿtiÚs
.
	`keyS‘
()){

170 
LogMobe
.
	`debug
("MobeCÚŒŞËr.java",
­pId
 +" - "+
	`g‘AµLaunchD–ays
().
	`g‘
(appId));

171 if(
	`g‘AµLaunchD–ays
().
	`g‘
(
­pId
)==0)

172 
	`´oûssAµSubm™
(
­¶iÿtiÚs
.
	`g‘
(
­pId
));

174 
	`£nd
(
	`g‘Id
(), 
	`g‘AµLaunchD–ays
().
	`g‘
(
­pId
), 
FogEv’ts
.
APP_SUBMIT
, 
­¶iÿtiÚs
.get(appId));

176 
i
 = 0; i<
MaxAndMš
.
MAX_SIMULATION_TIME
; i+=1000){

177 
	`£nd
(
	`g‘Id
()

178 , 
i


179 , 
MobeEv’ts
.
NEXT_STEP


181 
	`£nd
(
	`g‘Id
()

182 ,
i


183 ,
MobeEv’ts
.
CHECK_NEW_STEP
);

186 if(
	`isMig¿tiÚAbË
()){

187 
FogDeviû
 
sc
: 
	`g‘S”v”CloudËts
()){

188 
i
 = 0; i<
MaxAndMš
.
MAX_SIMULATION_TIME
; i+=1000){

189 
	`£nd
(
sc
.
	`g‘Id
()

190 , 
i


191 , 
MobeEv’ts
.
MAKE_DECISION_MIGRATION


192 , 
sc
.
	`g‘Sm¬tThšgs
());

199 
	`£nd
(
	`g‘Id
(), 
CÚfig
.
RESOURCE_MANAGE_INTERVAL
, 
FogEv’ts
.
CONTROLLER_RESOURCE_MANAGE
);

201 
FogDeviû
 
dev
 : 
	`g‘S”v”CloudËts
())

202 
	`£ndNow
(
dev
.
	`g‘Id
(), 
FogEv’ts
.
RESOURCE_MGMT
);

204 
	`£nd
(
	`g‘Id
(), 
MaxAndMš
.
MAX_SIMULATION_TIME
, 
MobeEv’ts
.
STOP_SIMULATION
);

205 
	}
}

206 
´iv©e
 
	$´oûssAµSubm™
(
SimEv’t
 
ev
){

207 
AµliÿtiÚ
 
­p
 = (AµliÿtiÚè
ev
.
	`g‘D©a
();

208 
	`´oûssAµSubm™
(
­p
);

209 
	}
}

210 
´iv©e
 
	$´oûssAµSubm™
(
AµliÿtiÚ
 
­¶iÿtiÚ
){

211 
Sy¡em
.
out
.
	`´šn
(
CloudSim
.
	`şock
()+" Subm™‹d‡µliÿtiÚ "+ 
­¶iÿtiÚ
.
	`g‘AµId
());

212 
FogUts
.
­pIdToGeoCov”ageM­
.
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(),‡µliÿtiÚ.
	`g‘GeoCov”age
());

213 
	`g‘AµliÿtiÚs
().
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(),‡pplication);

214 
Li¡
<
FogDeviû
> 
‹mpAÎDeviûs
 = 
Ãw
 
A¼ayLi¡
<>();

215 
FogDeviû
 
sc
: 
	`g‘S”v”CloudËts
()){

216 
‹mpAÎDeviûs
.
	`add
(
sc
);

219 
MobeDeviû
 
¡
: 
	`g‘Sm¬tThšgs
()){

220 
‹mpAÎDeviûs
.
	`add
(
¡
);

223 
ModuËPÏûm’t
 
moduËPÏûm’t
 = 
Ãw
 
	`ModuËPÏûm’tM­pšg
(
‹mpAÎDeviûs


224 , 
­¶iÿtiÚ
, 
	`g‘ModuËM­pšg
(),
glob®Cu¼’tCpuLßd
);

227 
FogDeviû
 
fogDeviû
 : 
	`g‘S”v”CloudËts
()){

228 
	`£ndNow
(
fogDeviû
.
	`g‘Id
(), 
FogEv’ts
.
ACTIVE_APP_UPDATE
, 
­¶iÿtiÚ
);

230 
MobeDeviû
 
¡
 : 
	`g‘Sm¬tThšgs
()){

231 
	`£ndNow
(
¡
.
	`g‘Id
(), 
FogEv’ts
.
ACTIVE_APP_UPDATE
, 
­¶iÿtiÚ
);

234 
M­
<
IÁeg”
, 
Li¡
<
AµModuË
>> 
deviûToModuËM­
 = 
moduËPÏûm’t
.
	`g‘DeviûToModuËM­
();

235 
M­
<
IÁeg”
, M­<
SŒšg
, IÁeg”>> 
š¡ªûCouÁM­
 = 
moduËPÏûm’t
.
	`g‘ModuËIn¡ªûCouÁM­
();

236 
IÁeg”
 
deviûId
 : 
deviûToModuËM­
.
	`keyS‘
()){

237 
AµModuË
 
moduË
 : 
deviûToModuËM­
.
	`g‘
(
deviûId
)){

238 
	`£ndNow
(
deviûId
, 
FogEv’ts
.
APP_SUBMIT
, 
­¶iÿtiÚ
);

239 
	`£ndNow
(
deviûId
, 
FogEv’ts
.
LAUNCH_MODULE
, 
moduË
);

240 
	`£ndNow
(
deviûId
, 
FogEv’ts
.
LAUNCH_MODULE_INSTANCE
,

241 
Ãw
 
	`ModuËLaunchCÚfig
(
moduË
, 
š¡ªûCouÁM­
.
	`g‘
(
deviûId
).g‘(moduË.
	`g‘Name
())));

245 
	}
}

246 
´iv©e
 
	$´oûssAµSubm™Mig¿tiÚ
(
SimEv’t
 
ev
){

247 
AµliÿtiÚ
 
­¶iÿtiÚ
 = (AµliÿtiÚè
ev
.
	`g‘D©a
();

248 
Sy¡em
.
out
.
	`´šn
(
CloudSim
.
	`şock
()+" Subm™‹d‡µliÿtiÚ‡á” mig¿tiÚ "+ 
­¶iÿtiÚ
.
	`g‘AµId
());

249 
FogUts
.
­pIdToGeoCov”ageM­
.
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(),‡µliÿtiÚ.
	`g‘GeoCov”age
());

250 
	`g‘AµliÿtiÚs
().
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(),‡pplication);

251 
FogDeviû
 
sc
 = (FogDeviû)
CloudSim
.
	`g‘EÁ™y
(
ev
.
	`g‘Sourû
());

252 
Li¡
<
FogDeviû
> 
‹mpLi¡
 =
Ãw
 
A¼ayLi¡
<>();

253 
‹mpLi¡
.
	`add
(
sc
);

254 
ModuËPÏûm’t
 
moduËPÏûm’t
 = 
Ãw
 
	`ModuËPÏûm’tM­pšg
(
‹mpLi¡


255 , 
­¶iÿtiÚ
, 
	`g‘ModuËM­pšg
(),
glob®Cu¼’tCpuLßd
,
Œue
);

258 
	`£ndNow
(
sc
.
	`g‘Id
(), 
FogEv’ts
.
ACTIVE_APP_UPDATE
, 
­¶iÿtiÚ
);

261 
M­
<
IÁeg”
, 
Li¡
<
AµModuË
>> 
deviûToModuËM­
 = 
moduËPÏûm’t
.
	`g‘DeviûToModuËM­
();

262 
M­
<
IÁeg”
, M­<
SŒšg
, IÁeg”>> 
š¡ªûCouÁM­
 = 
moduËPÏûm’t
.
	`g‘ModuËIn¡ªûCouÁM­
();

264 
AµModuË
 
moduË
 : 
deviûToModuËM­
.
	`g‘
(
sc
.
	`g‘Id
())){

265 
	`£ndNow
(
sc
.
	`g‘Id
(), 
FogEv’ts
.
APP_SUBMIT
, 
­¶iÿtiÚ
);

266 
	`£ndNow
(
sc
.
	`g‘Id
(), 
FogEv’ts
.
LAUNCH_MODULE
, 
moduË
);

267 
	`£ndNow
(
sc
.
	`g‘Id
(), 
FogEv’ts
.
LAUNCH_MODULE_INSTANCE
,

268 
Ãw
 
	`ModuËLaunchCÚfig
(
moduË
, 
š¡ªûCouÁM­
.
	`g‘
(
sc
.
	`g‘Id
()).g‘(moduË.
	`g‘Name
())));

272 
	}
}

274 
´iv©e
 
	$´oûssTu¶eFšished
(
SimEv’t
 
ev
) {

275 
	}
}

276 
´Ùeùed
 
	$mªageResourûs
(){

277 
	`£nd
(
	`g‘Id
(), 
CÚfig
.
RESOURCE_MANAGE_INTERVAL
, 
FogEv’ts
.
CONTROLLER_RESOURCE_MANAGE
);

278 
	}
}

281 @
Ov”ride


282 
public
 
	$´oûssEv’t
(
SimEv’t
 
ev
) {

284 
ev
.
	`g‘Tag
()){

285 
FogEv’ts
.
APP_SUBMIT
:

286 
Sy¡em
.
out
.
	`´šn
("APP_SUBMIT");

287 
	`´oûssAµSubm™
(
ev
);

289 
MobeEv’ts
.
APP_SUBMIT_MIGRATE
:

290 
	`´oûssAµSubm™Mig¿tiÚ
(
ev
);

293 
FogEv’ts
.
TUPLE_FINISHED
:

294 
Sy¡em
.
out
.
	`´šn
("TUPLE_FINISHED");

295 
	`´oûssTu¶eFšished
(
ev
);

297 
FogEv’ts
.
CONTROLLER_RESOURCE_MANAGE
:

298 
	`mªageResourûs
();

300 
MobeEv’ts
.
NEXT_STEP
:

301 
NextS‹p
.
	`ÃxtS‹p
(
	`g‘S”v”CloudËts
()

302 , 
	`g‘ApDeviûs
()

303 , 
	`g‘Sm¬tThšgs
()

304 , 
	`g‘Queue
()

305 , 
	`g‘CoÜdDeviûs
()

306 , 
	`g‘S‹pPŞicy
()

307 , 
	`g‘S“d
());

310 
MobeEv’ts
.
CREATE_NEW_SMARTTHING
:

311 
	`ü—‹NewSm¬tThšg
();

313 
MobeEv’ts
.
CHECK_NEW_STEP
:

314 
	`checkNewS‹p
();

315 
Sy¡em
.
out
.
	`´šn
("Sm¬tThšgLi¡Size: "+
	`g‘Sm¬tThšgs
().
	`size
());

316 if(
	`g‘Sm¬tThšgs
().
	`isEm±y
())

317 
	`£ndNow
(
	`g‘Id
(), 
MobeEv’ts
.
STOP_SIMULATION
);

319 
MobeEv’ts
.
STOP_SIMULATION
:

320 
Sy¡em
.
out
.
	`´šn
("*********************myStopSimulation MobilieController 149 ***********");

321 
Sy¡em
.
out
.
	`´šn
("CloudSim.şock(): "+
CloudSim
.
	`şock
());

322 
Sy¡em
.
out
.
	`´šn
("SizSm¬tThšgs: "+
	`g‘Sm¬tThšgs
().
	`size
());

323 
CloudSim
.
	`¡İSimuÏtiÚ
();

324 
	`´štTimeD‘as
();

325 
	`´štPow”D‘as
();

326 
	`´štCo¡D‘as
();

327 
	`´štN‘wÜkU§geD‘as
();

328 
	`´štMig¿tiÚsD‘®is
();

329 
Sy¡em
.
	`ex™
(0);

333 
	}
}

336 
´iv©e
 
	$ü—‹NewSm¬tThšg
() {

338 
i
ğ
	`g‘Sm¬tThšgs
().
	`size
();

341 
Sy¡em
.
out
.
	`´šn
("criado...");

342 if(
ApDeviû
.
	`cÚÃùApSm¬tThšg
(
	`g‘ApDeviûs
(), 
	`g‘Sm¬tThšgs
().
	`g‘
(
i
),
	`g‘Rªd
().
	`ÃxtDoubË
())){

343 
	`g‘Sm¬tThšgs
().
	`g‘
(
i
).
	`g‘SourûAp
().
	`g‘S”v”CloudËt
().
	`cÚÃùS”v”CloudËtSm¬tThšg
(getSmartThings().get(i));

344 
Sy¡em
.
out
.
	`´šn
("cÚeùado... "+
	`g‘Sm¬tThšgs
().
	`g‘
(
i
).
	`g‘SourûS”v”CloudËt
().
	`g‘Name
());

347 
	}
}

393 
´iv©e
 
	$mig¿tiÚTimeToLiveMig¿tiÚ
(
MobeDeviû
 
sm¬tThšg
) {

395 
runTime
 = 
CloudSim
.
	`şock
()-
sm¬tThšg
.
	`g‘TimeS¹LiveMig¿tiÚ
();

396 if(
sm¬tThšg
.
	`g‘MigTime
()>
runTime
){

397 
runTime
 = 
sm¬tThšg
.
	`g‘MigTime
()-runTime;

398  
runTime
;

404 
	}
}

406 
´iv©e
 
	$checkNewS‹p
() {

408 
šdex
=0;

411 
MobeDeviû
 
¡
: 
	`g‘Sm¬tThšgs
()){

412 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘EÃrgyHi¡Üy
().
	`put
(
¡
.
	`g‘MyId
(), st.
	`g‘EÃrgyCÚsum±iÚ
());

413 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘Pow”Hi¡Üy
().
	`put
(
¡
.
	`g‘MyId
(),¡.
	`g‘Ho¡
().
	`g‘Pow”
());

414 if(
¡
.
	`g‘SourûAp
()!=
nuÎ
){

415 if(!
¡
.
	`isLockedToHªdoff
()){

416 
di¡ªû
=
Di¡ªûs
.
	`checkDi¡ªû
(
¡
.
	`g‘CoÜd
(), st.
	`g‘SourûAp
().getCoord());

420 if(
di¡ªû
>=
MaxAndMš
.
MAX_DISTANCE
-MaxAndMš.
MAX_DISTANCE_TO_HANDOFF
 && distance<MaxAndMin.MAX_DISTANCE){

421 
šdex
=
Mig¿tiÚ
.
	`ÃxtAp
(
	`g‘ApDeviûs
(), 
¡
);

422 if(
šdex
 >= 0){

423 
¡
.
	`£tDe¡š©iÚAp
(
	`g‘ApDeviûs
().
	`g‘
(
šdex
));

424 
¡
.
	`£tHªdoffStus
(
Œue
);

425 
¡
.
	`£tLockedToHªdoff
(
Œue
);

426 
hªdoffLocked
 = (è((
MaxAndMš
.
MAX_DISTANCE_TO_HANDOFF
/(
¡
.
	`g‘S³ed
()+1))*2000);

428 
hªdoffTime
 = 
MaxAndMš
.
MIN_HANDOFF_TIME
 + (MaxAndMš.
MAX_HANDOFF_TIME
 - MaxAndMš.MIN_HANDOFF_TIMEè* 
	`g‘Rªd
().
	`ÃxtDoubË
();

429 
d–ayCÚÃùiÚ
 = 100;

432 if(!
¡
.
	`g‘De¡š©iÚAp
().
	`g‘S”v”CloudËt
().
	`equ®s
(¡.
	`g‘SourûS”v”CloudËt
())){

435 if(
	`isMig¿tiÚAbË
()){

436 
LogMobe
.
	`debug
("MobeCÚŒŞËr.java", 
¡
.
	`g‘Name
()+" will be desconnected from "+

437 
¡
.
	`g‘SourûS”v”CloudËt
().
	`g‘Name
()+" by handoff");

438 
	`£ndNow
(
¡
.
	`g‘SourûS”v”CloudËt
().
	`g‘Id
(),
MobeEv’ts
.
MAKE_DECISION_MIGRATION
,st);

439 
	`£ndNow
(
¡
.
	`g‘SourûS”v”CloudËt
().
	`g‘Id
(),
MobeEv’ts
.
DESCONNECT_ST_TO_SC
,st);

440 
	`£nd
(
¡
.
	`g‘De¡š©iÚAp
().
	`g‘S”v”CloudËt
().
	`g‘Id
(), 
hªdoffTime
+
d–ayCÚÃùiÚ
,
MobeEv’ts
.
CONNECT_ST_TO_SC
,st);

444 if(
¡
.
	`isPo¡CİyStus
()){

445 
ÃwMigTime
 = 
	`mig¿tiÚTimeToLiveMig¿tiÚ
(
¡
);

446 if(
ÃwMigTime
==0){

447 
ÃwMigTime
=((
¡
.
	`g‘VmMobeDeviû
().
	`g‘Ho¡
().
	`g‘RamProvisiÚ”
().
	`g‘U£dRam
()*8*1024*1024)/¡.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘U¶škBªdwidth
())*1000.0;

449 
d–ayProûss
 = 
¡
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Ch¬aù”i¡ics
().

450 
	`g‘CpuTime
((
¡
.
	`g‘VmMobeDeviû
().
	`g‘Size
()*1024*1024*8)*0.7, 0.0)

452 
¡
.
	`£tTimeFšishD–iv”yVm
(-1.0);

453 
¡
.
	`£tMigStus
(
Œue
);

454 
MySti¡ics
.
	`g‘In¡ªû
().
	`¡¬tW™houtVmTime
(
¡
.
	`g‘MyId
(), 
CloudSim
.
	`şock
());

455 
	`£nd
(
¡
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Id
(),
ÃwMigTime
+
d–ayProûss
,
MobeEv’ts
.
SET_MIG_STATUS_TRUE
, st);

460 
	`£nd
(
¡
.
	`g‘SourûAp
().
	`g‘Id
(),
hªdoffTime
,
MobeEv’ts
.
START_HANDOFF
,st);

461 
	`£nd
(
¡
.
	`g‘De¡š©iÚAp
().
	`g‘Id
(),
hªdoffLocked
,
MobeEv’ts
.
UNLOCKED_HANDOFF
,st);

462 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tTÙ®Hªdoff
(1);

464 
	`§veHªdOff
(
¡
);

466 
LogMobe
.
	`debug
("MobeCÚŒŞËr.java", 
¡
.
	`g‘Name
()+" hªdofàwa scheduËd! "+"SourûAp: "+¡.
	`g‘SourûAp
().getName()

467 +" NextAp: "+
¡
.
	`g‘De¡š©iÚAp
().
	`g‘Name
()+"\n");

468 
LogMobe
.
	`debug
("MobeCÚŒŞËr.java", "Di¡ªû b‘w“À"+ 
¡
.
	`g‘Name
()+"‡nd "+¡.
	`g‘SourûAp
().getName()+": "+

469 
Di¡ªûs
.
	`checkDi¡ªû
(
¡
.
	`g‘CoÜd
(), st.
	`g‘SourûAp
().getCoord()));

472 
LogMobe
.
	`debug
("MobeCÚŒŞËr.java", 
¡
.
	`g‘Name
()+" can't make handoff because don'tƒxist closest‚extAp");

475 if(
di¡ªû
>=
MaxAndMš
.
MAX_DISTANCE
) {

476 
¡
.
	`g‘SourûAp
().
	`descÚÃùApSm¬tThšg
(st);

477 
¡
.
	`g‘SourûS”v”CloudËt
().
	`descÚÃùS”v”CloudËtSm¬tThšg
(st);

478 if(
¡
.
	`isLockedToMig¿tiÚ
()||¡.
	`isMigStus
()){

479 
	`£ndNow
(
¡
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Id
(), 
MobeEv’ts
.
ABORT_MIGRATION
,st);

481 
LogMobe
.
	`debug
("MobeCÚŒŞËr.java", 
¡
.
	`g‘Name
()+" descÚÃùed by MAX_DISTANCE - Di¡ªû: "+
di¡ªû
);

482 
LogMobe
.
	`debug
("MobeCÚŒŞËr.java", 
¡
.
	`g‘Name
()+" X: "+¡.
	`g‘CoÜd
().
	`g‘CoÜdX
()+ " Y: "+¡.g‘CoÜd().
	`g‘CoÜdY
());

487 if(
ApDeviû
.
	`cÚÃùApSm¬tThšg
(
	`g‘ApDeviûs
(), 
¡
, 
	`g‘Rªd
().
	`ÃxtDoubË
())){

488 
¡
.
	`g‘SourûAp
().
	`g‘S”v”CloudËt
().
	`cÚÃùS”v”CloudËtSm¬tThšg
(st);

489 
LogMobe
.
	`debug
("MobeCÚŒŞËr.java", 
¡
.
	`g‘Name
(è+" ha ¨Ãw cÚÃùiÚ - SourûAp: "+¡.
	`g‘SourûAp
().getName()+

490 " SourûS”v”CouldËt: "+
¡
.
	`g‘SourûS”v”CloudËt
().
	`g‘Name
());

492 
CloudËtScheduËr
 
şoudËtScheduËr
 = 
Ãw
 
	`CloudËtScheduËrTimeSh¬ed
();

494 
sizeVm
 = (
MaxAndMš
.
MIN_VM_SIZE
 + ()((MaxAndMš.
MAX_VM_SIZE
 - MaxAndMš.MIN_VM_SIZEè* (
	`g‘Rªd
().
	`ÃxtDoubË
())));

495 
AµModuË
 
vmSm¬tThšg
 = 
Ãw
 
	`AµModuË
(
¡
.
	`g‘MyId
(), "AµModuËVm_"+¡.
	`g‘Name
()

496 , "MyAµ_vr_game"+
¡
.
	`g‘MyId
()

497 , 
	`g‘Brok”Li¡
().
	`g‘
(
¡
.
	`g‘MyId
()).
	`g‘Id
()

501 , 
sizeVm


502 , "Vm_"+
¡
.
	`g‘Name
()

503 , 
şoudËtScheduËr


504 , 
Ãw
 
HashM­
<
Paœ
<
SŒšg
, SŒšg>, 
S–eùiv™yMod–
>());

506 
¡
.
	`£tVmMobeDeviû
(
vmSm¬tThšg
);

507 
¡
.
	`g‘SourûS”v”CloudËt
().
	`g‘Ho¡
().
	`vmC»©e
(
vmSm¬tThšg
);

508 
¡
.
	`£tVmLoÿlS”v”CloudËt
(¡.
	`g‘SourûS”v”CloudËt
());

509 
¡
.
	`£tLockedToMig¿tiÚ
(
çl£
);

512 
brok”Id
=
	`g‘Brok”Li¡
().
	`g‘
(
¡
.
	`g‘MyId
()).
	`g‘Id
();

513 
MobeS’sÜ
 
s
: 
¡
.
	`g‘S’sÜs
()){

514 
s
.
	`£tAµId
("MyAµ_vr_game"+
¡
.
	`g‘MyId
());

515 
s
.
	`£tU£rId
(
brok”Id
);

516 
s
.
	`£tG©ewayDeviûId
(
¡
.
	`g‘Id
());

517 
s
.
	`£tL©’cy
(6.0);

520 
MobeAùu©Ü
 
a
: 
¡
.
	`g‘Aùu©Üs
()){

521 
a
.
	`£tU£rId
(
brok”Id
);

522 
a
.
	`£tAµId
("MyAµ_vr_game"+
¡
.
	`g‘MyId
());

523 
a
.
	`£tG©ewayDeviûId
(
¡
.
	`g‘Id
());

524 
a
.
	`£tL©’cy
(1.0);

525 
a
.
	`£tAùu©ÜTy³
("DISPLAY"+
¡
.
	`g‘MyId
());

528 
ModuËM­pšg
 
moduËM­pšg
 = ModuËM­pšg.
	`ü—‹ModuËM­pšg
();

529 
moduËM­pšg
.
	`addModuËToDeviû
(((
AµModuË
)
¡
.
	`g‘VmMobeDeviû
()).
	`g‘Name
(), st.
	`g‘SourûS”v”CloudËt
().getName(), 1);

530 
moduËM­pšg
.
	`addModuËToDeviû
("ş›Á"+
¡
.
	`g‘MyId
(), st.
	`g‘Name
(), 1);

533 
	`´oûssAµSubm™
(
	`g‘AµliÿtiÚs
().
	`g‘
("MyAµ_vr_game"+
¡
.
	`g‘MyId
()));

540 
	}
}

542 
´iv©e
 
	$§veHªdOff
(
MobeDeviû
 
¡
){

543 
Sy¡em
.
out
.
	`´šn
("HANDOFF "+
¡
.
	`g‘MyId
(è+ " Pos™iÚ: " + st.
	`g‘CoÜd
().
	`g‘CoÜdX
(è+ ", " + st.g‘CoÜd().
	`g‘CoÜdY
(è+ " DœeùiÚ: " + st.
	`g‘DœeùiÚ
(è+ " S³ed: " + st.
	`g‘S³ed
());

544 
	`Œy
(
FeWr™”
 
fw
 = 
Ãw
 
	`FeWr™”
(
¡
.
	`g‘MyId
()+"hªdoff.txt", 
Œue
);

545 
Bufã»dWr™”
 
bw
 = 
Ãw
 
	`Bufã»dWr™”
(
fw
);

546 
PrštWr™”
 
out
 = 
Ãw
 
	`PrštWr™”
(
bw
))

548 
out
.
	`´šn
(
¡
.
	`g‘MyId
(è+ "\t" + st.
	`g‘CoÜd
().
	`g‘CoÜdX
(è+ "\t" + st.g‘CoÜd().
	`g‘CoÜdY
(è+ "\t" + st.
	`g‘DœeùiÚ
(è+ "\t" + st.
	`g‘S³ed
());

550 
	`ÿtch
 (
UnsuµÜ‹dEncodšgExû±iÚ
 
e
) {

552 
e
.
	`´štSckT¿û
();

554 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

556 
e
.
	`´štSckT¿û
();

558 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

560 
e
.
	`´štSckT¿û
();

562 
	}
}

565 @
Ov”ride


566 
public
 
	$shutdownEÁ™y
() {

569 
	}
}

571 
´iv©e
 
	$´štCo¡D‘as
(){

573 
	}
}

574 
´iv©e
 
FogDeviû
 
	$g‘Cloud
(){

575 
FogDeviû
 
dev
 : 
	`g‘S”v”CloudËts
())

576 if(
dev
.
	`g‘Name
().
	`equ®s
("cloud"))

577  
dev
;

578  
nuÎ
;

579 
	}
}

580 
´iv©e
 
	$´štPow”D‘as
() {

582 
FogDeviû
 
fogDeviû
 : 
	`g‘S”v”CloudËts
()){

583 
Sy¡em
.
out
.
	`´šn
(
fogDeviû
.
	`g‘Name
()+ ": Pow” = "+fogDeviû.
	`g‘Ho¡
().
	`g‘Pow”
());

584 
Sy¡em
.
out
.
	`´šn
(
fogDeviû
.
	`g‘Name
(è+ ": EÃrgy CÚsumed = "+fogDeviû.
	`g‘EÃrgyCÚsum±iÚ
());

586 
i
=0;i<
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘Pow”Hi¡Üy
().
	`size
();i++){

587 
Sy¡em
.
out
.
	`´šn
("Sm¬tThšg"+
i
+": Pow” = "+
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘Pow”Hi¡Üy
().
	`g‘
(i));

590 
i
=0;i<
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘EÃrgyHi¡Üy
().
	`size
();i++){

591 
Sy¡em
.
out
.
	`´šn
("Sm¬tThšg"+
i
+": EÃrgy CÚsumed = "+
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘EÃrgyHi¡Üy
().
	`g‘
(i));

596 
	}
}

597 
´iv©e
 
SŒšg
 
	$g‘SŒšgFÜLoİId
(
loİId
){

598 
SŒšg
 
­pId
 : 
	`g‘AµliÿtiÚs
().
	`keyS‘
()){

599 
AµliÿtiÚ
 
­p
 = 
	`g‘AµliÿtiÚs
().
	`g‘
(
­pId
);

600 
AµLoİ
 
loİ
 : 
­p
.
	`g‘Loİs
()){

601 if(
loİ
.
	`g‘LoİId
(è=ğ
loİId
)

602  
loİ
.
	`g‘ModuËs
().
	`toSŒšg
();

605  
nuÎ
;

606 
	}
}

607 
´iv©e
 
	$´štTimeD‘as
() {

609 
Sy¡em
.
out
.
	`´šn
("=========================================");

610 
Sy¡em
.
out
.
	`´šn
("============== RESULTS ==================");

611 
Sy¡em
.
out
.
	`´šn
("=========================================");

612 
Sy¡em
.
out
.
	`´šn
("EXECUTION TIME : "+ (
C®’d¬
.
	`g‘In¡ªû
().
	`g‘TimeInMlis
(è- 
TimeK“³r
.g‘In¡ªû().
	`g‘SimuÏtiÚS¹Time
()));

613 
Sy¡em
.
out
.
	`´šn
("=========================================");

614 
Sy¡em
.
out
.
	`´šn
("APPLICATION LOOP DELAYS");

615 
Sy¡em
.
out
.
	`´šn
("=========================================");

616 
IÁeg”
 
loİId
 : 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToTu¶eIds
().
	`keyS‘
()){

627 
Sy¡em
.
out
.
	`´šn
(
	`g‘SŒšgFÜLoİId
(
loİId
è+ " ---> "+
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘LoİIdToCu¼’tAv”age
().
	`g‘
ÖoİId)+" MaxExecutiÚTime: "+TimeK“³r.g‘In¡ªû().
	`g‘MaxLoİExecutiÚTime
().get(loopId));

630 
Sy¡em
.
out
.
	`´šn
("=========================================");

631 
Sy¡em
.
out
.
	`´šn
("TUPLE CPU EXECUTION DELAY");

632 
Sy¡em
.
out
.
	`´šn
("=========================================");

634 
SŒšg
 
tu¶eTy³
 : 
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘Tu¶eTy³ToAv”ageCpuTime
().
	`keyS‘
()){

635 
Sy¡em
.
out
.
	`´šn
(
tu¶eTy³
 + " ---> "+
TimeK“³r
.
	`g‘In¡ªû
().
	`g‘Tu¶eTy³ToAv”ageCpuTime
().
	`g‘
(tupleType));

638 
Sy¡em
.
out
.
	`´šn
("=========================================");

639 
	}
}

640 
´iv©e
 
	$´štN‘wÜkU§geD‘as
() {

641 
Sy¡em
.
out
.
	`´šn
("TÙ®‚‘wÜk u§gğ"+()
N‘wÜkU§geMÚ™Ü
.
	`g‘N‘wÜkU§ge
()/
CloudSim
.
	`şock
());

642 
	}
}

643 
´iv©e
 
	$´štMig¿tiÚsD‘®is
(){

644 
Sy¡em
.
out
.
	`´šn
("=========================================");

645 
Sy¡em
.
out
.
	`´šn
("==============MIGRATIONS=================");

646 
Sy¡em
.
out
.
	`´šn
("=========================================");

647 
Sy¡em
.
out
.
	`´šn
("TÙ® oàmig¿tiÚs: "+
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘TÙ®Mig¿tiÚs
());

648 
Sy¡em
.
out
.
	`´šn
("TÙ® oàhªdoff: "+
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘TÙ®Hªdoff
());

649 
Sy¡em
.
out
.
	`´šn
("TÙ® oàmig¿tiÚØdifã»Á SC: " + 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘MyCouÁLowe¡L©’cy
());

651 
MySti¡ics
.
	`g‘In¡ªû
().
	`´štResuÉs
();

652 
Sy¡em
.
out
.
	`´šn
("***Lastime without connection***");

654 
EÁry
<
IÁeg”
, 
DoubË
> 
‹¡
 :
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘W™houtCÚÃùiÚTime
().
	`’ŒyS‘
()){

655 
Sy¡em
.
out
.
	`´šn
("Sm¬tThšg"+
‹¡
.
	`g‘Key
()+": "+
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘W™houtCÚÃùiÚTime
().
	`g‘
Ñe¡.g‘Key())+" - Max: "+MySti¡ics.g‘In¡ªû().
	`g‘MaxW™houtCÚÃùiÚTime
().get(test.getKey()));

658 
Sy¡em
.
out
.
	`´šn
("Av”agoàw™houˆcÚÃùiÚ: "+
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘Av”ageW™houtCÚÃùiÚ
());

660 
Sy¡em
.
out
.
	`´šn
("***Lastime without Vm***");

662 
EÁry
<
IÁeg”
, 
DoubË
> 
‹¡
 :
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘W™houtVmTime
().
	`’ŒyS‘
()){

663 
Sy¡em
.
out
.
	`´šn
("Sm¬tThšg"+
‹¡
.
	`g‘Key
()+": "+
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘W™houtVmTime
().
	`g‘
Ñe¡.g‘Key())+" - Max: "+MySti¡ics.g‘In¡ªû().
	`g‘MaxW™houtVmTime
().get(test.getKey()));

666 
Sy¡em
.
out
.
	`´šn
("Av”agoàw™houˆVm: "+
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘Av”ageW™houtVmTime
());

668 
Sy¡em
.
out
.
	`´šn
("===Last delay‡fter connection===");

669 
EÁry
<
IÁeg”
, 
DoubË
> 
‹¡
 : 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘D–ayAá”NewCÚÃùiÚ
().
	`’ŒyS‘
()){

670 
Sy¡em
.
out
.
	`´šn
("Sm¬tThšg"+
‹¡
.
	`g‘Key
()+": "+
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘D–ayAá”NewCÚÃùiÚ
().
	`g‘
Ñe¡.g‘Key())+" - Max: "+MySti¡ics.g‘In¡ªû().
	`g‘MaxD–ayAá”NewCÚÃùiÚ
().get(test.getKey()));

672 
Sy¡em
.
out
.
	`´šn
("Av”agoàd–ay‡á”‚ew CÚÃùiÚ: "+
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘Av”ageD–ayAá”NewCÚÃùiÚ
());

675 
Sy¡em
.
out
.
	`´šn
("---Average of Time of Migrations---");

676 
EÁry
<
IÁeg”
, 
DoubË
> 
‹¡
 : 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘Mig¿tiÚTime
().
	`’ŒyS‘
()){

677 
Sy¡em
.
out
.
	`´šn
("Sm¬tThšg"+
‹¡
.
	`g‘Key
()+": "+
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘Mig¿tiÚTime
().
	`g‘
Ñe¡.g‘Key())+" - Max: "+MySti¡ics.g‘In¡ªû().
	`g‘MaxMig¿tiÚTime
().get(test.getKey()));

679 
Sy¡em
.
out
.
	`´šn
("Av”agoàTimoàMig¿tiÚs: "+
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘Av”ageMig¿tiÚTime
());

680 
Sy¡em
.
out
.
	`´šn
("Tu¶lo¡: "+((()
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘MyCouÁLo¡Tu¶e
()/MySti¡ics.g‘In¡ªû().
	`g‘MyCouÁTÙ®Tu¶e
()))*100+"%");

681 
Sy¡em
.
out
.
	`´šn
("Tu¶lo¡: "+
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘MyCouÁLo¡Tu¶e
());

682 
Sy¡em
.
out
.
	`´šn
("TÙ®u¶e: "+ 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘MyCouÁTÙ®Tu¶e
());

684 
	}
}

686 
public
 
	$subm™AµliÿtiÚ
(
AµliÿtiÚ
 
­¶iÿtiÚ
, 
d–ay
){

687 
FogUts
.
­pIdToGeoCov”ageM­
.
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(),‡µliÿtiÚ.
	`g‘GeoCov”age
());

688 
	`g‘AµliÿtiÚs
().
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(),‡pplication);

689 
	`g‘AµLaunchD–ays
().
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(), 
d–ay
);

690 
MobeDeviû
 
¡
: 
	`g‘Sm¬tThšgs
()){

691 
S’sÜ
 
s
 : 
¡
.
	`g‘S’sÜs
()){

692 if(
s
.
	`g‘AµId
().
	`equ®s
(
­¶iÿtiÚ
.getAppId()))

693 
s
.
	`£tAµ
(
­¶iÿtiÚ
);

695 
Aùu©Ü
 
a
 : 
¡
.
	`g‘Aùu©Üs
()){

696 if(
a
.
	`g‘AµId
().
	`equ®s
(
­¶iÿtiÚ
.getAppId()))

697 
a
.
	`£tAµ
(
­¶iÿtiÚ
);

700 
AµEdge
 
edge
 : 
­¶iÿtiÚ
.
	`g‘Edges
()){

701 if(
edge
.
	`g‘EdgeTy³
(è=ğ
AµEdge
.
ACTUATOR
){

702 
SŒšg
 
moduËName
 = 
edge
.
	`g‘Sourû
();

703 
MobeDeviû
 
¡
: 
	`g‘Sm¬tThšgs
()){

704 
Aùu©Ü
 
aùu©Ü
 : 
¡
.
	`g‘Aùu©Üs
()){

705 if(
aùu©Ü
.
	`g‘Aùu©ÜTy³
().
	`equ®sIgnÜeCa£
(
edge
.
	`g‘De¡š©iÚ
()))

706 
­¶iÿtiÚ
.
	`g‘ModuËByName
(
moduËName
).
	`subsüibeAùu©Ü
(
aùu©Ü
.
	`g‘Id
(), 
edge
.
	`g‘Tu¶eTy³
());

712 
	}
}

713 
public
 
	$subm™AµliÿtiÚMig¿tiÚ
(
MobeDeviû
 
sm¬tThšg
, 
AµliÿtiÚ
 
­¶iÿtiÚ
, 
d–ay
){

714 
FogUts
.
­pIdToGeoCov”ageM­
.
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(),‡µliÿtiÚ.
	`g‘GeoCov”age
());

715 
	`g‘AµliÿtiÚs
().
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(),‡pplication);

716 
	`g‘AµLaunchD–ays
().
	`put
(
­¶iÿtiÚ
.
	`g‘AµId
(), 
d–ay
);

727 
AµEdge
 
edge
 : 
­¶iÿtiÚ
.
	`g‘Edges
()){

728 if(
edge
.
	`g‘EdgeTy³
(è=ğ
AµEdge
.
ACTUATOR
){

729 
SŒšg
 
moduËName
 = 
edge
.
	`g‘Sourû
();

730 
MobeDeviû
 
¡
: 
	`g‘Sm¬tThšgs
()){

731 
Aùu©Ü
 
aùu©Ü
 : 
¡
.
	`g‘Aùu©Üs
()){

732 if(
aùu©Ü
.
	`g‘Aùu©ÜTy³
().
	`equ®sIgnÜeCa£
(
edge
.
	`g‘De¡š©iÚ
()))

733 
­¶iÿtiÚ
.
	`g‘ModuËByName
(
moduËName
).
	`subsüibeAùu©Ü
(
aùu©Ü
.
	`g‘Id
(), 
edge
.
	`g‘Tu¶eTy³
());

739 
	}
}

741 
public
 
	gM­
<
	gSŒšg
, 
	gAµliÿtiÚ
> 
	$g‘AµliÿtiÚs
() {

742  
­¶iÿtiÚs
;

743 
	}
}

745 
public
 
£tAµliÿtiÚs
(
M­
<
SŒšg
, 
AµliÿtiÚ
> 
­¶iÿtiÚs
) {

746 
	gthis
.
	g­¶iÿtiÚs
 = 
­¶iÿtiÚs
;

749 
public
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘AµLaunchD–ays
() {

750  
­pLaunchD–ays
;

751 
	}
}

753 
public
 
£tAµLaunchD–ays
(
M­
<
SŒšg
, 
IÁeg”
> 
­pLaunchD–ays
) {

754 
	gthis
.
	g­pLaunchD–ays
 = 
­pLaunchD–ays
;

757 
public
 
ModuËM­pšg
 
	$g‘ModuËM­pšg
() {

758  
moduËM­pšg
;

759 
	}
}

761 
public
 
	$£tModuËM­pšg
(
ModuËM­pšg
 
moduËM­pšg
) {

762 
this
.
moduËM­pšg
 = moduleMapping;

763 
	}
}

765 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘Glob®Cu¼’tCpuLßd
() {

766  
glob®Cu¼’tCpuLßd
;

767 
	}
}

769 
public
 
£tGlob®Cu¼’tCpuLßd
(
M­
<
IÁeg”
, 
DoubË
> 
glob®Cu¼’tCpuLßd
) {

770 
	gthis
.
	gglob®Cu¼’tCpuLßd
 = 
glob®Cu¼’tCpuLßd
;

772 
public
 
£tGlob®CPULßd
(
M­
<
IÁeg”
, 
DoubË
> 
cu¼’tCpuLßd
) {

773 
FogDeviû
 
	gdeviû
 : 
g‘S”v”CloudËts
()){

774 
this
.
glob®Cu¼’tCpuLßd
.
put
(
deviû
.
g‘Id
(), 
cu¼’tCpuLßd
.
g‘
(device.getId()));

778 
public
 
	$g‘MigPoštPŞicy
() {

779  
migPoštPŞicy
;

780 
	}
}

781 
public
 
	$£tMigPoštPŞicy
(
migPoštPŞicy
) {

782 
MobeCÚŒŞËr
.
migPoštPŞicy
 = migPointPolicy;

783 
	}
}

784 
public
 
	$g‘MigSŒ©egyPŞicy
() {

785  
migSŒ©egyPŞicy
;

786 
	}
}

787 
public
 
	$£tMigSŒ©egyPŞicy
(
migSŒ©egyPŞicy
) {

788 
MobeCÚŒŞËr
.
migSŒ©egyPŞicy
 = migStrategyPolicy;

789 
	}
}

790 
public
 
	$g‘S‹pPŞicy
() {

791  
¡•PŞicy
;

792 
	}
}

793 
public
 
	$£tS‹pPŞicy
(
¡•PŞicy
) {

794 
MobeCÚŒŞËr
.
¡•PŞicy
 = stepPolicy;

795 
	}
}

796 
public
 
CoÜdš©e
 
	$g‘CoÜdDeviûs
() {

797  
coÜdDeviûs
;

798 
	}
}

799 
public
 
	$£tCoÜdDeviûs
(
CoÜdš©e
 
coÜdDeviûs
) {

800 
MobeCÚŒŞËr
.
coÜdDeviûs
 = coordDevices;

801 
	}
}

802 
public
 
	gLi¡
<
	gFogBrok”
> 
	$g‘Brok”Li¡
() {

803  
brok”Li¡
;

804 
	}
}

805 
public
 
£tBrok”Li¡
(
Li¡
<
FogBrok”
> 
brok”Li¡
) {

806 
	gthis
.
	gbrok”Li¡
 = 
brok”Li¡
;

808 
public
 
	$g‘S“d
() {

809  
£ed
;

810 
	}
}

811 
public
 
	$£tS“d
(
£ed
) {

812 
MobeCÚŒŞËr
.
£ed
 = seed;

813 
	}
}

814 
public
 
	gLi¡
<
	gFogDeviû
> 
	$g‘S”v”CloudËts
() {

815  
£rv”CloudËts
;

816 
	}
}

817 
public
 
£tS”v”CloudËts
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
) {

818 
	gMobeCÚŒŞËr
.
	g£rv”CloudËts
 = 
£rv”CloudËts
;

820 
public
 
	gLi¡
<
	gMobeDeviû
> 
	$g‘Sm¬tThšgs
() {

821  
sm¬tThšgs
;

822 
	}
}

823 
public
 
£tSm¬tThšgs
(
Li¡
<
MobeDeviû
> 
sm¬tThšgs
) {

824 
	gMobeCÚŒŞËr
.
	gsm¬tThšgs
 = 
sm¬tThšgs
;

826 
public
 
	gLi¡
<
	gApDeviû
> 
	$g‘ApDeviûs
() {

827  
­Deviûs
;

828 
	}
}

829 
public
 
£tApDeviûs
(
Li¡
<
ApDeviû
> 
­Deviûs
) {

830 
	gMobeCÚŒŞËr
.
	g­Deviûs
 = 
­Deviûs
;

832 
public
 
	gQueue
<
	gSŒšg
[]> 
	$g‘Queue
() {

833  
q
;

834 
	}
}

835 
public
 
£tQueue
(
Queue
<
SŒšg
[]> 
q
) {

836 
	gMobeCÚŒŞËr
.
	gq
 = 
q
;

838 
public
 
Rªdom
 
	$g‘Rªd
() {

839  
¿nd
;

840 
	}
}

841 
public
 
	$£tRªd
(
Rªdom
 
¿nd
) {

842 
MobeCÚŒŞËr
.
¿nd
 =„and;

843 
	}
}

844 
public
 
boŞ—n
 
	$isMig¿tiÚAbË
() {

845  
mig¿tiÚAbË
;

846 
	}
}

847 
public
 
	$£tMig¿tiÚAbË
(
boŞ—n
 
mig¿tiÚAbË
) {

848 
MobeCÚŒŞËr
.
mig¿tiÚAbË
 = migrationAble;

849 
	}
}

	@src/org/fog/placement/ModuleMapping.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g¶aûm’t
;

3 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

4 
impÜt
 
	gjava
.
	gut
.
	gM­
;

6 
public
 cÏs 
	cModuËM­pšg
 {

10 
´Ùeùed
 
	mM­
<
	mSŒšg
, M­<SŒšg, 
	mIÁeg”
>> 
	mmoduËM­pšg
;

12 
public
 
ModuËM­pšg
 
	$ü—‹ModuËM­pšg
(){

13  
Ãw
 
	`ModuËM­pšg
();

16 
public
 
M­
<
SŒšg
, M­<SŒšg, 
IÁeg”
>> 
	$g‘ModuËM­pšg
() {

17  
moduËM­pšg
;

18 
	}
}

20 
public
 
£tModuËM­pšg
(
M­
<
SŒšg
, M­<SŒšg, 
IÁeg”
>> 
moduËM­pšg
) {

21 
	gthis
.
	gmoduËM­pšg
 = 
moduËM­pšg
;

24 
´Ùeùed
 
	$ModuËM­pšg
(){

25 
	`£tModuËM­pšg
(
Ãw
 
HashM­
<
SŒšg
, 
M­
<SŒšg, 
IÁeg”
>>());

26 
	}
}

33 
public
 
	$addModuËToDeviû
(
SŒšg
 
moduËName
, SŒšg 
deviûName
){

34 
	`addModuËToDeviû
(
moduËName
, 
deviûName
, 1);

35 
	}
}

43 
public
 
	$addModuËToDeviû
(
SŒšg
 
moduËName
, SŒšg 
deviûName
, 
š¡ªûCouÁ
){

44 if(!
	`g‘ModuËM­pšg
().
	`cÚšsKey
(
deviûName
))

45 
	`g‘ModuËM­pšg
().
	`put
(
deviûName
, 
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

46 if(!
	`g‘ModuËM­pšg
().
	`g‘
(
deviûName
).
	`cÚšsKey
(
moduËName
))

47 
	`g‘ModuËM­pšg
().
	`g‘
(
deviûName
).
	`put
(
moduËName
, 
š¡ªûCouÁ
);

48 
	}
}

	@src/org/fog/placement/ModulePlacement.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g¶aûm’t
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gjava
.
	gut
.
	gM­
;

7 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

8 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµModuË
;

9 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµliÿtiÚ
;

10 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

11 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

13 
public
 
ab¡¿ù
 cÏs 
	cModuËPÏûm’t
 {

16 
public
 
	mONLY_CLOUD
 = 1;

17 
public
 
	mEDGEWARDS
 = 2;

18 
public
 
	mUSER_MAPPING
 = 3;

20 
´iv©e
 
	mLi¡
<
	mFogDeviû
> 
	mfogDeviûs
;

21 
´iv©e
 
	mLi¡
<
	mMobeDeviû
> 
	mmobeDeviûs
;

22 
´iv©e
 
AµliÿtiÚ
 
	m­¶iÿtiÚ
;

23 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mLi¡
<
	mIÁeg”
>> 
	mmoduËToDeviûM­
;

24 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mLi¡
<
	mAµModuË
>> 
	mdeviûToModuËM­
;

25 
´iv©e
 
	mM­
<
	mIÁeg”
, M­<
	mSŒšg
, IÁeg”>> 
	mmoduËIn¡ªûCouÁM­
;

27 
´Ùeùed
 
ab¡¿ù
 
m­ModuËs
();

29 
´Ùeùed
 
boŞ—n
 
	$ÿnBeC»©ed
(
FogDeviû
 
fogDeviû
, 
AµModuË
 
moduË
){

30  
fogDeviû
.
	`g‘VmAÎoÿtiÚPŞicy
().
	`®loÿ‹Ho¡FÜVm
(
moduË
);

33 
´Ùeùed
 
	$g‘P¬’tDeviû
(
fogDeviûId
){

34  ((
FogDeviû
)
CloudSim
.
	`g‘EÁ™y
(
fogDeviûId
)).
	`g‘P¬’tId
();

35 
	}
}

37 
´Ùeùed
 
FogDeviû
 
	$g‘FogDeviûById
(
fogDeviûId
){

38  (
FogDeviû
)
CloudSim
.
	`g‘EÁ™y
(
fogDeviûId
);

39 
	}
}

41 
´Ùeùed
 
boŞ—n
 
	$ü—‹ModuËIn¡ªûOnDeviû
(
AµModuË
 
_moduË
, 
fš®
 
FogDeviû
 
deviû
, 
š¡ªûCouÁ
){

42  
çl£
;

43 
	}
}

45 
´Ùeùed
 
boŞ—n
 
	$ü—‹ModuËIn¡ªûOnDeviû
(
AµModuË
 
_moduË
, 
fš®
 
FogDeviû
 
deviû
){

46 
AµModuË
 
moduË
 = 
nuÎ
;

47 if(
	`g‘ModuËToDeviûM­
().
	`cÚšsKey
(
_moduË
.
	`g‘Name
()))

48 
moduË
 = 
Ãw
 
	`AµModuË
(
_moduË
);

50 
moduË
 = 
_moduË
;

52 if(
	`ÿnBeC»©ed
(
deviû
, 
moduË
)){

53 
Sy¡em
.
out
.
	`´šn
("C»©šg "+
moduË
.
	`g‘Name
()+" oÀdeviû "+
deviû
.getName());

55 if(!
	`g‘DeviûToModuËM­
().
	`cÚšsKey
(
deviû
.
	`g‘Id
()))

56 
	`g‘DeviûToModuËM­
().
	`put
(
deviû
.
	`g‘Id
(), 
Ãw
 
A¼ayLi¡
<
AµModuË
>());

57 
	`g‘DeviûToModuËM­
().
	`g‘
(
deviû
.
	`g‘Id
()).
	`add
(
moduË
);

59 if(!
	`g‘ModuËToDeviûM­
().
	`cÚšsKey
(
moduË
.
	`g‘Name
()))

60 
	`g‘ModuËToDeviûM­
().
	`put
(
moduË
.
	`g‘Name
(), 
Ãw
 
A¼ayLi¡
<
IÁeg”
>());

61 
	`g‘ModuËToDeviûM­
().
	`g‘
(
moduË
.
	`g‘Name
()).
	`add
(
deviû
.
	`g‘Id
());

62  
Œue
;

64 
Sy¡em
.
”r
.
	`´šn
("ModuË "+
moduË
.
	`g‘Name
()+" cªnÙ bü—‹d oÀdeviû "+
deviû
.getName());

65 
Sy¡em
.
”r
.
	`´šn
("Terminating");

66  
çl£
;

68 
	}
}

70 
´Ùeùed
 
FogDeviû
 
	$g‘DeviûByName
(
SŒšg
 
deviûName
) {

71 
FogDeviû
 
dev
 : 
	`g‘FogDeviûs
()){

72 if(
dev
.
	`g‘Name
().
	`equ®s
(
deviûName
))

73  
dev
;

75  
nuÎ
;

76 
	}
}

78 
´Ùeùed
 
FogDeviû
 
	$g‘DeviûById
(
id
){

79 
FogDeviû
 
dev
 : 
	`g‘FogDeviûs
()){

80 if(
dev
.
	`g‘Id
(è=ğ
id
)

81  
dev
;

83  
nuÎ
;

84 
	}
}

86 
public
 
	gLi¡
<
	gFogDeviû
> 
	$g‘FogDeviûs
() {

87  
fogDeviûs
;

88 
	}
}

90 
public
 
£tFogDeviûs
(
Li¡
<
FogDeviû
> 
fogDeviûs
) {

91 
	gthis
.
	gfogDeviûs
 = 
fogDeviûs
;

94 
public
 
AµliÿtiÚ
 
	$g‘AµliÿtiÚ
() {

95  
­¶iÿtiÚ
;

96 
	}
}

98 
public
 
	$£tAµliÿtiÚ
(
AµliÿtiÚ
 
­¶iÿtiÚ
) {

99 
this
.
­¶iÿtiÚ
 =‡pplication;

100 
	}
}

102 
public
 
	gM­
<
	gSŒšg
, 
	gLi¡
<
	gIÁeg”
>> 
	$g‘ModuËToDeviûM­
() {

103  
moduËToDeviûM­
;

104 
	}
}

106 
public
 
£tModuËToDeviûM­
(
M­
<
SŒšg
, 
Li¡
<
IÁeg”
>> 
moduËToDeviûM­
) {

107 
	gthis
.
	gmoduËToDeviûM­
 = 
moduËToDeviûM­
;

110 
public
 
	gM­
<
	gIÁeg”
, 
	gLi¡
<
	gAµModuË
>> 
	$g‘DeviûToModuËM­
() {

111  
deviûToModuËM­
;

112 
	}
}

114 
public
 
£tDeviûToModuËM­
(
M­
<
IÁeg”
, 
Li¡
<
AµModuË
>> 
deviûToModuËM­
) {

115 
	gthis
.
	gdeviûToModuËM­
 = 
deviûToModuËM­
;

118 
public
 
	gM­
<
	gIÁeg”
, M­<
	gSŒšg
, IÁeg”>> 
	$g‘ModuËIn¡ªûCouÁM­
() {

119  
moduËIn¡ªûCouÁM­
;

120 
	}
}

122 
public
 
£tModuËIn¡ªûCouÁM­
(
M­
<
IÁeg”
, M­<
SŒšg
, IÁeg”>> 
moduËIn¡ªûCouÁM­
) {

123 
	gthis
.
	gmoduËIn¡ªûCouÁM­
 = 
moduËIn¡ªûCouÁM­
;

126 
public
 
	gLi¡
<
	gMobeDeviû
> 
	$g‘MobeDeviûs
() {

127  
mobeDeviûs
;

128 
	}
}

130 
public
 
£tMobeDeviûs
(
Li¡
<
MobeDeviû
> 
mobeDeviûs
) {

131 
	gthis
.
	gmobeDeviûs
 = 
mobeDeviûs
;

	@src/org/fog/placement/ModulePlacementEdgewards.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g¶aûm’t
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

5 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

6 
impÜt
 
	gjava
.
	gut
.
	gM­
;

8 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	gut
.
	gPaœ
;

9 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

10 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµEdge
;

11 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµModuË
;

12 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµliÿtiÚ
;

13 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	g£Ëùiv™y
.
	gS–eùiv™yMod–
;

14 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gAùu©Ü
;

15 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

16 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gS’sÜ
;

17 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gTu¶e
;

19 
public
 cÏs 
	cModuËPÏûm’tEdgew¬ds
 
ex‹nds
 
	mModuËPÏûm’t
{

21 
´Ùeùed
 
ModuËM­pšg
 
	mmoduËM­pšg
;

22 
´Ùeùed
 
	mLi¡
<
	mS’sÜ
> 
	m£nsÜs
;

23 
´Ùeùed
 
	mLi¡
<
	mAùu©Ü
> 
	maùu©Üs
;

24 
´Ùeùed
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mcu¼’tCpuLßd
;

29 
´Ùeùed
 
	mM­
<
	mIÁeg”
, 
	mLi¡
<
	mSŒšg
>> 
	mcu¼’tModuËM­
;

30 
´Ùeùed
 
	mM­
<
	mIÁeg”
, M­<
	mSŒšg
, 
	mDoubË
>> 
	mcu¼’tModuËLßdM­
;

31 
´Ùeùed
 
	mM­
<
	mIÁeg”
, M­<
	mSŒšg
, IÁeg”>> 
	mcu¼’tModuËIn¡ªûNum
;

33 
public
 
ModuËPÏûm’tEdgew¬ds
(
Li¡
<
FogDeviû
> 
fogDeviûs
, Li¡<
S’sÜ
> 
£nsÜs
, Li¡<
Aùu©Ü
> 
aùu©Üs
,

34 
AµliÿtiÚ
 
­¶iÿtiÚ
, 
ModuËM­pšg
 
moduËM­pšg
){

35 
	mthis
.
£tFogDeviûs
(
fogDeviûs
);

36 
	mthis
.
£tAµliÿtiÚ
(
­¶iÿtiÚ
);

37 
	mthis
.
£tModuËM­pšg
(
moduËM­pšg
);

38 
	mthis
.
£tModuËToDeviûM­
(
Ãw
 
HashM­
<
SŒšg
, 
Li¡
<
IÁeg”
>>());

39 
	mthis
.
£tDeviûToModuËM­
(
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
AµModuË
>>());

40 
£tS’sÜs
(
£nsÜs
);

41 
£tAùu©Üs
(
aùu©Üs
);

42 
£tCu¼’tCpuLßd
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

43 
upd©eCu¼’tCpuLßd
();

44 
£tCu¼’tModuËM­
(
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
SŒšg
>>());

45 
£tCu¼’tModuËLßdM­
(
Ãw
 
HashM­
<
IÁeg”
, 
M­
<
SŒšg
, 
DoubË
>>());

46 
£tCu¼’tModuËIn¡ªûNum
(
Ãw
 
HashM­
<
IÁeg”
, 
M­
<
SŒšg
, Integer>>());

47 
FogDeviû
 
	mdev
 : 
g‘FogDeviûs
()){

48 
g‘Cu¼’tModuËLßdM­
().
put
(
dev
.
g‘Id
(), 
Ãw
 
HashM­
<
SŒšg
, 
DoubË
>());

49 
g‘Cu¼’tModuËM­
().
put
(
dev
.
g‘Id
(), 
Ãw
 
A¼ayLi¡
<
SŒšg
>());

50 
g‘Cu¼’tModuËIn¡ªûNum
().
put
(
dev
.
g‘Id
(), 
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

53 
m­ModuËs
();

55 
	mSy¡em
.
	mout
.
´šn
(
g‘Cu¼’tModuËIn¡ªûNum
());

56 
£tModuËIn¡ªûCouÁM­
(
g‘Cu¼’tModuËIn¡ªûNum
());

62 
´iv©e
 
	$upd©eCu¼’tCpuLßd
() {

64 
FogDeviû
 
deviû
 : 
	`g‘FogDeviûs
()){

65 
	`g‘Cu¼’tCpuLßd
().
	`put
(
deviû
.
	`g‘Id
(), 0.0);

67 
	}
}

69 @
Ov”ride


70 
´Ùeùed
 
	$m­ModuËs
() {

72 
SŒšg
 
deviûName
 : 
	`g‘ModuËM­pšg
().g‘ModuËM­pšg().
	`keyS‘
()){

73 
SŒšg
 
moduËName
 : 
	`g‘ModuËM­pšg
().g‘ModuËM­pšg().
	`g‘
(
deviûName
).
	`keyS‘
()){

74 
deviûId
 = 
CloudSim
.
	`g‘EÁ™yId
(
deviûName
);

75 
	`g‘Cu¼’tModuËM­
().
	`g‘
(
deviûId
).
	`add
(
moduËName
);

76 
	`g‘Cu¼’tModuËLßdM­
().
	`g‘
(
deviûId
).
	`put
(
moduËName
, 0.0);

77 
	`g‘Cu¼’tModuËIn¡ªûNum
().
	`g‘
(
deviûId
).
	`put
(
moduËName
, 0);

81 
Li¡
<Li¡<
IÁeg”
>> 
ËafToRoÙP©hs
 = 
	`g‘L—fToRoÙP©hs
();

83 
Li¡
<
IÁeg”
> 
·th
 : 
ËafToRoÙP©hs
){

84 
	`¶aûModuËsInP©h
(
·th
);

87 
deviûId
 : 
	`g‘Cu¼’tModuËM­
().
	`keyS‘
()){

88 
Sy¡em
.
out
.
	`´šn
(
	`g‘FogDeviûById
(
deviûId
).
	`g‘Name
(è+ "--->"+
	`g‘Cu¼’tModuËM­
().
	`g‘
(deviceId));

89 
SŒšg
 
moduË
 : 
	`g‘Cu¼’tModuËM­
().
	`g‘
(
deviûId
)){

90 
	`ü—‹ModuËIn¡ªûOnDeviû
(
	`g‘AµliÿtiÚ
().
	`g‘ModuËByName
(
moduË
), 
	`g‘FogDeviûById
(
deviûId
));

93 
	}
}

95 
´iv©e
 
	gLi¡
<
	gSŒšg
> 
g‘ModuËsToPÏû
(
Li¡
<
SŒšg
> 
¶aûdO³¿tÜs
){

96 
	gSy¡em
.
	gout
.
´šn
("PÏûd ModuË : "+
¶aûdO³¿tÜs
);

97 
AµliÿtiÚ
 
	g­p
 = 
g‘AµliÿtiÚ
();

98 
	gLi¡
<
	gSŒšg
> 
	gmoduËsToPÏû_1
 = 
Ãw
 
A¼ayLi¡
<
SŒšg
>();

99 
	gLi¡
<
	gSŒšg
> 
	gmoduËsToPÏû
 = 
Ãw
 
A¼ayLi¡
<
SŒšg
>();

100 
AµModuË
 
	gmoduË
 : 
­p
.
g‘ModuËs
()){

101 if(!
¶aûdO³¿tÜs
.
cÚšs
(
moduË
.
g‘Name
()))

102 
moduËsToPÏû_1
.
add
(
moduË
.
g‘Name
());

104 
SŒšg
 
	gmoduËName
 : 
moduËsToPÏû_1
){

105 
boŞ—n
 
toBePÏûd
 = 
Œue
;

107 
AµEdge
 
	gedge
 : 
­p
.
g‘Edges
()){

109 if(
edge
.
g‘Sourû
().
equ®s
(
moduËName
è&&ƒdge.
g‘DœeùiÚ
()==
Tu¶e
.
DOWN
 && !
¶aûdO³¿tÜs
.
cÚšs
Ódge.
g‘De¡š©iÚ
()))

110 
toBePÏûd
 = 
çl£
;

112 if(
	gedge
.
g‘De¡š©iÚ
().
equ®s
(
moduËName
è&&ƒdge.
g‘DœeùiÚ
()==
Tu¶e
.
UP
 && !
¶aûdO³¿tÜs
.
cÚšs
(
edge
.
g‘Sourû
()))

113 
toBePÏûd
 = 
çl£
;

115 if(
	gtoBePÏûd
)

116 
	gmoduËsToPÏû
.
add
(
moduËName
);

118 
	gSy¡em
.
	gout
.
´šn
("ModuË tØ¶aû : "+
moduËsToPÏû
);

120  
	gmoduËsToPÏû
;

123 
´Ùeùed
 
	$g‘R©eOfS’sÜ
(
SŒšg
 
£nsÜTy³
){

124 
S’sÜ
 
£nsÜ
 : 
	`g‘S’sÜs
()){

125 if(
£nsÜ
.
	`g‘Tu¶eTy³
().
	`equ®s
(
£nsÜTy³
))

126  1/
£nsÜ
.
	`g‘T¿nsm™Di¡ributiÚ
().
	`g‘M—nIÁ”T¿nsm™Time
();

129 
	}
}

131 
´iv©e
 
¶aûModuËsInP©h
(
Li¡
<
IÁeg”
> 
·th
) {

132 
	gSy¡em
.
	gout
.
´šn
("NEW PATH");

134 if(
	g·th
.
size
()==0);

135 
	gLi¡
<
	gSŒšg
> 
	g¶aûdO³¿tÜs
 = 
Ãw
 
A¼ayLi¡
<
SŒšg
>();

136 
	gM­
<
	gAµEdge
, 
	gDoubË
> 
	g­pEdgeToR©e
 = 
Ãw
 
HashM­
<
AµEdge
, Double>();

138 
AµEdge
 
	gedge
 : 
g‘AµliÿtiÚ
().
g‘Edges
()){

139 if(
edge
.
isP”iodic
()){

140 
­pEdgeToR©e
.
put
(
edge
, 1/edge.
g‘P”iodic™y
());

144 
IÁeg”
 
	gdeviûId
 : 
·th
){

145 
Sy¡em
.
out
.
´šn
("OÀdeviû "+
CloudSim
.
g‘EÁ™yName
(
deviûId
));

146 
FogDeviû
 
	gdeviû
 = 
g‘FogDeviûById
(
deviûId
);

147 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	g£nsÜsAssocŸ‹d
 = 
g‘AssocŸ‹dS’sÜs
(
deviû
);

148 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	gaùu©ÜsAssocŸ‹d
 = 
g‘AssocŸ‹dAùu©Üs
(
deviû
);

149 
	g¶aûdO³¿tÜs
.
addAÎ
(
£nsÜsAssocŸ‹d
.
keyS‘
());

150 
	g¶aûdO³¿tÜs
.
addAÎ
(
aùu©ÜsAssocŸ‹d
.
keyS‘
());

152 
	gSy¡em
.
	gout
.
´šn
("Cu¼’y…Ïûd o³¿tÜ ğ"+
¶aûdO³¿tÜs
);

153 
SŒšg
 
	g£nsÜ
 : 
£nsÜsAssocŸ‹d
.
keyS‘
()){

154 
AµEdge
 
edge
 : 
g‘AµliÿtiÚ
().
g‘Edges
()){

155 if(
edge
.
g‘Sourû
().
equ®s
(
£nsÜ
)){

156 
­pEdgeToR©e
.
put
(
edge
, 
£nsÜsAssocŸ‹d
.
g‘
(
£nsÜ
)*
g‘R©eOfS’sÜ
(sensor));

162 
boŞ—n
 
	gchªged
 = 
Œue
;

163 
	gchªged
){

165 
	gchªged
=
çl£
;

166 
	gM­
<
	gAµEdge
, 
	gDoubË
> 
	g¿‹M­
 = 
Ãw
 
HashM­
<
AµEdge
, DoubË>(
	g­pEdgeToR©e
);

167 
AµEdge
 
	gedge
 : 
¿‹M­
.
keyS‘
()){

168 
AµModuË
 
de¡ModuË
 = 
g‘AµliÿtiÚ
().
g‘ModuËByName
(
edge
.
g‘De¡š©iÚ
());

169 if(
	gde¡ModuË
 =ğ
nuÎ
);

170 
	gM­
<
	gPaœ
<
	gSŒšg
, SŒšg>, 
	gS–eùiv™yMod–
> 
	gm­
 = 
de¡ModuË
.
g‘S–eùiv™yM­
();

171 
	gPaœ
<
	gSŒšg
, SŒšg> 
	g·œ
 : 
m­
.
keyS‘
()){

172 if(
·œ
.
g‘Fœ¡
().
equ®s
(
edge
.
g‘Tu¶eTy³
())){

173 
ouutR©e
 = 
­pEdgeToR©e
.
g‘
(
edge
)*
m­
.g‘(
·œ
).
g‘M—nR©e
();

174 
AµEdge
 
	gouutEdge
 = 
g‘AµliÿtiÚ
().
g‘EdgeM­
().
g‘
(
·œ
.
g‘SecÚd
());

175 if(!
	g­pEdgeToR©e
.
cÚšsKey
(
ouutEdge
è||‡µEdgeToR©e.
g‘
(ouutEdge)!=
ouutR©e
){

176 
Sy¡em
.
out
.
´šn
(
ouutEdge
.
g‘Sourû
()+"----->"+ouutEdge.
g‘De¡š©iÚ
()+" : "+
ouutR©e
);

177 
	gchªged
 = 
Œue
;

179 
	g­pEdgeToR©e
.
put
(
ouutEdge
, 
ouutR©e
);

186 
	gLi¡
<
	gSŒšg
> 
	gİ”©ÜsToPÏû
 = 
g‘ModuËsToPÏû
(
¶aûdO³¿tÜs
);

188 
	gİ”©ÜsToPÏû
.
size
() > 0){

189 
	gSy¡em
.
	gout
.
´šn
("BEGINNING OF LOOP : O³¿tÜ tØPÏû : "+
İ”©ÜsToPÏû
);

190 
SŒšg
 
	gİ”©ÜName
 = 
İ”©ÜsToPÏû
.
g‘
(0);

191 
	gtÙ®CpuLßd
 = 0;

192 
	gSy¡em
.
	gout
.
´šn
();

195 
	gup¡—mDeviûId
 = 
isPÏûdUp¡»am
(
İ”©ÜName
, 
·th
);

196 
	gSy¡em
.
	gout
.
´šn
(
İ”©ÜName
+" XXXXX Up¡»am Deviû : "+
CloudSim
.
g‘EÁ™yName
(
up¡—mDeviûId
));

197 if(
	gup¡—mDeviûId
 > 0){

198 
	gSy¡em
.
	gout
.
´šn
(
CloudSim
.
g‘EÁ™yName
(
deviûId
)+" : "+
g‘Cu¼’tModuËIn¡ªûNum
().
g‘
(
up¡—mDeviûId
).g‘(
İ”©ÜName
)+" modules of Operator "+operatorName+" is‡lready…laced on device "+CloudSim.getEntityName(upsteamDeviceId));

199 if(
	gup¡—mDeviûId
==
deviûId
){

200 
¶aûdO³¿tÜs
.
add
(
İ”©ÜName
);

201 
	gİ”©ÜsToPÏû
 = 
g‘ModuËsToPÏû
(
¶aûdO³¿tÜs
);

204 
AµEdge
 
	gedge
 : 
g‘AµliÿtiÚ
().
g‘Edges
()){

205 if(
edge
.
g‘De¡š©iÚ
().
equ®s
(
İ”©ÜName
)){

206 
¿‹
 = 
­pEdgeToR©e
.
g‘
(
edge
);

207 
	gtÙ®CpuLßd
 +ğ
¿‹
*
edge
.
g‘Tu¶eCpuL’gth
();

213 if(
	gtÙ®CpuLßd
 + 
g‘Cu¼’tCpuLßd
().
g‘
(
deviûId
è> 
	gdeviû
.
g‘Ho¡
().
g‘TÙ®Ms
()){

218 
	gSy¡em
.
	gout
.
´šn
("N“dØshiá moduË "+
İ”©ÜName
+" somewhere upstream.");

219 
	gSy¡em
.
	gout
.
´šn
("O³¿tÜ tØ¶aû = "+
İ”©ÜsToPÏû
);

220 
	gSy¡em
.
	gout
.
´šn
(
g‘Cu¼’tModuËIn¡ªûNum
());

221 
	gLi¡
<
	gSŒšg
> 
	g_¶aûdO³¿tÜs
 = 
shiáModuËNÜth
(
İ”©ÜName
, 
tÙ®CpuLßd
, 
deviûId
, 
İ”©ÜsToPÏû
);

222 
SŒšg
 
	g¶aûdO³¿tÜ
 : 
_¶aûdO³¿tÜs
){

223 if(!
¶aûdO³¿tÜs
.
cÚšs
(
¶aûdO³¿tÜ
))

224 
¶aûdO³¿tÜs
.
add
(
¶aûdO³¿tÜ
);

226 
	gSy¡em
.
	gout
.
´šn
("---------------------------------------------------");

227 
	gSy¡em
.
	gout
.
´šn
("O³¿tÜ tØ¶aû‡á” shiá = "+
İ”©ÜsToPÏû
);

228 
	gSy¡em
.
	gout
.
´šn
("In¡ªû m­‡á” shiášg = "+
g‘Cu¼’tModuËIn¡ªûNum
());

230 
	g¶aûdO³¿tÜs
.
add
(
İ”©ÜName
);

231 
g‘Cu¼’tCpuLßd
().
put
(
deviûId
, g‘Cu¼’tCpuLßd().
g‘
(deviûId)+
tÙ®CpuLßd
);

232 
g‘Cu¼’tModuËIn¡ªûNum
().
g‘
(
deviûId
).
put
(
İ”©ÜName
, getCurrentModuleInstanceNum().get(deviceId).get(operatorName)+1);

233 
	gSy¡em
.
	gout
.
´šn
("You cª„e¡ iÀ³aû. "+
İ”©ÜName
+" cª bü—‹d iÀ"+
deviû
.
g‘Name
());

237 
	gSy¡em
.
	gout
.
´šn
("+++++++++++++++++++++++++");

239 
AµEdge
 
	gedge
 : 
g‘AµliÿtiÚ
().
g‘Edges
()){

240 if(
edge
.
g‘De¡š©iÚ
().
equ®s
(
İ”©ÜName
)){

241 
Sy¡em
.
out
.
´šn
(
edge
.
g‘Tu¶eTy³
());

242 
	g¿‹
 = 
­pEdgeToR©e
.
g‘
(
edge
);

243 
	gtÙ®CpuLßd
 +ğ
¿‹
*
edge
.
g‘Tu¶eCpuL’gth
();

244 
	gSy¡em
.
	gout
.
´šn
("Tu¶ty³ = "+
edge
.
g‘Tu¶eTy³
());

245 
	gSy¡em
.
	gout
.
´šn
("R©ğ"+
¿‹
);

246 
	gSy¡em
.
	gout
.
´šn
("Cpu Lßd = "+
¿‹
*
edge
.
g‘Tu¶eCpuL’gth
());

249 
	gSy¡em
.
	gout
.
´šn
("TryšgØ¶aû moduË "+
İ”©ÜName
);

251 if(
	gtÙ®CpuLßd
 + 
g‘Cu¼’tCpuLßd
().
g‘
(
deviûId
è> 
	gdeviû
.
g‘Ho¡
().
g‘TÙ®Ms
()){

252 
	gSy¡em
.
	gout
.
´šn
("PÏûm’ˆoàİ”©Ü "+
İ”©ÜName
+ "NOT POSSIBLE oÀdeviû "+
deviû
.
g‘Name
());

253 
	gSy¡em
.
	gout
.
´šn
("CPU†ßd = "+
tÙ®CpuLßd
);

254 
	gSy¡em
.
	gout
.
´šn
("Cu¼’ˆCPU†ßd = "+
g‘Cu¼’tCpuLßd
().
g‘
(
deviûId
));

255 
	gSy¡em
.
	gout
.
´šn
("Max m ğ"+
deviû
.
g‘Ho¡
().
g‘TÙ®Ms
());

258 
	gSy¡em
.
	gout
.
´šn
("PÏûm’ˆoàİ”©Ü "+
İ”©ÜName
+ " oÀdeviû "+
deviû
.
g‘Name
());

259 
g‘Cu¼’tCpuLßd
().
put
(
deviûId
, 
tÙ®CpuLßd
 + g‘Cu¼’tCpuLßd().
g‘
(deviceId));

261 
	gSy¡em
.
	gout
.
´šn
("Upd©ed CPU†ßd = "+
g‘Cu¼’tCpuLßd
().
g‘
(
deviûId
));

262 if(!
	gcu¼’tModuËM­
.
cÚšsKey
(
deviûId
))

263 
	gcu¼’tModuËM­
.
put
(
deviûId
, 
Ãw
 
A¼ayLi¡
<
SŒšg
>());

264 
	gcu¼’tModuËM­
.
g‘
(
deviûId
).
add
(
İ”©ÜName
);

265 
	g¶aûdO³¿tÜs
.
add
(
İ”©ÜName
);

266 
	gİ”©ÜsToPÏû
 = 
g‘ModuËsToPÏû
(
¶aûdO³¿tÜs
);

267 
g‘Cu¼’tModuËLßdM­
().
g‘
(
deviû
.
g‘Id
()).
put
(
İ”©ÜName
, 
tÙ®CpuLßd
);

269 
	gmax
 = 1;

270 
AµEdge
 
	gedge
 : 
g‘AµliÿtiÚ
().
g‘Edges
()){

271 if(
edge
.
g‘Sourû
().
equ®s
(
İ”©ÜName
è&& 
aùu©ÜsAssocŸ‹d
.
cÚšsKey
Ódge.
g‘De¡š©iÚ
()))

272 
max
 = 
M©h
.max(
aùu©ÜsAssocŸ‹d
.
g‘
(
edge
.
g‘De¡š©iÚ
()), max);

273 if(
	gedge
.
g‘De¡š©iÚ
().
equ®s
(
İ”©ÜName
è&& 
	g£nsÜsAssocŸ‹d
.
cÚšsKey
(
edge
.
g‘Sourû
()))

274 
	gmax
 = 
M©h
.
max
(
£nsÜsAssocŸ‹d
.
g‘
(
edge
.
g‘Sourû
()), max);

276 
g‘Cu¼’tModuËIn¡ªûNum
().
g‘
(
deviûId
).
put
(
İ”©ÜName
, 
max
);

277 
	gSy¡em
.
	gout
.
´šn
("Numb” oàš¡ªû fÜ o³¿tÜ "+
İ”©ÜName
+" = "+
max
);

283 
	gİ”©ÜsToPÏû
.
»move
(
İ”©ÜName
);

296 
´iv©e
 
	gLi¡
<
	gSŒšg
> 
shiáModuËNÜth
(
SŒšg
 
moduËName
, 
ıuLßd
, 
IÁeg”
 
deviûId
, 
Li¡
<SŒšg> 
İ”©ÜsToPÏû
) {

299 
	gSy¡em
.
	gout
.
´šn
("------------------------------------------------");

300 
	gSy¡em
.
	gout
.
´šn
("Shiášg moduË "+
moduËName
 +"‚orthwards.");

302 
	gLi¡
<
	gSŒšg
> 
	gmoduËsToShiá
 = 
fšdModuËsToShiá
(
moduËName
, 
deviûId
);

304 
	gSy¡em
.
	gout
.
´šn
("ModuË tØshiá‚Üthw¬d : "+
moduËsToShiá
);

306 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	gmoduËToNumIn¡ªûs
 = 
Ãw
 
HashM­
<
SŒšg
, Integer>();

307 
	gtÙ®CpuLßd
 = 0;

308 
	gM­
<
	gSŒšg
, 
	gDoubË
> 
	glßdM­
 = 
Ãw
 
HashM­
<
SŒšg
, Double>();

309 
SŒšg
 
	gmoduË
 : 
moduËsToShiá
){

310 
lßdM­
.
put
(
moduË
, 
g‘Cu¼’tModuËLßdM­
().
g‘
(
deviûId
).get(module));

311 
	gmoduËToNumIn¡ªûs
.
put
(
moduË
, 
g‘Cu¼’tModuËIn¡ªûNum
().
g‘
(
deviûId
).get(module)+1);

312 
	gtÙ®CpuLßd
 +ğ
g‘Cu¼’tModuËLßdM­
().
g‘
(
deviûId
).g‘(
moduË
);

313 
g‘Cu¼’tModuËLßdM­
().
g‘
(
deviûId
).
»move
(
moduË
);

314 
g‘Cu¼’tModuËM­
().
g‘
(
deviûId
).
»move
(
moduË
);

315 
g‘Cu¼’tModuËIn¡ªûNum
().
g‘
(
deviûId
).
»move
(
moduË
);

319 
g‘Cu¼’tCpuLßd
().
put
(
deviûId
, g‘Cu¼’tCpuLßd().
g‘
(deviûId)-
tÙ®CpuLßd
);

320 
	glßdM­
.
put
(
moduËName
, 
lßdM­
.
g‘
(moduËName)+
ıuLßd
);

321 
	gtÙ®CpuLßd
 +ğ
ıuLßd
;

323 
	gSy¡em
.
	gout
.
´šn
("ModuË in¡ªû tØshiá‚Üthw¬d : "+
moduËToNumIn¡ªûs
);

325 
	gid
 = 
g‘P¬’tDeviû
(
deviûId
);

326 
	gŒue
){

327 if(
	gid
==-1){

328 
Sy¡em
.
out
.
´šn
("Could‚Ù…Ïû moduË "+
moduËsToShiá
+"‚orthwards.");

331 
	gSy¡em
.
	gout
.
´šn
("Now oÀdeviû "+
CloudSim
.
g‘EÁ™yName
(
id
));

332 
FogDeviû
 
	gfogDeviû
 = 
g‘FogDeviûById
(
id
);

333 if(
g‘Cu¼’tCpuLßd
().
g‘
(
id
è+ 
	gtÙ®CpuLßd
 > 
	gfogDeviû
.
g‘Ho¡
().
g‘TÙ®Ms
()){

335 
	gLi¡
<
	gSŒšg
> 
	g_moduËsToShiá
 = 
fšdModuËsToShiá
(
moduËsToShiá
, 
id
);

336 
	gıuLßdShiáed
 = 0;

337 
SŒšg
 
	gmoduË
 : 
_moduËsToShiá
){

338 if(!
moduËsToShiá
.
cÚšs
(
moduË
)){

339 
moduËToNumIn¡ªûs
.
put
(
moduË
, 
g‘Cu¼’tModuËIn¡ªûNum
().
g‘
(
id
).get(module)+moduleToNumInstances.get(module));

340 
	glßdM­
.
put
(
moduË
, 
g‘Cu¼’tModuËLßdM­
().
g‘
(
id
).get(module));

341 
	gıuLßdShiáed
 +ğ
g‘Cu¼’tModuËLßdM­
().
g‘
(
id
).g‘(
moduË
);

342 
	gtÙ®CpuLßd
 +ğ
g‘Cu¼’tModuËLßdM­
().
g‘
(
id
).g‘(
moduË
);

343 
g‘Cu¼’tModuËLßdM­
().
g‘
(
id
).
»move
(
moduË
);

344 
g‘Cu¼’tModuËM­
().
g‘
(
id
).
»move
(
moduË
);

345 
g‘Cu¼’tModuËIn¡ªûNum
().
g‘
(
id
).
»move
(
moduË
);

348 
g‘Cu¼’tCpuLßd
().
put
(
id
, g‘Cu¼’tCpuLßd().
g‘
(id)-
ıuLßdShiáed
);

350 
	gSy¡em
.
	gout
.
´šn
("CPU†ßd‡á” o³¿tÜ„emov® oÀdeviû "+
CloudSim
.
g‘EÁ™yName
(
id
)+" = "+
g‘Cu¼’tCpuLßd
().
g‘
(id));

351 
	gmoduËsToShiá
 = 
_moduËsToShiá
;

352 
	gid
 = 
g‘P¬’tDeviû
(
id
);

355 
	gSy¡em
.
	gout
.
´šn
("Cª…Ïû moduË "+
moduËsToShiá
+ "Ú deviû "+
CloudSim
.
g‘EÁ™yName
(
id
));

356 
	gtÙ®Lßd
 = 0;

357 
SŒšg
 
	gmoduË
 : 
lßdM­
.
keyS‘
()){

358 
tÙ®Lßd
 +ğ
lßdM­
.
g‘
(
moduË
);

359 
g‘Cu¼’tModuËLßdM­
().
g‘
(
id
).
put
(
moduË
, 
lßdM­
.get(module));

360 
g‘Cu¼’tModuËM­
().
g‘
(
id
).
add
(
moduË
);

361 
	gSy¡em
.
	gout
.
´šn
("Fš® moduËØnum in¡ªû : "+
moduËToNumIn¡ªûs
);

363 
SŒšg
 
	gmoduË_
 = 
moduË
;

364 
	gš™ŸlNumIn¡ªûs
 = 0;

365 if(
g‘Cu¼’tModuËIn¡ªûNum
().
g‘
(
id
).
cÚšsKey
(
moduË_
))

366 
	gš™ŸlNumIn¡ªûs
 = 
g‘Cu¼’tModuËIn¡ªûNum
().
g‘
(
id
).g‘(
moduË_
);

367 
	gfš®NumIn¡ªûs
 = 
š™ŸlNumIn¡ªûs
 + 
moduËToNumIn¡ªûs
.
g‘
(
moduË_
);

368 
	gSy¡em
.
	gout
.
´šn
("PÏcšg "+
fš®NumIn¡ªûs
+" oÀ"+
CloudSim
.
g‘EÁ™yName
(
id
));

369 
g‘Cu¼’tModuËIn¡ªûNum
().
g‘
(
id
).
put
(
moduË_
, 
fš®NumIn¡ªûs
);

372 
g‘Cu¼’tCpuLßd
().
put
(
id
, 
tÙ®Lßd
);

373 
	gSy¡em
.
	gout
.
´šn
("FINALLY…Ïûd "+
lßdM­
.
keyS‘
()+"‡ˆdeviû "+
CloudSim
.
g‘EÁ™yName
(
id
));

374 
	gİ”©ÜsToPÏû
.
»moveAÎ
(
lßdM­
.
keyS‘
());

375 
	gSy¡em
.
	gout
.
´šn
("CPU†ßd oÀdeviû "+
CloudSim
.
g‘EÁ™yName
(
id
)+" = "+
g‘Cu¼’tCpuLßd
().
g‘
(id));

376 
	gLi¡
<
	gSŒšg
> 
	g¶aûdO³¿tÜs
 = 
Ãw
 
A¼ayLi¡
<
SŒšg
>();

377 
SŒšg
 
	gİ
 : 
lßdM­
.
keyS‘
())
¶aûdO³¿tÜs
.
add
(
İ
);

378  
	g¶aûdO³¿tÜs
;

381  
Ãw
 
	gA¼ayLi¡
<
	gSŒšg
>();

385 
´iv©e
 
	gLi¡
<
	gSŒšg
> 
	$fšdModuËsToShiá
(
SŒšg
 
moduË
, 
IÁeg”
 
deviûId
) {

386 
Li¡
<
SŒšg
> 
up¡»amModuËs
 = 
Ãw
 
A¼ayLi¡
<String>();

387 
up¡»amModuËs
.
	`add
(
moduË
);

388 
boŞ—n
 
chªged
 = 
Œue
;

389 
chªged
){

390 
chªged
 = 
çl£
;

391 
AµEdge
 
edge
 : 
	`g‘AµliÿtiÚ
().
	`g‘Edges
()){

392 if(
up¡»amModuËs
.
	`cÚšs
(
edge
.
	`g‘Sourû
()è&&ƒdge.
	`g‘DœeùiÚ
()==
Tu¶e
.
UP
 && 
	`g‘Cu¼’tModuËM­
().
	`g‘
(
deviûId
).cÚšsÓdge.
	`g‘De¡š©iÚ
())

393 && !
up¡»amModuËs
.
	`cÚšs
(
edge
.
	`g‘De¡š©iÚ
())){

394 
up¡»amModuËs
.
	`add
(
edge
.
	`g‘De¡š©iÚ
());

395 
chªged
 = 
Œue
;

399  
up¡»amModuËs
;

401 
	}
}

403 
´iv©e
 
	gLi¡
<
	gSŒšg
> 
fšdModuËsToShiá
(
Li¡
<
SŒšg
> 
moduËs
, 
IÁeg”
 
deviûId
) {

404 
	gLi¡
<
	gSŒšg
> 
	gup¡»amModuËs
 = 
Ãw
 
A¼ayLi¡
<
SŒšg
>();

405 
	gup¡»amModuËs
.
addAÎ
(
moduËs
);

406 
boŞ—n
 
	gchªged
 = 
Œue
;

407 
	gchªged
){

408 
	gchªged
 = 
çl£
;

409 
AµEdge
 
	gedge
 : 
g‘AµliÿtiÚ
().
g‘Edges
()){

410 if(
up¡»amModuËs
.
cÚšs
(
edge
.
g‘Sourû
()è&&ƒdge.
g‘DœeùiÚ
()==
Tu¶e
.
UP
 && 
g‘Cu¼’tModuËM­
().
g‘
(
deviûId
).cÚšsÓdge.
g‘De¡š©iÚ
())

411 && !
up¡»amModuËs
.
cÚšs
(
edge
.
g‘De¡š©iÚ
())){

412 
up¡»amModuËs
.
add
(
edge
.
g‘De¡š©iÚ
());

413 
	gchªged
 = 
Œue
;

417  
	gup¡»amModuËs
;

421 
´iv©e
 
isPÏûdUp¡»am
(
SŒšg
 
İ”©ÜName
, 
Li¡
<
IÁeg”
> 
·th
) {

422 
	gSy¡em
.
	gout
.
´šn
(
·th
);

423 
IÁeg”
 
	gi
 : 
·th
)
Sy¡em
.
out
.
´šn
(
CloudSim
.
g‘EÁ™yName
(
i
));

424 
	gdeviûId
 : 
·th
){

425 if(
cu¼’tModuËM­
.
cÚšsKey
(
deviûId
è&& cu¼’tModuËM­.
g‘
(deviûId).
cÚšs
(
İ”©ÜName
))

426  
deviûId
;

431 
´iv©e
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘AssocŸ‹dS’sÜs
(
FogDeviû
 
deviû
) {

432 
M­
<
SŒšg
, 
IÁeg”
> 
’dpošts
 = 
Ãw
 
HashM­
<String, Integer>();

433 
S’sÜ
 
£nsÜ
 : 
	`g‘S’sÜs
()){

434 if(
£nsÜ
.
	`g‘G©ewayDeviûId
()==
deviû
.
	`g‘Id
()){

435 if(!
’dpošts
.
	`cÚšsKey
(
£nsÜ
.
	`g‘Tu¶eTy³
()))

436 
’dpošts
.
	`put
(
£nsÜ
.
	`g‘Tu¶eTy³
(), 0);

437 
’dpošts
.
	`put
(
£nsÜ
.
	`g‘Tu¶eTy³
(),ƒndpošts.
	`g‘
(sensor.getTupleType())+1);

440  
’dpošts
;

441 
	}
}

442 
´iv©e
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘AssocŸ‹dAùu©Üs
(
FogDeviû
 
deviû
) {

443 
M­
<
SŒšg
, 
IÁeg”
> 
’dpošts
 = 
Ãw
 
HashM­
<String, Integer>();

444 
Aùu©Ü
 
aùu©Ü
 : 
	`g‘Aùu©Üs
()){

445 if(
aùu©Ü
.
	`g‘G©ewayDeviûId
()==
deviû
.
	`g‘Id
()){

446 if(!
’dpošts
.
	`cÚšsKey
(
aùu©Ü
.
	`g‘Aùu©ÜTy³
()))

447 
’dpošts
.
	`put
(
aùu©Ü
.
	`g‘Aùu©ÜTy³
(), 0);

448 
’dpošts
.
	`put
(
aùu©Ü
.
	`g‘Aùu©ÜTy³
(),ƒndpošts.
	`g‘
(actuator.getActuatorType())+1);

451  
’dpošts
;

452 
	}
}

454 @
Suµ»ssW¬nšgs
("serial")

455 
´Ùeùed
 
	gLi¡
<Li¡<
	gIÁeg”
>> 
	$g‘P©hs
(
fš®
 
fogDeviûId
){

456 
FogDeviû
 
deviû
 = (FogDeviû)
CloudSim
.
	`g‘EÁ™y
(
fogDeviûId
);

457 if(
deviû
.
	`g‘Chd»nIds
().
	`size
() == 0){

458 
fš®
 
Li¡
<
IÁeg”
> 
·th
 = (
Ãw
 
A¼ayLi¡
<IÁeg”>(){{
	`add
(
fogDeviûId
);}});

459 
Li¡
<Li¡<
IÁeg”
>> 
·ths
 = (
Ãw
 
A¼ayLi¡
<Li¡<IÁeg”>>(){{
	`add
(
·th
);}});

460  
·ths
;

462 
Li¡
<Li¡<
IÁeg”
>> 
·ths
 = 
Ãw
 
A¼ayLi¡
<List<Integer>>();

463 
chdId
 : 
deviû
.
	`g‘Chd»nIds
()){

464 
Li¡
<Li¡<
IÁeg”
>> 
chdP©hs
 = 
	`g‘P©hs
(
chdId
);

465 
Li¡
<
IÁeg”
> 
chdP©h
 : 
chdP©hs
)

466 
chdP©h
.
	`add
(
fogDeviûId
);

467 
·ths
.
	`addAÎ
(
chdP©hs
);

469  
·ths
;

470 
	}
}

472 
´Ùeùed
 
	gLi¡
<Li¡<
	gIÁeg”
>> 
	$g‘L—fToRoÙP©hs
(){

473 
FogDeviû
 
şoud
=
nuÎ
;

474 
FogDeviû
 
deviû
 : 
	`g‘FogDeviûs
()){

475 if(
deviû
.
	`g‘Name
().
	`equ®s
("cloud"))

476 
şoud
 = 
deviû
;

478  
	`g‘P©hs
(
şoud
.
	`g‘Id
());

479 
	}
}

481 
public
 
ModuËM­pšg
 
	$g‘ModuËM­pšg
() {

482  
moduËM­pšg
;

483 
	}
}

485 
public
 
	$£tModuËM­pšg
(
ModuËM­pšg
 
moduËM­pšg
) {

486 
this
.
moduËM­pšg
 = moduleMapping;

487 
	}
}

489 
public
 
	gM­
<
	gIÁeg”
, 
	gLi¡
<
	gSŒšg
>> 
	$g‘Cu¼’tModuËM­
() {

490  
cu¼’tModuËM­
;

491 
	}
}

493 
public
 
£tCu¼’tModuËM­
(
M­
<
IÁeg”
, 
Li¡
<
SŒšg
>> 
cu¼’tModuËM­
) {

494 
	gthis
.
	gcu¼’tModuËM­
 = 
cu¼’tModuËM­
;

497 
public
 
	gLi¡
<
	gS’sÜ
> 
	$g‘S’sÜs
() {

498  
£nsÜs
;

499 
	}
}

501 
public
 
£tS’sÜs
(
Li¡
<
S’sÜ
> 
£nsÜs
) {

502 
	gthis
.
	g£nsÜs
 = 
£nsÜs
;

505 
public
 
	gLi¡
<
	gAùu©Ü
> 
	$g‘Aùu©Üs
() {

506  
aùu©Üs
;

507 
	}
}

509 
public
 
£tAùu©Üs
(
Li¡
<
Aùu©Ü
> 
aùu©Üs
) {

510 
	gthis
.
	gaùu©Üs
 = 
aùu©Üs
;

513 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘Cu¼’tCpuLßd
() {

514  
cu¼’tCpuLßd
;

515 
	}
}

517 
public
 
£tCu¼’tCpuLßd
(
M­
<
IÁeg”
, 
DoubË
> 
cu¼’tCpuLßd
) {

518 
	gthis
.
	gcu¼’tCpuLßd
ğ
cu¼’tCpuLßd
;

521 
public
 
	gM­
<
	gIÁeg”
, M­<
	gSŒšg
, 
	gDoubË
>> 
	$g‘Cu¼’tModuËLßdM­
() {

522  
cu¼’tModuËLßdM­
;

523 
	}
}

525 
public
 
£tCu¼’tModuËLßdM­
(

526 
M­
<
IÁeg”
, M­<
SŒšg
, 
DoubË
>> 
cu¼’tModuËLßdM­
) {

527 
	gthis
.
	gcu¼’tModuËLßdM­
 = 
cu¼’tModuËLßdM­
;

530 
public
 
	gM­
<
	gIÁeg”
, M­<
	gSŒšg
, IÁeg”>> 
	$g‘Cu¼’tModuËIn¡ªûNum
() {

531  
cu¼’tModuËIn¡ªûNum
;

532 
	}
}

534 
public
 
£tCu¼’tModuËIn¡ªûNum
(

535 
M­
<
IÁeg”
, M­<
SŒšg
, IÁeg”>> 
cu¼’tModuËIn¡ªûNum
) {

536 
	gthis
.
	gcu¼’tModuËIn¡ªûNum
 = 
cu¼’tModuËIn¡ªûNum
;

	@src/org/fog/placement/ModulePlacementMapping.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g¶aûm’t
;

3 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

4 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gjava
.
	gut
.
	gM­
;

7 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµModuË
;

8 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµliÿtiÚ
;

9 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

10 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

12 
public
 cÏs 
	cModuËPÏûm’tM­pšg
 
ex‹nds
 
	mModuËPÏûm’t
{

14 
´iv©e
 
ModuËM­pšg
 
	mmoduËM­pšg
;

15 
´Ùeùed
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mcu¼’tCpuLßd
;

16 @
Ov”ride


17 
´Ùeùed
 
	$m­ModuËs
() {

18 
M­
<
SŒšg
, M­<SŒšg, 
IÁeg”
>> 
m­pšg
 = 
moduËM­pšg
.
	`g‘ModuËM­pšg
();

20 
SŒšg
 
deviûName
 : 
m­pšg
.
	`keyS‘
()){

21 
FogDeviû
 
deviû
 = 
	`g‘DeviûByName
(
deviûName
);

22 
SŒšg
 
moduËName
 : 
m­pšg
.
	`g‘
(
deviûName
).
	`keyS‘
()){

23 
AµModuË
 
moduË
 = 
	`g‘AµliÿtiÚ
().
	`g‘ModuËByName
(
moduËName
);

24 if(
moduË
 =ğ
nuÎ
)

27 
numModuËs
=
m­pšg
.
	`g‘
(
deviûName
).g‘(
moduËName
).
	`štV®ue
();

28 
	`g‘Cu¼’tCpuLßd
().
	`put
(
deviû
.
	`g‘Id
(), g‘Cu¼’tCpuLßd().
	`g‘
(deviû.g‘Id())+(
moduË
.
	`g‘Ms
()*
numModuËs
));

29 
	`ü—‹ModuËIn¡ªûOnDeviû
(
moduË
, 
deviû
);

30 
	`g‘ModuËIn¡ªûCouÁM­
().
	`g‘
(
deviû
.
	`g‘Id
()).
	`put
(
moduËName
, 
m­pšg
.g‘(
deviûName
).get(moduleName));

34 
´Ùeùed
 
	$m­ModuËsMig¿‹
(
FogDeviû
 
£rv”CloudËt
) {

35 
M­
<
SŒšg
, M­<SŒšg, 
IÁeg”
>> 
m­pšg
 = 
moduËM­pšg
.
	`g‘ModuËM­pšg
();

38 
Sy¡em
.
out
.
	`´šn
("ModuËPÏûm’tM­pšg.java: "+
£rv”CloudËt
.
	`g‘Name
());

39 
Sy¡em
.
out
.
	`´šn
("m­pšg: "+
m­pšg
);

40 
SŒšg
 
moduËName
 : 
m­pšg
.
	`g‘
(
£rv”CloudËt
.
	`g‘Name
()).
	`keyS‘
()){

41 
AµModuË
 
moduË
 = 
	`g‘AµliÿtiÚ
().
	`g‘ModuËByName
(
moduËName
);

42 if(
moduË
 =ğ
nuÎ
)

44 
numModuËs
=
m­pšg
.
	`g‘
(
£rv”CloudËt
.
	`g‘Name
()).g‘(
moduËName
).
	`štV®ue
();

45 
	`g‘Cu¼’tCpuLßd
().
	`put
(
£rv”CloudËt
.
	`g‘Id
(), g‘Cu¼’tCpuLßd().
	`g‘
(£rv”CloudËt.g‘Id())+(
moduË
.
	`g‘Ms
()*
numModuËs
));

46 
	`ü—‹ModuËIn¡ªûOnDeviû
(
moduË
, 
£rv”CloudËt
);

47 
	`g‘ModuËIn¡ªûCouÁM­
().
	`g‘
(
£rv”CloudËt
.
	`g‘Id
()).
	`put
(
moduËName
, 
m­pšg
.g‘(£rv”CloudËt.
	`g‘Name
()).get(moduleName));

50 
	}
}

52 
public
 
ModuËPÏûm’tM­pšg
(
Li¡
<
FogDeviû
> 
fogDeviûs
, 
AµliÿtiÚ
 
­¶iÿtiÚ
,

53 
ModuËM­pšg
 
moduËM­pšg
, 
M­
<
IÁeg”
, 
DoubË
> 
glob®CPULßd
){

54 
	gthis
.
£tFogDeviûs
(
fogDeviûs
);

55 
	gthis
.
£tAµliÿtiÚ
(
­¶iÿtiÚ
);

56 
	gthis
.
£tModuËM­pšg
(
moduËM­pšg
);

57 
£tCu¼’tCpuLßd
(
glob®CPULßd
);

58 
	gthis
.
£tModuËToDeviûM­
(
Ãw
 
HashM­
<
SŒšg
, 
Li¡
<
IÁeg”
>>());

59 
	gthis
.
£tDeviûToModuËM­
(
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
AµModuË
>>());

60 
	gthis
.
£tModuËIn¡ªûCouÁM­
(
Ãw
 
HashM­
<
IÁeg”
, 
M­
<
SŒšg
, Integer>>());

61 
FogDeviû
 
	gdeviû
 : 
g‘FogDeviûs
())

62 
g‘ModuËIn¡ªûCouÁM­
().
put
(
deviû
.
g‘Id
(), 
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

63 
m­ModuËs
();

65 
public
 
ModuËPÏûm’tM­pšg
(
Li¡
<
FogDeviû
> 
fogDeviûs
, 
AµliÿtiÚ
 
­¶iÿtiÚ
,

66 
ModuËM­pšg
 
moduËM­pšg
, 
M­
<
IÁeg”
, 
DoubË
> 
glob®CPULßd
,
boŞ—n
 
mig¿tiÚ
){

67 
	gthis
.
£tFogDeviûs
(
fogDeviûs
);

68 
	gthis
.
£tAµliÿtiÚ
(
­¶iÿtiÚ
);

69 
	gthis
.
£tModuËM­pšg
(
moduËM­pšg
);

70 
£tCu¼’tCpuLßd
(
glob®CPULßd
);

71 
	gthis
.
£tModuËToDeviûM­
(
Ãw
 
HashM­
<
SŒšg
, 
Li¡
<
IÁeg”
>>());

72 
	gthis
.
£tDeviûToModuËM­
(
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
AµModuË
>>());

73 
	gthis
.
£tModuËIn¡ªûCouÁM­
(
Ãw
 
HashM­
<
IÁeg”
, 
M­
<
SŒšg
, Integer>>());

74 
FogDeviû
 
	gdeviû
 : 
g‘FogDeviûs
()){

75 if(
g‘ModuËIn¡ªûCouÁM­
().
put
(
deviû
.
g‘Id
(), 
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>())==
nuÎ
){

76 
Sy¡em
.
out
.
´šn
(
g‘ModuËIn¡ªûCouÁM­
()+" - "+
deviû
.
g‘Name
()); }

77 
m­ModuËsMig¿‹
(
deviû
);

82 
public
 
ModuËM­pšg
 
	$g‘ModuËM­pšg
() {

83  
moduËM­pšg
;

84 
	}
}

85 
public
 
	$£tModuËM­pšg
(
ModuËM­pšg
 
moduËM­pšg
) {

86 
this
.
moduËM­pšg
 = moduleMapping;

87 
	}
}

89 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘Cu¼’tCpuLßd
() {

90  
cu¼’tCpuLßd
;

91 
	}
}

93 
public
 
£tCu¼’tCpuLßd
(
M­
<
IÁeg”
, 
DoubË
> 
cu¼’tCpuLßd
) {

94 
	gthis
.
	gcu¼’tCpuLßd
 = 
cu¼’tCpuLßd
;

	@src/org/fog/placement/ModulePlacementOnlyCloud.java

1 
·ckage
 
	gÜg
.
	gfog
.
	g¶aûm’t
;

3 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

4 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gjava
.
	gut
.
	gM­
;

7 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

8 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµEdge
;

9 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµModuË
;

10 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµliÿtiÚ
;

11 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gAùu©Ü
;

12 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

13 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gS’sÜ
;

14 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gTu¶e
;

16 
public
 cÏs 
	cModuËPÏûm’tOÆyCloud
 
ex‹nds
 
	mModuËPÏûm’t
{

18 
´iv©e
 
	mLi¡
<
	mS’sÜ
> 
	m£nsÜs
;

19 
´iv©e
 
	mLi¡
<
	mAùu©Ü
> 
	maùu©Üs
;

20 
´iv©e
 
	mşoudId
;

22 
public
 
ModuËPÏûm’tOÆyCloud
(
Li¡
<
FogDeviû
> 
fogDeviûs
, Li¡<
S’sÜ
> 
£nsÜs
, Li¡<
Aùu©Ü
> 
aùu©Üs
, 
AµliÿtiÚ
 
­¶iÿtiÚ
){

23 
	mthis
.
£tFogDeviûs
(
fogDeviûs
);

24 
	mthis
.
£tAµliÿtiÚ
(
­¶iÿtiÚ
);

25 
	mthis
.
£tS’sÜs
(
£nsÜs
);

26 
	mthis
.
£tAùu©Üs
(
aùu©Üs
);

27 
	mthis
.
£tModuËToDeviûM­
(
Ãw
 
HashM­
<
SŒšg
, 
Li¡
<
IÁeg”
>>());

28 
	mthis
.
£tDeviûToModuËM­
(
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<
AµModuË
>>());

29 
	mthis
.
£tModuËIn¡ªûCouÁM­
(
Ãw
 
HashM­
<
IÁeg”
, 
M­
<
SŒšg
, Integer>>());

30 
	mthis
.
	mşoudId
 = 
CloudSim
.
g‘EÁ™yId
("cloud");

31 
m­ModuËs
();

32 
compu‹ModuËIn¡ªûCouÁs
();

35 
´iv©e
 
	$compu‹ModuËIn¡ªûCouÁs
(){

36 
FogDeviû
 
şoud
 = 
	`g‘DeviûById
(
CloudSim
.
	`g‘EÁ™yId
("cloud"));

37 
	`g‘ModuËIn¡ªûCouÁM­
().
	`put
(
şoud
.
	`g‘Id
(), 
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

39 
S’sÜ
 
£nsÜ
 : 
	`g‘S’sÜs
()){

40 
SŒšg
 
£nsÜTy³
 = 
£nsÜ
.
	`g‘S’sÜName
();

41 if(!
	`g‘ModuËIn¡ªûCouÁM­
().
	`g‘
(
şoud
.
	`g‘Id
()).
	`cÚšsKey
(
£nsÜTy³
))

42 
	`g‘ModuËIn¡ªûCouÁM­
().
	`g‘
(
şoud
.
	`g‘Id
()).
	`put
(
£nsÜTy³
, 0);

43 
	`g‘ModuËIn¡ªûCouÁM­
().
	`g‘
(
şoud
.
	`g‘Id
()).
	`put
(
£nsÜTy³
, getModuleInstanceCountMap().get(cloud.getId()).get(sensorType)+1);

46 
Aùu©Ü
 
aùu©Ü
 : 
	`g‘Aùu©Üs
()){

47 
SŒšg
 
aùu©ÜTy³
 = 
aùu©Ü
.
	`g‘Aùu©ÜTy³
();

48 if(!
	`g‘ModuËIn¡ªûCouÁM­
().
	`g‘
(
şoud
.
	`g‘Id
()).
	`cÚšsKey
(
aùu©ÜTy³
))

49 
	`g‘ModuËIn¡ªûCouÁM­
().
	`g‘
(
şoud
.
	`g‘Id
()).
	`put
(
aùu©ÜTy³
, 0);

50 
	`g‘ModuËIn¡ªûCouÁM­
().
	`g‘
(
şoud
.
	`g‘Id
()).
	`put
(
aùu©ÜTy³
, getModuleInstanceCountMap().get(cloud.getId()).get(actuatorType)+1);

53 !
	`isModuËIn¡ªûC®cuÏtiÚCom¶‘e
()){

54 
AµModuË
 
moduË
 : 
	`g‘AµliÿtiÚ
().
	`g‘ModuËs
()){

55 
maxIn¡ªûs
 = 0;

56 
AµEdge
 
edge
 : 
	`g‘AµliÿtiÚ
().
	`g‘Edges
()){

57 if(!
	`g‘ModuËIn¡ªûCouÁM­
().
	`g‘
(
şoudId
).
	`cÚšsKey
(
edge
.
	`g‘Sourû
()))

59 if(
edge
.
	`g‘De¡š©iÚ
().
	`equ®s
(
moduË
.
	`g‘Name
()è&&ƒdge.
	`g‘DœeùiÚ
()==
Tu¶e
.
UP
){

60 
maxIn¡ªûs
 = 
M©h
.
	`max
(maxIn¡ªûs, 
	`g‘ModuËIn¡ªûCouÁM­
().
	`g‘
(
şoudId
).g‘(
edge
.
	`g‘Sourû
()));

63 
	`g‘ModuËIn¡ªûCouÁM­
().
	`g‘
(
şoudId
).
	`put
(
moduË
.
	`g‘Name
(), 
maxIn¡ªûs
);

66 
Sy¡em
.
out
.
	`´šn
(
	`g‘ModuËIn¡ªûCouÁM­
());

67 
	}
}

69 
´iv©e
 
boŞ—n
 
	$isModuËIn¡ªûC®cuÏtiÚCom¶‘e
() {

70 
AµModuË
 
moduË
 : 
	`g‘AµliÿtiÚ
().
	`g‘ModuËs
()){

71 if(!
	`g‘ModuËIn¡ªûCouÁM­
().
	`g‘
(
şoudId
).
	`cÚšsKey
(
moduË
.
	`g‘Name
()))

72  
çl£
;

74  
Œue
;

75 
	}
}

77 @
Ov”ride


78 
´Ùeùed
 
	$m­ModuËs
() {

79 
Li¡
<
AµModuË
> 
moduËs
 = 
	`g‘AµliÿtiÚ
().
	`g‘ModuËs
();

80 
AµModuË
 
moduË
 : 
moduËs
){

81 
FogDeviû
 
şoud
 = 
	`g‘DeviûById
(
şoudId
);

82 
	`ü—‹ModuËIn¡ªûOnDeviû
(
moduË
, 
şoud
);

84 
	}
}

86 
public
 
	gLi¡
<
	gAùu©Ü
> 
	$g‘Aùu©Üs
() {

87  
aùu©Üs
;

88 
	}
}

90 
public
 
£tAùu©Üs
(
Li¡
<
Aùu©Ü
> 
aùu©Üs
) {

91 
	gthis
.
	gaùu©Üs
 = 
aùu©Üs
;

94 
public
 
	gLi¡
<
	gS’sÜ
> 
	$g‘S’sÜs
() {

95  
£nsÜs
;

96 
	}
}

98 
public
 
£tS’sÜs
(
Li¡
<
S’sÜ
> 
£nsÜs
) {

99 
	gthis
.
	g£nsÜs
 = 
£nsÜs
;

	@src/org/fog/policy/AppModuleAllocationPolicy.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gpŞicy
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gjava
.
	gut
.
	gM­
;

7 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

8 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

9 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicy
;

10 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµModuË
;

12 
public
 cÏs 
	cAµModuËAÎoÿtiÚPŞicy
 
ex‹nds
 
	mVmAÎoÿtiÚPŞicy
{

14 
´iv©e
 
Ho¡
 
	mfogHo¡
;

16 
´iv©e
 
	mLi¡
<
	mIÁeg”
> 
	m­pModuËIds
;

18 
public
 
AµModuËAÎoÿtiÚPŞicy
(
Li¡
<? 
ex‹nds
 
Ho¡
> 
li¡
) {

19 
su³r
(
li¡
);

20 if(
	mli¡
.
size
()==1)

21 
fogHo¡
 = 
li¡
.
g‘
(0);

22 
	m­pModuËIds
 = 
Ãw
 
A¼ayLi¡
<
IÁeg”
>();

25 @
Ov”ride


26 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

27 
Ho¡
 
ho¡
 = 
fogHo¡
;

28 
boŞ—n
 
»suÉ
 = 
ho¡
.
	`vmC»©e
(
vm
);

29 ià(
»suÉ
) {

30 
	`g‘AµModuËIdsIds
().
	`add
(
vm
.
	`g‘Id
());

33  
»suÉ
;

34 
	}
}

36 @
Ov”ride


37 
public
 
boŞ—n
 
	$®loÿ‹Ho¡FÜVm
(
Vm
 
vm
, 
Ho¡
 
ho¡
) {

38 
boŞ—n
 
»suÉ
 = 
ho¡
.
	`vmC»©e
(
vm
);

39 ià(
»suÉ
) {

40 
	`g‘AµModuËIdsIds
().
	`add
(
vm
.
	`g‘Id
());

43  
»suÉ
;

44 
	}
}

46 @
Ov”ride


47 
public
 
	gLi¡
<
	gM­
<
	gSŒšg
, 
	gObjeù
>> 
İtimizeAÎoÿtiÚ
(

48 
Li¡
<? 
ex‹nds
 
Vm
> 
vmLi¡
) {

50  
	gnuÎ
;

53 @
Ov”ride


54 
public
 
	$d—Îoÿ‹Ho¡FÜVm
(
Vm
 
vm
) {

55 ià(
fogHo¡
 !ğ
nuÎ
) {

56 
fogHo¡
.
	`vmDe¡roy
(
vm
);

58 
	}
}

60 @
Ov”ride


61 
public
 
Ho¡
 
	$g‘Ho¡
(
Vm
 
vm
) {

62  
fogHo¡
;

63 
	}
}

65 @
Ov”ride


66 
public
 
Ho¡
 
	$g‘Ho¡
(
vmId
, 
u£rId
) {

67  
fogHo¡
;

68 
	}
}

70 
public
 
Ho¡
 
	$g‘FogHo¡
() {

71  
fogHo¡
;

72 
	}
}

74 
public
 
	$£tFogHo¡
(
Ho¡
 
fogHo¡
) {

75 
this
.
fogHo¡
 = fogHost;

76 
	}
}

78 
public
 
	gLi¡
<
	gIÁeg”
> 
	$g‘AµModuËIdsIds
() {

79  
­pModuËIds
;

80 
	}
}

82 
public
 
£tAµModuËIds
(
Li¡
<
IÁeg”
> 
­pModuËIds
) {

83 
	gthis
.
	g­pModuËIds
 = 
­pModuËIds
;

	@src/org/fog/scheduler/StreamOperatorScheduler.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gscheduËr
;

3 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gM­
;

6 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

7 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmScheduËrTimeSh¬ed
;

8 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmScheduËrTimeSh¬edOv”SubsütiÚ
;

9 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gVmScheduËrTimeSh¬edOv”bookšgEÃrgy
;

11 
public
 cÏs 
	cSŒ—mO³¿tÜScheduËr
 
ex‹nds
 
	mVmScheduËrTimeSh¬edOv”bookšgEÃrgy
{

13 
public
 
SŒ—mO³¿tÜScheduËr
(
Li¡
<? 
ex‹nds
 
Pe
> 
³li¡
) {

14 
su³r
(
³li¡
);

	@src/org/fog/scheduler/TupleScheduler.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gscheduËr
;

3 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËrTimeSh¬ed
;

4 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gResCloudËt
;

6 
public
 cÏs 
	cTu¶eScheduËr
 
ex‹nds
 
	mCloudËtScheduËrTimeSh¬ed
{

8 
public
 
	$Tu¶eScheduËr
(
ms
, 
numb”OfPes
) {

10 
	`su³r
();

20 
public
 
	$g‘E¡im©edFšishTime
(
ResCloudËt
 
rş
, 
time
) {

27 
Sy¡em
.
out
.
	`´šn
("ALLOCATED MIPS FOR CLOUDLET = "+
	`g‘TÙ®Cu¼’tAÎoÿ‹dMsFÜCloudËt
(
rş
, 
time
));

28  
time


29 + ((
rş
.
	`g‘RemaššgCloudËtL’gth
()è/ 
	`g‘TÙ®Cu¼’tAÎoÿ‹dMsFÜCloudËt
Ôş, 
time
));

36 
	}
}

	@src/org/fog/utils/CanBeSentResult.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
public
 cÏs 
	cCªBeS’tResuÉ
 {

5 
´iv©e
 
	mıuLßd
;

6 
´iv©e
 
	mnwLßd
;

8 
´iv©e
 
boŞ—n
 
	mÿnBeS’t
;

10 
public
 
	$CªBeS’tResuÉ
(
ıuLßd
, 
nwLßd
, 
boŞ—n
 
ÿnBeS’t
){

11 
this
.
ıuLßd
 = cpuLoad;

12 
this
.
nwLßd
 =‚wLoad;

13 
this
.
ÿnBeS’t
 = canBeSent;

16 
public
 
	$CªBeS’tResuÉ
() {

18 
	}
}

20 
public
 
	$g‘CpuLßd
() {

21  
ıuLßd
;

22 
	}
}

24 
public
 
	$£tCpuLßd
(
ıuLßd
) {

25 
this
.
ıuLßd
 = cpuLoad;

26 
	}
}

28 
public
 
	$g‘NwLßd
() {

29  
nwLßd
;

30 
	}
}

32 
public
 
	$£tNwLßd
(
nwLßd
) {

33 
this
.
nwLßd
 =‚wLoad;

34 
	}
}

36 
public
 
boŞ—n
 
	$isCªBeS’t
() {

37  
ÿnBeS’t
;

38 
	}
}

40 
public
 
	$£tCªBeS’t
(
boŞ—n
 
ÿnBeS’t
) {

41 
this
.
ÿnBeS’t
 = canBeSent;

42 
	}
}

	@src/org/fog/utils/Config.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
public
 cÏs 
	cCÚfig
 {

5 
public
 
fš®
 
	mRESOURCE_MGMT_INTERVAL
 = 100;

6 
public
 
	mMAX_SIMULATION_TIME
 = 10000;

7 
public
 
	mRESOURCE_MANAGE_INTERVAL
 = 100;

8 
public
 
SŒšg
 
	mFOG_DEVICE_ARCH
 = "x86";

9 
public
 
SŒšg
 
	mFOG_DEVICE_OS
 = "Linux";

10 
public
 
SŒšg
 
	mFOG_DEVICE_VMM
 = "Xen";

11 
public
 
	mFOG_DEVICE_TIMEZONE
 = 10.0;

12 
public
 
	mFOG_DEVICE_COST
 = 3.0;

13 
public
 
	mFOG_DEVICE_COST_PER_MEMORY
 = 0.05;

14 
public
 
	mFOG_DEVICE_COST_PER_STORAGE
 = 0.001;

15 
public
 
	mFOG_DEVICE_COST_PER_BW
 = 0.0;

	@src/org/fog/utils/FogEntityFactory.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

5 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

7 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

8 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

9 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

10 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gPow”Ho¡
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
.
	gPow”Mod–Lš—r
;

12 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”Sim¶e
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gBwProvisiÚ”Ov”bookšg
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gPeProvisiÚ”Ov”bookšg
;

15 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

16 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviûCh¬aù”i¡ics
;

17 
impÜt
 
	gÜg
.
	gfog
.
	gpŞicy
.
	gAµModuËAÎoÿtiÚPŞicy
;

18 
impÜt
 
	gÜg
.
	gfog
.
	gscheduËr
.
	gSŒ—mO³¿tÜScheduËr
;

20 
public
 cÏs 
	cFogEÁ™yFaùÜy
 {

22 
public
 
FogDeviû
 
	$ü—‹FogDeviû
(
SŒšg
 
Çme
, 
ms
, 
u¶škBªdwidth
, 
dowÆškBªdwidth
, 
Ï‹ncy
, 
¿‹P”Ms
) {

24 
Li¡
<
Pe
> 
³Li¡
 = 
Ãw
 
A¼ayLi¡
<Pe>();

25 
³Li¡
.
	`add
(
Ãw
 
	`Pe
(0,‚ew 
	`PeProvisiÚ”Ov”bookšg
(
ms
)));

27 
ho¡Id
 = 
FogUts
.
	`g’”©eEÁ™yId
();

28 
¿m
 = 2048;

29 
¡Üage
 = 1000000;

30 
bw
 = 10000;

32 
Pow”Ho¡
 
ho¡
 = 
Ãw
 
	`Pow”Ho¡
(

33 
ho¡Id
,

34 
Ãw
 
	`RamProvisiÚ”Sim¶e
(
¿m
),

35 
Ãw
 
	`BwProvisiÚ”Ov”bookšg
(
bw
),

36 
¡Üage
,

37 
³Li¡
,

38 
Ãw
 
	`SŒ—mO³¿tÜScheduËr
(
³Li¡
),

39 
Ãw
 
	`Pow”Mod–Lš—r
(100, 40)

42 
Li¡
<
Ho¡
> 
ho¡Li¡
 = 
Ãw
 
A¼ayLi¡
<Host>();

43 
ho¡Li¡
.
	`add
(
ho¡
);

45 
SŒšg
 
¬ch
 = "x86";

46 
SŒšg
 
os
 = "Linux";

47 
SŒšg
 
vmm
 = "Xen";

48 
time_zÚe
 = 10.0;

49 
co¡
 = 3.0;

50 
co¡P”Mem
 = 0.05;

51 
co¡P”StÜage
 = 0.001;

53 
co¡P”Bw
 = 0.0;

54 
LškedLi¡
<
StÜage
> 
¡ÜageLi¡
 = 
Ãw
 LinkedList<Storage>();

57 
FogDeviûCh¬aù”i¡ics
 
ch¬aù”i¡ics
 = 
Ãw
 
	`FogDeviûCh¬aù”i¡ics
(

58 
¬ch
, 
os
, 
vmm
, 
ho¡
, 
time_zÚe
, 
co¡
, 
co¡P”Mem
,

59 
co¡P”StÜage
, 
co¡P”Bw
);

61 
FogDeviû
 
fogdeviû
 = 
nuÎ
;

62 
Œy
 {

63 
fogdeviû
 = 
Ãw
 
	`FogDeviû
(
Çme
, 
ch¬aù”i¡ics
,

64 
Ãw
 
	`AµModuËAÎoÿtiÚPŞicy
(
ho¡Li¡
), 
¡ÜageLi¡
, 10, 
u¶škBªdwidth
, 
dowÆškBªdwidth
, 
Ï‹ncy
, 
¿‹P”Ms
);

65 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

66 
e
.
	`´štSckT¿û
();

69  
fogdeviû
;

73 
	}
}

	@src/org/fog/utils/FogEvents.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
public
 cÏs 
	cFogEv’ts
 {

4 
´iv©e
 
fš®
 
	mBASE
 = 50;

5 
public
 
fš®
 
	mTUPLE_ARRIVAL
 = 
BASE
 + 1;

6 
public
 
fš®
 
	mLAUNCH_MODULE
 = 
BASE
 + 2;

7 
public
 
fš®
 
	mRELEASE_OPERATOR
 = 
BASE
 + 3;

8 
public
 
fš®
 
	mSENSOR_JOINED
 = 
BASE
 + 4;

9 
public
 
fš®
 
	mTUPLE_ACK
 = 
BASE
 + 5;

10 
public
 
fš®
 
	mAPP_SUBMIT
 = 
BASE
 + 6;

11 
public
 
fš®
 
	mCALCULATE_INPUT_RATE
 = 
BASE
 + 7;

12 
public
 
fš®
 
	mCALCULATE_UTIL
 = 
BASE
 + 8;

13 
public
 
fš®
 
	mUPDATE_RESOURCE_USAGE
 = 
BASE
 + 9;

15 
public
 
fš®
 
	mTUPLE_FINISHED
 = 
BASE
 + 11;

16 
public
 
fš®
 
	mACTIVE_APP_UPDATE
 = 
BASE
+12;

17 
public
 
fš®
 
	mCONTROLLER_RESOURCE_MANAGE
 = 
BASE
+13;

18 
public
 
fš®
 
	mADAPTIVE_OPERATOR_REPLACEMENT
 = 
BASE
+14;

19 
public
 
fš®
 
	mGET_RESOURCE_USAGE
 = 
BASE
+15;

20 
public
 
fš®
 
	mRESOURCE_USAGE
 = 
BASE
+16;

21 
public
 
fš®
 
	mCONTROL_MSG_ARRIVAL
 = 
BASE
 + 17;

22 
public
 
fš®
 
	mUPDATE_NORTH_TUPLE_QUEUE
 = 
BASE
+18;

23 
public
 
fš®
 
	mUPDATE_SOUTH_TUPLE_QUEUE
 = 
BASE
+19;

24 
public
 
fš®
 
	mACTUATOR_JOINED
 = 
BASE
+20;

25 
public
 
fš®
 
	mSTOP_SIMULATION
 = 
BASE
 + 21;

26 
public
 
fš®
 
	mSEND_PERIODIC_TUPLE
 = 
BASE
+22;

27 
public
 
fš®
 
	mLAUNCH_MODULE_INSTANCE
 = 
BASE
+23;

28 
public
 
fš®
 
	mRESOURCE_MGMT
 = 
BASE
+24;

29 
public
 
fš®
 
	mINITIALIZE_SENSOR
 = 
BASE
+24;

30 
public
 
fš®
 
	mEMIT_TUPLE
 = 
BASE
+25;

	@src/org/fog/utils/FogLinearPowerModel.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
.
	gPow”Mod–
;

21 
public
 cÏs 
	cFogLš—rPow”Mod–
 
im¶em’ts
 
	mPow”Mod–
 {

24 
´iv©e
 
	mmaxPow”
;

27 
´iv©e
 
	mcÚ¡ªt
;

30 
´iv©e
 
	m¡©icPow”
;

38 
public
 
	$FogLš—rPow”Mod–
(
maxPow”
, 
¡©icPow”
) {

39 
	`£tMaxPow”
(
maxPow”
);

40 
	`£tSticPow”
(
¡©icPow”
);

41 
	`£tCÚ¡ªt
((
maxPow”
 - 
	`g‘SticPow”
()) / 100);

44 @
Ov”ride


45 
public
 
SŒšg
 
	$toSŒšg
() {

46  
this
.
	`hashCode
()+" FogLš—rPow”Mod– [maxPow”=" + 
maxPow”
 + ", constant="

47 + 
cÚ¡ªt
 + ", sticPow”=" + 
¡©icPow”
 + "]";

48 
	}
}

54 @
Ov”ride


55 
public
 
	$g‘Pow”
(
utiz©iÚ
è
throws
 
IÎeg®Argum’tExû±iÚ
 {

57 ià(
utiz©iÚ
 < 0 || utilization > 1) {

58 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Utilization value must be between 0‡nd 1");

60  
	`g‘SticPow”
(è+ 
	`g‘CÚ¡ªt
(è* 
utiz©iÚ
 * 100;

61 
	}
}

68 
´Ùeùed
 
	$g‘MaxPow”
() {

69  
maxPow”
;

70 
	}
}

77 
´Ùeùed
 
	$£tMaxPow”
(
maxPow”
) {

78 
this
.
maxPow”
 = maxPower;

79 
	}
}

86 
´Ùeùed
 
	$g‘CÚ¡ªt
() {

87  
cÚ¡ªt
;

88 
	}
}

95 
´Ùeùed
 
	$£tCÚ¡ªt
(
cÚ¡ªt
) {

96 
this
.
cÚ¡ªt
 = constant;

97 
	}
}

104 
´Ùeùed
 
	$g‘SticPow”
() {

105  
¡©icPow”
;

106 
	}
}

113 
´Ùeùed
 
	$£tSticPow”
(
¡©icPow”
) {

114 
this
.
¡©icPow”
 = staticPower;

115 
	}
}

	@src/org/fog/utils/FogUtils.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

4 
impÜt
 
	gjava
.
	gut
.
	gM­
;

6 
public
 cÏs 
	cFogUts
 {

7 
´iv©e
 
	mTUPLE_ID
 = 1;

8 
´iv©e
 
	mENTITY_ID
 = 1;

9 
´iv©e
 
	mACTUAL_TUPLE_ID
 = 1;

11 
public
 
	$g’”©eTu¶eId
(){

12  
TUPLE_ID
++;

15 
public
 
SŒšg
 
	$g‘S’sÜTy³FromS’sÜName
(
SŒšg
 
£nsÜName
){

16  
£nsÜName
.
	`sub¡ršg
(£nsÜName.
	`šdexOf
('-')+1, s’sÜName.
	`Ï¡IndexOf
('-'));

17 
	}
}

19 
public
 
	$g’”©eEÁ™yId
(){

20  
ENTITY_ID
++;

21 
	}
}

23 
public
 
	$g’”©eAùu®Tu¶eId
(){

24  
ACTUAL_TUPLE_ID
++;

25 
	}
}

27 
public
 
	gUSER_ID
 = 1;

30 
public
 
	gMAX
 = 10000000;

32 
public
 
	gM­
<
	gSŒšg
, 
	gGeoCov”age
> 
	g­pIdToGeoCov”ageM­
 = 
Ãw
 
HashM­
<
SŒšg
, GeoCoverage>();

	@src/org/fog/utils/GeoCoverage.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
public
 cÏs 
	cGeoCov”age
 {

5 
´iv©e
 
	mÏt_l
;

6 
´iv©e
 
	mÏt_u
;

7 
´iv©e
 
	mlÚg_l
;

8 
´iv©e
 
	mlÚg_u
;

10 
public
 
	$GeoCov”age
(
Ït_l
, 
Ït_u
, 
lÚg_l
, 
lÚg_u
){

11 
this
.
Ït_l
 =†at_l;

12 
this
.
Ït_u
 =†at_u;

13 
this
.
lÚg_l
 =†ong_l;

14 
this
.
lÚg_u
 =†ong_u;

17 
public
 
boŞ—n
 
	$cov”s
(
GeoCov”age
 
geo
){

18 if(
this
.
Ït_l
 <ğ
geo
.Ït_È&&his.
Ït_u
 >ğgeo.Ït_u &&his.
lÚg_l
 <ğgeo.lÚg_È&&his.
lÚg_u
 >= geo.long_u)

19  
Œue
;

20  
çl£
;

21 
	}
}

23 
public
 
	$g‘L©_l
() {

24  
Ït_l
;

25 
	}
}

27 
public
 
	$£tL©_l
(
Ït_l
) {

28 
this
.
Ït_l
 =†at_l;

29 
	}
}

31 
public
 
	$g‘L©_u
() {

32  
Ït_u
;

33 
	}
}

35 
public
 
	$£tL©_u
(
Ït_u
) {

36 
this
.
Ït_u
 =†at_u;

37 
	}
}

39 
public
 
	$g‘LÚg_l
() {

40  
lÚg_l
;

41 
	}
}

43 
public
 
	$£tLÚg_l
(
lÚg_l
) {

44 
this
.
lÚg_l
 =†ong_l;

45 
	}
}

47 
public
 
	$g‘LÚg_u
() {

48  
lÚg_u
;

49 
	}
}

51 
public
 
	$£tLÚg_u
(
lÚg_u
) {

52 
this
.
lÚg_u
 =†ong_u;

53 
	}
}

	@src/org/fog/utils/GeoLocation.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
public
 cÏs 
	cGeoLoÿtiÚ
 {

5 
´iv©e
 
	mÏt™ude
;

6 
´iv©e
 
	mlÚg™ude
;

8 
public
 
	$GeoLoÿtiÚ
(
Ït™ude
, 
lÚg™ude
){

9 
this
.
Ït™ude
 =†atitude;

10 
this
.
lÚg™ude
 =†ongitude;

13 
public
 
	$g‘L©™ude
() {

14  
Ït™ude
;

15 
	}
}

16 
public
 
	$£tL©™ude
(
Ït™ude
) {

17 
this
.
Ït™ude
 =†atitude;

18 
	}
}

19 
public
 
	$g‘LÚg™ude
() {

20  
lÚg™ude
;

21 
	}
}

22 
public
 
	$£tLÚg™ude
(
lÚg™ude
) {

23 
this
.
lÚg™ude
 =†ongitude;

24 
	}
}

	@src/org/fog/utils/JsonToTopology.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

4 
impÜt
 
	gjava
.
	gio
.
	gFeR—d”
;

5 
impÜt
 
	gjava
.
	gm©h
.
	gBigDecim®
;

6 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

7 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

8 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

9 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

11 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

12 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gPow”Ho¡
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gmod–s
.
	gPow”Mod–Lš—r
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”Sim¶e
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gBwProvisiÚ”Ov”bookšg
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gPeProvisiÚ”Ov”bookšg
;

19 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gAùu©Ü
;

20 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

21 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviûCh¬aù”i¡ics
;

22 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gPhysiÿlTİŞogy
;

23 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gS’sÜ
;

24 
impÜt
 
	gÜg
.
	gfog
.
	gpŞicy
.
	gAµModuËAÎoÿtiÚPŞicy
;

25 
impÜt
 
	gÜg
.
	gfog
.
	gscheduËr
.
	gSŒ—mO³¿tÜScheduËr
;

26 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gD‘”mši¡icDi¡ributiÚ
;

27 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gDi¡ributiÚ
;

28 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gNÜm®Di¡ributiÚ
;

29 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gUnifÜmDi¡ributiÚ
;

30 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONA¼ay
;

31 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONObjeù
;

32 
impÜt
 
	gÜg
.
	gjsÚ
.
	gsim¶e
.
	gJSONV®ue
;

34 
public
 cÏs 
	cJsÚToTİŞogy
 {

36 
´iv©e
 
	mLi¡
<
	mFogDeviû
> 
	mfogDeviûs
 = 
Ãw
 
A¼ayLi¡
<
FogDeviû
>();

37 
´iv©e
 
	mLi¡
<
	mS’sÜ
> 
	m£nsÜs
 = 
Ãw
 
A¼ayLi¡
<
S’sÜ
>();

38 
´iv©e
 
	mLi¡
<
	mAùu©Ü
> 
	maùu©Üs
 = 
Ãw
 
A¼ayLi¡
<
Aùu©Ü
>();

40 
´iv©e
 
boŞ—n
 
	$isFogDeviû
(
SŒšg
 
Çme
){

41 
FogDeviû
 
fogDeviû
 : 
fogDeviûs
){

42 if(
fogDeviû
.
	`g‘Name
().
	`equ®sIgnÜeCa£
(
Çme
))

43  
Œue
;

45  
çl£
;

49 
´iv©e
 
FogDeviû
 
	$g‘FogDeviû
(
SŒšg
 
Çme
){

50 
FogDeviû
 
fogDeviû
 : 
fogDeviûs
){

51 if(
fogDeviû
.
	`g‘Name
().
	`equ®sIgnÜeCa£
(
Çme
))

52  
fogDeviû
;

54  
nuÎ
;

55 
	}
}

57 
´iv©e
 
boŞ—n
 
	$isAùu©Ü
(
SŒšg
 
Çme
){

58 
Aùu©Ü
 
aùu©Ü
 : 
aùu©Üs
){

59 if(
aùu©Ü
.
	`g‘Name
().
	`equ®sIgnÜeCa£
(
Çme
))

60  
Œue
;

62  
çl£
;

63 
	}
}

65 
´iv©e
 
Aùu©Ü
 
	$g‘Aùu©Ü
(
SŒšg
 
Çme
){

66 
Aùu©Ü
 
aùu©Ü
 : 
aùu©Üs
){

67 if(
aùu©Ü
.
	`g‘Name
().
	`equ®sIgnÜeCa£
(
Çme
))

68  
aùu©Ü
;

70  
nuÎ
;

71 
	}
}

73 
´iv©e
 
boŞ—n
 
	$isS’sÜ
(
SŒšg
 
Çme
){

74 
S’sÜ
 
£nsÜ
 : 
£nsÜs
){

75 if(
£nsÜ
.
	`g‘Name
().
	`equ®sIgnÜeCa£
(
Çme
))

76  
Œue
;

78  
çl£
;

79 
	}
}

81 
´iv©e
 
S’sÜ
 
	$g‘S’sÜ
(
SŒšg
 
Çme
){

82 
S’sÜ
 
£nsÜ
 : 
£nsÜs
){

83 if(
£nsÜ
.
	`g‘Name
().
	`equ®sIgnÜeCa£
(
Çme
))

84  
£nsÜ
;

86  
nuÎ
;

87 
	}
}

89 
public
 
PhysiÿlTİŞogy
 
	$g‘PhysiÿlTİŞogy
(
u£rId
, 
SŒšg
 
­pId
, SŒšg 
physiÿlTİŞogyFe
è
throws
 
Exû±iÚ
{

91 
fogDeviûs
 = 
Ãw
 
A¼ayLi¡
<
FogDeviû
>();

92 
£nsÜs
 = 
Ãw
 
A¼ayLi¡
<
S’sÜ
>();

93 
aùu©Üs
 = 
Ãw
 
A¼ayLi¡
<
Aùu©Ü
>();

96 
Œy
 {

97 
JSONObjeù
 
doc
 = (JSONObjeùè
JSONV®ue
.
	`·r£
(
Ãw
 
	`FeR—d”
(
physiÿlTİŞogyFe
));

98 
JSONA¼ay
 
nodes
 = (JSONA¼ayè
doc
.
	`g‘
("nodes");

99 @
	`Suµ»ssW¬nšgs
("unchecked")

100 
I‹¿tÜ
<
JSONObjeù
> 
™”
 =
nodes
.
	`™”©Ü
();

101 
™”
.
	`hasNext
()){

102 
JSONObjeù
 
node
 = 
™”
.
	`Ãxt
();

103 
SŒšg
 
nodeTy³
 = (SŒšgè
node
.
	`g‘
("type");

104 
SŒšg
 
nodeName
 = (SŒšgè
node
.
	`g‘
("name");

106 if(
nodeTy³
.
	`equ®sIgnÜeCa£
("FOG_DEVICE")){

107 
ms
 = (
LÚg
è
node
.
	`g‘
("mips");

108 
¿m
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("¿m")).
	`štV®ueExaù
();

109 
upBw
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("upBw")).
	`štV®ueExaù
();

110 
downBw
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("downBw")).
	`štV®ueExaù
();

111 
Ëv–
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("Ëv–")).
	`štV®ue
();

112 
¿‹P”Ms
 = 
Ãw
 
	`BigDecim®
((
DoubË
)
node
.
	`g‘
("¿‹P”Ms")).
	`doubËV®ue
();

114 
FogDeviû
 
fogDeviû
 = 
	`ü—‹FogDeviû
(
nodeName
, 
ms
, 
¿m
, 
upBw
, 
downBw
, 
Ëv–
, 
¿‹P”Ms
);

115 
fogDeviû
.
	`£tP¬’tId
(-1);

117 
fogDeviûs
.
	`add
(
fogDeviû
);

119 } if(
nodeTy³
.
	`equ®s
("SENSOR")){

120 
SŒšg
 
£nsÜTy³
 = 
node
.
	`g‘
("£nsÜTy³").
	`toSŒšg
();

121 
di¡Ty³
 = 
Ãw
 
	`BigDecim®
((
LÚg
)
node
.
	`g‘
("di¡ributiÚ")).
	`štV®ue
();

122 
Di¡ributiÚ
 
di¡ributiÚ
 = 
nuÎ
;

123 if(
di¡Ty³
 =ğ
Di¡ributiÚ
.
DETERMINISTIC
)

124 
di¡ributiÚ
 = 
Ãw
 
	`D‘”mši¡icDi¡ributiÚ
Òew 
	`BigDecim®
((
DoubË
)
node
.
	`g‘
("v®ue")).
	`doubËV®ue
());

125 if(
di¡Ty³
 =ğ
Di¡ributiÚ
.
NORMAL
){

126 
di¡ributiÚ
 = 
Ãw
 
	`NÜm®Di¡ributiÚ
Òew 
	`BigDecim®
((
DoubË
)
node
.
	`g‘
("m—n")).
	`doubËV®ue
(),

127 
Ãw
 
	`BigDecim®
((
DoubË
)
node
.
	`g‘
("¡dDev")).
	`doubËV®ue
());

128 } if(
di¡Ty³
 =ğ
Di¡ributiÚ
.
UNIFORM
){

129 
di¡ributiÚ
 = 
Ãw
 
	`UnifÜmDi¡ributiÚ
Òew 
	`BigDecim®
((
DoubË
)
node
.
	`g‘
("mš")).
	`doubËV®ue
(),

130 
Ãw
 
	`BigDecim®
((
DoubË
)
node
.
	`g‘
("max")).
	`doubËV®ue
());

132 
Sy¡em
.
out
.
	`´šn
("S’sÜy³ : "+
£nsÜTy³
);

133 
£nsÜs
.
	`add
(
Ãw
 
	`S’sÜ
(
nodeName
, 
£nsÜTy³
, 
u£rId
, 
­pId
, 
di¡ributiÚ
));

134 } if(
nodeTy³
.
	`equ®s
("ACTUATOR")){

135 
SŒšg
 
aùu©ÜTy³
 = 
node
.
	`g‘
("aùu©ÜTy³").
	`toSŒšg
();

136 
aùu©Üs
.
	`add
(
Ãw
 
	`Aùu©Ü
(
nodeName
, 
u£rId
, 
­pId
, 
aùu©ÜTy³
));

140 
JSONA¼ay
 
lšks
 = (JSONA¼ayè
doc
.
	`g‘
("links");

141 @
	`Suµ»ssW¬nšgs
("unchecked")

142 
I‹¿tÜ
<
JSONObjeù
> 
lšksI‹r
 =
lšks
.
	`™”©Ü
();

143 
lšksI‹r
.
	`hasNext
()){

144 
JSONObjeù
 
lšk
 = 
lšksI‹r
.
	`Ãxt
();

145 
SŒšg
 
¤c
 = (SŒšgè
lšk
.
	`g‘
("source");

146 
SŒšg
 
d¡
 = (SŒšgè
lšk
.
	`g‘
("destination");

147 
Ït
 = (
DoubË
è
lšk
.
	`g‘
("latency");

149 
	`cÚÃùEÁ™›s
(
¤c
, 
d¡
, 
Ït
);

151 } 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

152 
e
.
	`´štSckT¿û
();

154 
PhysiÿlTİŞogy
 
physiÿlTİŞogy
 = 
Ãw
 
	`PhysiÿlTİŞogy
();

155 
physiÿlTİŞogy
.
	`£tFogDeviûs
(
fogDeviûs
);

156 
physiÿlTİŞogy
.
	`£tAùu©Üs
(
aùu©Üs
);

157 
physiÿlTİŞogy
.
	`£tS’sÜs
(
£nsÜs
);

158  
physiÿlTİŞogy
;

159 
	}
}

160 
´iv©e
 
FogDeviû
 
	$ü—‹FogDeviû
(
SŒšg
 
nodeName
, 
ms
,

161 
¿m
, 
upBw
, 
downBw
, 
Ëv–
, 
¿‹P”Ms
) {

163 
Li¡
<
Pe
> 
³Li¡
 = 
Ãw
 
A¼ayLi¡
<Pe>();

166 
³Li¡
.
	`add
(
Ãw
 
	`Pe
(0,‚ew 
	`PeProvisiÚ”Ov”bookšg
(
ms
)));

168 
ho¡Id
 = 
FogUts
.
	`g’”©eEÁ™yId
();

169 
¡Üage
 = 1000000;

170 
bw
 = 10000;

172 
Pow”Ho¡
 
ho¡
 = 
Ãw
 
	`Pow”Ho¡
(

173 
ho¡Id
,

174 
Ãw
 
	`RamProvisiÚ”Sim¶e
(
¿m
),

175 
Ãw
 
	`BwProvisiÚ”Ov”bookšg
(
bw
),

176 
¡Üage
,

177 
³Li¡
,

178 
Ãw
 
	`SŒ—mO³¿tÜScheduËr
(
³Li¡
),

179 
Ãw
 
	`Pow”Mod–Lš—r
(107.339, 83.4333)

182 
Li¡
<
Ho¡
> 
ho¡Li¡
 = 
Ãw
 
A¼ayLi¡
<Host>();

183 
ho¡Li¡
.
	`add
(
ho¡
);

185 
SŒšg
 
¬ch
 = "x86";

186 
SŒšg
 
os
 = "Linux";

187 
SŒšg
 
vmm
 = "Xen";

188 
time_zÚe
 = 10.0;

189 
co¡
 = 3.0;

190 
co¡P”Mem
 = 0.05;

191 
co¡P”StÜage
 = 0.001;

193 
co¡P”Bw
 = 0.0;

194 
LškedLi¡
<
StÜage
> 
¡ÜageLi¡
 = 
Ãw
 LinkedList<Storage>();

197 
FogDeviûCh¬aù”i¡ics
 
ch¬aù”i¡ics
 = 
Ãw
 
	`FogDeviûCh¬aù”i¡ics
(

198 
¬ch
, 
os
, 
vmm
, 
ho¡
, 
time_zÚe
, 
co¡
, 
co¡P”Mem
,

199 
co¡P”StÜage
, 
co¡P”Bw
);

201 
FogDeviû
 
fogdeviû
 = 
nuÎ
;

202 
Œy
 {

203 
fogdeviû
 = 
Ãw
 
	`FogDeviû
(
nodeName
, 
ch¬aù”i¡ics
,

204 
Ãw
 
	`AµModuËAÎoÿtiÚPŞicy
(
ho¡Li¡
), 
¡ÜageLi¡
, 10, 
upBw
, 
downBw
, 0, 
¿‹P”Ms
);

205 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

206 
e
.
	`´štSckT¿û
();

209 
fogdeviû
.
	`£tLev–
(
Ëv–
);

210  
fogdeviû
;

211 
	}
}

213 
´iv©e
 
	$cÚÃùEÁ™›s
(
SŒšg
 
¤c
, SŒšg 
d¡
, 
Ït
) {

214 if(
	`isFogDeviû
(
¤c
è&& isFogDeviû(
d¡
)){

215 
FogDeviû
 
¤cDev
 = 
	`g‘FogDeviû
(
¤c
);

216 
FogDeviû
 
de¡Dev
 = 
	`g‘FogDeviû
(
d¡
);

217 
FogDeviû
 
south”nDev
 = (
¤cDev
.
	`g‘Lev–
(è> 
de¡Dev
.getLevel())?srcDev:destDev;

218 
FogDeviû
 
nÜth”nDev
 = (
¤cDev
.
	`g‘Lev–
(è> 
de¡Dev
.getLevel())?destDev:srcDev;

219 
south”nDev
.
	`£tU¶škL©’cy
(
Ït
);

220 
south”nDev
.
	`£tP¬’tId
(
nÜth”nDev
.
	`g‘Id
());

221 } if(
	`isFogDeviû
(
¤c
è&& 
	`isS’sÜ
(
d¡
)){

222 
FogDeviû
 
¤cDev
 = 
	`g‘FogDeviû
(
¤c
);

223 
S’sÜ
 
£nsÜ
 = 
	`g‘S’sÜ
(
d¡
);

224 
£nsÜ
.
	`£tL©’cy
(
Ït
);

225 
£nsÜ
.
	`£tG©ewayDeviûId
(
¤cDev
.
	`g‘Id
());

226 } if(
	`isS’sÜ
(
¤c
è&& 
	`isFogDeviû
(
d¡
)){

227 
FogDeviû
 
fogDeviû
 = 
	`g‘FogDeviû
(
d¡
);

228 
S’sÜ
 
£nsÜ
 = 
	`g‘S’sÜ
(
¤c
);

229 
£nsÜ
.
	`£tL©’cy
(
Ït
);

230 
£nsÜ
.
	`£tG©ewayDeviûId
(
fogDeviû
.
	`g‘Id
());

231 } if(
	`isFogDeviû
(
¤c
è&& 
	`isAùu©Ü
(
d¡
)){

232 
FogDeviû
 
fogDeviû
 = 
	`g‘FogDeviû
(
¤c
);

233 
Aùu©Ü
 
aùu©Ü
 = 
	`g‘Aùu©Ü
(
d¡
);

234 
aùu©Ü
.
	`£tL©’cy
(
Ït
);

235 
aùu©Ü
.
	`£tG©ewayDeviûId
(
fogDeviû
.
	`g‘Id
());

236 } if(
	`isAùu©Ü
(
¤c
è&& 
	`isFogDeviû
(
d¡
)){

237 
FogDeviû
 
fogDeviû
 = 
	`g‘FogDeviû
(
d¡
);

238 
Aùu©Ü
 
aùu©Ü
 = 
	`g‘Aùu©Ü
(
¤c
);

239 
aùu©Ü
.
	`£tL©’cy
(
Ït
);

240 
aùu©Ü
.
	`£tG©ewayDeviûId
(
fogDeviû
.
	`g‘Id
());

243 
	}
}

	@src/org/fog/utils/Logger.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©
;

5 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

7 
public
 cÏs 
	cLogg”
 {

9 
public
 
fš®
 
	mERROR
 = 1;

10 
public
 
fš®
 
	mDEBUG
 = 0;

12 
public
 
	mLOG_LEVEL
 = 
Logg”
.
DEBUG
;

13 
´iv©e
 
Decim®FÜm©
 
	mdf
 = 
Ãw
 DecimalFormat("#.00");

15 
public
 
boŞ—n
 
	mENABLED
 = 
çl£
;;

17 
public
 
	$£tLogLev–
(
Ëv–
){

18 
Logg”
.
LOG_LEVEL
 = 
Ëv–
;

21 
public
 
	$debug
(
SŒšg
 
Çme
, SŒšg 
mes§ge
){

22 if(!
ENABLED
)

24 if(
Logg”
.
LOG_LEVEL
 <ğLogg”.
DEBUG
)

25 
Sy¡em
.
out
.
	`´šn
(
df
.
	`fÜm©
(
CloudSim
.
	`şock
())+" : "+
Çme
+" : "+
mes§ge
);

26 
	}
}

27 
public
 
	$”rÜ
(
SŒšg
 
Çme
, SŒšg 
mes§ge
){

28 if(!
ENABLED
)

30 if(
Logg”
.
LOG_LEVEL
 <ğLogg”.
ERROR
)

31 
Sy¡em
.
out
.
	`´šn
(
df
.
	`fÜm©
(
CloudSim
.
	`şock
())+" : "+
Çme
+" : "+
mes§ge
);

32 
	}
}

	@src/org/fog/utils/ModuleLaunchConfig.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµModuË
;

5 
public
 cÏs 
	cModuËLaunchCÚfig
 {

7 
´iv©e
 
AµModuË
 
	mmoduË
;

8 
´iv©e
 
	mš¡ªûCouÁ
;

10 
public
 
	$ModuËLaunchCÚfig
(
AµModuË
 
moduË
, 
š¡ªûCouÁ
){

11 
	`£tModuË
(
moduË
);

12 
	`£tIn¡ªûCouÁ
(
š¡ªûCouÁ
);

15 
public
 
AµModuË
 
	$g‘ModuË
() {

16  
moduË
;

17 
	}
}

18 
public
 
	$£tModuË
(
AµModuË
 
moduË
) {

19 
this
.
moduË
 = module;

20 
	}
}

21 
public
 
	$g‘In¡ªûCouÁ
() {

22  
š¡ªûCouÁ
;

23 
	}
}

24 
public
 
	$£tIn¡ªûCouÁ
(
š¡ªûCouÁ
) {

25 
this
.
š¡ªûCouÁ
 = instanceCount;

26 
	}
}

	@src/org/fog/utils/NetworkUsageMonitor.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
public
 cÏs 
	cN‘wÜkU§geMÚ™Ü
 {

5 
´iv©e
 
	mÃtwÜkU§ge
 = 0.0;

7 
public
 
	$£ndšgTu¶e
(
Ï‹ncy
, 
tu¶eNwSize
){

8 
ÃtwÜkU§ge
 +ğ
Ï‹ncy
*
tu¶eNwSize
;

11 
public
 
	$g‘N‘wÜkU§ge
(){

12  
ÃtwÜkU§ge
;

13 
	}
}

	@src/org/fog/utils/OperatorEdge.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
public
 cÏs 
	cO³¿tÜEdge
 {

5 
´iv©e
 
SŒšg
 
	m¤c
;

6 
´iv©e
 
SŒšg
 
	md¡
;

7 
´iv©e
 
	m£Ëùiv™y
;

9 
public
 
	$O³¿tÜEdge
(
SŒšg
 
¤c
, SŒšg 
d¡
, 
£Ëùiv™y
){

10 
this
.
¤c
 = src;

11 
this
.
d¡
 = dst;

12 
this
.
£Ëùiv™y
 = selectivity;

15 
public
 
SŒšg
 
	$g‘Src
() {

16  
¤c
;

17 
	}
}

18 
public
 
	$£tSrc
(
SŒšg
 
¤c
) {

19 
this
.
¤c
 = src;

20 
	}
}

21 
public
 
SŒšg
 
	$g‘D¡
() {

22  
d¡
;

23 
	}
}

24 
public
 
	$£tD¡
(
SŒšg
 
d¡
) {

25 
this
.
d¡
 = dst;

26 
	}
}

27 
public
 
	$g‘S–eùiv™y
() {

28  
£Ëùiv™y
;

29 
	}
}

30 
public
 
	$£tS–eùiv™y
(
£Ëùiv™y
) {

31 
this
.
£Ëùiv™y
 = selectivity;

32 
	}
}

	@src/org/fog/utils/OperatorSetComparator.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
impÜt
 
	gjava
.
	gut
.
	gCom·¿tÜ
;

4 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

6 
public
 
şass
 
O³¿tÜS‘Com·¿tÜ
 
im¶em’ts
 
	gCom·¿tÜ
<
	gLi¡
<
	gSŒšg
>>{

8 @
Ov”ride


9 
public
 
com·»
(
Li¡
<
SŒšg
> 
¬g0
, Li¡<SŒšg> 
¬g1
) {

10  (
	g¬g1
.
size
(è- 
	g¬g0
.size());

	@src/org/fog/utils/ResourceUsageDetails.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
public
 cÏs 
	cResourûU§geD‘as
 {

5 
´iv©e
 
	mms
;

6 
´iv©e
 
	mu¶škBªdwidth
;

7 
´iv©e
 
	mıuT¿fficIÁ’s™y
;

8 
´iv©e
 
	mnwT¿fficIÁ’s™y
;

10 
public
 
	$ResourûU§geD‘as
(
ms
, 
u¶škBªdwidth
,

11 
ıuT¿fficIÁ’s™y
, 
nwT¿fficIÁ’s™y
) {

12 
	`su³r
();

13 
this
.
ms
 = mips;

14 
this
.
u¶škBªdwidth
 = uplinkBandwidth;

15 
this
.
ıuT¿fficIÁ’s™y
 = cpuTrafficIntensity;

16 
this
.
nwT¿fficIÁ’s™y
 =‚wTrafficIntensity;

18 
public
 
	$g‘Ms
() {

19  
ms
;

20 
	}
}

21 
public
 
	$£tMs
(
ms
) {

22 
this
.
ms
 = mips;

23 
	}
}

24 
public
 
	$g‘U¶škBªdwidth
() {

25  
u¶škBªdwidth
;

26 
	}
}

27 
public
 
	$£tU¶škBªdwidth
(
u¶škBªdwidth
) {

28 
this
.
u¶škBªdwidth
 = uplinkBandwidth;

29 
	}
}

30 
public
 
	$g‘CpuT¿fficIÁ’s™y
() {

31  
ıuT¿fficIÁ’s™y
;

32 
	}
}

33 
public
 
	$£tCpuT¿fficIÁ’s™y
(
ıuT¿fficIÁ’s™y
) {

34 
this
.
ıuT¿fficIÁ’s™y
 = cpuTrafficIntensity;

35 
	}
}

36 
public
 
	$g‘NwT¿fficIÁ’s™y
() {

37  
nwT¿fficIÁ’s™y
;

38 
	}
}

39 
public
 
	$£tNwT¿fficIÁ’s™y
(
nwT¿fficIÁ’s™y
) {

40 
this
.
nwT¿fficIÁ’s™y
 =‚wTrafficIntensity;

41 
	}
}

	@src/org/fog/utils/TimeKeeper.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

4 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gjava
.
	gut
.
	gM­
;

7 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

8 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gTu¶e
;

10 
public
 cÏs 
	cTimeK“³r
 {

12 
´iv©e
 
TimeK“³r
 
	mš¡ªû
;

14 
´iv©e
 
	msimuÏtiÚS¹Time
;

15 
´iv©e
 
	mcouÁ
;

16 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mem™Times
;

17 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	m’dTimes
;

18 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mLi¡
<IÁeg”>> 
	mloİIdToTu¶eIds
;

19 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mtu¶eIdToCpuS¹Time
;

20 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mDoubË
> 
	mtu¶eTy³ToAv”ageCpuTime
;

21 
´iv©e
 
	mM­
<
	mSŒšg
, 
	mIÁeg”
> 
	mtu¶eTy³ToExecu‹dTu¶eCouÁ
;

22 
´iv©e
 
	mM­
<
	mIÁeg”
,
	mDoubË
> 
	mmaxLoİExecutiÚTime
;

25 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mloİIdToCu¼’tAv”age
;

26 
´iv©e
 
	mM­
<
	mIÁeg”
, IÁeg”> 
	mloİIdToCu¼’tNum
;

28 
public
 
TimeK“³r
 
	$g‘In¡ªû
(){

29 if(
š¡ªû
 =ğ
nuÎ
)

30 
š¡ªû
 = 
Ãw
 
	`TimeK“³r
();

31  
š¡ªû
;

34 
public
 
	$g‘UniqueId
(){

35  
couÁ
++;

36 
	}
}

38 
public
 
	$tu¶eS¹edExecutiÚ
(
Tu¶e
 
tu¶e
){

39 
tu¶eIdToCpuS¹Time
.
	`put
(
tu¶e
.
	`g‘CloudËtId
(), 
CloudSim
.
	`şock
());

40 
	}
}

42 
public
 
	$tu¶eEndedExecutiÚ
(
Tu¶e
 
tu¶e
){

43 if(!
tu¶eIdToCpuS¹Time
.
	`cÚšsKey
(
tu¶e
.
	`g‘CloudËtId
()))

45 
executiÚTime
 = 
CloudSim
.
	`şock
(è- 
tu¶eIdToCpuS¹Time
.
	`g‘
(
tu¶e
.
	`g‘CloudËtId
());

47 if(!
tu¶eTy³ToAv”ageCpuTime
.
	`cÚšsKey
(
tu¶e
.
	`g‘Tu¶eTy³
())){

48 
tu¶eTy³ToAv”ageCpuTime
.
	`put
(
tu¶e
.
	`g‘Tu¶eTy³
(), 
executiÚTime
);

49 
tu¶eTy³ToExecu‹dTu¶eCouÁ
.
	`put
(
tu¶e
.
	`g‘Tu¶eTy³
(), 1);

51 
cu¼’tAv”age
 = 
tu¶eTy³ToAv”ageCpuTime
.
	`g‘
(
tu¶e
.
	`g‘Tu¶eTy³
());

52 
cu¼’tCouÁ
 = 
tu¶eTy³ToExecu‹dTu¶eCouÁ
.
	`g‘
(
tu¶e
.
	`g‘Tu¶eTy³
());

53 
tu¶eTy³ToAv”ageCpuTime
.
	`put
(
tu¶e
.
	`g‘Tu¶eTy³
(), (
cu¼’tAv”age
*
cu¼’tCouÁ
+
executiÚTime
)/(currentCount+1));

55 
	}
}

57 
public
 
	gM­
<
	gIÁeg”
, 
	gLi¡
<IÁeg”>> 
	$loİIdToTu¶eIds
(){

58  
	`g‘In¡ªû
().
	`g‘LoİIdToTu¶eIds
();

59 
	}
}

61 
´iv©e
 
	$TimeK“³r
(){

62 
couÁ
 = 1;

63 
	`£tEm™Times
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

64 
	`£tEndTimes
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

65 
	`£tLoİIdToTu¶eIds
(
Ãw
 
HashM­
<
IÁeg”
, 
Li¡
<Integer>>());

66 
	`£tTu¶eTy³ToAv”ageCpuTime
(
Ãw
 
HashM­
<
SŒšg
, 
DoubË
>());

67 
	`£tTu¶eTy³ToExecu‹dTu¶eCouÁ
(
Ãw
 
HashM­
<
SŒšg
, 
IÁeg”
>());

68 
	`£tTu¶eIdToCpuS¹Time
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

69 
	`£tLoİIdToCu¼’tAv”age
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

70 
	`£tLoİIdToCu¼’tNum
(
Ãw
 
HashM­
<
IÁeg”
, Integer>());

71 
	`£tMaxLoİExecutiÚTime
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

72 
	}
}

74 
public
 
	$g‘CouÁ
() {

75  
couÁ
;

76 
	}
}

78 
public
 
	$£tCouÁ
(
couÁ
) {

79 
this
.
couÁ
 = count;

80 
	}
}

82 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘Em™Times
() {

83  
em™Times
;

84 
	}
}

86 
public
 
£tEm™Times
(
M­
<
IÁeg”
, 
DoubË
> 
em™Times
) {

87 
	gthis
.
	gem™Times
 = 
em™Times
;

90 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘EndTimes
() {

91  
’dTimes
;

92 
	}
}

94 
public
 
£tEndTimes
(
M­
<
IÁeg”
, 
DoubË
> 
’dTimes
) {

95 
	gthis
.
	g’dTimes
 = 
’dTimes
;

98 
public
 
	gM­
<
	gIÁeg”
, 
	gLi¡
<IÁeg”>> 
	$g‘LoİIdToTu¶eIds
() {

99  
loİIdToTu¶eIds
;

100 
	}
}

102 
public
 
£tLoİIdToTu¶eIds
(
M­
<
IÁeg”
, 
Li¡
<IÁeg”>> 
loİIdToTu¶eIds
) {

103 
	gthis
.
	gloİIdToTu¶eIds
 = 
loİIdToTu¶eIds
;

106 
public
 
	gM­
<
	gSŒšg
, 
	gDoubË
> 
	$g‘Tu¶eTy³ToAv”ageCpuTime
() {

107  
tu¶eTy³ToAv”ageCpuTime
;

108 
	}
}

110 
public
 
£tTu¶eTy³ToAv”ageCpuTime
(

111 
M­
<
SŒšg
, 
DoubË
> 
tu¶eTy³ToAv”ageCpuTime
) {

112 
	gthis
.
	gtu¶eTy³ToAv”ageCpuTime
 = 
tu¶eTy³ToAv”ageCpuTime
;

115 
public
 
	gM­
<
	gSŒšg
, 
	gIÁeg”
> 
	$g‘Tu¶eTy³ToExecu‹dTu¶eCouÁ
() {

116  
tu¶eTy³ToExecu‹dTu¶eCouÁ
;

117 
	}
}

119 
public
 
£tTu¶eTy³ToExecu‹dTu¶eCouÁ
(

120 
M­
<
SŒšg
, 
IÁeg”
> 
tu¶eTy³ToExecu‹dTu¶eCouÁ
) {

121 
	gthis
.
	gtu¶eTy³ToExecu‹dTu¶eCouÁ
 = 
tu¶eTy³ToExecu‹dTu¶eCouÁ
;

124 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘Tu¶eIdToCpuS¹Time
() {

125  
tu¶eIdToCpuS¹Time
;

126 
	}
}

128 
public
 
£tTu¶eIdToCpuS¹Time
(
M­
<
IÁeg”
, 
DoubË
> 
tu¶eIdToCpuS¹Time
) {

129 
	gthis
.
	gtu¶eIdToCpuS¹Time
 = 
tu¶eIdToCpuS¹Time
;

132 
public
 
	$g‘SimuÏtiÚS¹Time
() {

133  
simuÏtiÚS¹Time
;

134 
	}
}

136 
public
 
	$£tSimuÏtiÚS¹Time
(
simuÏtiÚS¹Time
) {

137 
this
.
simuÏtiÚS¹Time
 = simulationStartTime;

138 
	}
}

140 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘LoİIdToCu¼’tAv”age
() {

141  
loİIdToCu¼’tAv”age
;

142 
	}
}

144 
public
 
£tLoİIdToCu¼’tAv”age
(
M­
<
IÁeg”
, 
DoubË
> 
loİIdToCu¼’tAv”age
) {

145 
	gthis
.
	gloİIdToCu¼’tAv”age
 = 
loİIdToCu¼’tAv”age
;

148 
public
 
	gM­
<
	gIÁeg”
, IÁeg”> 
	$g‘LoİIdToCu¼’tNum
() {

149  
loİIdToCu¼’tNum
;

150 
	}
}

152 
public
 
£tLoİIdToCu¼’tNum
(
M­
<
IÁeg”
, IÁeg”> 
loİIdToCu¼’tNum
) {

153 
	gthis
.
	gloİIdToCu¼’tNum
 = 
loİIdToCu¼’tNum
;

156 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘MaxLoİExecutiÚTime
() {

157  
maxLoİExecutiÚTime
;

158 
	}
}

160 
public
 
£tMaxLoİExecutiÚTime
(
M­
<
IÁeg”
, 
DoubË
> 
maxLoİExecutiÚTime
) {

161 
	gthis
.
	gmaxLoİExecutiÚTime
 = 
maxLoİExecutiÚTime
;

	@src/org/fog/utils/TupleFinishDetails.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
;

3 
public
 cÏs 
	cTu¶eFšishD‘as
 {

5 
´iv©e
 
SŒšg
 
	mqu”yId
;

6 
´iv©e
 
	maùu®Tu¶eId
;

7 
´iv©e
 
	mem™Time
;

8 
´iv©e
 
	mfšishTime
;

9 
´iv©e
 
SŒšg
 
	m£nsÜTy³
;

10 
public
 
	$Tu¶eFšishD‘as
(
SŒšg
 
qu”yId
, 
aùu®Tu¶eId
, 
em™Time
, 
fšishTime
, SŒšg 
£nsÜTy³
){

11 
this
.
qu”yId
 = queryId;

12 
this
.
aùu®Tu¶eId
 =‡ctualTupleId;

13 
this
.
em™Time
 =ƒmitTime;

14 
this
.
fšishTime
 = finishTime;

15 
this
.
£nsÜTy³
 = sensorType;

18 
public
 
SŒšg
 
	$g‘Qu”yId
() {

19  
qu”yId
;

20 
	}
}

21 
public
 
	$£tQu”yId
(
SŒšg
 
qu”yId
) {

22 
this
.
qu”yId
 = queryId;

23 
	}
}

24 
public
 
	$g‘Aùu®Tu¶eId
() {

25  
aùu®Tu¶eId
;

26 
	}
}

27 
public
 
	$£tAùu®Tu¶eId
(
aùu®Tu¶eId
) {

28 
this
.
aùu®Tu¶eId
 =‡ctualTupleId;

29 
	}
}

30 
public
 
	$g‘Em™Time
() {

31  
em™Time
;

32 
	}
}

33 
public
 
	$£tEm™Time
(
em™Time
) {

34 
this
.
em™Time
 =ƒmitTime;

35 
	}
}

36 
public
 
	$g‘FšishTime
() {

37  
fšishTime
;

38 
	}
}

39 
public
 
	$£tFšishTime
(
fšishTime
) {

40 
this
.
fšishTime
 = finishTime;

41 
	}
}

43 
public
 
SŒšg
 
	$g‘S’sÜTy³
() {

44  
£nsÜTy³
;

45 
	}
}

47 
public
 
	$£tS’sÜTy³
(
SŒšg
 
£nsÜTy³
) {

48 
this
.
£nsÜTy³
 = sensorType;

49 
	}
}

	@src/org/fog/utils/distribution/DeterministicDistribution.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
;

3 
public
 cÏs 
	cD‘”mši¡icDi¡ributiÚ
 
ex‹nds
 
	mDi¡ributiÚ
{

5 
´iv©e
 
	mv®ue
;

7 
public
 
	$D‘”mši¡icDi¡ributiÚ
(
v®ue
) {

8 
	`su³r
();

9 
	`£tV®ue
(
v®ue
);

12 @
Ov”ride


13 
public
 
	$g‘NextV®ue
() {

14  
v®ue
;

15 
	}
}

17 
public
 
	$g‘V®ue
() {

18  
v®ue
;

19 
	}
}

21 
public
 
	$£tV®ue
(
v®ue
) {

22 
this
.
v®ue
 = value;

23 
	}
}

25 @
Ov”ride


26 
public
 
	$g‘Di¡ributiÚTy³
() {

27  
Di¡ributiÚ
.
DETERMINISTIC
;

28 
	}
}

30 @
Ov”ride


31 
public
 
	$g‘M—nIÁ”T¿nsm™Time
() {

32  
v®ue
;

33 
	}
}

	@src/org/fog/utils/distribution/Distribution.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
;

3 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

5 
public
 
ab¡¿ù
 cÏs 
	cDi¡ributiÚ
 {

7 
public
 
	mNORMAL
 = 1;

8 
public
 
	mDETERMINISTIC
 = 2;

9 
public
 
	mUNIFORM
 = 3;

11 
´Ùeùed
 
Rªdom
 
	m¿ndom
;

12 
public
 
ab¡¿ù
 
g‘NextV®ue
();

14 
public
 
Rªdom
 
	$g‘Rªdom
() {

15  
¿ndom
;

18 
public
 
	$£tRªdom
(
Rªdom
 
¿ndom
) {

19 
this
.
¿ndom
 =„andom;

20 
	}
}

22 
public
 
ab¡¿ù
 
g‘Di¡ributiÚTy³
();

23 
public
 
ab¡¿ù
 
g‘M—nIÁ”T¿nsm™Time
();

	@src/org/fog/utils/distribution/NormalDistribution.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
;

3 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

5 
public
 cÏs 
	cNÜm®Di¡ributiÚ
 
ex‹nds
 
	mDi¡ributiÚ
{

7 
´iv©e
 
	mm—n
;

8 
´iv©e
 
	m¡dDev
;

10 
public
 
	$NÜm®Di¡ributiÚ
(
m—n
, 
¡dDev
) {

11 
	`£tM—n
(
m—n
);

12 
	`£tStdDev
(
¡dDev
);

13 
	`£tRªdom
(
Ãw
 
	`Rªdom
());

16 @
Ov”ride


17 
public
 
	$g‘NextV®ue
() {

18  
¿ndom
.
	`ÃxtGaussŸn
()*
¡dDev
 + 
m—n
;

19 
	}
}

21 
public
 
	$g‘M—n
() {

22  
m—n
;

23 
	}
}

25 
public
 
	$£tM—n
(
m—n
) {

26 
this
.
m—n
 = mean;

27 
	}
}

29 
public
 
	$g‘StdDev
() {

30  
¡dDev
;

31 
	}
}

33 
public
 
	$£tStdDev
(
¡dDev
) {

34 
this
.
¡dDev
 = stdDev;

35 
	}
}

37 @
Ov”ride


38 
public
 
	$g‘Di¡ributiÚTy³
() {

39  
Di¡ributiÚ
.
NORMAL
;

40 
	}
}

42 @
Ov”ride


43 
public
 
	$g‘M—nIÁ”T¿nsm™Time
() {

44  
m—n
;

45 
	}
}

	@src/org/fog/utils/distribution/UniformDistribution.java

1 
·ckage
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
;

3 
public
 cÏs 
	cUnifÜmDi¡ributiÚ
 
ex‹nds
 
	mDi¡ributiÚ
{

5 
´iv©e
 
	mmš
;

6 
´iv©e
 
	mmax
;

8 
public
 
	$UnifÜmDi¡ributiÚ
(
mš
, 
max
){

9 
	`su³r
();

10 
	`£tMš
(
mš
);

11 
	`£tMax
(
max
);

14 @
Ov”ride


15 
public
 
	$g‘NextV®ue
() {

16  
	`g‘Rªdom
().
	`ÃxtDoubË
()*(
	`g‘Max
()-
	`g‘Mš
())+getMin();

17 
	}
}

19 
public
 
	$g‘Mš
() {

20  
mš
;

21 
	}
}

23 
public
 
	$£tMš
(
mš
) {

24 
this
.
mš
 = min;

25 
	}
}

27 
public
 
	$g‘Max
() {

28  
max
;

29 
	}
}

31 
public
 
	$£tMax
(
max
) {

32 
this
.
max
 = max;

33 
	}
}

35 @
Ov”ride


36 
public
 
	$g‘Di¡ributiÚTy³
() {

37  
Di¡ributiÚ
.
UNIFORM
;

38 
	}
}

40 @
Ov”ride


41 
public
 
	$g‘M—nIÁ”T¿nsm™Time
() {

42  (
mš
+
max
)/2;

43 
	}
}

	@src/org/fog/vmmigration/AfterMigration.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

5 
public
 
š‹rçû
 
	gAá”Mig¿tiÚ
 {

7 
public
 
şo£CÚÃùiÚ
(
FogDeviû
 
sourûS”v”CloudËt
, FogDeviû 
de¡š©iÚS”v”CloudËt
);

	@src/org/fog/vmmigration/BeforeMigration.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

4 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

6 
public
 
š‹rçû
 
	gBefÜeMig¿tiÚ
 {

7 
public
 
d©­»·»
(
MobeDeviû
 
sm¬tThšg
);

8 
public
 
boŞ—n
 
İ’CÚÃùiÚ
(
FogDeviû
 
sourûS”v”CloudËt
, FogDeviû 
de¡š©iÚS”v”CloudËt
);

9 
public
 
boŞ—n
 
ŒyO³nCÚÃùiÚ
();

	@src/org/fog/vmmigration/BeforeMigration_OLD.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

4 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEÁ™y
;

5 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gSimEv’t
;

6 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

7 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

8 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMobeEv’ts
;

9 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gPŞic›s
;

11 
public
 cÏs 
	cBefÜeMig¿tiÚ_OLD
 {

	@src/org/fog/vmmigration/CompleteVM.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gN‘wÜkTİŞogy
;

4 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

5 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDi¡ªûs
;

6 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gDœeùiÚs
;

7 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMaxAndMš
;

8 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gPŞic›s
;

11 
public
 cÏs 
	cCom¶‘eVM
 
im¶em’ts
 
	mVmMig¿tiÚTechnique
 {

13 
´iv©e
 
	mmigPoštPŞicy
;

15 
public
 
	$Com¶‘eVM
(
migPoštPŞicy
){

16 
	`su³r
();

17 
	`£tMigPoštPŞicy
(
migPoštPŞicy
);

19 @
Ov”ride


20 
public
 
	$v”ifyPošts
(
MobeDeviû
 
sm¬tThšg
, 
»ÏtivePos™iÚ
) {

23 
sm¬tThšg
.
	`£tMigPošt
(
	`migPoštPŞicyFunùiÚ
(
	`g‘MigPoštPŞicy
()

24 ,
sm¬tThšg
));

25 
sm¬tThšg
.
	`£tMigZÚe
(
	`mig¿tiÚZÚeFunùiÚ
(sm¬tThšg.
	`g‘DœeùiÚ
(), 
»ÏtivePos™iÚ
));

26 
	}
}

27 @
Ov”ride


28 
public
 
	$mig¿tiÚTimeFunùiÚ
(
vmSize
, 
bªdwidth
 ){

29 
time
 = (()(
vmSize
*8*1024*1024)/
bªdwidth
)*1000.0;

30  
time
;

31 
	}
}

32 @
Ov”ride


33 
public
 
boŞ—n
 
	$migPoštPŞicyFunùiÚ
(
pŞicy
, 
MobeDeviû
 
sm¬tThšg
){

35 
di¡ªû
 = 
Di¡ªûs
.
	`checkDi¡ªû
(
sm¬tThšg
.
	`g‘SourûAp
().
	`g‘CoÜd
(), smartThing.getCoord());

36 
bªdwidth
=
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘U¶škBªdwidth
();

38 
sm¬tThšg
.
	`£tMigTime
(
	`mig¿tiÚTimeFunùiÚ
(sm¬tThšg.
	`g‘VmMobeDeviû
().
	`g‘Size
()

39 , 
bªdwidth
)

40 + 
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘U¶škL©’cy
()

41 + 
N‘wÜkTİŞogy
.
	`g‘D–ay
(
sm¬tThšg
.
	`g‘Id
(), sm¬tThšg.
	`g‘VmLoÿlS”v”CloudËt
().getId())

42 + 
L©’cyByDi¡ªû
.
	`Ï‹ncyCÚÃùiÚ
(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
(), smartThing));

45 if(
pŞicy
 =ğ
PŞic›s
.
FIXED_MIGRATION_POINT
){

46  
	`mig¿tiÚPoštFunùiÚ
(
di¡ªû
);

49  
	`mig¿tiÚPoštFunùiÚ
(
di¡ªû
, 
sm¬tThšg
.
	`g‘MigTime
(), sm¬tThšg.
	`g‘S³ed
());

51 
	}
}

52 @
Ov”ride


53 
public
 
boŞ—n
 
	$mig¿tiÚPoštFunùiÚ
(
di¡ªû
, 
migTime
, 
¥“d
){

54 
ÃwDi¡ªû
 = (è(
migTime
/1000.0)*
¥“d
;

55 
ÃwDi¡ªû
 +ğ
MaxAndMš
.
MAX_DISTANCE_TO_HANDOFF
/2.0;

56 if((
di¡ªû
>=
MaxAndMš
.
MAX_DISTANCE
 - 
ÃwDi¡ªû
||di¡ªû >ğMaxAndMš.MAX_DISTANCE - MaxAndMš.
MAX_DISTANCE_TO_HANDOFF
) &&

57 
di¡ªû
 < 
MaxAndMš
.
MAX_DISTANCE
)

58  
Œue
;

60  
çl£
;

61 
	}
}

62 @
Ov”ride


63 
public
 
boŞ—n
 
	$mig¿tiÚPoštFunùiÚ
(
di¡ªû
){

64 ià(
di¡ªû
 >ğ
MaxAndMš
.
MAX_DISTANCE
 - MaxAndMš.
MIG_POINT
 &&

65 
di¡ªû
 < 
MaxAndMš
.
MAX_DISTANCE
)

66  
Œue
;

68  
çl£
;

69 
	}
}

70 @
Ov”ride


71 
public
 
boŞ—n
 
	$mig¿tiÚZÚeFunùiÚ
(
sm¬tThšgDœeùiÚ
, 
zÚeDœeùiÚ
){

72 
aju¡1
, 
aju¡2
;

74 if(
sm¬tThšgDœeùiÚ
==
DœeùiÚs
.
EAST
){

75 
aju¡1
=
DœeùiÚs
.
SOUTHEAST
;

76 
aju¡2
=
DœeùiÚs
.
EAST
+1;

78 if(
sm¬tThšgDœeùiÚ
==
DœeùiÚs
.
SOUTHEAST
){

79 
aju¡1
=
DœeùiÚs
.
SOUTHEAST
-1;

80 
aju¡2
=
DœeùiÚs
.
EAST
;

83 
aju¡1
=
sm¬tThšgDœeùiÚ
-1;

84 
aju¡2
=
sm¬tThšgDœeùiÚ
+1;

87 if(
zÚeDœeùiÚ
 =ğ
sm¬tThšgDœeùiÚ
 ||

88 
zÚeDœeùiÚ
==
aju¡1
 ||

89 
zÚeDœeùiÚ
 =ğ
aju¡2
)

90  
Œue
;

92  
çl£
;

93 
	}
}

96 
public
 
	$g‘MigPoštPŞicy
() {

97  
migPoštPŞicy
;

98 
	}
}

100 
public
 
	$£tMigPoštPŞicy
(
migPoštPŞicy
) {

101 
this
.
migPoštPŞicy
 = migPointPolicy;

102 
	}
}

	@src/org/fog/vmmigration/ContainerVM.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gN‘wÜkTİŞogy
;

4 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

5 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDi¡ªûs
;

6 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gDœeùiÚs
;

7 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMaxAndMš
;

8 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gPŞic›s
;

10 
public
 cÏs 
	cCÚš”VM
 
im¶em’ts
 
	mVmMig¿tiÚTechnique
 {

11 
´iv©e
 
	mmigPoštPŞicy
;

13 
public
 
	$CÚš”VM
(
migPoštPŞicy
){

14 
	`su³r
();

15 
	`£tMigPoštPŞicy
(
migPoštPŞicy
);

18 @
Ov”ride


19 
public
 
	$v”ifyPošts
(
MobeDeviû
 
sm¬tThšg
, 
»ÏtivePos™iÚ
) {

22 
sm¬tThšg
.
	`£tMigPošt
(
	`migPoštPŞicyFunùiÚ
(
	`g‘MigPoštPŞicy
()

23 ,
sm¬tThšg
));

24 
sm¬tThšg
.
	`£tMigZÚe
(
	`mig¿tiÚZÚeFunùiÚ
(sm¬tThšg.
	`g‘DœeùiÚ
(), 
»ÏtivePos™iÚ
));

25 
	}
}

27 @
Ov”ride


28 
public
 
	$mig¿tiÚTimeFunùiÚ
(
vmSize
, 
bªdwidth
) {

29 
time
 = (()((
vmSize
*8*1024*1024)*
MaxAndMš
.
SIZE_CONTAINER
)/
bªdwidth
)*1000.0;

30  
time
;

31 
	}
}

33 @
Ov”ride


34 
public
 
boŞ—n
 
	$migPoštPŞicyFunùiÚ
(
pŞicy
, 
MobeDeviû
 
sm¬tThšg
) {

35 
di¡ªû
 = 
Di¡ªûs
.
	`checkDi¡ªû
(
sm¬tThšg
.
	`g‘SourûAp
().
	`g‘CoÜd
(), smartThing.getCoord());

36 
bªdwidth
=
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘U¶škBªdwidth
();

38 
sm¬tThšg
.
	`£tMigTime
(
	`mig¿tiÚTimeFunùiÚ
(sm¬tThšg.
	`g‘VmMobeDeviû
().
	`g‘Size
()

39 , 
bªdwidth
)

40 + 
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘U¶škL©’cy
()

41 + 
N‘wÜkTİŞogy
.
	`g‘D–ay
(
sm¬tThšg
.
	`g‘Id
(), sm¬tThšg.
	`g‘VmLoÿlS”v”CloudËt
().getId())

42 + 
L©’cyByDi¡ªû
.
	`Ï‹ncyCÚÃùiÚ
(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
(), smartThing));

44 if(
pŞicy
 =ğ
PŞic›s
.
FIXED_MIGRATION_POINT
){

45  
	`mig¿tiÚPoštFunùiÚ
(
di¡ªû
);

48  
	`mig¿tiÚPoštFunùiÚ
(
di¡ªû
, 
sm¬tThšg
.
	`g‘MigTime
(), sm¬tThšg.
	`g‘S³ed
());

50 
	}
}

52 @
Ov”ride


53 
public
 
boŞ—n
 
	$mig¿tiÚPoštFunùiÚ
(
di¡ªû
, 
migTime
,

54 
¥“d
) {

55 
ÃwDi¡ªû
 = (è((
migTime
)/1000.0)*
¥“d
;

56 
ÃwDi¡ªû
 +ğ
MaxAndMš
.
MAX_DISTANCE_TO_HANDOFF
/2.0;

57 if((
di¡ªû
>=
MaxAndMš
.
MAX_DISTANCE
 - 
ÃwDi¡ªû
||di¡ªû >ğMaxAndMš.MAX_DISTANCE - MaxAndMš.
MAX_DISTANCE_TO_HANDOFF
) &&

58 
di¡ªû
 < 
MaxAndMš
.
MAX_DISTANCE
)

59  
Œue
;

61  
çl£
;

62 
	}
}

64 @
Ov”ride


65 
public
 
boŞ—n
 
	$mig¿tiÚPoštFunùiÚ
(
di¡ªû
) {

66 ià(
di¡ªû
 >ğ
MaxAndMš
.
MAX_DISTANCE
 - MaxAndMš.
MIG_POINT
 &&

67 
di¡ªû
 < 
MaxAndMš
.
MAX_DISTANCE
)

68  
Œue
;

70  
çl£
;

71 
	}
}

73 @
Ov”ride


74 
public
 
boŞ—n
 
	$mig¿tiÚZÚeFunùiÚ
(
sm¬tThšgDœeùiÚ
,

75 
zÚeDœeùiÚ
) {

76 
aju¡1
, 
aju¡2
;

78 if(
sm¬tThšgDœeùiÚ
==
DœeùiÚs
.
EAST
){

79 
aju¡1
=
DœeùiÚs
.
SOUTHEAST
;

80 
aju¡2
=
DœeùiÚs
.
EAST
+1;

82 if(
sm¬tThšgDœeùiÚ
==
DœeùiÚs
.
SOUTHEAST
){

83 
aju¡1
=
DœeùiÚs
.
SOUTHEAST
-1;

84 
aju¡2
=
DœeùiÚs
.
EAST
;

87 
aju¡1
=
sm¬tThšgDœeùiÚ
-1;

88 
aju¡2
=
sm¬tThšgDœeùiÚ
+1;

91 if(
zÚeDœeùiÚ
 =ğ
sm¬tThšgDœeùiÚ
 ||

92 
zÚeDœeùiÚ
==
aju¡1
 ||

93 
zÚeDœeùiÚ
 =ğ
aju¡2
)

94  
Œue
;

96  
çl£
;

97 
	}
}

99 
public
 
	$g‘MigPoštPŞicy
() {

100  
migPoštPŞicy
;

101 
	}
}

103 
public
 
	$£tMigPoštPŞicy
(
migPoštPŞicy
) {

104 
this
.
migPoštPŞicy
 = migPointPolicy;

105 
	}
}

	@src/org/fog/vmmigration/DecisionMigration.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

5 
public
 
š‹rçû
 
	gDecisiÚMig¿tiÚ
 {

7 
public
 
boŞ—n
 
shouldMig¿‹
(
MobeDeviû
 
sm¬tThšg
);

	@src/org/fog/vmmigration/DecisionMigration_OLD.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

7 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

8 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.*;

9 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.*;

10 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gPŞic›s
;

11 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gS”viûs
;

13 
impÜt
 
	gcom
.
	gsun
.
	gxml
.
	gš‹º®
.
	gÜg
.
	gjvÃt
.
	gç¡šfo£t
.
	g¡ax
.
	gLowLev–Fa¡Info£tSŒ—mWr™”
;

18 
public
 cÏs 
	cDecisiÚMig¿tiÚ_OLD
 {

20 
´iv©e
 
ApDeviû
 
	mcÜ»ÁAP
;

21 
´iv©e
 
	mÃxtApId
;

22 
´iv©e
 
	mÃxtS”v”ClouËtId
;

25 
´iv©e
 
	msm¬tThšgPos™iÚ
;

26 
´iv©e
 
boŞ—n
 
	mmigZÚe
;

27 
´iv©e
 
boŞ—n
 
	mmigPošt
;

32 
public
 
boŞ—n
 
decisiÚMig¿tiÚ
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
,

33 
Li¡
<
ApDeviû
> 
­Deviûs
, 
MobeDeviû
 
sm¬tThšg
, 
migPoštPŞicy
, 
migSŒ©egyPŞicy
){

34 
Mig¿tiÚ
 
	mmig¿tiÚ
 = 
Ãw
 Migration();

36 if(
	msm¬tThšg
.
g‘S³ed
()==0){

38  
çl£
;

41 
£tCÜ»ÁAP
(
sm¬tThšg
.
g‘SourûAp
());

43 
£tSm¬tThšgPos™iÚ
(

44 
Discov”Loÿliz©iÚ
.
discov”Loÿl
(
g‘CÜ»ÁAP
().
g‘CoÜd
()

45 , 
sm¬tThšg
.
g‘CoÜd
()));

47 
£tMigPošt
(
migPoštPŞicyFunùiÚ
(
migPoštPŞicy


48 , 
sm¬tThšg
));

52 if(
g‘CÜ»ÁAP
().
g‘S”v”CloudËt
().
equ®s
(
sm¬tThšg
.
g‘VmLoÿlS”v”CloudËt
())){

54 if(!(
isMigPošt
(è&& 
isMigZÚe
())){

57  
	mçl£
;

60 if(
	mmigSŒ©egyPŞicy
 =ğ
PŞic›s
.
LOWEST_LATENCY
){

62 
£tNextS”v”ClouËtId
(
mig¿tiÚ
.
lowe¡L©’cyCo¡S”v”CloudËt
(
£rv”CloudËts
,
­Deviûs
, 
sm¬tThšg
));

63 if(
g‘NextS”v”ClouËtId
()<0){

65  
	mçl£
;

67 
	mLi¡
<
	mApDeviû
> 
	m‹mpLi¡Aps
 = 
Ãw
 
A¼ayLi¡
<>();

68 
ApDeviû
 
	m­
: 
£rv”CloudËts
.
g‘
(
g‘NextS”v”ClouËtId
()).
g‘ApDeviûs
()){

69 
‹mpLi¡Aps
.
add
(
­
);

72 
£tNextApId
(
mig¿tiÚ
.
ÃxtAp
(
‹mpLi¡Aps
, 
sm¬tThšg
));

73 if(
g‘NextApId
() < 0){

75  
	mçl£
;

77 if(!
	mmig¿tiÚ
.
isEdgeAp
(
­Deviûs
.
g‘
(
g‘NextApId
()), 
sm¬tThšg
)){

79  
	mçl£
;

83 if(
	mmigSŒ©egyPŞicy
 =ğ
PŞic›s
.
LOWEST_DIST_BW_SMARTTING_SERVERCLOUDLET
){

85 
£tNextS”v”ClouËtId
(
mig¿tiÚ
.
ÃxtS”v”CloudËt
(
£rv”CloudËts
, 
sm¬tThšg
));

86 if(
g‘NextS”v”ClouËtId
() < 0){

88  
	mçl£
;

91 
	mLi¡
<
	mApDeviû
> 
	m‹mpLi¡Aps
 = 
Ãw
 
A¼ayLi¡
<>();

92 
ApDeviû
 
	m­
: 
£rv”CloudËts
.
g‘
(
g‘NextS”v”ClouËtId
()).
g‘ApDeviûs
()){

93 
‹mpLi¡Aps
.
add
(
­
);

96 
£tNextApId
(
mig¿tiÚ
.
ÃxtAp
(
‹mpLi¡Aps
, 
sm¬tThšg
));

97 if(
g‘NextApId
() < 0){

99  
	mçl£
;

101 if(!
	mmig¿tiÚ
.
isEdgeAp
(
­Deviûs
.
g‘
(
g‘NextApId
()), 
sm¬tThšg
)){

103  
	mçl£
;

112 if(
	mmigSŒ©egyPŞicy
 =ğ
PŞic›s
.
LOWEST_DIST_BW_SMARTTING_AP
){

113 
£tNextApId
(
mig¿tiÚ
.
ÃxtAp
(
­Deviûs
, 
sm¬tThšg
));

114 if(
g‘NextApId
() < 0){

116  
	mçl£
;

118 if(!
	mmig¿tiÚ
.
isEdgeAp
(
­Deviûs
.
g‘
(
g‘NextApId
()), 
sm¬tThšg
)){

120  
	mçl£
;

122 
£tNextS”v”ClouËtId
(

123 
­Deviûs
.
g‘
(
g‘NextApId
()).
g‘S”v”CloudËt
().
g‘MyId
());

126 if(!
checkLškStus
(
sm¬tThšg
.
g‘SourûS”v”CloudËt
(), 
£rv”CloudËts
.
g‘
(
g‘NextS”v”ClouËtId
()))){

129  
	mçl£
;

133 if(!
	m£rv”CloudËts
.
g‘
(
g‘NextS”v”ClouËtId
()).
isAvaabË
()){

135  
	mçl£
;

139 
£tNextS”v”ClouËtId
(
g‘CÜ»ÁAP
().
g‘S”v”CloudËt
().
g‘MyId
());

140 
	mSy¡em
.
	mout
.
´šn
("HANDOFF JA OCORREU....");

142 
	m£rviûTy³
 = 
£rv”CloudËts
.
g‘
(
g‘NextS”v”ClouËtId
()).
g‘S”viû
().
g‘Ty³
();

144 if(
	m£rviûTy³
 =ğ
S”viûs
.
PRIVATE
){

145 
sm¬tThšg
.
£tDe¡š©iÚS”v”CloudËt
(
£rv”CloudËts
.
g‘
(
g‘NextS”v”ClouËtId
()));

149  
	mŒue
;

151 if(
	m£rviûTy³
 =ğ
S”viûs
.
HIBRID
){

152 
sm¬tThšg
.
£tDe¡š©iÚS”v”CloudËt
(
£rv”CloudËts
.
g‘
(
g‘NextS”v”ClouËtId
()));

155  
	mŒue
;

157 if(
	m£rviûTy³
 =ğ
S”viûs
.
PUBLIC
){

158 
£rviûV®ue
 = 
£rv”CloudËts
.
g‘
(
g‘NextS”v”ClouËtId
()).
g‘S”viû
().
g‘V®ue
();

159 if(
	m£rviûV®ue
 <ğ
sm¬tThšg
.
g‘MaxS”viûV®ue
()){

160 
sm¬tThšg
.
£tDe¡š©iÚS”v”CloudËt
(
£rv”CloudËts
.
g‘
(
g‘NextS”v”ClouËtId
()));

164  
	mŒue
;

168  
	mçl£
;

176 
	mSy¡em
.
	mout
.
´šn
("******" +

179 
	mSy¡em
.
	mout
.
´šn
("DecisionMigration");

180 
	mSy¡em
.
ex™
(0);

181  
	mçl£
;

186 
public
 
boŞ—n
 
	$migPoštPŞicyFunùiÚ
(
pŞicy
, 
MobeDeviû
 
sm¬tThšg
){

200  
çl£
;

201 
	}
}

203 
public
 
boŞ—n
 
	$checkLškStus
 (
FogDeviû
 
sourûS”v”CloudËt
, FogDeviû 
de¡š©iÚS”v”CloudËt
){

205 if(
sourûS”v”CloudËt
.
	`g‘N‘S”v”CloudËts
().
	`g‘
(
de¡š©iÚS”v”CloudËt
)!=
nuÎ
){

206  
Œue
;

209  
çl£
;

211 
	}
}

212 
public
 
ApDeviû
 
	$g‘CÜ»ÁAP
() {

213  
cÜ»ÁAP
;

214 
	}
}

216 
public
 
	$£tCÜ»ÁAP
(
ApDeviû
 
cÜ»ÁAP
) {

217 
DecisiÚMig¿tiÚ_OLD
.
cÜ»ÁAP
 = correntAP;

218 
	}
}

221 
public
 
	$g‘Sm¬tThšgPos™iÚ
() {

222  
sm¬tThšgPos™iÚ
;

223 
	}
}

226 
public
 
	$£tSm¬tThšgPos™iÚ
(
sm¬tThšgPos™iÚ
) {

227 
DecisiÚMig¿tiÚ_OLD
.
sm¬tThšgPos™iÚ
 = smartThingPosition;

228 
	}
}

231 
public
 
	$g‘NextApId
() {

232  
ÃxtApId
;

233 
	}
}

236 
public
 
	$£tNextApId
(
ÃxtApId
) {

237 
DecisiÚMig¿tiÚ_OLD
.
ÃxtApId
 =‚extApId;

238 
	}
}

241 
public
 
boŞ—n
 
	$isMigPošt
() {

242  
migPošt
;

243 
	}
}

246 
public
 
	$£tMigPošt
(
boŞ—n
 
migPošt
) {

247 
DecisiÚMig¿tiÚ_OLD
.
migPošt
 = migPoint;

248 
	}
}

251 
public
 
boŞ—n
 
	$isMigZÚe
() {

252  
migZÚe
;

253 
	}
}

256 
public
 
	$£tMigZÚe
(
boŞ—n
 
migZÚe
) {

257 
DecisiÚMig¿tiÚ_OLD
.
migZÚe
 = migZone;

258 
	}
}

259 
public
 
	$g‘NextS”v”ClouËtId
() {

260  
ÃxtS”v”ClouËtId
;

261 
	}
}

264 
public
 
	$£tNextS”v”ClouËtId
(
ÃxtClouËt
) {

265 
DecisiÚMig¿tiÚ_OLD
.
ÃxtS”v”ClouËtId
 = 
ÃxtClouËt
;

266 
	}
}

	@src/org/fog/vmmigration/DeliveryVirtualMachine.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

5 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

6 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMaxAndMš
;

8 
public
 cÏs 
	cD–iv”yVœtu®Machše
 {

	@src/org/fog/vmmigration/DuringMigration.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
public
 cÏs 
	cDuršgMig¿tiÚ
 {

5 
public
 
boŞ—n
 
	$mªag”m’tB‘w“S”v”CloudËts
(){

6  
Œue
;

9 
	}
}

	@src/org/fog/vmmigration/LatencyByDistance.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gApDeviû
;

4 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

5 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

6 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDi¡ªûs
;

8 
public
 cÏs 
	cL©’cyByDi¡ªû
 {

10 
´iv©e
 
	$Ï‹ncyCÚÃùiÚ
(
FogDeviû
 
sc1
, FogDeviû 
sc2
){

11 
di¡ªû
 = 
Di¡ªûs
.
	`checkDi¡ªû
(
sc1
.
	`g‘CoÜd
(), 
sc2
.getCoord());

12 
Ï‹ncy
 = 
di¡ªû
*0.01;

13  
Ï‹ncy
;

16 
public
 
	$Ï‹ncyCÚÃùiÚ
(
FogDeviû
 
sc
, 
MobeDeviû
 
¡
){

17 
di¡ªû
 = 
Di¡ªûs
.
	`checkDi¡ªû
(
¡
.
	`g‘CoÜd
(), st.
	`g‘SourûAp
().getCoord());

18 
Ï‹ncy1
 = 
	`Ï‹ncyCÚÃùiÚ
(
¡
.
	`g‘SourûAp
().
	`g‘S”v”CloudËt
(), st.
	`g‘VmLoÿlS”v”CloudËt
());

19 
Ï‹ncy2
 = 
di¡ªû
*0.001;

20  
Ï‹ncy1
 + 
Ï‹ncy2
;

21 
	}
}

	@src/org/fog/vmmigration/LiveMigration.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gN‘wÜkTİŞogy
;

4 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

5 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDi¡ªûs
;

6 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gDœeùiÚs
;

7 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMaxAndMš
;

8 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gPŞic›s
;

10 
public
 cÏs 
	cLiveMig¿tiÚ
 
im¶em’ts
 
	mVmMig¿tiÚTechnique
 {

11 
´iv©e
 
	mmigPoštPŞicy
;

13 
public
 
	$LiveMig¿tiÚ
(
migPoštPŞicy
){

14 
	`su³r
();

15 
	`£tMigPoštPŞicy
(
migPoštPŞicy
);

17 @
Ov”ride


18 
public
 
	$v”ifyPošts
(
MobeDeviû
 
sm¬tThšg
, 
»ÏtivePos™iÚ
) {

22 
sm¬tThšg
.
	`£tMigPošt
(
	`migPoštPŞicyFunùiÚ
(
	`g‘MigPoštPŞicy
()

23 ,
sm¬tThšg
));

24 
sm¬tThšg
.
	`£tMigZÚe
(
	`mig¿tiÚZÚeFunùiÚ
(sm¬tThšg.
	`g‘DœeùiÚ
(), 
»ÏtivePos™iÚ
));

31 
	}
}

33 @
Ov”ride


34 
public
 
	$mig¿tiÚTimeFunùiÚ
(
vmSize
, 
bªdwidth
) {

36 
time
 = (()(
vmSize
*8*1024*1024)/
bªdwidth
)*1000.0;

37  
time
;

38 
	}
}

40 @
Ov”ride


41 
public
 
boŞ—n
 
	$migPoštPŞicyFunùiÚ
(
pŞicy
, 
MobeDeviû
 
sm¬tThšg
) {

43 
di¡ªû
 = 
Di¡ªûs
.
	`checkDi¡ªû
(
sm¬tThšg
.
	`g‘SourûAp
().
	`g‘CoÜd
(), smartThing.getCoord());

44 
bªdwidth
=
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘U¶škBªdwidth
();

46 
sm¬tThšg
.
	`£tMigTime
(
	`mig¿tiÚTimeFunùiÚ
(sm¬tThšg.
	`g‘VmMobeDeviû
().
	`g‘Size
()

47 , 
bªdwidth
)

48 + 
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘U¶škL©’cy
()

49 + 
N‘wÜkTİŞogy
.
	`g‘D–ay
(
sm¬tThšg
.
	`g‘Id
(), sm¬tThšg.
	`g‘VmLoÿlS”v”CloudËt
().getId())

50 + 
L©’cyByDi¡ªû
.
	`Ï‹ncyCÚÃùiÚ
(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
(), smartThing));

52 if(
pŞicy
 =ğ
PŞic›s
.
FIXED_MIGRATION_POINT
){

53  
	`mig¿tiÚPoštFunùiÚ
(
di¡ªû
);

56  
	`mig¿tiÚPoštFunùiÚ
(
di¡ªû
, 
sm¬tThšg
.
	`g‘MigTime
(), sm¬tThšg.
	`g‘S³ed
());

58 
	}
}

60 @
Ov”ride


61 
public
 
boŞ—n
 
	$mig¿tiÚPoštFunùiÚ
(
di¡ªû
, 
migTime
,

62 
¥“d
) {

64 
ÃwDi¡ªû
 = (è(
migTime
/1000.0)*
¥“d
;

65 
ÃwDi¡ªû
 +ğ
MaxAndMš
.
MIG_POINT
;

66 if((
di¡ªû
>=
MaxAndMš
.
MAX_DISTANCE
 - 
ÃwDi¡ªû
||di¡ªû >ğMaxAndMš.MAX_DISTANCE - MaxAndMš.
MAX_DISTANCE_TO_HANDOFF
) &&

67 
di¡ªû
 < 
MaxAndMš
.
MAX_DISTANCE
)

68  
Œue
;

70  
çl£
;

71 
	}
}

73 @
Ov”ride


74 
public
 
boŞ—n
 
	$mig¿tiÚPoštFunùiÚ
(
di¡ªû
) {

76 ià(
di¡ªû
 >ğ
MaxAndMš
.
MAX_DISTANCE
 - MaxAndMš.
LIVE_MIG_POINT
 &&

77 
di¡ªû
 < 
MaxAndMš
.
MAX_DISTANCE
)

78  
Œue
;

80  
çl£
;

81 
	}
}

83 @
Ov”ride


84 
public
 
boŞ—n
 
	$mig¿tiÚZÚeFunùiÚ
(
sm¬tThšgDœeùiÚ
,

85 
zÚeDœeùiÚ
) {

88 
aju¡1
, 
aju¡2
;

90 if(
sm¬tThšgDœeùiÚ
==
DœeùiÚs
.
EAST
){

91 
aju¡1
=
DœeùiÚs
.
SOUTHEAST
;

92 
aju¡2
=
DœeùiÚs
.
EAST
+1;

94 if(
sm¬tThšgDœeùiÚ
==
DœeùiÚs
.
SOUTHEAST
){

95 
aju¡1
=
DœeùiÚs
.
SOUTHEAST
-1;

96 
aju¡2
=
DœeùiÚs
.
EAST
;

99 
aju¡1
=
sm¬tThšgDœeùiÚ
-1;

100 
aju¡2
=
sm¬tThšgDœeùiÚ
+1;

103 if(
zÚeDœeùiÚ
 =ğ
sm¬tThšgDœeùiÚ
 ||

104 
zÚeDœeùiÚ
==
aju¡1
 ||

105 
zÚeDœeùiÚ
 =ğ
aju¡2
)

106  
Œue
;

108  
çl£
;

109 
	}
}

111 
public
 
	$g‘MigPoštPŞicy
() {

112  
migPoštPŞicy
;

113 
	}
}

115 
public
 
	$£tMigPoštPŞicy
(
migPoštPŞicy
) {

116 
this
.
migPoštPŞicy
 = migPointPolicy;

117 
	}
}

	@src/org/fog/vmmigration/LowestDistBwSmartThingAP.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

6 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gApDeviû
;

7 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

8 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

9 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDiscov”Loÿliz©iÚ
;

10 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDi¡ªûs
;

12 
public
 cÏs 
	cLowe¡Di¡BwSm¬tThšgAP
 
im¶em’ts
 
	mDecisiÚMig¿tiÚ
 {

14 
´iv©e
 
	mLi¡
<
	mFogDeviû
> 
	m£rv”CloudËts
;

15 
´iv©e
 
	mLi¡
<
	mApDeviû
> 
	m­Deviûs
;

16 
´iv©e
 
	mmigPoštPŞicy
;

17 
´iv©e
 
ApDeviû
 
	mcÜ»ÁAP
;

18 
´iv©e
 
	mÃxtApId
;

19 
´iv©e
 
	mÃxtS”v”ClouËtId
;

20 
´iv©e
 
	msm¬tThšgPos™iÚ
;

21 
´iv©e
 
boŞ—n
 
	mmigZÚe
;

22 
´iv©e
 
boŞ—n
 
	mmigPošt
;

23 
´iv©e
 
	mpŞicyR•liÿVM
;

25 
public
 
Lowe¡Di¡BwSm¬tThšgAP
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
,

26 
Li¡
<
ApDeviû
> 
­Deviûs
, 
migPoštPŞicy
, 
pŞicyR•liÿVM
) {

27 
su³r
();

28 
£tS”v”CloudËts
(
£rv”CloudËts
);

29 
£tApDeviûs
(
­Deviûs
);

30 
£tMigPoštPŞicy
(
migPoštPŞicy
);

31 
£tPŞicyR•liÿVM
(
pŞicyR•liÿVM
);

37 @
Ov”ride


38 
public
 
boŞ—n
 
	$shouldMig¿‹
(
MobeDeviû
 
sm¬tThšg
) {

40 
	`£tCÜ»ÁAP
(
sm¬tThšg
.
	`g‘SourûAp
());

42 
	`£tSm¬tThšgPos™iÚ
(
Discov”Loÿliz©iÚ
.
	`discov”Loÿl
(
	`g‘CÜ»ÁAP
().
	`g‘CoÜd
()

43 , 
sm¬tThšg
.
	`g‘CoÜd
()));

44 
sm¬tThšg
.
	`g‘Mig¿tiÚTechnique
().
	`v”ifyPošts
(sm¬tThšg, 
	`g‘Sm¬tThšgPos™iÚ
());

48 if(!(
sm¬tThšg
.
	`isMigPošt
(è&& sm¬tThšg.
	`isMigZÚe
())){

50  
çl£
;

53 
	`£tNextApId
(
Mig¿tiÚ
.
	`ÃxtAp
(
­Deviûs
, 
sm¬tThšg
));

54 if(
	`g‘NextApId
() < 0){

56  
çl£
;

58 if(!
Mig¿tiÚ
.
	`isEdgeAp
(
­Deviûs
.
	`g‘
(
	`g‘NextApId
()), 
sm¬tThšg
)){

60  
çl£
;

62 
	`£tNextS”v”ClouËtId
(

63 
­Deviûs
.
	`g‘
(
	`g‘NextApId
()).
	`g‘S”v”CloudËt
().
	`g‘MyId
());

73  
S”viûAg»em’t
.
	`£rviûAg»em’t
(
£rv”CloudËts
.
	`g‘
(
	`g‘NextS”v”ClouËtId
()), 
sm¬tThšg
);

74 
	}
}

76 
public
 
	gLi¡
<
	gFogDeviû
> 
	$g‘S”v”CloudËts
() {

77  
£rv”CloudËts
;

78 
	}
}

81 
public
 
£tS”v”CloudËts
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
) {

82 
	gthis
.
	g£rv”CloudËts
 = 
£rv”CloudËts
;

86 
public
 
	gLi¡
<
	gApDeviû
> 
	$g‘ApDeviûs
() {

87  
­Deviûs
;

88 
	}
}

91 
public
 
£tApDeviûs
(
Li¡
<
ApDeviû
> 
­Deviûs
) {

92 
	gthis
.
	g­Deviûs
 = 
­Deviûs
;

96 
public
 
	$g‘MigPoštPŞicy
() {

97  
migPoštPŞicy
;

98 
	}
}

101 
public
 
	$£tMigPoštPŞicy
(
migPoštPŞicy
) {

102 
this
.
migPoštPŞicy
 = migPointPolicy;

103 
	}
}

106 
public
 
ApDeviû
 
	$g‘CÜ»ÁAP
() {

107  
cÜ»ÁAP
;

108 
	}
}

111 
public
 
	$£tCÜ»ÁAP
(
ApDeviû
 
cÜ»ÁAP
) {

112 
this
.
cÜ»ÁAP
 = correntAP;

113 
	}
}

116 
public
 
	$g‘NextApId
() {

117  
ÃxtApId
;

118 
	}
}

121 
public
 
	$£tNextApId
(
ÃxtApId
) {

122 
this
.
ÃxtApId
 =‚extApId;

123 
	}
}

126 
public
 
	$g‘NextS”v”ClouËtId
() {

127  
ÃxtS”v”ClouËtId
;

128 
	}
}

131 
public
 
	$£tNextS”v”ClouËtId
(
ÃxtS”v”ClouËtId
) {

132 
this
.
ÃxtS”v”ClouËtId
 =‚extServerClouletId;

133 
	}
}

136 
public
 
	$g‘Sm¬tThšgPos™iÚ
() {

137  
sm¬tThšgPos™iÚ
;

138 
	}
}

141 
public
 
	$£tSm¬tThšgPos™iÚ
(
sm¬tThšgPos™iÚ
) {

142 
this
.
sm¬tThšgPos™iÚ
 = smartThingPosition;

143 
	}
}

146 
public
 
boŞ—n
 
	$isMigZÚe
() {

147  
migZÚe
;

148 
	}
}

151 
public
 
	$£tMigZÚe
(
boŞ—n
 
migZÚe
) {

152 
this
.
migZÚe
 = migZone;

153 
	}
}

156 
public
 
boŞ—n
 
	$isMigPošt
() {

157  
migPošt
;

158 
	}
}

161 
public
 
	$£tMigPošt
(
boŞ—n
 
migPošt
) {

162 
this
.
migPošt
 = migPoint;

163 
	}
}

167 
public
 
	$g‘PŞicyR•liÿVM
() {

168  
pŞicyR•liÿVM
;

169 
	}
}

173 
public
 
	$£tPŞicyR•liÿVM
(
pŞicyR•liÿVM
) {

174 
this
.
pŞicyR•liÿVM
 =…olicyReplicaVM;

175 
	}
}

	@src/org/fog/vmmigration/LowestDistBwSmartThingServerCloudlet.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

6 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

7 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gApDeviû
;

8 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

9 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

10 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDiscov”Loÿliz©iÚ
;

12 
public
 cÏs 
	cLowe¡Di¡BwSm¬tThšgS”v”CloudËt
 
im¶em’ts
 
	mDecisiÚMig¿tiÚ
 {

14 
´iv©e
 
	mLi¡
<
	mFogDeviû
> 
	m£rv”CloudËts
;

15 
´iv©e
 
	mLi¡
<
	mApDeviû
> 
	m­Deviûs
;

16 
´iv©e
 
	mmigPoštPŞicy
;

17 
´iv©e
 
ApDeviû
 
	mcÜ»ÁAP
;

18 
´iv©e
 
	mÃxtApId
;

19 
´iv©e
 
	mÃxtS”v”ClouËtId
;

20 
´iv©e
 
	msm¬tThšgPos™iÚ
;

21 
´iv©e
 
boŞ—n
 
	mmigZÚe
;

22 
´iv©e
 
boŞ—n
 
	mmigPošt
;

23 
´iv©e
 
	mpŞicyR•liÿVM
;

26 
public
 
Lowe¡Di¡BwSm¬tThšgS”v”CloudËt
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
,

27 
Li¡
<
ApDeviû
> 
­Deviûs
, 
migPoštPŞicy
, 
pŞicyR•liÿVM
) {

28 
su³r
();

29 
£tS”v”CloudËts
(
£rv”CloudËts
);

30 
£tApDeviûs
(
­Deviûs
);

31 
£tMigPoštPŞicy
(
migPoštPŞicy
);

32 
£tPŞicyR•liÿVM
(
pŞicyR•liÿVM
);

38 @
Ov”ride


39 
public
 
boŞ—n
 
	$shouldMig¿‹
(
MobeDeviû
 
sm¬tThšg
) {

42 if(
sm¬tThšg
.
	`g‘S³ed
()==0){

44  
çl£
;

47 
	`£tCÜ»ÁAP
(
sm¬tThšg
.
	`g‘SourûAp
());

48 
	`£tSm¬tThšgPos™iÚ
(
Discov”Loÿliz©iÚ
.
	`discov”Loÿl
(
	`g‘CÜ»ÁAP
().
	`g‘CoÜd
()

49 , 
sm¬tThšg
.
	`g‘CoÜd
()));

51 
sm¬tThšg
.
	`g‘Mig¿tiÚTechnique
().
	`v”ifyPošts
(sm¬tThšg, 
	`g‘Sm¬tThšgPos™iÚ
());

53 if(!(
sm¬tThšg
.
	`isMigPošt
(è&& sm¬tThšg.
	`isMigZÚe
())){

55  
çl£
;

58 
	`£tNextS”v”ClouËtId
(
Mig¿tiÚ
.
	`ÃxtS”v”CloudËt
(
£rv”CloudËts
, 
sm¬tThšg
));

59 if(
	`g‘NextS”v”ClouËtId
() < 0){

61  
çl£
;

63 
Li¡
<
ApDeviû
> 
‹mpLi¡Aps
 = 
Ãw
 
A¼ayLi¡
<>();

64 
ApDeviû
 
­
: 
£rv”CloudËts
.
	`g‘
(
	`g‘NextS”v”ClouËtId
()).
	`g‘ApDeviûs
()){

65 
‹mpLi¡Aps
.
	`add
(
­
);

67 
	`£tNextApId
(
Mig¿tiÚ
.
	`ÃxtAp
(
‹mpLi¡Aps
, 
sm¬tThšg
));

68 if(
	`g‘NextApId
() < 0){

70  
çl£
;

72 if(!
Mig¿tiÚ
.
	`isEdgeAp
(
­Deviûs
.
	`g‘
(
	`g‘NextApId
()), 
sm¬tThšg
)){

74  
çl£
;

93  
S”viûAg»em’t
.
	`£rviûAg»em’t
(
£rv”CloudËts
.
	`g‘
(
	`g‘NextS”v”ClouËtId
()), 
sm¬tThšg
);

94 
	}
}

98 
public
 
	gLi¡
<
	gFogDeviû
> 
	$g‘S”v”CloudËts
() {

99  
£rv”CloudËts
;

100 
	}
}

104 
public
 
£tS”v”CloudËts
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
) {

105 
	gthis
.
	g£rv”CloudËts
 = 
£rv”CloudËts
;

110 
public
 
	gLi¡
<
	gApDeviû
> 
	$g‘ApDeviûs
() {

111  
­Deviûs
;

112 
	}
}

116 
public
 
£tApDeviûs
(
Li¡
<
ApDeviû
> 
­Deviûs
) {

117 
	gthis
.
	g­Deviûs
 = 
­Deviûs
;

122 
public
 
	$g‘MigPoštPŞicy
() {

123  
migPoštPŞicy
;

124 
	}
}

128 
public
 
	$£tMigPoštPŞicy
(
migPoštPŞicy
) {

129 
this
.
migPoštPŞicy
 = migPointPolicy;

130 
	}
}

134 
public
 
ApDeviû
 
	$g‘CÜ»ÁAP
() {

135  
cÜ»ÁAP
;

136 
	}
}

140 
public
 
	$£tCÜ»ÁAP
(
ApDeviû
 
cÜ»ÁAP
) {

141 
this
.
cÜ»ÁAP
 = correntAP;

142 
	}
}

146 
public
 
	$g‘NextApId
() {

147  
ÃxtApId
;

148 
	}
}

152 
public
 
	$£tNextApId
(
ÃxtApId
) {

153 
this
.
ÃxtApId
 =‚extApId;

154 
	}
}

158 
public
 
	$g‘NextS”v”ClouËtId
() {

159  
ÃxtS”v”ClouËtId
;

160 
	}
}

164 
public
 
	$£tNextS”v”ClouËtId
(
ÃxtS”v”ClouËtId
) {

165 
this
.
ÃxtS”v”ClouËtId
 =‚extServerClouletId;

166 
	}
}

170 
public
 
	$g‘Sm¬tThšgPos™iÚ
() {

171  
sm¬tThšgPos™iÚ
;

172 
	}
}

176 
public
 
	$£tSm¬tThšgPos™iÚ
(
sm¬tThšgPos™iÚ
) {

177 
this
.
sm¬tThšgPos™iÚ
 = smartThingPosition;

178 
	}
}

182 
public
 
boŞ—n
 
	$isMigZÚe
() {

183  
migZÚe
;

184 
	}
}

188 
public
 
	$£tMigZÚe
(
boŞ—n
 
migZÚe
) {

189 
this
.
migZÚe
 = migZone;

190 
	}
}

194 
public
 
boŞ—n
 
	$isMigPošt
() {

195  
migPošt
;

196 
	}
}

200 
public
 
	$£tMigPošt
(
boŞ—n
 
migPošt
) {

201 
this
.
migPošt
 = migPoint;

202 
	}
}

206 
public
 
	$g‘PŞicyR•liÿVM
() {

207  
pŞicyR•liÿVM
;

208 
	}
}

212 
public
 
	$£tPŞicyR•liÿVM
(
pŞicyR•liÿVM
) {

213 
this
.
pŞicyR•liÿVM
 =…olicyReplicaVM;

214 
	}
}

	@src/org/fog/vmmigration/LowestLatency.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

6 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gN‘wÜkTİŞogy
;

7 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

8 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gApDeviû
;

9 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

10 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

11 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDiscov”Loÿliz©iÚ
;

12 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDi¡ªûs
;

14 
public
 cÏs 
	cLowe¡L©’cy
 
im¶em’ts
 
	mDecisiÚMig¿tiÚ
 {

16 
´iv©e
 
	mLi¡
<
	mFogDeviû
> 
	m£rv”CloudËts
;

17 
´iv©e
 
	mLi¡
<
	mApDeviû
> 
	m­Deviûs
;

18 
´iv©e
 
	mmigPoštPŞicy
;

19 
´iv©e
 
ApDeviû
 
	mcÜ»ÁAP
;

20 
´iv©e
 
	mÃxtApId
;

21 
´iv©e
 
	mÃxtS”v”ClouËtId
;

22 
´iv©e
 
	mpŞicyR•liÿVM
;

25 
´iv©e
 
	msm¬tThšgPos™iÚ
;

26 
´iv©e
 
boŞ—n
 
	mmigZÚe
;

27 
´iv©e
 
boŞ—n
 
	mmigPošt
;

29 
public
 
Lowe¡L©’cy
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
,

30 
Li¡
<
ApDeviû
> 
­Deviûs
, 
migPoštPŞicy
, 
pŞicyR•liÿVM
) {

31 
su³r
();

32 
£tS”v”CloudËts
(
£rv”CloudËts
);

33 
£tApDeviûs
(
­Deviûs
);

34 
£tMigPoštPŞicy
(
migPoštPŞicy
);

35 
£tPŞicyR•liÿVM
(
pŞicyR•liÿVM
);

40 @
Ov”ride


41 
public
 
boŞ—n
 
	$shouldMig¿‹
(
MobeDeviû
 
sm¬tThšg
) {

43 if(
sm¬tThšg
.
	`g‘S³ed
()==0){

45  
çl£
;

47 
	`£tCÜ»ÁAP
(
sm¬tThšg
.
	`g‘SourûAp
());

48 
	`£tSm¬tThšgPos™iÚ
(

49 
Discov”Loÿliz©iÚ
.
	`discov”Loÿl
(
	`g‘CÜ»ÁAP
().
	`g‘CoÜd
()

50 , 
sm¬tThšg
.
	`g‘CoÜd
()));

52 
sm¬tThšg
.
	`g‘Mig¿tiÚTechnique
().
	`v”ifyPošts
(sm¬tThšg, 
	`g‘Sm¬tThšgPos™iÚ
());

56 if(!(
sm¬tThšg
.
	`isMigPošt
(è&& sm¬tThšg.
	`isMigZÚe
())){

58  
çl£
;

61 
	`£tNextS”v”ClouËtId
(
Mig¿tiÚ
.
	`lowe¡L©’cyCo¡S”v”CloudËt
(
£rv”CloudËts
, 
­Deviûs
, 
sm¬tThšg
));

62 if(
	`g‘NextS”v”ClouËtId
()<0){

64  
çl£
;

71 
	`£tNextApId
Ğ
Mig¿tiÚ
.
	`ÃxtAp
(
­Deviûs
, 
sm¬tThšg
));

72 if(
	`g‘NextApId
() < 0){

74  
çl£
;

77 if(! 
Mig¿tiÚ
.
	`isEdgeAp
(
­Deviûs
.
	`g‘
(
	`g‘NextApId
()), 
sm¬tThšg
)){

79  
çl£
;

130  
S”viûAg»em’t
.
	`£rviûAg»em’t
(
£rv”CloudËts
.
	`g‘
(
	`g‘NextS”v”ClouËtId
()), 
sm¬tThšg
);

131 
	}
}

133 
public
 
ApDeviû
 
	$g‘CÜ»ÁAP
() {

134  
cÜ»ÁAP
;

135 
	}
}

138 
public
 
	gLi¡
<
	gFogDeviû
> 
	$g‘S”v”CloudËts
() {

139  
£rv”CloudËts
;

140 
	}
}

143 
public
 
£tS”v”CloudËts
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
) {

144 
	gthis
.
	g£rv”CloudËts
 = 
£rv”CloudËts
;

148 
public
 
	gLi¡
<
	gApDeviû
> 
	$g‘ApDeviûs
() {

149  
­Deviûs
;

150 
	}
}

153 
public
 
£tApDeviûs
(
Li¡
<
ApDeviû
> 
­Deviûs
) {

154 
	gthis
.
	g­Deviûs
 = 
­Deviûs
;

158 
public
 
	$g‘MigPoštPŞicy
() {

159  
migPoštPŞicy
;

160 
	}
}

163 
public
 
	$£tMigPoštPŞicy
(
migPoštPŞicy
) {

164 
this
.
migPoštPŞicy
 = migPointPolicy;

165 
	}
}

168 
public
 
	$g‘NextApId
() {

169  
ÃxtApId
;

170 
	}
}

173 
public
 
	$£tNextApId
(
ÃxtApId
) {

174 
this
.
ÃxtApId
 =‚extApId;

175 
	}
}

178 
public
 
	$g‘NextS”v”ClouËtId
() {

179  
ÃxtS”v”ClouËtId
;

180 
	}
}

183 
public
 
	$£tNextS”v”ClouËtId
(
ÃxtS”v”ClouËtId
) {

184 
this
.
ÃxtS”v”ClouËtId
 =‚extServerClouletId;

185 
	}
}

188 
public
 
	$g‘Sm¬tThšgPos™iÚ
() {

189  
sm¬tThšgPos™iÚ
;

190 
	}
}

193 
public
 
	$£tSm¬tThšgPos™iÚ
(
sm¬tThšgPos™iÚ
) {

194 
this
.
sm¬tThšgPos™iÚ
 = smartThingPosition;

195 
	}
}

198 
public
 
boŞ—n
 
	$isMigZÚe
() {

199  
migZÚe
;

200 
	}
}

203 
public
 
	$£tMigZÚe
(
boŞ—n
 
migZÚe
) {

204 
this
.
migZÚe
 = migZone;

205 
	}
}

208 
public
 
boŞ—n
 
	$isMigPošt
() {

209  
migPošt
;

210 
	}
}

213 
public
 
	$£tMigPošt
(
boŞ—n
 
migPošt
) {

214 
this
.
migPošt
 = migPoint;

215 
	}
}

218 
public
 
	$£tCÜ»ÁAP
(
ApDeviû
 
cÜ»ÁAP
) {

219 
this
.
cÜ»ÁAP
 = correntAP;

220 
	}
}

223 
public
 
	$g‘PŞicyR•liÿVM
() {

224  
pŞicyR•liÿVM
;

225 
	}
}

228 
public
 
	$£tPŞicyR•liÿVM
(
pŞicyR•liÿVM
) {

229 
this
.
pŞicyR•liÿVM
 =…olicyReplicaVM;

230 
	}
}

	@src/org/fog/vmmigration/Migration.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

4 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

5 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

7 
impÜt
 
	gjavax
.
	g´št
.
	g©Œibu‹
.
	g¡ªd¬d
.
	gSev”™y
;

9 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gN‘wÜkTİŞogy
;

10 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.*;

11 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gCoÜdš©e
;

12 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDiscov”Loÿliz©iÚ
;

13 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDi¡ªûs
;

14 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.*;

17 
public
 cÏs 
	cMig¿tiÚ
 {

20 
´iv©e
 
boŞ—n
 
	mmig¿tiÚPošt
;

21 
´iv©e
 
boŞ—n
 
	mmig¿tiÚZÚe
;

22 
´iv©e
 
	mloÿtiÚ
;

23 
´iv©e
 
ApDeviû
 
	mcÜ»ÁAP
;

24 
´iv©e
 
FogDeviû
 
	mcÜ»ÁS”v”CloudËt
;

25 
´iv©e
 
MobeDeviû
 
	mcÜ»ÁSm¬tThšg
;

26 
´iv©e
 
ApDeviû
 
	m­AvaabË
;

27 
´iv©e
 
FogDeviû
 
	m£rv”CloudËtAvaabË
;

28 
´iv©e
 
	mæowDœeùiÚ
;

29 
´iv©e
 
	mLi¡
<
	mApDeviû
> 
	m­sAvaabË
;

30 
´iv©e
 
	mLi¡
<
	mFogDeviû
> 
	m£rv”CloudËtsAvaabË
;

31 
´iv©e
 
	mpŞicyR•liÿVM
;

39 
public
 
	mLi¡
<
	mApDeviû
> 
­AvaabËLi¡
(
Li¡
<
ApDeviû
> 
ŞdApLi¡


40 , 
MobeDeviû
 
sm¬tThšg
 ){

41 
	mLi¡
<
	mApDeviû
> 
	mÃwApLi¡
 =
Ãw
 
A¼ayLi¡
<>();

46 
	mloÿlAp
;

47 
boŞ—n
 
	mcÚe
;

48 
ApDeviû
 
	m­
: 
ŞdApLi¡
){

57 if(!
sm¬tThšg
.
g‘SourûAp
().
equ®s
(
­
))

58 
ÃwApLi¡
.
add
(
­
);

62  
	mÃwApLi¡
;

129 
public
 
ÃxtAp
(
Li¡
<
ApDeviû
> 
­Deviûs
, 
MobeDeviû
 
sm¬tThšg
){

131 
£tApsAvaabË
(
­AvaabËLi¡
(
­Deviûs
,
sm¬tThšg
));

132 ià(
g‘ApsAvaabË
().
size
() == 0){

147  
	gDi¡ªûs
.
theClo£¡Ap
(
g‘ApsAvaabË
(), 
sm¬tThšg
);

149 
public
 
ÃxtApFromCloudËt
(
S‘
<
ApDeviû
> 
­Deviûs
, 
MobeDeviû
 
sm¬tThšg
){

153 
public
 
boŞ—n
 
	$šsideCÚe
(
sm¬tThšgDœeùiÚ
, 
zÚeDœeùiÚ
){

154 
aju¡1
, 
aju¡2
;

156 if(
sm¬tThšgDœeùiÚ
==
DœeùiÚs
.
EAST
){

157 
aju¡1
=
DœeùiÚs
.
SOUTHEAST
;

158 
aju¡2
=
DœeùiÚs
.
EAST
+1;

160 if(
sm¬tThšgDœeùiÚ
==
DœeùiÚs
.
SOUTHEAST
){

161 
aju¡1
=
DœeùiÚs
.
SOUTHEAST
-1;

162 
aju¡2
=
DœeùiÚs
.
EAST
;

165 
aju¡1
=
sm¬tThšgDœeùiÚ
-1;

166 
aju¡2
=
sm¬tThšgDœeùiÚ
+1;

169 if(
zÚeDœeùiÚ
 =ğ
sm¬tThšgDœeùiÚ
 ||

170 
zÚeDœeùiÚ
==
aju¡1
 ||

171 
zÚeDœeùiÚ
 =ğ
aju¡2
)

172  
Œue
;

174  
çl£
;

175 
	}
}

180 
public
 
	gLi¡
<
	gFogDeviû
> 
£rv”ClouËtsAvaabËLi¡
(
Li¡
<
FogDeviû
> 
ŞdS”v”CloudËts
, 
MobeDeviû
 
sm¬tThšg
){

181 
	gLi¡
<
	gFogDeviû
> 
	gÃwS”v”CloudËts
 = 
Ãw
 
A¼ayLi¡
<>();

183 
	gloÿlS”v”CloudËt
;

184 
boŞ—n
 
	gcÚe
;

185 
FogDeviû
 
	gsc
: 
ŞdS”v”CloudËts
 ){

186 
loÿlS”v”CloudËt
=
Discov”Loÿliz©iÚ
.
discov”Loÿl
(

187 
sm¬tThšg
.
g‘CoÜd
(),
sc
.getCoord());

188 
	gcÚe
 = 
šsideCÚe
(
loÿlS”v”CloudËt
,
sm¬tThšg
.
g‘DœeùiÚ
());

190 if(
	gcÚe
&&(
	gsc
.
g‘MyId
()!=
sm¬tThšg
.
g‘SourûS”v”CloudËt
().getMyId())){

191 
ÃwS”v”CloudËts
.
add
(
sc
);

194  
	gÃwS”v”CloudËts
;

261 
public
 
ÃxtS”v”CloudËt
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
, 
MobeDeviû
 
sm¬tThšg
){

263 
£tS”v”CloudËtsAvaabË
(
£rv”ClouËtsAvaabËLi¡
(
£rv”CloudËts
, 
sm¬tThšg
));

264 if(
g‘S”v”CloudËtsAvaabË
().
size
()==0){

268  
	gDi¡ªûs
.
theClo£¡S”v”CloudËt
(
g‘S”v”CloudËtsAvaabË
(), 
sm¬tThšg
);

273 
public
 
boŞ—n
 
	$isEdgeAp
(
ApDeviû
 
­Deviû
, 
MobeDeviû
 
sm¬tThšg
){

274 if(
­Deviû
.
	`g‘S”v”CloudËt
().
	`g‘MyId
(è=ğ
sm¬tThšg
.
	`g‘SourûS”v”CloudËt
().getMyId())

275  
çl£
;

277  
Œue
;

278 
	}
}

280 
public
 
lowe¡L©’cyCo¡S”v”CloudËt
(
Li¡
<
FogDeviû
> 
ŞdS”v”CloudËts
, Li¡<
ApDeviû
> 
ŞdApDeviûs
, 
MobeDeviû
 
sm¬tThšg
){

281 
	gLi¡
<
	gFogDeviû
> 
	gÃwS”v”CloudËts
 = 
Ãw
 
A¼ayLi¡
<>();

282 
	gLi¡
<
	gFogDeviû
> 
	gnumS”v”CloudËts
 = 
Ãw
 
A¼ayLi¡
<>();

284 
FogDeviû
 
	gsc
: 
ŞdS”v”CloudËts
){

286 
ÃwS”v”CloudËts
.
add
(
sc
);

290 
	gi
 = 0; i<9; i++){

291 
	gde¡š©iÚS”v”CloudËt
 = 
ÃxtS”v”CloudËt
(
ÃwS”v”CloudËts
, 
sm¬tThšg
);

292 if(
	gde¡š©iÚS”v”CloudËt
>=0){

293 
FogDeviû
 
sc1
:
ÃwS”v”CloudËts
){

294 if(
sc1
.
g‘MyId
()==
de¡š©iÚS”v”CloudËt
){

295 
numS”v”CloudËts
.
add
(
sc1
);

300 
FogDeviû
 
	gsc
=
nuÎ
;

301 
	gj
 = 0;j < 
	gÃwS”v”CloudËts
.
size
();j++){

303 
	gsc
=
ÃwS”v”CloudËts
.
g‘
(
j
);

304 if(
	gsc
.
g‘MyId
()==
de¡š©iÚS”v”CloudËt
){

305 
ÃwS”v”CloudËts
.
»move
(
sc
);

315 if(
	gnumS”v”CloudËts
.
size
()==0){

319 
	gsumCo¡
;

320 
	gchoo£
 =-1;

321 
	gmšCo¡
=-1;

322 
	gidNextAp
 = 
ÃxtAp
(
ŞdApDeviûs
, 
sm¬tThšg
);

324 if(
	gidNextAp
<0){

328 
	gi
 = 0; i<
	gnumS”v”CloudËts
.
size
();i++){

329 
	gmšCo¡
 = 
sumCo¡FunùiÚ
(
numS”v”CloudËts
.
g‘
(
i
),
ŞdApDeviûs
.g‘(
idNextAp
),
sm¬tThšg
);

330 if(
	gmšCo¡
>=0){

331 
choo£
=
numS”v”CloudËts
.
g‘
(
i
).
g‘MyId
();

335 if(
	gmšCo¡
<0){

339 
FogDeviû
 
	gsc
: 
numS”v”CloudËts
){

340 
sumCo¡
 = 
sumCo¡FunùiÚ
(
sc
,
ŞdApDeviûs
.
g‘
(
idNextAp
),
sm¬tThšg
);

341 if(
	gsumCo¡
<0){

344 if(
	gsumCo¡
<
	gmšCo¡
){

345 
	gmšCo¡
 = 
sumCo¡
;

346 
	gchoo£
 = 
sc
.
g‘MyId
();

359  
	gchoo£
;

362 
public
 
	$sumCo¡FunùiÚ
(
FogDeviû
 
£rv”CloudËt
, 
ApDeviû
 
ÃxtAp
, 
MobeDeviû
 
sm¬tThšg
){

363 
sum
 = -1;

365 
Li¡
<
ApDeviû
> 
‹mpLi¡Aps
 = 
Ãw
 
A¼ayLi¡
<>();

379 if(
ÃxtAp
.
	`g‘S”v”CloudËt
().
	`equ®s
(
£rv”CloudËt
)){

380 
sum
 = 
N‘wÜkTİŞogy
.
	`g‘D–ay
(
sm¬tThšg
.
	`g‘Id
(), 
ÃxtAp
.getId())

381 + 
N‘wÜkTİŞogy
.
	`g‘D–ay
(
ÃxtAp
.
	`g‘Id
(),ÃxtAp.
	`g‘S”v”CloudËt
().getId())

382 + (1.0/
ÃxtAp
.
	`g‘S”v”CloudËt
().
	`g‘Ho¡
().
	`g‘AvaabËMs
())

383 + 
L©’cyByDi¡ªû
.
	`Ï‹ncyCÚÃùiÚ
(
ÃxtAp
.
	`g‘S”v”CloudËt
(), 
sm¬tThšg
);

390 
sum
 = 
N‘wÜkTİŞogy
.
	`g‘D–ay
(
sm¬tThšg
.
	`g‘Id
(), 
ÃxtAp
.getId())

391 + 
N‘wÜkTİŞogy
.
	`g‘D–ay
(
ÃxtAp
.
	`g‘Id
(),ÃxtAp.
	`g‘S”v”CloudËt
().getId())

393 + 
N‘wÜkTİŞogy
.
	`g‘D–ay
(
ÃxtAp
.
	`g‘S”v”CloudËt
().
	`g‘Id
(),
£rv”CloudËt
.getId())

394 + (1.0/
£rv”CloudËt
.
	`g‘Ho¡
().
	`g‘AvaabËMs
())

395 + 
L©’cyByDi¡ªû
.
	`Ï‹ncyCÚÃùiÚ
(
£rv”CloudËt
, 
sm¬tThšg
);

418  
sum
;

422 
	}
}

424 
public
 
boŞ—n
 
	$isMig¿tiÚPošt
() {

425  
mig¿tiÚPošt
;

426 
	}
}

428 
public
 
	$£tMig¿tiÚPošt
(
boŞ—n
 
mig¿tiÚPošt
) {

429 
Mig¿tiÚ
.
mig¿tiÚPošt
 = migrationPoint;

430 
	}
}

432 
public
 
boŞ—n
 
	$isMig¿tiÚZÚe
() {

433  
mig¿tiÚZÚe
;

434 
	}
}

436 
public
 
	$£tMig¿tiÚZÚe
(
boŞ—n
 
mig¿tiÚZÚe
) {

437 
Mig¿tiÚ
.
mig¿tiÚZÚe
 = migrationZone;

438 
	}
}

440 
public
 
	$g‘LoÿtiÚ
() {

441  
loÿtiÚ
;

442 
	}
}

444 
public
 
	$£tLoÿtiÚ
(
loÿtiÚ
) {

445 
this
.
loÿtiÚ
 =†ocation;

446 
	}
}

448 
public
 
ApDeviû
 
	$g‘CÜ»ÁAP
() {

449  
cÜ»ÁAP
;

450 
	}
}

452 
public
 
	$£tCÜ»ÁAP
(
ApDeviû
 
cÜ»ÁAP
) {

453 
this
.
cÜ»ÁAP
 = correntAP;

454 
	}
}

456 
public
 
FogDeviû
 
	$g‘CÜ»ÁS”v”CloudËt
() {

457  
cÜ»ÁS”v”CloudËt
;

458 
	}
}

460 
public
 
	$£tCÜ»ÁS”v”CloudËt
(
FogDeviû
 
cÜ»ÁS”v”CloudËt
) {

461 
this
.
cÜ»ÁS”v”CloudËt
 = correntServerCloudlet;

462 
	}
}

464 
public
 
MobeDeviû
 
	$g‘CÜ»ÁSm¬tThšg
() {

465  
cÜ»ÁSm¬tThšg
;

466 
	}
}

468 
public
 
	$£tCÜ»ÁSm¬tThšg
(
MobeDeviû
 
cÜ»ÁSm¬tThšg
) {

469 
this
.
cÜ»ÁSm¬tThšg
 = correntSmartThing;

470 
	}
}

472 
public
 
ApDeviû
 
	$g‘ApAvaabË
() {

473  
­AvaabË
;

474 
	}
}

476 
public
 
	$£tApAvaabË
(
ApDeviû
 
­AvaabË
) {

477 
this
.
­AvaabË
 =‡pAvailable;

478 
	}
}

480 
public
 
FogDeviû
 
	$g‘S”v”CloudËtAvaabË
() {

481  
£rv”CloudËtAvaabË
;

482 
	}
}

484 
public
 
	$£tS”v”CloudËtAvaabË
(
FogDeviû
 
£rv”CloudËtAvaabË
) {

485 
this
.
£rv”CloudËtAvaabË
 = serverCloudletAvailable;

486 
	}
}

488 
public
 
	$g‘FlowDœeùiÚ
() {

489  
æowDœeùiÚ
;

490 
	}
}

492 
public
 
	$£tFlowDœeùiÚ
(
æowDœeùiÚ
) {

493 
this
.
æowDœeùiÚ
 = flowDirection;

494 
	}
}

496 
public
 
	gLi¡
<
	gApDeviû
> 
	$g‘ApsAvaabË
() {

497  
­sAvaabË
;

498 
	}
}

500 
public
 
£tApsAvaabË
(
Li¡
<
ApDeviû
> 
­sAvaabË
) {

501 
	gMig¿tiÚ
.
	g­sAvaabË
 = 
­sAvaabË
;

504 
public
 
	gLi¡
<
	gFogDeviû
> 
	$g‘S”v”CloudËtsAvaabË
() {

505  
£rv”CloudËtsAvaabË
;

506 
	}
}

508 
public
 
£tS”v”CloudËtsAvaabË
(
Li¡
<
FogDeviû
> 
£rv”CloudËtsAvaabË
) {

509 
	gMig¿tiÚ
.
	g£rv”CloudËtsAvaabË
 = 
£rv”CloudËtsAvaabË
;

512 
public
 
	$g‘PŞicyR•liÿVM
() {

513  
pŞicyR•liÿVM
;

514 
	}
}

516 
public
 
	$£tPŞicyR•liÿVM
(
pŞicyR•liÿVM
) {

517 
Mig¿tiÚ
.
pŞicyR•liÿVM
 =…olicyReplicaVM;

518 
	}
}

	@src/org/fog/vmmigration/MyStatistics.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gjava
.
	gio
.
	gBufã»dWr™”
;

4 
impÜt
 
	gjava
.
	gio
.
	gFe
;

5 
impÜt
 
	gjava
.
	gio
.
	gFeWr™”
;

6 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

7 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

8 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

9 
impÜt
 
	gjava
.
	gut
.
	gM­
;

11 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gTu¶e
;

12 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gTimeK“³r
;

13 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gLogMobe
;

15 
public
 cÏs 
	cMySti¡ics
 {

16 
´iv©e
 
MySti¡ics
 
	mš¡ªû
;

18 
´iv©e
 
	mtÙ®MigTimes
;

19 
´iv©e
 
	mtimeOutAµliÿtiÚ
;

20 
´iv©e
 
	mtÙ®Mig¿tiÚs
;

22 
´iv©e
 
	mmyCouÁLo¡Tu¶e
;

23 
´iv©e
 
	mmyCouÁTÙ®Tu¶e
;

25 
´iv©e
 
SŒšg
 
	mtoPršt
;

26 
´iv©e
 
	mM­
<
	mIÁeg”
,IÁeg”> 
	mmyCouÁ
;

28 
´iv©e
 
FeWr™”
 
	mfeL©’cy
;

29 
´iv©e
 
Bufã»dWr™”
 
	m´štFe
;

30 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mFe
> 
	mfeM­
;

31 
´iv©e
 
	m£ed
;

32 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mtu¶eL©’cy
;

33 
´iv©e
 
	mmyCouÁTu¶e
;

34 
´iv©e
 
	mmyCouÁLowe¡L©’cy
;

35 
´iv©e
 
	mtÙ®Hªdoff
;

37 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mw™houtCÚÃùiÚTime
;

38 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mmaxW™houtCÚÃùiÚTime
;

39 
´iv©e
 
	mav”ageW™houtCÚÃùiÚ
;

40 
´iv©e
 
	mmyCouÁW™houtCÚÃùiÚ
;

41 
´iv©e
 
	mM­
<
	mIÁeg”
,
	mDoubË
> 
	mš™ŸlTimeW™houtCÚÃùiÚ
;

43 
´iv©e
 
	mM­
<
	mIÁeg”
,
	mDoubË
> 
	mš™ŸlTimeD–ayAá”NewCÚÃùiÚ
;

44 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mD–ayAá”NewCÚÃùiÚ
;

45 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mmaxD–ayAá”NewCÚÃùiÚ
;

46 
´iv©e
 
	mav”ageD–ayAá”NewCÚÃùiÚ
;

47 
´iv©e
 
	mmyCouÁD–ayAá”NewCÚÃùiÚ
;

49 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mw™houtVmTime
;

50 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mmaxW™houtVmTime
;

51 
´iv©e
 
	mav”ageW™houtVmTime
;

52 
´iv©e
 
	mmyCouÁW™houtVmTime
;

53 
´iv©e
 
	mM­
<
	mIÁeg”
,
	mDoubË
> 
	mš™ŸlW™houtVmTime
;

55 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mmig¿tiÚTime
;

56 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mmaxMig¿tiÚTime
;

57 
´iv©e
 
	mav”ageMig¿tiÚTime
;

58 
´iv©e
 
	mmyCouÁMig¿tiÚTime
;

63 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	mpow”Hi¡Üy
;

64 
´iv©e
 
	mM­
<
	mIÁeg”
, 
	mDoubË
> 
	m’”gyHi¡Üy
;

66 
public
 
	$MySti¡ics
() {

67 
	`£tTÙ®MigTimes
(0);

68 
	`£tTimeOutAµliÿtiÚ
(0);

69 
	`£tTÙ®Mig¿tiÚs
(0);

70 
	`£tMyCouÁW™houtCÚÃùiÚ
(0);

71 
	`£tMyCouÁW™houtVmTime
(0);

72 
	`£tMyCouÁD–ayAá”NewCÚÃùiÚ
(0);

73 
	`£tMyCouÁMig¿tiÚTime
(0);

74 
	`£tMyCouÁLowe¡L©’cy
(0);

75 
	`£tMyCouÁ
(
Ãw
 
HashM­
<
IÁeg”
, Integer>());

76 
	`£tMyCouÁTÙ®Tu¶e
(0);

77 
	`£tMyCouÁLo¡Tu¶e
(0);

79 
	`£tTu¶eL©’cy
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

80 
this
.
feM­
=
Ãw
 
HashM­
<
IÁeg”
,
Fe
>();

82 
	`£tW™houtCÚÃùiÚTime
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

83 
	`£tW™houtVmTime
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

84 
	`£tD–ayAá”NewCÚÃùiÚ
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

85 
	`£tMig¿tiÚTime
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

87 
	`£tIn™ŸlTimeW™houtCÚÃùiÚ
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

88 
	`£tIn™ŸlW™houtVmTime
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

89 
	`£tIn™ŸlTimeD–ayAá”NewCÚÃùiÚ
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

91 
	`£tMaxW™houtCÚÃùiÚTime
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

92 
	`£tMaxW™houtVmTime
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

93 
	`£tMaxD–ayAá”NewCÚÃùiÚ
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

94 
	`£tMaxMig¿tiÚTime
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());;

96 
	`£tPow”Hi¡Üy
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

97 
	`£tEÃrgyHi¡Üy
(
Ãw
 
HashM­
<
IÁeg”
, 
DoubË
>());

100 
public
 
MySti¡ics
 
	$g‘In¡ªû
(){

101 if(
š¡ªû
 =ğ
nuÎ
)

102 
š¡ªû
 = 
Ãw
 
	`MySti¡ics
();

103  
š¡ªû
;

104 
	}
}

105 
public
 
	$couÁMig¿tiÚ
(){

106 
	`£tTÙ®Mig¿tiÚs
(1);

107 
	}
}

108 
public
 
	$putL©’cyFeV®ue
(
Ï‹ncy
, 
time
, 
SŒšg
 
­pId
, 
sm¬tThšgMyId
, SŒšg 
£rv”CloudËtName
, SŒšg 
tu¶eTy³
) {

109 
Œy
 {

110 
	`£tFeL©’cy
(
Ãw
 
	`FeWr™”
(
	`g‘FeM­
().
	`g‘
(
sm¬tThšgMyId
),
Œue
));

111 
	`£tPrštFe
(
Ãw
 
	`Bufã»dWr™”
(
	`g‘FeL©’cy
()));

112 
i
 = 
	`g‘MyCouÁ
().
	`g‘
(
sm¬tThšgMyId
);

113 
i
++;

114 
	`g‘MyCouÁ
().
	`put
(
sm¬tThšgMyId
, 
i
);

115 
	`g‘PrštFe
().
	`wr™e
(
IÁeg”
.
	`toSŒšg
(
i
)+" - "+
DoubË
.toSŒšg(
time
)+" - "+DoubË.toSŒšg(
Ï‹ncy
)+" - "+
­pId
+ " - sm¬tThšgMyId: "+
sm¬tThšgMyId
+" - "+
£rv”CloudËtName
+" - Tu¶eTy³: - "+ 
tu¶eTy³
);

116 
	`g‘PrštFe
().
	`ÃwLše
();

117 
	`g‘PrštFe
().
	`şo£
();

118 
	`g‘FeL©’cy
().
	`şo£
();

120 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

122 
e
.
	`´štSckT¿û
();

124 
	}
}

125 
public
 
	$putLª‹ncyFeName
(
SŒšg
 
Çme
, 
sm¬tThšgMyId
 ){

126 
Œy
 {

127 
	`£tFeL©’cy
(
Ãw
 
	`FeWr™”
(
	`g‘FeM­
().
	`g‘
(
sm¬tThšgMyId
),
Œue
));

128 
	`£tPrštFe
(
Ãw
 
	`Bufã»dWr™”
(
	`g‘FeL©’cy
()));

129 
	`g‘PrštFe
().
	`wr™e
(
Çme
);

130 
	`g‘PrštFe
().
	`ÃwLše
();

131 
	`g‘PrštFe
().
	`şo£
();

132 
	`g‘FeL©’cy
().
	`şo£
();

134 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

136 
e
.
	`´štSckT¿û
();

138 
	}
}

140 
public
 
	$¡¬tW™houtCÚÃtiÚ
(
id
, 
şock
){

141 
	`g‘In™ŸlTimeW™houtCÚÃùiÚ
().
	`put
(
id
, 
şock
);

142 
	}
}

144 
public
 
	$fš®W™houtCÚÃùiÚ
(
id
, 
şock
){

145 if(
	`g‘In™ŸlTimeW™houtCÚÃùiÚ
().
	`g‘
(
id
)!=
nuÎ
){

146 
d–ay
 = 
şock
 - 
	`g‘In™ŸlTimeW™houtCÚÃùiÚ
().
	`g‘
(
id
);

147 
cÜ»ÁAv”age
 = 
	`g‘Av”ageW™houtCÚÃùiÚ
();

148 
cÜ»ÁCouÁ
 = 
	`g‘MyCouÁW™houtCÚÃùiÚ
() ;

149 
	`g‘W™houtCÚÃùiÚTime
().
	`put
(
id
, 
d–ay
);

150 
	`£tAv”ageW™houtCÚÃùiÚ
((
cÜ»ÁAv”age
*
cÜ»ÁCouÁ
+
d–ay
)/(correntCount+1));

151 if(!
	`g‘MaxW™houtCÚÃùiÚTime
().
	`cÚšsKey
(
id
)){

152 
	`g‘MaxW™houtCÚÃùiÚTime
().
	`put
(
id
, 0.0);

154 if(
d–ay
>
	`g‘MaxW™houtCÚÃùiÚTime
().
	`g‘
(
id
)){

155 
	`g‘MaxW™houtCÚÃùiÚTime
().
	`put
(
id
,
d–ay
);

157 
	`g‘In™ŸlTimeW™houtCÚÃùiÚ
().
	`»move
(
id
);

159 
	}
}

161 
public
 
	$¡¬tW™houtVmTime
(
id
, 
şock
){

162 
	`g‘In™ŸlW™houtVmTime
().
	`put
(
id
, 
şock
);

163 
	}
}

165 
public
 
	$fš®W™houtVmTime
(
id
, 
şock
){

166 if(
	`g‘In™ŸlW™houtVmTime
().
	`g‘
(
id
)!=
nuÎ
){

167 
d–ay
 = 
şock
 - 
	`g‘In™ŸlW™houtVmTime
().
	`g‘
(
id
);

168 
cÜ»ÁAv”age
 = 
	`g‘Av”ageW™houtVmTime
();

169 
cÜ»ÁCouÁ
 = 
	`g‘MyCouÁW™houtVmTime
() ;

170 
LogMobe
.
	`debug
("MySti¡ics.java", "Sm¬tThšg"+
id
+" - W™houtVm: "+
d–ay
);

171 
	`g‘W™houtVmTime
().
	`put
(
id
, 
d–ay
);

172 
	`£tAv”ageW™houtVmTime
((
cÜ»ÁAv”age
*
cÜ»ÁCouÁ
+
d–ay
)/(correntCount+1));

173 if(!
	`g‘MaxW™houtVmTime
().
	`cÚšsKey
(
id
)){

174 
	`g‘MaxW™houtVmTime
().
	`put
(
id
, 0.0);

176 if(
d–ay
>
	`g‘MaxW™houtVmTime
().
	`g‘
(
id
)){

177 
	`g‘MaxW™houtVmTime
().
	`put
(
id
,
d–ay
);

179 
	`g‘In™ŸlW™houtVmTime
().
	`»move
(
id
);

181 
	}
}

184 
public
 
	$¡¬tD–ayAá”NewCÚÃùiÚ
(
id
, 
şock
){

185 
	`g‘In™ŸlTimeD–ayAá”NewCÚÃùiÚ
().
	`put
(
id
, 
şock
);

186 
	}
}

187 
public
 
	$fš®D–ayAá”NewCÚÃùiÚ
(
id
, 
şock
){

188 if(
	`g‘In™ŸlTimeD–ayAá”NewCÚÃùiÚ
().
	`g‘
(
id
)!=
nuÎ
){

189 
d–ay
 = 
şock
 - 
	`g‘In™ŸlTimeD–ayAá”NewCÚÃùiÚ
().
	`g‘
(
id
);

190 
LogMobe
.
	`debug
("MySti¡ics.java", "Sm¬tThšg"+
id
+" - D–ayAá”NewCÚÃùiÚ: "+
d–ay
);

191 
cÜ»ÁAv”age
 = 
	`g‘Av”ageD–ayAá”NewCÚÃùiÚ
();

192 
cÜ»ÁCouÁ
 = 
	`g‘MyCouÁD–ayAá”NewCÚÃùiÚ
() ;

193 
	`g‘D–ayAá”NewCÚÃùiÚ
().
	`put
(
id
, 
d–ay
);

194 
	`£tAv”ageD–ayAá”NewCÚÃùiÚ
((
cÜ»ÁAv”age
*
cÜ»ÁCouÁ
+
d–ay
)/(correntCount+1));

195 if(!
	`g‘MaxD–ayAá”NewCÚÃùiÚ
().
	`cÚšsKey
(
id
)){

196 
	`g‘MaxD–ayAá”NewCÚÃùiÚ
().
	`put
(
id
, 0.0);

198 if(
d–ay
>
	`g‘MaxD–ayAá”NewCÚÃùiÚ
().
	`g‘
(
id
)){

199 
	`g‘MaxD–ayAá”NewCÚÃùiÚ
().
	`put
(
id
,
d–ay
);

201 
	`g‘In™ŸlTimeD–ayAá”NewCÚÃùiÚ
().
	`»move
(
id
);

203 
	}
}

204 
public
 
	$hi¡ÜyMig¿tiÚTime
(
id
, 
time
){

205 
cÜ»ÁAv”age
 = 
	`g‘Av”ageMig¿tiÚTime
();

206 
cÜ»ÁCouÁ
 = 
	`g‘MyCouÁMig¿tiÚTime
();

207 
	`g‘Mig¿tiÚTime
().
	`put
(
id
, 
time
);

208 
	`£tAv”ageMig¿tiÚTime
((
cÜ»ÁAv”age
*
cÜ»ÁCouÁ
+
time
)/(correntCount+1));

209 if(!
	`g‘MaxMig¿tiÚTime
().
	`cÚšsKey
(
id
)){

210 
	`g‘MaxMig¿tiÚTime
().
	`put
(
id
, 0.0);

212 if(
time
> 
	`g‘MaxMig¿tiÚTime
().
	`g‘
(
id
)){

213 
	`g‘MaxMig¿tiÚTime
().
	`put
(
id
,
time
);

215 
	}
}

217 
public
 
	$´štResuÉs
() {

218 
Œy
 {

220 
Fe
 
fe1
 = 
nuÎ
;

221 
Fe
 
fe2
 = 
nuÎ
;

222 
Fe
 
fe3
 = 
nuÎ
;

223 
Fe
 
fe4
 = 
nuÎ
;

224 
Fe
 
fe5
 = 
nuÎ
;

226 
SŒšg
 
Çme1
="./av”ages/w™houtCÚÃùiÚ_"+
	`g‘ToPršt
();

227 
SŒšg
 
Çme2
="./av”ages/w™houtVM_"+
	`g‘ToPršt
();

228 
SŒšg
 
Çme3
="./av”ages/d–ayAá”CÚÃùiÚ_"+
	`g‘ToPršt
();

229 
SŒšg
 
Çme4
="./av”ages/timeOfMig¿tiÚ_"+
	`g‘ToPršt
();

230 
SŒšg
 
Çme5
="./av”ages/®l_"+
	`g‘ToPršt
();

232 
fe1
 = 
Ãw
 
	`Fe
(
Çme1
);

233 
fe2
 = 
Ãw
 
	`Fe
(
Çme2
);

234 
fe3
 = 
Ãw
 
	`Fe
(
Çme3
);

235 
fe4
 = 
Ãw
 
	`Fe
(
Çme4
);

236 
fe5
 = 
Ãw
 
	`Fe
(
Çme5
);

237 if(!
fe1
.
	`exi¡s
()){

238 
fe1
.
	`ü—‹NewFe
();

240 if(!
fe2
.
	`exi¡s
()){

241 
fe2
.
	`ü—‹NewFe
();

243 if(!
fe3
.
	`exi¡s
()){

244 
fe3
.
	`ü—‹NewFe
();

246 if(!
fe4
.
	`exi¡s
()){

247 
fe4
.
	`ü—‹NewFe
();

250 if(!
fe5
.
	`exi¡s
()){

251 
fe5
.
	`ü—‹NewFe
();

259 
FeWr™”
 
feWr™”1
 = 
Ãw
 
	`FeWr™”
(
Çme1
,
Œue
);

260 
FeWr™”
 
feWr™”2
 = 
Ãw
 
	`FeWr™”
(
Çme2
,
Œue
);

261 
FeWr™”
 
feWr™”3
 = 
Ãw
 
	`FeWr™”
(
Çme3
,
Œue
);

262 
FeWr™”
 
feWr™”4
 = 
Ãw
 
	`FeWr™”
(
Çme4
,
Œue
);

263 
FeWr™”
 
feWr™”5
 = 
Ãw
 
	`FeWr™”
(
Çme5
,
Œue
);

264 
Bufã»dWr™”
 
bufãr1
 = 
Ãw
 
	`Bufã»dWr™”
(
feWr™”1
);

265 
Bufã»dWr™”
 
bufãr2
 = 
Ãw
 
	`Bufã»dWr™”
(
feWr™”2
);

266 
Bufã»dWr™”
 
bufãr3
 = 
Ãw
 
	`Bufã»dWr™”
(
feWr™”3
);

267 
Bufã»dWr™”
 
bufãr4
 = 
Ãw
 
	`Bufã»dWr™”
(
feWr™”4
);

268 
Bufã»dWr™”
 
bufãr5
 = 
Ãw
 
	`Bufã»dWr™”
(
feWr™”5
);

270 
bufãr1
.
	`wr™e
(
DoubË
.
	`toSŒšg
(
	`g‘Av”ageW™houtCÚÃùiÚ
())+" "+
IÁeg”
.toSŒšg(
	`g‘S“d
()));

271 
bufãr2
.
	`wr™e
(
DoubË
.
	`toSŒšg
(
	`g‘Av”ageW™houtVmTime
())+" "+
IÁeg”
.toSŒšg(
	`g‘S“d
()));

272 
bufãr3
.
	`wr™e
(
DoubË
.
	`toSŒšg
(
	`g‘Av”ageD–ayAá”NewCÚÃùiÚ
())+" "+
IÁeg”
.toSŒšg(
	`g‘S“d
()));

273 
bufãr4
.
	`wr™e
(
DoubË
.
	`toSŒšg
(
	`g‘Av”ageMig¿tiÚTime
())+" "+
IÁeg”
.toSŒšg(
	`g‘S“d
()));

274 
bufãr5
.
	`wr™e
(
DoubË
.
	`toSŒšg
(
	`g‘Av”ageW™houtCÚÃùiÚ
())+" "+

275 
DoubË
.
	`toSŒšg
(
	`g‘Av”ageW™houtVmTime
())+" "+

276 
DoubË
.
	`toSŒšg
(
	`g‘Av”ageD–ayAá”NewCÚÃùiÚ
())+" "+

277 
DoubË
.
	`toSŒšg
(
	`g‘Av”ageMig¿tiÚTime
())+" "+

278 
IÁeg”
.
	`toSŒšg
(
	`g‘TÙ®Mig¿tiÚs
()) +" "+

279 
IÁeg”
.
	`toSŒšg
(
	`g‘TÙ®Hªdoff
())+" "+

280 
IÁeg”
.
	`toSŒšg
(
	`g‘S“d
()));

282 
bufãr1
.
	`ÃwLše
();

283 
bufãr2
.
	`ÃwLše
();

284 
bufãr3
.
	`ÃwLše
();

285 
bufãr4
.
	`ÃwLše
();

286 
bufãr5
.
	`ÃwLše
();

288 
bufãr1
.
	`şo£
();

289 
bufãr2
.
	`şo£
();

290 
bufãr3
.
	`şo£
();

291 
bufãr4
.
	`şo£
();

292 
bufãr5
.
	`şo£
();

294 
feWr™”1
.
	`şo£
();

295 
feWr™”2
.
	`şo£
();

296 
feWr™”3
.
	`şo£
();

297 
feWr™”4
.
	`şo£
();

298 
feWr™”5
.
	`şo£
();

300 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

302 
e
.
	`´štSckT¿û
();

305 
	}
}

309 
public
 
	$g‘TÙ®MigTimes
() {

310  
tÙ®MigTimes
;

311 
	}
}

313 
public
 
	$£tTÙ®MigTimes
(
tÙ®MigTimes
) {

314 
this
.
tÙ®MigTimes
 +=otalMigTimes;

315 
	}
}

317 
public
 
	$g‘TimeOutAµliÿtiÚ
() {

318  
timeOutAµliÿtiÚ
;

319 
	}
}

321 
public
 
	$£tTimeOutAµliÿtiÚ
(
timeOutAµliÿtiÚ
) {

322 
this
.
timeOutAµliÿtiÚ
 =imeOutApplication;

323 
	}
}

325 
public
 
	$g‘TÙ®Mig¿tiÚs
() {

326  
tÙ®Mig¿tiÚs
;

327 
	}
}

329 
public
 
	$£tTÙ®Mig¿tiÚs
(
tÙ®Mig¿tiÚs
) {

330 
this
.
tÙ®Mig¿tiÚs
 +=otalMigrations;

331 
	}
}

333 
public
 
	$£tIn¡ªû
(
MySti¡ics
 
š¡ªû
) {

334 
MySti¡ics
.
š¡ªû
 = instance;

335 
	}
}

336 
public
 
FeWr™”
 
	$g‘FeL©’cy
() {

337  
feL©’cy
;

338 
	}
}

339 
public
 
	$£tFeL©’cy
(
FeWr™”
 
feL©’cy
) {

340 
this
.
feL©’cy
 = fileLatency;

341 
	}
}

344 
public
 
	$£tPrštFe
(
Bufã»dWr™”
 
´štFe
) {

345 
this
.
´štFe
 =…rintFile;

346 
	}
}

347 
public
 
Bufã»dWr™”
 
	$g‘PrštFe
() {

348  
´štFe
;

349 
	}
}

354 
public
 
	gM­
<
	gIÁeg”
, 
	gFe
> 
	$g‘FeM­
() {

355  
feM­
;

356 
	}
}

357 
public
 
	$£tFeM­
(
SŒšg
 
Çme
, 
id
) {

359 
Fe
 
fe
 = 
Ãw
 
	`Fe
(
Çme
);

360 
this
.
feM­
.
	`put
(
id
, 
fe
);

362 
	`g‘FeM­
().
	`g‘
(
id
).
	`d–‘e
();

363 
Œy
 {

365 
	`g‘FeM­
().
	`g‘
(
id
).
	`ü—‹NewFe
();

367 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

369 
e
.
	`´štSckT¿û
();

371 
	}
}

382 
public
 
	$g‘S“d
() {

383  
£ed
;

384 
	}
}

385 
public
 
	$£tS“d
(
£ed
) {

386 
this
.
£ed
 = seed;

387 
	}
}

388 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘Tu¶eL©’cy
() {

389  
tu¶eL©’cy
;

390 
	}
}

391 
public
 
£tTu¶eL©’cy
(
M­
<
IÁeg”
, 
DoubË
> 
tu¶eL©’cy
) {

392 
	gthis
.
	gtu¶eL©’cy
 = 
tu¶eL©’cy
;

394 
public
 
	$g‘MyCouÁTu¶e
() {

395  ++
myCouÁTu¶e
;

396 
	}
}

397 
public
 
	$£tMyCouÁTu¶e
(
myCouÁTu¶e
) {

398 
this
.
myCouÁTu¶e
 = myCountTuple;

399 
	}
}

400 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘W™houtCÚÃùiÚTime
() {

401  
w™houtCÚÃùiÚTime
;

402 
	}
}

403 
public
 
£tW™houtCÚÃùiÚTime
(
M­
<
IÁeg”
, 
DoubË
> 
w™houtCÚÃùiÚTime
) {

404 
	gthis
.
	gw™houtCÚÃùiÚTime
 = 
w™houtCÚÃùiÚTime
;

406 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘In™ŸlTimeW™houtCÚÃùiÚ
() {

407  
š™ŸlTimeW™houtCÚÃùiÚ
;

408 
	}
}

409 
public
 
£tIn™ŸlTimeW™houtCÚÃùiÚ
(
M­
<
IÁeg”
, 
DoubË
> 
š™ŸlTimeW™houtCÚÃùiÚ
) {

410 
	gthis
.
	gš™ŸlTimeW™houtCÚÃùiÚ
 = 
š™ŸlTimeW™houtCÚÃùiÚ
;

412 
public
 
	$g‘Av”ageW™houtCÚÃùiÚ
() {

413  
av”ageW™houtCÚÃùiÚ
;

414 
	}
}

415 
public
 
	$£tAv”ageW™houtCÚÃùiÚ
(
av”ageW™houtCÚÃùiÚ
) {

416 
this
.
av”ageW™houtCÚÃùiÚ
 =‡verageWithoutConnection;

417 
	}
}

418 
public
 
	$g‘MyCouÁW™houtCÚÃùiÚ
() {

419  
myCouÁW™houtCÚÃùiÚ
++;

420 
	}
}

421 
public
 
	$£tMyCouÁW™houtCÚÃùiÚ
(
myCouÁW™houtCÚÃùiÚ
) {

422 
this
.
myCouÁW™houtCÚÃùiÚ
 = myCountWithoutConnection;

423 
	}
}

424 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘Pow”Hi¡Üy
() {

425  
pow”Hi¡Üy
;

426 
	}
}

427 
public
 
£tPow”Hi¡Üy
(
M­
<
IÁeg”
, 
DoubË
> 
pow”Hi¡Üy
) {

428 
	gthis
.
	gpow”Hi¡Üy
 = 
pow”Hi¡Üy
;

430 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘EÃrgyHi¡Üy
() {

431  
’”gyHi¡Üy
;

432 
	}
}

433 
public
 
£tEÃrgyHi¡Üy
(
M­
<
IÁeg”
, 
DoubË
> 
’”gyHi¡Üy
) {

434 
	gthis
.
	g’”gyHi¡Üy
 = 
’”gyHi¡Üy
;

436 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘MaxW™houtCÚÃùiÚTime
() {

437  
maxW™houtCÚÃùiÚTime
;

438 
	}
}

439 
public
 
£tMaxW™houtCÚÃùiÚTime
(

440 
M­
<
IÁeg”
, 
DoubË
> 
maxW™houtCÚÃùiÚTime
) {

441 
	gthis
.
	gmaxW™houtCÚÃùiÚTime
 = 
maxW™houtCÚÃùiÚTime
;

443 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘In™ŸlTimeD–ayAá”NewCÚÃùiÚ
() {

444  
š™ŸlTimeD–ayAá”NewCÚÃùiÚ
;

445 
	}
}

446 
public
 
£tIn™ŸlTimeD–ayAá”NewCÚÃùiÚ
(

447 
M­
<
IÁeg”
, 
DoubË
> 
š™ŸlTimeD–ayAá”NewCÚÃùiÚ
) {

448 
	gthis
.
	gš™ŸlTimeD–ayAá”NewCÚÃùiÚ
 = 
š™ŸlTimeD–ayAá”NewCÚÃùiÚ
;

450 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘D–ayAá”NewCÚÃùiÚ
() {

451  
D–ayAá”NewCÚÃùiÚ
;

452 
	}
}

453 
public
 
£tD–ayAá”NewCÚÃùiÚ
(

454 
M­
<
IÁeg”
, 
DoubË
> 
d–ayAá”NewCÚÃùiÚ
) {

455 
	gD–ayAá”NewCÚÃùiÚ
 = 
d–ayAá”NewCÚÃùiÚ
;

457 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘MaxD–ayAá”NewCÚÃùiÚ
() {

458  
maxD–ayAá”NewCÚÃùiÚ
;

459 
	}
}

460 
public
 
£tMaxD–ayAá”NewCÚÃùiÚ
(

461 
M­
<
IÁeg”
, 
DoubË
> 
maxD–ayAá”NewCÚÃùiÚ
) {

462 
	gthis
.
	gmaxD–ayAá”NewCÚÃùiÚ
 = 
maxD–ayAá”NewCÚÃùiÚ
;

464 
public
 
	$g‘Av”ageD–ayAá”NewCÚÃùiÚ
() {

465  
av”ageD–ayAá”NewCÚÃùiÚ
;

466 
	}
}

467 
public
 
	$£tAv”ageD–ayAá”NewCÚÃùiÚ
(

468 
av”ageD–ayAá”NewCÚÃùiÚ
) {

469 
this
.
av”ageD–ayAá”NewCÚÃùiÚ
 =‡verageDelayAfterNewConnection;

470 
	}
}

471 
public
 
	$g‘MyCouÁD–ayAá”NewCÚÃùiÚ
() {

472  
myCouÁD–ayAá”NewCÚÃùiÚ
++;

473 
	}
}

474 
public
 
	$£tMyCouÁD–ayAá”NewCÚÃùiÚ
(
myCouÁD–ayAá”NewCÚÃùiÚ
) {

475 
this
.
myCouÁD–ayAá”NewCÚÃùiÚ
 = myCountDelayAfterNewConnection;

476 
	}
}

477 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘W™houtVmTime
() {

478  
w™houtVmTime
;

479 
	}
}

480 
public
 
£tW™houtVmTime
(
M­
<
IÁeg”
, 
DoubË
> 
w™houtVmTime
) {

481 
	gthis
.
	gw™houtVmTime
 = 
w™houtVmTime
;

483 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘MaxW™houtVmTime
() {

484  
maxW™houtVmTime
;

485 
	}
}

486 
public
 
£tMaxW™houtVmTime
(
M­
<
IÁeg”
, 
DoubË
> 
maxW™houtVmTime
) {

487 
	gthis
.
	gmaxW™houtVmTime
 = 
maxW™houtVmTime
;

489 
public
 
	$g‘Av”ageW™houtVmTime
() {

490  
av”ageW™houtVmTime
;

491 
	}
}

492 
public
 
	$£tAv”ageW™houtVmTime
(
av”ageW™houtVmTime
) {

493 
this
.
av”ageW™houtVmTime
 =‡verageWithoutVmTime;

494 
	}
}

495 
public
 
	$g‘MyCouÁW™houtVmTime
() {

496  
myCouÁW™houtVmTime
++;

497 
	}
}

498 
public
 
	$£tMyCouÁW™houtVmTime
(
myCouÁW™houtVmTime
) {

499 
this
.
myCouÁW™houtVmTime
 = myCountWithoutVmTime;

500 
	}
}

501 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘In™ŸlW™houtVmTime
() {

502  
š™ŸlW™houtVmTime
;

503 
	}
}

504 
public
 
£tIn™ŸlW™houtVmTime
(
M­
<
IÁeg”
, 
DoubË
> 
š™ŸlW™houtVmTime
) {

505 
	gthis
.
	gš™ŸlW™houtVmTime
 = 
š™ŸlW™houtVmTime
;

507 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘Mig¿tiÚTime
() {

508  
mig¿tiÚTime
;

509 
	}
}

510 
public
 
£tMig¿tiÚTime
(
M­
<
IÁeg”
, 
DoubË
> 
mig¿tiÚTime
) {

511 
	gthis
.
	gmig¿tiÚTime
 = 
mig¿tiÚTime
;

513 
public
 
	gM­
<
	gIÁeg”
, 
	gDoubË
> 
	$g‘MaxMig¿tiÚTime
() {

514  
maxMig¿tiÚTime
;

515 
	}
}

516 
public
 
£tMaxMig¿tiÚTime
(
M­
<
IÁeg”
, 
DoubË
> 
maxMig¿tiÚTime
) {

517 
	gthis
.
	gmaxMig¿tiÚTime
 = 
maxMig¿tiÚTime
;

519 
public
 
	$g‘Av”ageMig¿tiÚTime
() {

520  
av”ageMig¿tiÚTime
;

521 
	}
}

522 
public
 
	$£tAv”ageMig¿tiÚTime
(
av”ageMig¿tiÚTime
) {

523 
this
.
av”ageMig¿tiÚTime
 =‡verageMigrationTime;

524 
	}
}

525 
public
 
	$g‘MyCouÁMig¿tiÚTime
() {

526  
myCouÁMig¿tiÚTime
++;

527 
	}
}

528 
public
 
	$£tMyCouÁMig¿tiÚTime
(
myCouÁMig¿tiÚTime
) {

529 
this
.
myCouÁMig¿tiÚTime
 = myCountMigrationTime;

530 
	}
}

531 
public
 
SŒšg
 
	$g‘ToPršt
() {

532  
toPršt
;

533 
	}
}

534 
public
 
	$£tToPršt
(
SŒšg
 
toPršt
) {

535 
this
.
toPršt
 =oPrint;

536 
	}
}

537 
public
 
	$g‘MyCouÁLowe¡L©’cy
() {

538  
myCouÁLowe¡L©’cy
;

539 
	}
}

540 
public
 
	$£tMyCouÁLowe¡L©’cy
(
myCouÁLowe¡L©’cy
) {

541 
this
.
myCouÁLowe¡L©’cy
 += myCountLowestLatency;

542 
	}
}

543 
public
 
	$g‘TÙ®Hªdoff
() {

544  
tÙ®Hªdoff
;

545 
	}
}

546 
public
 
	$£tTÙ®Hªdoff
(
tÙ®Hªdoff
) {

547 
this
.
tÙ®Hªdoff
 +=otalHandoff;

548 
	}
}

550 
public
 
£tMyCouÁ
(
M­
<
IÁeg”
, IÁeg”> 
myCouÁ
) {

551 
	gthis
.
	gmyCouÁ
 = 
myCouÁ
;

553 
public
 
	gM­
<
	gIÁeg”
, IÁeg”> 
	$g‘MyCouÁ
() {

554  
myCouÁ
;

555 
	}
}

556 
public
 
	$g‘MyCouÁLo¡Tu¶e
() {

557  
myCouÁLo¡Tu¶e
;

558 
	}
}

559 
public
 
	$£tMyCouÁLo¡Tu¶e
(
myCouÁLo¡Tu¶e
) {

560 
this
.
myCouÁLo¡Tu¶e
 += myCountLostTuple;

561 
	}
}

562 
public
 
	$g‘MyCouÁTÙ®Tu¶e
() {

563  
myCouÁTÙ®Tu¶e
;

564 
	}
}

565 
public
 
	$£tMyCouÁTÙ®Tu¶e
(
myCouÁTÙ®Tu¶e
) {

566 
this
.
myCouÁTÙ®Tu¶e
 += myCountTotalTuple;

567 
	}
}

	@src/org/fog/vmmigration/NextStep.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gjava
.
	gio
.
	gBufã»dWr™”
;

4 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

5 
impÜt
 
	gjava
.
	gio
.
	gFeOuutSŒ—m
;

6 
impÜt
 
	gjava
.
	gio
.
	gFeWr™”
;

7 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

8 
impÜt
 
	gjava
.
	gio
.
	gOuutSŒ—mWr™”
;

9 
impÜt
 
	gjava
.
	gio
.
	gPrštWr™”
;

10 
impÜt
 
	gjava
.
	gio
.
	gUnsuµÜ‹dEncodšgExû±iÚ
;

11 
impÜt
 
	gjava
.
	gio
.
	gWr™”
;

12 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gQueue
;

14 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

17 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.*;

18 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gCoÜdš©e
;

19 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gAµExem¶o2
;

20 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gLogMobe
;

21 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gDœeùiÚs
;

22 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMaxAndMš
;

23 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gPŞic›s
;

25 
public
 cÏs 
	cNextS‹p
 {

36 
´iv©e
 
	$§veMob™y
(
MobeDeviû
 
¡
){

37 
Sy¡em
.
out
.
	`´šn
(
¡
.
	`g‘MyId
(è+ " Pos™iÚ: " + st.
	`g‘CoÜd
().
	`g‘CoÜdX
(è+ ", " + st.g‘CoÜd().
	`g‘CoÜdY
(è+ " DœeùiÚ: " + st.
	`g‘DœeùiÚ
(è+ " S³ed: " + st.
	`g‘S³ed
());

38 
Sy¡em
.
out
.
	`´šn
("Sourû AP: " + 
¡
.
	`g‘SourûAp
(è+ " De¡ AP: " + st.
	`g‘De¡š©iÚAp
(è+ " Ho¡: " + st.
	`g‘Ho¡
().
	`g‘Id
());

39 
	`Œy
(
FeWr™”
 
fw
 = 
Ãw
 
	`FeWr™”
(
¡
.
	`g‘MyId
()+"rou‹.txt", 
Œue
);

40 
Bufã»dWr™”
 
bw
 = 
Ãw
 
	`Bufã»dWr™”
(
fw
);

41 
PrštWr™”
 
out
 = 
Ãw
 
	`PrštWr™”
(
bw
))

43 
out
.
	`´šn
(
¡
.
	`g‘MyId
(è+ "\t" + st.
	`g‘CoÜd
().
	`g‘CoÜdX
(è+ "\t" + st.g‘CoÜd().
	`g‘CoÜdY
(è+ "\t" + st.
	`g‘DœeùiÚ
(è+ "\t" + st.
	`g‘S³ed
());

45 
	`ÿtch
 (
UnsuµÜ‹dEncodšgExû±iÚ
 
e
) {

47 
e
.
	`´štSckT¿û
();

49 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

51 
e
.
	`´štSckT¿û
();

53 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

55 
e
.
	`´štSckT¿û
();

59 
public
 
	`ÃxtS‹p
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
, Li¡<
ApDeviû
> 
­Deviûs
, Li¡<
MobeDeviû
> 
sm¬tThšgs
,

60 
Queue
<
SŒšg
[]> 
q
, 
CoÜdš©e
 
coÜdDeviûs
, 
¡•PŞicy
, 
£ed
) {

61 
MobeDeviû
 
¡
=
nuÎ
;

62 
CoÜdš©e
 
coÜdš©e
 = 
Ãw
 
	`CoÜdš©e
();

63 
i
 = 0;i<
sm¬tThšgs
.
	`size
();i++){

64 
¡
=
sm¬tThšgs
.
	`g‘
(
i
);

69 if((
¡
.
	`g‘DœeùiÚ
()!=
DœeùiÚs
.
NONE
)){

70 
coÜdš©e
.
	`ÃwCoÜdš©e
(
¡
, 
q
);

73 if(
¡
.
	`g‘CoÜd
().
	`g‘CoÜdX
()==-1){

75 if(
¡
.
	`g‘SourûS”v”CloudËt
()!=
nuÎ
){

76 
j
=0,
šdexCloud
=0;

77 
FogDeviû
 
sc
:
£rv”CloudËts
){

78 if(
¡
.
	`g‘SourûS”v”CloudËt
().
	`equ®s
(
sc
)){

79 
šdexCloud
=
j
;

82 
j
++;

85 
£rv”CloudËts
.
	`g‘
(
šdexCloud
).
	`g‘Sm¬tThšgs
().
	`»move
(
¡
);

87 
j
=0;

88 
šdexAp
=0;

89 
ApDeviû
 
­
:
­Deviûs
){

90 if(
¡
.
	`g‘SourûAp
().
	`equ®s
(
­
)){

91 
šdexAp
=
j
;

94 
j
++;

97 
­Deviûs
.
	`g‘
(
šdexAp
).
	`g‘Sm¬tThšgs
().
	`»move
(
¡
);

99 
¡
.
	`£tSourûAp
(
nuÎ
);

100 
¡
.
	`£tSourûS”v”CloudËt
(
nuÎ
);

102 
¡
.
	`£tMigStus
(
çl£
);

109 if(
¡
.
	`g‘SourûAp
()==
nuÎ
){

110 
sm¬tThšgs
.
	`»move
(
¡
);

111 
LogMobe
.
	`debug
("NextS‹p.java", 
¡
.
	`g‘Name
()+" was„emoved!");

114 
¡
.
	`g‘SourûS”v”CloudËt
().
	`£tSm¬tThšgs
(¡, 
PŞic›s
.
REMOVE
);

115 
¡
.
	`g‘SourûAp
().
	`£tSm¬tThšgs
(¡, 
PŞic›s
.
REMOVE
);

116 
LogMobe
.
	`debug
("NextS‹p.java", 
¡
.
	`g‘Name
()+" was„emoved!");

117 
sm¬tThšgs
.
	`»move
(
¡
);

121 
	`§veMob™y
(
¡
);

156 
	}
}

	@src/org/fog/vmmigration/PrepareCompleteVM.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gN‘wÜkTİŞogy
;

4 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

5 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

6 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gN‘wÜkU§geMÚ™Ü
;

8 
public
 cÏs 
	cP»·»Com¶‘eVM
 
im¶em’ts
 
	mBefÜeMig¿tiÚ
 {

9 
´iv©e
 
	mtimeToO³nCÚÃùiÚ
 = 0.0;

10 @
Ov”ride


11 
public
 
	$d©­»·»
(
MobeDeviû
 
sm¬tThšg
) {

13 
FogDeviû
 
scSourû
 = 
sm¬tThšg
.
	`g‘SourûAp
().
	`g‘S”v”CloudËt
();

14 if(
	`İ’CÚÃùiÚ
(
scSourû
, 
sm¬tThšg
.
	`g‘De¡š©iÚS”v”CloudËt
())){

15 
d–ayProûss
 = 
scSourû
.
	`g‘Ch¬aù”i¡ics
().

16 
	`g‘CpuTime
((
sm¬tThšg
.
	`g‘VmMobeDeviû
().
	`g‘Size
()*1024*1024*8), 0.0)

17 +
	`g‘TimeToO³nCÚÃùiÚ
();

18  
d–ayProûss
;

25 @
Ov”ride


26 
public
 
boŞ—n
 
	$İ’CÚÃùiÚ
(
FogDeviû
 
sourûS”v”CloudËt
,

27 
FogDeviû
 
de¡š©iÚS”v”CloudËt
) {

29 
i
 = 0; i<3 ; i++){

30 if(
	`ŒyO³nCÚÃùiÚ
()){

31 
	`£tTimeToO³nCÚÃùiÚ
(
	`g‘TimeToO³nCÚÃùiÚ
()+10.0);

32 
d–ay
 = 
N‘wÜkTİŞogy
.
	`g‘D–ay
(
sourûS”v”CloudËt
.
	`g‘Id
(), 
de¡š©iÚS”v”CloudËt
.getId());

34  
Œue
;

38 
	`£tTimeToO³nCÚÃùiÚ
(
	`g‘TimeToO³nCÚÃùiÚ
()+30.0);

41  
çl£
;

42 
	}
}

43 @
Ov”ride


44 
public
 
boŞ—n
 
	$ŒyO³nCÚÃùiÚ
() {

46  
Œue
;

47 
	}
}

49 
public
 
	$g‘TimeToO³nCÚÃùiÚ
() {

50  
timeToO³nCÚÃùiÚ
;

51 
	}
}

53 
public
 
	$£tTimeToO³nCÚÃùiÚ
(
timeToO³nCÚÃùiÚ
) {

54 
this
.
timeToO³nCÚÃùiÚ
 =imeToOpenConnection;

55 
	}
}

	@src/org/fog/vmmigration/PrepareContainerVM.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

4 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

5 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMaxAndMš
;

7 
public
 cÏs 
	cP»·»CÚš”VM
 
im¶em’ts
 
	mBefÜeMig¿tiÚ
 {

9 
´iv©e
 
	mtimeToO³nCÚÃùiÚ
 = 0.0;

10 @
Ov”ride


11 
public
 
	$d©­»·»
(
MobeDeviû
 
sm¬tThšg
) {

14 
FogDeviû
 
scSourû
 = 
sm¬tThšg
.
	`g‘SourûAp
().
	`g‘S”v”CloudËt
();

15 if(
	`İ’CÚÃùiÚ
(
scSourû
, 
sm¬tThšg
.
	`g‘De¡š©iÚS”v”CloudËt
())){

16 
d–ayProûss
 = 
scSourû
.
	`g‘Ch¬aù”i¡ics
().

17 
	`g‘CpuTime
((
sm¬tThšg
.
	`g‘VmMobeDeviû
().
	`g‘Size
()*1024*1024*8)*
MaxAndMš
.
PROCESS_CONTAINER
, 0.0)

18 +
	`g‘TimeToO³nCÚÃùiÚ
();

19  
d–ayProûss
;

26 @
Ov”ride


27 
public
 
boŞ—n
 
	$İ’CÚÃùiÚ
(
FogDeviû
 
sourûS”v”CloudËt
,

28 
FogDeviû
 
de¡š©iÚS”v”CloudËt
) {

29 
i
 = 0; i<5 ; i++){

30 if(
	`ŒyO³nCÚÃùiÚ
()){

31 
	`£tTimeToO³nCÚÃùiÚ
(
	`g‘TimeToO³nCÚÃùiÚ
()+10.0);

32  
Œue
;

36 
	`£tTimeToO³nCÚÃùiÚ
(
	`g‘TimeToO³nCÚÃùiÚ
()+30.0);

39  
çl£
;

40 
	}
}

42 
public
 
	$g‘TimeToO³nCÚÃùiÚ
() {

43  
timeToO³nCÚÃùiÚ
;

44 
	}
}

46 
public
 
	$£tTimeToO³nCÚÃùiÚ
(
timeToO³nCÚÃùiÚ
) {

47 
this
.
timeToO³nCÚÃùiÚ
 =imeToOpenConnection;

48 
	}
}

50 @
Ov”ride


51 
public
 
boŞ—n
 
	$ŒyO³nCÚÃùiÚ
() {

53  
Œue
;

54 
	}
}

	@src/org/fog/vmmigration/PrepareLiveMigration.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

4 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

6 
public
 cÏs 
	cP»·»LiveMig¿tiÚ
 
im¶em’ts
 
	mBefÜeMig¿tiÚ
 {

7 
´iv©e
 
	mtimeToO³nCÚÃùiÚ
 = 0.0;

8 @
Ov”ride


9 
public
 
	$d©­»·»
(
MobeDeviû
 
sm¬tThšg
) {

12 
FogDeviû
 
scSourû
 = 
sm¬tThšg
.
	`g‘SourûAp
().
	`g‘S”v”CloudËt
();

13 if(
	`İ’CÚÃùiÚ
(
scSourû
, 
sm¬tThšg
.
	`g‘De¡š©iÚS”v”CloudËt
())){

14 
d–ayProûss
 = 
scSourû
.
	`g‘Ch¬aù”i¡ics
().

15 
	`g‘CpuTime
((
sm¬tThšg
.
	`g‘VmMobeDeviû
().
	`g‘Size
()*1024*1024*8), 0.0)

16 +
	`g‘TimeToO³nCÚÃùiÚ
();

17  
d–ayProûss
;

23 @
Ov”ride


24 
public
 
boŞ—n
 
	$İ’CÚÃùiÚ
(
FogDeviû
 
sourûS”v”CloudËt
,

25 
FogDeviû
 
de¡š©iÚS”v”CloudËt
) {

27 
i
 = 0; i<5 ; i++){

28 if(
	`ŒyO³nCÚÃùiÚ
()){

29 
	`£tTimeToO³nCÚÃùiÚ
(
	`g‘TimeToO³nCÚÃùiÚ
()+10.0);

30  
Œue
;

34 
	`£tTimeToO³nCÚÃùiÚ
(
	`g‘TimeToO³nCÚÃùiÚ
()+30.0);

37  
çl£
;

38 
	}
}

39 
public
 
	$jaque
(){

41 
	}
}

42 @
Ov”ride


43 
public
 
boŞ—n
 
	$ŒyO³nCÚÃùiÚ
() {

45  
Œue
;

46 
	}
}

48 
public
 
	$g‘TimeToO³nCÚÃùiÚ
() {

49  
timeToO³nCÚÃùiÚ
;

50 
	}
}

52 
public
 
	$£tTimeToO³nCÚÃùiÚ
(
timeToO³nCÚÃùiÚ
) {

53 
this
.
timeToO³nCÚÃùiÚ
 =imeToOpenConnection;

54 
	}
}

	@src/org/fog/vmmigration/Service.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
public
 cÏs 
	cS”viû
 {

4 
´iv©e
 
	mty³
;

5 
´iv©e
 
	mv®ue
;

7 
public
 
	$S”viû
() {

11 
public
 
	$g‘Ty³
() {

12  
ty³
;

13 
	}
}

15 
public
 
	$£tTy³
(
ty³
) {

16 
this
.
ty³
 =ype;

17 
	}
}

19 
public
 
	$g‘V®ue
() {

20  
v®ue
;

21 
	}
}

23 
public
 
	$£tV®ue
(
v®ue
) {

24 
this
.
v®ue
 = value;

25 
	}
}

	@src/org/fog/vmmigration/ServiceAgreement.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

4 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

5 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gS”viûs
;

7 
public
 cÏs 
	cS”viûAg»em’t
 {

8 
´iv©e
 
	m£rviûTy³
;

9 
´iv©e
 
	m£rviûV®ue
;

11 
public
 
boŞ—n
 
	$£rviûAg»em’t
(
FogDeviû
 
£rv”CloudËt
, 
MobeDeviû
 
sm¬tThšg
){

12 
	`£tS”viûTy³
(
£rv”CloudËt
.
	`g‘S”viû
().
	`g‘Ty³
());

14 if(!
	`checkLškStus
(
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
(), 
£rv”CloudËt
)){

16  
çl£
;

18 if(!
£rv”CloudËt
.
	`isAvaabË
()){

20  
çl£
;

22 if(
	`g‘S”viûTy³
(è=ğ
S”viûs
.
PRIVATE
){

23 
sm¬tThšg
.
	`£tDe¡š©iÚS”v”CloudËt
(
£rv”CloudËt
);

25  
Œue
;

27 if(
	`g‘S”viûTy³
(è=ğ
S”viûs
.
HIBRID
){

28 
sm¬tThšg
.
	`£tDe¡š©iÚS”v”CloudËt
(
£rv”CloudËt
);

30  
Œue
;

32 if(
	`g‘S”viûTy³
(è=ğ
S”viûs
.
PUBLIC
){

33 
	`£tS”viûV®ue
(
£rv”CloudËt
.
	`g‘S”viû
().
	`g‘V®ue
());

34 if(
	`g‘S”viûV®ue
(è<ğ
sm¬tThšg
.
	`g‘MaxS”viûV®ue
()){

35 
sm¬tThšg
.
	`£tDe¡š©iÚS”v”CloudËt
(
£rv”CloudËt
);

37  
Œue
;

40 
Sy¡em
.
out
.
	`´šn
("Thv®ui ex³nsivfÜh"+
£rv”CloudËt
.
	`g‘Name
());

41 
Sy¡em
.
out
.
	`´šn
(
sm¬tThšg
.
	`g‘Name
()+": Sourû "+sm¬tThšg.
	`g‘SourûS”v”CloudËt
().getName()+

42 " - LoÿlVm "+
sm¬tThšg
.
	`g‘VmLoÿlS”v”CloudËt
().
	`g‘Name
());

43  
çl£
;

47 
Sy¡em
.
out
.
	`´šn
("ServiceAgreement.java - Nao…ode…assar‡qui!");

48 
Sy¡em
.
	`ex™
(0);

49  
çl£
;

52 
public
 
boŞ—n
 
	$checkLškStus
 (
FogDeviû
 
sourûS”v”CloudËt
, FogDeviû 
de¡š©iÚS”v”CloudËt
){

54 if(
sourûS”v”CloudËt
.
	`g‘N‘S”v”CloudËts
().
	`g‘
(
de¡š©iÚS”v”CloudËt
)!=
nuÎ
){

55  
Œue
;

58  
çl£
;

60 
	}
}

61 
public
 
	$g‘S”viûTy³
() {

62  
£rviûTy³
;

63 
	}
}

65 
public
 
	$£tS”viûTy³
(
£rviûTy³
) {

66 
S”viûAg»em’t
.
£rviûTy³
 = serviceType;

67 
	}
}

69 
public
 
	$g‘S”viûV®ue
() {

70  
£rviûV®ue
;

71 
	}
}

73 
public
 
	$£tS”viûV®ue
(
£rviûV®ue
) {

74 
S”viûAg»em’t
.
£rviûV®ue
 = serviceValue;

75 
	}
}

	@src/org/fog/vmmigration/VmMigrationTechnique.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
;

3 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

5 
public
 
š‹rçû
 
	gVmMig¿tiÚTechnique
 {

7 
public
 
v”ifyPošts
(
MobeDeviû
 
sm¬tThšg
, 
»ÏtivePos™iÚ
);

8 
public
 
mig¿tiÚTimeFunùiÚ
(
vmSize
, 
bªdwidth
);

9 
public
 
boŞ—n
 
migPoštPŞicyFunùiÚ
(
pŞicy
, 
MobeDeviû
 
sm¬tThšg
);

10 
public
 
boŞ—n
 
mig¿tiÚPoštFunùiÚ
(
di¡ªû
, 
migTime
, 
¥“d
);

11 
public
 
boŞ—n
 
mig¿tiÚPoštFunùiÚ
(
di¡ªû
);

12 
public
 
boŞ—n
 
mig¿tiÚZÚeFunùiÚ
(
sm¬tThšgDœeùiÚ
, 
zÚeDœeùiÚ
);

	@src/org/fog/vmmobile/AppExemplo.java

	@src/org/fog/vmmobile/AppExemplo2.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmobe
;

3 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

4 
impÜt
 
	gjava
.
	gio
.
	gFeR—d”
;

5 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

6 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

7 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

8 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

9 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

10 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

12 
impÜt
 
	gjava
.
	gut
.
	gQueue
;

13 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

14 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

16 
impÜt
 
	gjavax
.
	gswšg
.
	g‹xt
.
	ghtml
.
	gHTMLDocum’t
.
	gI‹¿tÜ
;

18 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gm©h3
.
	gut
.
	gPaœ
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËr
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËrDyÇmicWÜklßd
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËrTimeSh¬ed
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gN‘wÜkTİŞogy
;

26 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

27 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

28 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–
;

29 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–FuÎ
;

30 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

31 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicySim¶e
;

32 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

33 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gD–ayM©rix_Flßt
;

34 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gTİŞogiÿlG¿ph
;

35 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gÃtwÜk
.
	gTİŞogiÿlLšk
;

36 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gPow”Ho¡
;

37 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”Sim¶e
;

38 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gBwProvisiÚ”Ov”bookšg
;

39 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gPeProvisiÚ”Ov”bookšg
;

40 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµEdge
;

41 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµLoİ
;

42 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµModuË
;

43 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	gAµliÿtiÚ
;

44 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	g£Ëùiv™y
.
	gF¿ùiÚ®S–eùiv™y
;

45 
impÜt
 
	gÜg
.
	gfog
.
	g­¶iÿtiÚ
.
	g£Ëùiv™y
.
	gS–eùiv™yMod–
;

46 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.*;

47 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.*;

48 
impÜt
 
	gÜg
.
	gfog
.
	g¶aûm’t
.
	gMobeCÚŒŞËr
;

49 
impÜt
 
	gÜg
.
	gfog
.
	g¶aûm’t
.
	gModuËM­pšg
;

50 
impÜt
 
	gÜg
.
	gfog
.
	gpŞicy
.
	gAµModuËAÎoÿtiÚPŞicy
;

51 
impÜt
 
	gÜg
.
	gfog
.
	gscheduËr
.
	gSŒ—mO³¿tÜScheduËr
;

52 
impÜt
 
	gÜg
.
	gfog
.
	gscheduËr
.
	gTu¶eScheduËr
;

53 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogLš—rPow”Mod–
;

54 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogUts
;

55 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gGeoLoÿtiÚ
;

56 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gLogg”
;

57 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gTimeK“³r
;

58 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gD‘”mši¡icDi¡ributiÚ
;

59 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gDi¡ributiÚ
;

60 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gBefÜeMig¿tiÚ
;

61 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gBefÜeMig¿tiÚ_OLD
;

62 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gCom¶‘eVM
;

63 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gCÚš”VM
;

64 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gDecisiÚMig¿tiÚ_OLD
;

65 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gDecisiÚMig¿tiÚ
;

66 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gLiveMig¿tiÚ
;

67 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gLowe¡Di¡BwSm¬tThšgAP
;

68 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gLowe¡Di¡BwSm¬tThšgS”v”CloudËt
;

69 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gLowe¡L©’cy
;

70 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gMySti¡ics
;

71 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gNextS‹p
;

72 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gP»·»Com¶‘eVM
;

73 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gP»·»CÚš”VM
;

74 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gP»·»LiveMig¿tiÚ
;

75 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gS”viû
;

76 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gVmMig¿tiÚTechnique
;

77 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.*;

79 
impÜt
 
	gsun
.
	g»æeù
.
	gReæeùiÚFaùÜy
.
	gG‘ReæeùiÚFaùÜyAùiÚ
;

80 
impÜt
 
	gsun
.
	gut
.
	g»sourûs
.
	gTimeZÚeNames_’_CA
;

83 
public
 cÏs 
	cAµExem¶o2
 {

84 
´iv©e
 
	m¡•PŞicy
;

85 
´iv©e
 
	mLi¡
<
	mMobeDeviû
> 
	msm¬tThšgs
 = 
Ãw
 
A¼ayLi¡
<
MobeDeviû
>();

86 
´iv©e
 
	mLi¡
<
	mFogDeviû
> 
	m£rv”CloudËts
 = 
Ãw
 
A¼ayLi¡
<>();

87 
´iv©e
 
	mLi¡
<
	mApDeviû
> 
	m­Deviûs
 = 
Ãw
 
A¼ayLi¡
<>();

88 
´iv©e
 
	mLi¡
<
	mFogBrok”
> 
	mbrok”Li¡
 = 
Ãw
 
A¼ayLi¡
<>();

89 
´iv©e
 
	mLi¡
<
	mSŒšg
> 
	m­pIdLi¡
 = 
Ãw
 
A¼ayLi¡
<>();

90 
´iv©e
 
	mLi¡
<
	mAµliÿtiÚ
> 
	m­¶iÿtiÚLi¡
ğ
Ãw
 
A¼ayLi¡
<>();

91 
´iv©e
 
	mQueue
<
	mSŒšg
[]> 
	mq
 = 
Ãw
 
LškedLi¡
<
SŒšg
[]>();

93 
´iv©e
 
boŞ—n
 
	mmig¿tiÚAbË
;

95 
´iv©e
 
	mmigPoštPŞicy
;

96 
´iv©e
 
	mmigSŒ©egyPŞicy
;

97 
´iv©e
 
	mpos™iÚApPŞicy
;

98 
´iv©e
 
	mpos™iÚScPŞicy
;

99 
´iv©e
 
	mpŞicyR•liÿVM
;

100 
´iv©e
 
	mmaxBªdwidth
;

101 
´iv©e
 
	mmaxSm¬tThšgs
;

102 
´iv©e
 
CoÜdš©e
 
	mcoÜdDeviûs
;

103 
´iv©e
 
	m£ed
;

104 
´iv©e
 
Rªdom
 
	m¿nd
;

105 
fš®
 
boŞ—n
 
	mCLOUD
 = 
Œue
;

108 
fš®
 
	mnumOfD•ts
 = 1;

109 
fš®
 
	mnumOfMobesP”D•t
 = 4;

110 
fš®
 
	mEEG_TRANSMISSION_TIME
 = 10;

116 
public
 
	$maš
(
SŒšg
[] 
¬gs
è
throws
 
Exû±iÚ
 {

141 
Log
.
	`di§bË
();

145 
numU£r
 = 1;

146 
C®’d¬
 
ÿËnd¬
 = C®’d¬.
	`g‘In¡ªû
();

147 
boŞ—n
 
ŒaûFÏg
 = 
çl£
;

148 
CloudSim
.
	`š™
(
numU£r
, 
ÿËnd¬
, 
ŒaûFÏg
);

165 
	`£tPos™iÚApPŞicy
(
PŞic›s
.
FIXED_AP_LOCATION
);

168 
	`£tPos™iÚScPŞicy
(
PŞic›s
.
FIXED_SC_LOCATION
);

172 
	`£tS‹pPŞicy
(1);

173 if(
IÁeg”
.
	`·r£IÁ
(
¬gs
[0])==0){

174 
	`£tMig¿tiÚAbË
(
çl£
);

177 
	`£tMig¿tiÚAbË
(
Œue
);

179 
	`£tS“d
(
IÁeg”
.
	`·r£IÁ
(
¬gs
[1]));

180 if(
	`g‘S“d
()<1){

181 
Sy¡em
.
out
.
	`´šn
("Seed cannot be†esshan 1");

182 
Sy¡em
.
	`ex™
(0);

184 
	`£tRªd
(
Ãw
 
	`Rªdom
(
	`g‘S“d
()*
IÁeg”
.
MAX_VALUE
));

185 
	`£tMigPoštPŞicy
(
IÁeg”
.
	`·r£IÁ
(
¬gs
[2]));

186 
	`£tMigSŒ©egyPŞicy
(
IÁeg”
.
	`·r£IÁ
(
¬gs
[3]));

187 
	`£tMaxSm¬tThšgs
(
IÁeg”
.
	`·r£IÁ
(
¬gs
[4]));

188 
	`£tMaxBªdwidth
(
IÁeg”
.
	`·r£IÁ
(
¬gs
[5]));

189 
	`£tPŞicyR•liÿVM
(
IÁeg”
.
	`·r£IÁ
(
¬gs
[6]));

195 if(
pos™iÚApPŞicy
==
PŞic›s
.
FIXED_AP_LOCATION
){

196 
	`addApDeviûsFixed
(
­Deviûs
,
coÜdDeviûs
);

199 
i
=0; i< 
MaxAndMš
.
MAX_AP_DEVICE
;i++){

200 
	`addApDeviûsRªdÚ
(
­Deviûs
, 
coÜdDeviûs
,
i
);

205 if(
	`g‘Pos™iÚScPŞicy
()==
PŞic›s
.
FIXED_SC_LOCATION
){

206 
	`addS”v”CloudËt
(
£rv”CloudËts
, 
coÜdDeviûs
);

209 
i
=0;i<
MaxAndMš
.
MAX_SERVER_CLOUDLET
;i++){

210 
	`addS”v”CloudËt
(
£rv”CloudËts
, 
coÜdDeviûs
, 
i
);

213 
	`ü—‹S”v”CloudËtsN‘wÜk
(
	`g‘S”v”CloudËts
());

214 
FogDeviû
 
sc
: 
	`g‘S”v”CloudËts
()){

215 
FogDeviû
 
sc1
 : 
	`g‘S”v”CloudËts
()){

216 if(
sc
.
	`equ®s
(
sc1
)){

219 
Sy¡em
.
out
.
	`´šn
("D–ay b‘w“À"+
sc
.
	`g‘Name
()+"‡nd "+
sc1
.g‘Name()+": "+
N‘wÜkTİŞogy
.
	`g‘D–ay
(sc.
	`g‘Id
(), sc1.getId()));

220 
Sy¡em
.
out
.
	`´šn
(
sc
.
	`g‘Name
()+": "+sc.
	`g‘DowÆškBªdwidth
());

227 
i
=0; i< 
	`g‘MaxSm¬tThšgs
();i++){

228 
	`addSm¬tThšg
(
sm¬tThšgs
,
coÜdDeviûs
, 
i
);

231 
	`»adMobl™yD©a
(
q
, 2260);

235 
šdex
;

236 
myCouÁ
=0;

238 
MobeDeviû
 
¡
:
	`g‘Sm¬tThšgs
()){

239 if(!
ApDeviû
.
	`cÚÃùApSm¬tThšg
(
	`g‘ApDeviûs
(),
¡
, 
	`g‘Rªd
().
	`ÃxtDoubË
())){

240 
myCouÁ
++;

241 
LogMobe
.
	`debug
("AµExem¶o2.java", 
¡
.
	`g‘Name
()+" isn't connected");

244 
LogMobe
.
	`debug
("AµExem¶o2.java", "tÙ®‚ØcÚÃùiÚ: "+
myCouÁ
);

246 
ApDeviû
 
­
: 
	`g‘ApDeviûs
()){

247 
šdex
 = 
Di¡ªûs
.
	`theClo£¡S”v”CloudËtToAp
(
	`g‘S”v”CloudËts
(),
­
);

248 
­
.
	`£tS”v”CloudËt
(
	`g‘S”v”CloudËts
().
	`g‘
(
šdex
));

249 
­
.
	`£tP¬’tId
(
	`g‘S”v”CloudËts
().
	`g‘
(
šdex
).
	`g‘Id
());

250 
	`g‘S”v”CloudËts
().
	`g‘
(
šdex
).
	`£tApDeviûs
(
­
,
PŞic›s
.
ADD
);

251 
N‘wÜkTİŞogy
.
	`addLšk
(
£rv”CloudËts
.
	`g‘
(
šdex
).
	`g‘Id
(), 
­
.g‘Id(),‡p.
	`g‘DowÆškBªdwidth
(), 
	`g‘Rªd
().
	`ÃxtDoubË
());

253 
MobeDeviû
 
¡
 : 
­
.
	`g‘Sm¬tThšgs
()){

254 
	`g‘S”v”CloudËts
().
	`g‘
(
šdex
).
	`cÚÃùS”v”CloudËtSm¬tThšg
(
¡
);

255 
	`g‘S”v”CloudËts
().
	`g‘
(
šdex
).
	`£tSm¬tThšgsW™hVm
(
¡
, 
PŞic›s
.
ADD
);

261 
MobeDeviû
 
¡
 : 
	`g‘Sm¬tThšgs
()){

262 
	`g‘Brok”Li¡
().
	`add
(
Ãw
 
	`FogBrok”
("My_brok”"+
IÁeg”
.
	`toSŒšg
(
¡
.
	`g‘MyId
())));

267 
MobeDeviû
 
¡
: 
	`g‘Sm¬tThšgs
()){

268 if(
¡
.
	`g‘SourûAp
()!=
nuÎ
){

269 
CloudËtScheduËr
 
şoudËtScheduËr
 = 
Ãw
 
	`Tu¶eScheduËr
(500,1);

270 
sizeVm
 = (
MaxAndMš
.
MIN_VM_SIZE
 + ()((MaxAndMš.
MAX_VM_SIZE
 - MaxAndMš.MIN_VM_SIZEè* (
	`g‘Rªd
().
	`ÃxtDoubË
())));

271 
AµModuË
 
vmSm¬tThšgTe¡
 = 
Ãw
 
	`AµModuË
(
¡
.
	`g‘MyId
()

272 , "AµModuËVm_"+
¡
.
	`g‘Name
()

273 , "MyAµ_vr_game"+
¡
.
	`g‘MyId
()

274 , 
	`g‘Brok”Li¡
().
	`g‘
(
¡
.
	`g‘MyId
()).
	`g‘Id
()

278 , 
sizeVm


279 , "Vm_"+
¡
.
	`g‘Name
()

280 , 
şoudËtScheduËr


281 , 
Ãw
 
HashM­
<
Paœ
<
SŒšg
, SŒšg>, 
S–eùiv™yMod–
>());

292 
¡
.
	`£tVmMobeDeviû
(
vmSm¬tThšgTe¡
);

293 
¡
.
	`g‘SourûS”v”CloudËt
().
	`g‘Ho¡
().
	`vmC»©e
(
vmSm¬tThšgTe¡
);

294 
¡
.
	`£tVmLoÿlS”v”CloudËt
(¡.
	`g‘SourûS”v”CloudËt
());

297 
i
=0;

298 
FogBrok”
 
br
 :
	`g‘Brok”Li¡
()){

299 
Li¡
<
Vm
> 
‹mpVmLi¡
 = 
Ãw
 
A¼ayLi¡
<>();

300 
‹mpVmLi¡
.
	`add
(
	`g‘Sm¬tThšgs
().
	`g‘
(
i
++).
	`g‘VmMobeDeviû
());

301 
br
.
	`subm™VmLi¡
(
‹mpVmLi¡
);

306 
i
=0;

308 
FogBrok”
 
br
: 
	`g‘Brok”Li¡
()){

309 
	`g‘AµIdLi¡
().
	`add
("MyAµ_vr_game"+
IÁeg”
.
	`toSŒšg
(
i
));

311 
AµliÿtiÚ
 
myAµ
 = 
	`ü—‹AµliÿtiÚ
(
	`g‘AµIdLi¡
().
	`g‘
(
i
), 
br
.
	`g‘Id
(),i, (
AµModuË
)
	`g‘Sm¬tThšgs
().g‘(i).
	`g‘VmMobeDeviû
());

312 
	`g‘AµliÿtiÚLi¡
().
	`add
(
myAµ
);

314 
i
++;

317 
MobeDeviû
 
¡
: 
	`g‘Sm¬tThšgs
()){

318 
brok”Id
=
	`g‘Brok”Li¡
().
	`g‘
(
¡
.
	`g‘MyId
()).
	`g‘Id
();

319 
SŒšg
 
­pId
=
	`g‘AµIdLi¡
().
	`g‘
(
¡
.
	`g‘MyId
());

320 if(
¡
.
	`g‘SourûAp
()!=
nuÎ
){

321 
MobeS’sÜ
 
s
: 
¡
.
	`g‘S’sÜs
()){

322 
s
.
	`£tAµId
(
­pId
);

323 
s
.
	`£tU£rId
(
brok”Id
);

324 
s
.
	`£tG©ewayDeviûId
(
¡
.
	`g‘Id
());

325 
s
.
	`£tL©’cy
(6.0);

328 
MobeAùu©Ü
 
a
: 
¡
.
	`g‘Aùu©Üs
()){

329 
a
.
	`£tU£rId
(
brok”Id
);

330 
a
.
	`£tAµId
(
­pId
);

331 
a
.
	`£tG©ewayDeviûId
(
¡
.
	`g‘Id
());

332 
a
.
	`£tL©’cy
(1.0);

333 
a
.
	`£tAùu©ÜTy³
("DISPLAY"+
¡
.
	`g‘MyId
());

341 
MobeCÚŒŞËr
 
mobeCÚŒŞËr
 = 
nuÎ
;

342 
ModuËM­pšg
 
moduËM­pšg
 = ModuËM­pšg.
	`ü—‹ModuËM­pšg
();

344 
AµliÿtiÚ
 
­p
: 
	`g‘AµliÿtiÚLi¡
()){

345 
­p
.
	`£tPÏûm’tSŒ©egy
("Mapping");

347 
i
=0;

348 
FogDeviû
 
sc
: 
	`g‘S”v”CloudËts
()){

349 
i
=0;

350 
MobeDeviû
 
¡
: 
	`g‘Sm¬tThšgs
()){

351 if(
¡
.
	`g‘ApDeviûs
()!=
nuÎ
){

352 if(
sc
.
	`equ®s
(
¡
.
	`g‘SourûS”v”CloudËt
())){

356 
moduËM­pšg
.
	`addModuËToDeviû
(((
AµModuË
)
¡
.
	`g‘VmMobeDeviû
()).
	`g‘Name
(), 
sc
.getName(),1);

357 
moduËM­pšg
.
	`addModuËToDeviû
("ş›Á"+
¡
.
	`g‘MyId
(), st.
	`g‘Name
(), 1);

361 
i
++;

365 
mobeCÚŒŞËr
 = 
Ãw
 
	`MobeCÚŒŞËr
("MobileController"

366 , 
	`g‘S”v”CloudËts
()

367 , 
	`g‘ApDeviûs
()

368 , 
	`g‘Sm¬tThšgs
()

369 , 
	`g‘Brok”Li¡
()

370 , 
	`g‘Queue
()

371 , 
moduËM­pšg


372 , 
	`g‘MigPoštPŞicy
()

373 , 
	`g‘MigSŒ©egyPŞicy
()

374 , 
	`g‘S‹pPŞicy
()

375 , 
	`g‘CoÜdDeviûs
()

376 , 
	`g‘S“d
()

377 , 
	`isMig¿tiÚAbË
());

378 
i
=0;

379 
AµliÿtiÚ
 
­p
: 
­¶iÿtiÚLi¡
){

380 
mobeCÚŒŞËr
.
	`subm™AµliÿtiÚ
(
­p
,1);

382 
TimeK“³r
.
	`g‘In¡ªû
().
	`£tSimuÏtiÚS¹Time
(
C®’d¬
.g‘In¡ªû().
	`g‘TimeInMlis
());

383 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tS“d
(
	`g‘S“d
());

384 
MobeDeviû
 
¡
: 
	`g‘Sm¬tThšgs
()){

385 if(
	`g‘MigPoštPŞicy
()==
PŞic›s
.
FIXED_MIGRATION_POINT
){

386 if(
	`g‘MigSŒ©egyPŞicy
()==
PŞic›s
.
LOWEST_LATENCY
){

388 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tFeM­
("./ouutL©’c›s/"+
¡
.
	`g‘MyId
()+"/Ï‹nc›s_FIXED_MIGRATION_POINT_w™h_LOWEST_LATENCY_£ed_"+
	`g‘S“d
()+"_st_"+st.getMyId()+".txt",st.getMyId());

389 
MySti¡ics
.
	`g‘In¡ªû
().
	`putLª‹ncyFeName
("FIXED_MIGRATION_POINT_w™h_LOWEST_LATENCY_£ed_"+
	`g‘S“d
()+"_¡_"+
¡
.
	`g‘MyId
(),st.getMyId());

390 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tToPršt
("FIXED_MIGRATION_POINT_with_LOWEST_LATENCY");

392 if(
	`g‘MigSŒ©egyPŞicy
()==
PŞic›s
.
LOWEST_DIST_BW_SMARTTING_AP
){

393 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tFeM­
("./ouutL©’c›s/"+
¡
.
	`g‘MyId
()+"/Ï‹nc›s_FIXED_MIGRATION_POINT_w™h_LOWEST_DIST_BW_SMARTTING_AP_£ed_"+
	`g‘S“d
()+"_st_"+st.getMyId()+".txt",st.getMyId());

394 
MySti¡ics
.
	`g‘In¡ªû
().
	`putLª‹ncyFeName
("FIXED_MIGRATION_POINT_w™h_LOWEST_DIST_BW_SMARTTING_AP_£ed_"+
	`g‘S“d
()+"_¡_"+
¡
.
	`g‘MyId
(),st.getMyId());

395 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tToPršt
("FIXED_MIGRATION_POINT_with_LOWEST_DIST_BW_SMARTTING_AP");

399 if(
	`g‘MigSŒ©egyPŞicy
()==
PŞic›s
.
LOWEST_DIST_BW_SMARTTING_SERVERCLOUDLET
){

400 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tFeM­
("./ouutL©’c›s/"+
¡
.
	`g‘MyId
()+"/Ï‹nc›s_FIXED_MIGRATION_POINT_w™h_LOWEST_DIST_BW_SMARTTING_SERVERCLOUDLET_£ed_"+
	`g‘S“d
()+"_st_"+st.getMyId()+".txt",st.getMyId());

401 
MySti¡ics
.
	`g‘In¡ªû
().
	`putLª‹ncyFeName
("FIXED_MIGRATION_POINT_w™h_LOWEST_DIST_BW_SMARTTING_SERVERCLOUDLET_£ed_"+
	`g‘S“d
()+"_¡_"+
¡
.
	`g‘MyId
(),st.getMyId());

402 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tToPršt
("FIXED_MIGRATION_POINT_with_LOWEST_DIST_BW_SMARTTING_SERVERCLOUDLET");

406 if(
	`g‘MigPoštPŞicy
()==
PŞic›s
.
SPEED_MIGRATION_POINT
){

407 if(
	`g‘MigSŒ©egyPŞicy
()==
PŞic›s
.
LOWEST_LATENCY
){

408 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tFeM­
("./ouutL©’c›s/"+
¡
.
	`g‘MyId
()+"/Ï‹nc›s_SPEED_MIGRATION_POINT_w™h_LOWEST_LATENCY_£ed_"+
	`g‘S“d
()+"_st_"+st.getMyId()+".txt",st.getMyId());

409 
MySti¡ics
.
	`g‘In¡ªû
().
	`putLª‹ncyFeName
("SPEED_MIGRATION_POINT_w™h_LOWEST_LATENCY_£ed_"+
	`g‘S“d
()+"_¡_"+
¡
.
	`g‘MyId
(),st.getMyId());

410 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tToPršt
("SPEED_MIGRATION_POINT_with_LOWEST_LATENCY");

413 if(
	`g‘MigSŒ©egyPŞicy
()==
PŞic›s
.
LOWEST_DIST_BW_SMARTTING_AP
){

414 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tFeM­
("./ouutL©’c›s/"+
¡
.
	`g‘MyId
()+"/Ï‹nc›s_SPEED_MIGRATION_POINT_w™h_LOWEST_DIST_BW_SMARTTING_AP_£ed_"+
	`g‘S“d
()+"_st_"+st.getMyId()+".txt",st.getMyId());

415 
MySti¡ics
.
	`g‘In¡ªû
().
	`putLª‹ncyFeName
("SPEED_MIGRATION_POINT_w™h_LOWEST_DIST_BW_SMARTTING_AP_£ed_"+
	`g‘S“d
()+"_¡_"+
¡
.
	`g‘MyId
(),st.getMyId());

416 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tToPršt
("SPEED_MIGRATION_POINT_with_LOWEST_DIST_BW_SMARTTING_AP");

419 if(
	`g‘MigSŒ©egyPŞicy
()==
PŞic›s
.
LOWEST_DIST_BW_SMARTTING_SERVERCLOUDLET
){

420 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tFeM­
("./ouutL©’c›s/"+
¡
.
	`g‘MyId
()+"/Ï‹nc›s_SPEED_MIGRATION_POINT_w™h_LOWEST_DIST_BW_SMARTTING_SERVERCLOUDLET_£ed_"+
	`g‘S“d
()+"_st_"+st.getMyId()+".txt",st.getMyId());

421 
MySti¡ics
.
	`g‘In¡ªû
().
	`putLª‹ncyFeName
("SPEED_MIGRATION_POINT_w™h_LOWEST_DIST_BW_SMARTTING_SERVERCLOUDLET_£ed_"+
	`g‘S“d
()+"_¡_"+
¡
.
	`g‘MyId
(),st.getMyId());

422 
MySti¡ics
.
	`g‘In¡ªû
().
	`£tToPršt
("SPEED_MIGRATION_POINT_with_LOWEST_DIST_BW_SMARTTING_SERVERCLOUDLET");

427 
MySti¡ics
.
	`g‘In¡ªû
().
	`putLª‹ncyFeName
("Time-Ï‹ncy",
¡
.
	`g‘MyId
());

428 
MySti¡ics
.
	`g‘In¡ªû
().
	`g‘MyCouÁ
().
	`put
(
¡
.
	`g‘MyId
(), 0);

432 
myCouÁ
=0;

434 
MobeDeviû
 
¡
: 
	`g‘Sm¬tThšgs
()){

435 if(
¡
.
	`g‘SourûAp
()!=
nuÎ
){

436 
Sy¡em
.
out
.
	`´šn
("Di¡ªû b‘w“À"+ 
¡
.
	`g‘Name
()+"‡nd "+¡.
	`g‘SourûAp
().getName()+": "+

437 
Di¡ªûs
.
	`checkDi¡ªû
(
¡
.
	`g‘CoÜd
(), st.
	`g‘SourûAp
().getCoord()));

440 
MobeDeviû
 
¡
: 
	`g‘Sm¬tThšgs
()){

441 
Sy¡em
.
out
.
	`´šn
(
¡
.
	`g‘Name
()+"- X: "+¡.
	`g‘CoÜd
().
	`g‘CoÜdX
(è+" Y: "+¡.g‘CoÜd().
	`g‘CoÜdY
()+ " DœeùiÚ: "+¡.
	`g‘DœeùiÚ
()+ " S³ed: "+¡.
	`g‘S³ed
()+ " VmSize: "+¡.
	`g‘VmMobeDeviû
().
	`g‘Size
());

443 
Sy¡em
.
out
.
	`´šn
("_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_");

444 
FogDeviû
 
sc
: 
	`g‘S”v”CloudËts
()){

445 
Sy¡em
.
out
.
	`´šn
(
sc
.
	`g‘Name
()+"- X: "+sc.
	`g‘CoÜd
().
	`g‘CoÜdX
(è+" Y: "+sc.g‘CoÜd().
	`g‘CoÜdY
()+" UpLškL©’cy: "+sc.
	`g‘U¶škL©’cy
());

447 
Sy¡em
.
out
.
	`´šn
("_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_+_");

448 
ApDeviû
 
­
: 
	`g‘ApDeviûs
()){

449 
Sy¡em
.
out
.
	`´šn
(
­
.
	`g‘Name
()+"- X: "+­.
	`g‘CoÜd
().
	`g‘CoÜdX
(è+" Y: "+­.g‘CoÜd().
	`g‘CoÜdY
(è+ " cÚÃùedØ"+­.
	`g‘S”v”CloudËt
().getName());

452 
CloudSim
.
	`¡¬tSimuÏtiÚ
();

453 
Sy¡em
.
out
.
	`´šn
("Simulation over");

454 
CloudSim
.
	`¡İSimuÏtiÚ
();

458 
´iv©e
 
	`»adMobl™yD©a
(
Queue
<
SŒšg
[]> 
q
, 
i
){

460 
SŒšg
 
csvFe
 = 
i
+"log.csv";

461 
SŒšg
 
lše
 = "";

462 
SŒšg
 
cvsS¶™By
 = "\t";

464 
	`Œy
 (
Bufã»dR—d”
 
br
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`FeR—d”
(
csvFe
))) {

466 (
lše
 = 
br
.
	`»adLše
()è!ğ
nuÎ
) {

469 
SŒšg
[] 
couÁry
 = 
lše
.
	`¥l™
(
cvsS¶™By
);

471 
Sy¡em
.
out
.
	`´šn
(
couÁry
[0]+" "+
DoubË
.
	`·r£DoubË
(couÁry[0])*(180/
M©h
.
PI
)+" "+country[1]+" "+country[2]+" "+country[3]);

473 
q
.
	`add
(
couÁry
);

476 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

477 
e
.
	`´štSckT¿û
();

481 
	}
}

483 
´iv©e
 
addApDeviûsFixed
(
Li¡
<
ApDeviû
> 
­Deviûs
,

484 
CoÜdš©e
 
coÜdDeviûs
) {

485 
	gi
=0;

486 
boŞ—n
 
	gcÚŒŞ
 = 
Œue
;

487 
	gcoÜdY
=0;

488 
	gcoÜdX
=1050; coÜdX<
	gMaxAndMš
.
	gMAX_X
-990; coordX+=2001){

489 
Sy¡em
.
out
.
´šn
("Creating Ap devices");

497 
	gcoÜdY
=1050; coÜdY<
	gMaxAndMš
.
	gMAX_Y
-990; coÜdY+=2001, 
	gi
++){

500 
ApDeviû
 
	g­
 = 
Ãw
 ApDeviû("AcûssPošt"+
IÁeg”
.
toSŒšg
(
i
),

501 
coÜdX
,
coÜdY


502 ,
i


505 ,
MaxAndMš
.
MAX_ST_IN_AP


509 
	g­Deviûs
.
add
(
i
, 
­
);

513 
	gLogMobe
.
debug
("AµExem¶o2.java", "TÙ® oàacûssPošts: "+
i
);

516 
´iv©e
 
addApDeviûsRªdÚ
(
Li¡
<
ApDeviû
> 
­Deviûs
,

517 
CoÜdš©e
 
coÜdDeviûs
, 
i
) {

519 
	gcoÜdX
,
	gcoÜdY
;

521 
	gcoÜdX
 = 
g‘Rªd
().
ÃxtIÁ
(
MaxAndMš
.
MAX_X
);

522 
	gcoÜdY
 = 
g‘Rªd
().
ÃxtIÁ
(
MaxAndMš
.
MAX_Y
);

525 
ApDeviû
 
	g­
 = 
Ãw
 ApDeviû("AcûssPošt"+
IÁeg”
.
toSŒšg
(
i
),

526 
coÜdX
,
coÜdY


527 ,
i


530 ,
MaxAndMš
.
MAX_ST_IN_AP


534 
	g­Deviûs
.
add
(
i
,
­
);

546 
public
 
addSm¬tThšg
(
Li¡
<
MobeDeviû
> 
sm¬tThšg
, 
CoÜdš©e
 
coÜdDeviûs
, 
i
){

549 
	gcoÜdX
,
	gcoÜdY
;

550 
	gdœeùiÚ
, 
	g¥“d
;

551 
	gdœeùiÚ
 = 
g‘Rªd
().
ÃxtIÁ
(
MaxAndMš
.
MAX_DIRECTION
-1)+1;

552 
	g¥“d
 = 
g‘Rªd
().
ÃxtIÁ
(
MaxAndMš
.
MAX_SPEED
-1)+1;

554 
VmMig¿tiÚTechnique
 
	gmig¿tiÚTechnique
 = 
nuÎ
;

556 if(
g‘PŞicyR•liÿVM
()==
PŞic›s
.
MIGRATION_COMPLETE_VM
){

557 
mig¿tiÚTechnique
 = 
Ãw
 
Com¶‘eVM
(
g‘MigPoštPŞicy
());

559 if(
g‘PŞicyR•liÿVM
()==
PŞic›s
.
MIGRATION_CONTAINER_VM
){

560 
mig¿tiÚTechnique
 = 
Ãw
 
CÚš”VM
(
g‘MigPoštPŞicy
());

562 if(
g‘PŞicyR•liÿVM
()==
PŞic›s
.
LIVE_MIGRATION
){

563 
mig¿tiÚTechnique
 = 
Ãw
 
LiveMig¿tiÚ
(
g‘MigPoštPŞicy
());

569 
D‘”mši¡icDi¡ributiÚ
 
	gdi¡ributiÚ0
 = 
Ãw
 D‘”mši¡icDi¡ributiÚ(
EEG_TRANSMISSION_TIME
);

571 
	gS‘
<
	gMobeS’sÜ
> 
	g£nsÜs
 = 
Ãw
 
HashS‘
<>();

573 
MobeS’sÜ
 
	g£nsÜ
 = 
Ãw
 MobeS’sÜ("S’sÜ"+
i


574 ,"EEG"+
i


575 ,
i


576 , "MyAµ_vr_game"+
i


577 ,
di¡ributiÚ0
 );

578 
	g£nsÜs
.
add
(
£nsÜ
);

629 
MobeAùu©Ü
 
	gaùu©Ü0
 = 
Ãw
 MobeAùu©Ü("Aùu©Ü"+
i
, i, "MyApp_vr_game"+i, "DISPLAY"+i);

650 
	gS‘
<
	gMobeAùu©Ü
> 
	gaùu©Üs
 = 
Ãw
 
HashS‘
<>();

654 
	gaùu©Üs
.
add
(
aùu©Ü0
);

664 
FogLš—rPow”Mod–
 
	gpow”Mod–
 = 
Ãw
 FogLinearPowerModel(87.53d, 82.44d);

666 
	gLi¡
<
	gPe
> 
	g³Li¡
 = 
Ãw
 
A¼ayLi¡
<>();

667 
	gms
 = 1000;

669 
	g³Li¡
.
add
(
Ãw
 
Pe
(0,‚ew 
PeProvisiÚ”Ov”bookšg
(
ms
)));

671 
	gho¡Id
 = 
FogUts
.
g’”©eEÁ™yId
();

672 
	g¡Üage
 = 40000;

674 
	gbw
 = 2048;

675 
	g¿m
 = 1024;

676 
Pow”Ho¡
 
	gho¡
 = 
Ãw
 PowerHost(

677 
ho¡Id
,

678 
Ãw
 
RamProvisiÚ”Sim¶e
(
¿m
),

679 
Ãw
 
BwProvisiÚ”Ov”bookšg
(
bw
),

680 
¡Üage
,

681 
³Li¡
,

682 
Ãw
 
SŒ—mO³¿tÜScheduËr
(
³Li¡
),

683 
pow”Mod–


686 
	gLi¡
<
	gHo¡
> 
	gho¡Li¡
 = 
Ãw
 
A¼ayLi¡
<
Ho¡
>();

687 
	gho¡Li¡
.
add
(
ho¡
);

690 
SŒšg
 
	g¬ch
 = "x86";

691 
SŒšg
 
	gos
 = "Android";

692 
SŒšg
 
	gvmm
 = "empty";

693 
	gvmSize
 = 
MaxAndMš
.
MAX_VM_SIZE
;

694 
	gtime_zÚe
 = 10.0;

695 
	gco¡
 = 1.0;

696 
	gco¡P”Mem
 = 0.005;

697 
	gco¡P”StÜage
 = 0.0001;

699 
	gco¡P”Bw
 = 0.001;

700 
	gLškedLi¡
<
	gStÜage
> 
	g¡ÜageLi¡
 = 
Ãw
 
LškedLi¡
<
StÜage
>();

705 
FogDeviûCh¬aù”i¡ics
 
	gch¬aù”i¡ics
 = 
Ãw
 FogDeviûCh¬aù”i¡ics(
¬ch


706 , 
os


707 , 
vmm


708 , 
ho¡


709 , 
time_zÚe


710 , 
co¡


711 , 
co¡P”Mem


712 , 
co¡P”StÜage


713 , 
co¡P”Bw
);

715 
AµModuËAÎoÿtiÚPŞicy
 
	gvmAÎoÿtiÚPŞicy
 = 
Ãw
 AµModuËAÎoÿtiÚPŞicy(
ho¡Li¡
);

717 
MobeDeviû
 
	g¡
 = 
nuÎ
;

719 
	gmaxS”viûV®ue
 = 
g‘Rªd
().
ÃxtFlßt
()*100;

720 
	gŒy
 {

722 
	gŒue
){

723 
	gcoÜdX
 = 
g‘Rªd
().
ÃxtIÁ
(()(
MaxAndMš
.
MAX_X
*0.8));

724 
	gcoÜdY
 = 
g‘Rªd
().
ÃxtIÁ
(()(
MaxAndMš
.
MAX_Y
*0.8));

725 if((
	gcoÜdX
 < 
	gMaxAndMš
.
	gMAX_X
*0.2è||(
	gcoÜdY
 < MaxAndMš.
	gMAX_Y
*0.2)){

730 
	g¡
 = 
Ãw
 
MobeDeviû
("Sm¬tThšg"+ 
IÁeg”
.
toSŒšg
(
i
)

731 , 
ch¬aù”i¡ics


732 , 
vmAÎoÿtiÚPŞicy


733 , 
¡ÜageLi¡


739 , 
coÜdX
, 
coÜdY


740 , 
i


741 , 
dœeùiÚ


742 , 
¥“d


743 , 
maxS”viûV®ue


744 , 
vmSize


745 , 
mig¿tiÚTechnique
);

746 
	g¡
.
£tTempSimuÏtiÚ
(0);

747 
	g¡
.
£tTimeFšishD–iv”yVm
(-1);

748 
	g¡
.
£tTimeFšishHªdoff
(0);

749 
	g¡
.
£tS’sÜs
(
£nsÜs
);

750 
	g¡
.
£tAùu©Üs
(
aùu©Üs
);

752 
	gsm¬tThšg
.
add
(
i
,
¡
);

760 } 
ÿtch
 (
Exû±iÚ
 
e
) {

762 
	ge
.
´štSckT¿û
();

766 
public
 
addS”v”CloudËt
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
, 
CoÜdš©e
 
coÜdDeviûs
, 
i
){

769 
	gcoÜdX
,
	gcoÜdY
;

770 
DecisiÚMig¿tiÚ
 
	gmig¿tiÚSŒ©egy
;

771 if(
g‘MigSŒ©egyPŞicy
()==
PŞic›s
.
LOWEST_LATENCY
){

772 
mig¿tiÚSŒ©egy
 = 
Ãw
 
Lowe¡L©’cy
(
g‘S”v”CloudËts
(), 
g‘ApDeviûs
(), 
g‘MigPoštPŞicy
(), 
g‘PŞicyR•liÿVM
());

774 if(
g‘MigSŒ©egyPŞicy
()==
PŞic›s
.
LOWEST_DIST_BW_SMARTTING_SERVERCLOUDLET
){

775 
mig¿tiÚSŒ©egy
 = 
Ãw
 
Lowe¡Di¡BwSm¬tThšgS”v”CloudËt
(
g‘S”v”CloudËts
(), 
g‘ApDeviûs
(), 
g‘MigPoštPŞicy
(), 
g‘PŞicyR•liÿVM
());

779 
	gmig¿tiÚSŒ©egy
 = 
Ãw
 
Lowe¡Di¡BwSm¬tThšgAP
(
g‘S”v”CloudËts
(), 
g‘ApDeviûs
(), 
g‘MigPoštPŞicy
(), 
g‘PŞicyR•liÿVM
());

782 
BefÜeMig¿tiÚ
 
	gbefÜeMig¿tiÚ
 = 
nuÎ
;

783 if(
g‘PŞicyR•liÿVM
()==
PŞic›s
.
MIGRATION_COMPLETE_VM
){

784 
befÜeMig¿tiÚ
 = 
Ãw
 
P»·»Com¶‘eVM
();

786 if(
g‘PŞicyR•liÿVM
()==
PŞic›s
.
MIGRATION_CONTAINER_VM
){

787 
befÜeMig¿tiÚ
 = 
Ãw
 
P»·»CÚš”VM
();

789 if(
g‘PŞicyR•liÿVM
()==
PŞic›s
.
LIVE_MIGRATION
){

790 
befÜeMig¿tiÚ
 = 
Ãw
 
P»·»LiveMig¿tiÚ
();

793 
FogLš—rPow”Mod–
 
	gpow”Mod–
 = 
Ãw
 FogLinearPowerModel(107.339d, 83.433d);

795 
	gLi¡
<
	gPe
> 
	g³Li¡
 = 
Ãw
 
A¼ayLi¡
<>();

797 
	gms
 = 2800000*(
i
+1);

799 
	g³Li¡
.
add
(
Ãw
 
Pe
(0,‚ew 
PeProvisiÚ”Ov”bookšg
(
ms
)));

801 
	gho¡Id
 = 
FogUts
.
g’”©eEÁ™yId
();

802 
	g¡Üage
 = 1000*1024*1024;

803 
	gbw
 = 1000 * 1024 * 1024;

804 
	g¿m
 = 25000;

805 
Pow”Ho¡
 
	gho¡
 = 
Ãw
 PowerHost(

806 
ho¡Id
,

807 
Ãw
 
RamProvisiÚ”Sim¶e
(
¿m
),

808 
Ãw
 
BwProvisiÚ”Ov”bookšg
(
bw
),

809 
¡Üage
,

810 
³Li¡
,

811 
Ãw
 
SŒ—mO³¿tÜScheduËr
(
³Li¡
),

812 
pow”Mod–


815 
	gLi¡
<
	gHo¡
> 
	gho¡Li¡
 = 
Ãw
 
A¼ayLi¡
<
Ho¡
>();

816 
	gho¡Li¡
.
add
(
ho¡
);

821 
SŒšg
 
	g¬ch
 = "x86";

822 
SŒšg
 
	gos
 = "Linux";

823 
SŒšg
 
	gvmm
 = "Empty";

824 
	gtime_zÚe
 = 10.0;

825 
	gco¡
 = 3.0;

826 
	gco¡P”Mem
 = 0.05;

827 
	gco¡P”StÜage
 = 0.001;

829 
	gco¡P”Bw
 = 0.0;

830 
	gLškedLi¡
<
	gStÜage
> 
	g¡ÜageLi¡
 = 
Ãw
 
LškedLi¡
<
StÜage
>();

832 
FogDeviûCh¬aù”i¡ics
 
	gch¬aù”i¡ics
 = 
Ãw
 FogDeviûCh¬aù”i¡ics(
¬ch


833 , 
os


834 , 
vmm


835 , 
ho¡


836 , 
time_zÚe


837 , 
co¡


838 , 
co¡P”Mem


839 , 
co¡P”StÜage


840 , 
co¡P”Bw
);

842 
AµModuËAÎoÿtiÚPŞicy
 
	gvmAÎoÿtiÚPŞicy
 = 
Ãw
 AµModuËAÎoÿtiÚPŞicy(
ho¡Li¡
);

843 
FogDeviû
 
	gsc
 = 
nuÎ
;

844 
S”viû
 
	g£rviûOfãr
 = 
Ãw
 Service();

845 
	g£rviûOfãr
.
£tTy³
(
g‘Rªd
().
ÃxtIÁ
(10000)%
MaxAndMš
.
MAX_SERVICES
);

846 if(
	g£rviûOfãr
.
g‘Ty³
()==
S”viûs
.
HIBRID
 || 
£rviûOfãr
.g‘Ty³(è=ğS”viûs.
PUBLIC
){

847 
£rviûOfãr
.
£tV®ue
(
g‘Rªd
().
ÃxtFlßt
()*10);

850 
	g£rviûOfãr
.
£tV®ue
(0);

852 
	gŒy
 {

855 
	gcoÜdX
 = 
g‘Rªd
().
ÃxtIÁ
(
MaxAndMš
.
MAX_X
);

856 
	gcoÜdY
 = 
g‘Rªd
().
ÃxtIÁ
(
MaxAndMš
.
MAX_X
);

858 
	gmaxBªdwidth
 = 
g‘MaxBªdwidth
()*1024*1024;

859 
	gmšBªdwidth
 = (
g‘MaxBªdwidth
()-9)*1024*1024;

860 
	gupLškRªdom
 = 
mšBªdwidth
 + (
maxBªdwidth
 - mšBªdwidthè* 
g‘Rªd
().
ÃxtDoubË
();

861 
	gdownLškRªdom
 = 
mšBªdwidth
 + (
maxBªdwidth
 - mšBªdwidthè* 
g‘Rªd
().
ÃxtDoubË
();

863 
	gsc
 = 
Ãw
 
FogDeviû
("S”v”CloudËt"+ 
IÁeg”
.
toSŒšg
(
i
)

864 , 
ch¬aù”i¡ics


865 , 
vmAÎoÿtiÚPŞicy


866 , 
¡ÜageLi¡


868 , 
upLškRªdom


869 , 
downLškRªdom


872 , 
coÜdX
, 
coÜdY


873 , 
i


874 , 
£rviûOfãr


875 , 
mig¿tiÚSŒ©egy


876 , 
g‘PŞicyR•liÿVM
()

877 , 
befÜeMig¿tiÚ


879 
	g£rv”CloudËts
.
add
(
i
,
sc
);

890 } 
ÿtch
 (
Exû±iÚ
 
e
) {

892 
	ge
.
´štSckT¿û
();

896 
public
 
addS”v”CloudËt
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
, 
CoÜdš©e
 
coÜdDeviûs
){

897 
	gi
=0;

898 
	gcoÜdX
,
	gcoÜdY
;

900 
	gcoÜdX
=1001; coÜdX<
	gMaxAndMš
.
	gMAX_X
-990; coordX+=2001){

901 
Sy¡em
.
out
.
´šn
("Creating Server cloudlets");

902 
	gcoÜdY
=1001; coÜdY<
	gMaxAndMš
.
	gMAX_Y
-990; coÜdY+=2001, 
	gi
++){

904 
DecisiÚMig¿tiÚ
 
	gmig¿tiÚSŒ©egy
;

905 if(
g‘MigSŒ©egyPŞicy
()==
PŞic›s
.
LOWEST_LATENCY
){

906 
mig¿tiÚSŒ©egy
 = 
Ãw
 
Lowe¡L©’cy
(
g‘S”v”CloudËts
(), 
g‘ApDeviûs
(), 
g‘MigPoštPŞicy
(), 
g‘PŞicyR•liÿVM
());

908 if(
g‘MigSŒ©egyPŞicy
()==
PŞic›s
.
LOWEST_DIST_BW_SMARTTING_SERVERCLOUDLET
){

909 
mig¿tiÚSŒ©egy
 = 
Ãw
 
Lowe¡Di¡BwSm¬tThšgS”v”CloudËt
(
g‘S”v”CloudËts
(), 
g‘ApDeviûs
(), 
g‘MigPoštPŞicy
(), 
g‘PŞicyR•liÿVM
());

912 
	gmig¿tiÚSŒ©egy
 = 
Ãw
 
Lowe¡Di¡BwSm¬tThšgAP
(
g‘S”v”CloudËts
(), 
g‘ApDeviûs
(), 
g‘MigPoštPŞicy
(), 
g‘PŞicyR•liÿVM
());

914 
BefÜeMig¿tiÚ
 
	gbefÜeMig¿tiÚ
 = 
nuÎ
;

915 if(
g‘PŞicyR•liÿVM
()==
PŞic›s
.
MIGRATION_COMPLETE_VM
){

916 
befÜeMig¿tiÚ
 = 
Ãw
 
P»·»Com¶‘eVM
();

918 if(
g‘PŞicyR•liÿVM
()==
PŞic›s
.
MIGRATION_CONTAINER_VM
){

919 
befÜeMig¿tiÚ
 = 
Ãw
 
P»·»CÚš”VM
();

921 if(
g‘PŞicyR•liÿVM
()==
PŞic›s
.
LIVE_MIGRATION
){

922 
befÜeMig¿tiÚ
 = 
Ãw
 
P»·»LiveMig¿tiÚ
();

927 
FogLš—rPow”Mod–
 
	gpow”Mod–
 = 
Ãw
 FogLinearPowerModel(107.339d, 83.433d);

929 
	gLi¡
<
	gPe
> 
	g³Li¡
 = 
Ãw
 
A¼ayLi¡
<>();

931 
	gms
 = 2800000*(
i
+1);

933 
	g³Li¡
.
add
(
Ãw
 
Pe
(0,‚ew 
PeProvisiÚ”Ov”bookšg
(
ms
)));

935 
	gho¡Id
 = 
FogUts
.
g’”©eEÁ™yId
();

936 
	g¡Üage
 = 1000*1024*1024;

937 
	gbw
 = 1000 * 1024 * 1024;

938 
	g¿m
 = 25000;

939 
Pow”Ho¡
 
	gho¡
 = 
Ãw
 PowerHost(

940 
ho¡Id
,

941 
Ãw
 
RamProvisiÚ”Sim¶e
(
¿m
),

942 
Ãw
 
BwProvisiÚ”Ov”bookšg
(
bw
),

943 
¡Üage
,

944 
³Li¡
,

945 
Ãw
 
SŒ—mO³¿tÜScheduËr
(
³Li¡
),

946 
pow”Mod–


949 
	gLi¡
<
	gHo¡
> 
	gho¡Li¡
 = 
Ãw
 
A¼ayLi¡
<
Ho¡
>();

950 
	gho¡Li¡
.
add
(
ho¡
);

952 
SŒšg
 
	g¬ch
 = "x86";

953 
SŒšg
 
	gos
 = "Linux";

954 
SŒšg
 
	gvmm
 = "Empty";

955 
	gtime_zÚe
 = 10.0;

956 
	gco¡
 = 3.0;

957 
	gco¡P”Mem
 = 0.05;

958 
	gco¡P”StÜage
 = 0.001;

960 
	gco¡P”Bw
 = 0.0;

961 
	gLškedLi¡
<
	gStÜage
> 
	g¡ÜageLi¡
 = 
Ãw
 
LškedLi¡
<
StÜage
>();

963 
FogDeviûCh¬aù”i¡ics
 
	gch¬aù”i¡ics
 = 
Ãw
 FogDeviûCh¬aù”i¡ics(
¬ch


964 , 
os


965 , 
vmm


966 , 
ho¡


967 , 
time_zÚe


968 , 
co¡


969 , 
co¡P”Mem


970 , 
co¡P”StÜage


971 , 
co¡P”Bw
);

973 
AµModuËAÎoÿtiÚPŞicy
 
	gvmAÎoÿtiÚPŞicy
 = 
Ãw
 AµModuËAÎoÿtiÚPŞicy(
ho¡Li¡
);

974 
FogDeviû
 
	gsc
 = 
nuÎ
;

975 
S”viû
 
	g£rviûOfãr
 = 
Ãw
 Service();

976 
	g£rviûOfãr
.
£tTy³
(
g‘Rªd
().
ÃxtIÁ
(10000)%
MaxAndMš
.
MAX_SERVICES
);

977 if(
	g£rviûOfãr
.
g‘Ty³
()==
S”viûs
.
HIBRID
 || 
£rviûOfãr
.g‘Ty³(è=ğS”viûs.
PUBLIC
){

978 
£rviûOfãr
.
£tV®ue
(
g‘Rªd
().
ÃxtFlßt
()*10);

981 
	g£rviûOfãr
.
£tV®ue
(0);

983 
	gŒy
 {

986 
	gmaxBªdwidth
 = 
g‘MaxBªdwidth
()*1024*1024;

987 
	gmšBªdwidth
 = (
g‘MaxBªdwidth
()-9)*1024*1024;

988 
	gupLškRªdom
 = 
mšBªdwidth
 + (
maxBªdwidth
 - mšBªdwidthè* 
g‘Rªd
().
ÃxtDoubË
();

989 
	gdownLškRªdom
 = 
mšBªdwidth
 + (
maxBªdwidth
 - mšBªdwidthè* 
g‘Rªd
().
ÃxtDoubË
();

990 
	gsc
 = 
Ãw
 
FogDeviû
("S”v”CloudËt"+ 
IÁeg”
.
toSŒšg
(
i
)

991 , 
ch¬aù”i¡ics


992 , 
vmAÎoÿtiÚPŞicy


993 , 
¡ÜageLi¡


995 , 
upLškRªdom


996 , 
downLškRªdom


999 , 
coÜdX
, 
coÜdY


1000 , 
i


1001 , 
£rviûOfãr


1002 , 
mig¿tiÚSŒ©egy


1003 , 
g‘PŞicyR•liÿVM
()

1004 , 
befÜeMig¿tiÚ


1006 
	g£rv”CloudËts
.
add
(
i
,
sc
);

1008 
	gsc
.
£tP¬’tId
(-1);

1012 } 
ÿtch
 (
Exû±iÚ
 
e
) {

1014 
	ge
.
´štSckT¿û
();

1019 
	gLogMobe
.
debug
("AµExem¶o2.java", "TÙ® oà£rv”CloudËts: "+
i
);

1021 
´iv©e
 
ü—‹S”v”CloudËtsN‘wÜk
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
){

1023 
	gHashM­
<
	gFogDeviû
, 
	gDoubË
> 
	gÃt
 = 
Ãw
 
HashM­
<>();

1025 
FogDeviû
 
	gsc
 : 
£rv”CloudËts
){

1026 
FogDeviû
 
sc1
 : 
£rv”CloudËts
){

1027 if(
sc
.
equ®s
(
sc1
)){

1034 if(
	gsc
.
g‘U¶škBªdwidth
(è< 
	gsc1
.
g‘DowÆškBªdwidth
()){

1035 
	gÃt
.
put
(
sc1
, 
sc
.
g‘U¶škBªdwidth
());

1036 
	gN‘wÜkTİŞogy
.
addLšk
(
sc
.
g‘Id
(), 
sc1
.g‘Id(), sc.
g‘U¶škBªdwidth
(),
g‘Rªd
().
ÃxtDoubË
());

1039 
	gÃt
.
put
(
sc1
,sc1.
g‘DowÆškBªdwidth
());

1040 
	gN‘wÜkTİŞogy
.
addLšk
(
sc
.
g‘Id
(), 
sc1
.g‘Id(), sc1.
g‘DowÆškBªdwidth
(),
g‘Rªd
().
ÃxtDoubË
());

1043 
	gsc
.
£tN‘S”v”CloudËts
(
Ãt
);

1047 @
Suµ»ssW¬nšgs
("unused")

1048 
´iv©e
 
AµliÿtiÚ
 
	$ü—‹AµliÿtiÚ
(
SŒšg
 
­pId
, 
u£rId
, 
myId
, 
AµModuË
 
u£rVm
){

1050 
AµliÿtiÚ
 
­¶iÿtiÚ
 = AµliÿtiÚ.
	`ü—‹AµliÿtiÚ
(
­pId
, 
u£rId
);

1051 
­¶iÿtiÚ
.
	`addAµModuË
(
u£rVm
);

1052 
­¶iÿtiÚ
.
	`addAµModuË
("ş›Á"+
myId
,"appModuleClient"+myId, 10);

1058 if(
EEG_TRANSMISSION_TIME
>=10)

1059 
­¶iÿtiÚ
.
	`addAµEdge
("EEG"+
myId
, "ş›Á"+myId, 2000, 500, "EEG"+myId, 
Tu¶e
.
UP
, 
AµEdge
.
SENSOR
);

1061 
­¶iÿtiÚ
.
	`addAµEdge
("EEG"+
myId
, "ş›Á"+myId, 3000, 500, "EEG"+myId, 
Tu¶e
.
UP
, 
AµEdge
.
SENSOR
);

1064 
­¶iÿtiÚ
.
	`addAµEdge
("ş›Á"+
myId
, 
u£rVm
.
	`g‘Name
(), 3500, 500, "_SENSOR"+myId, 
Tu¶e
.
UP
, 
AµEdge
.
MODULE
);

1067 
­¶iÿtiÚ
.
	`addAµEdge
(
u£rVm
.
	`g‘Name
(), u£rVm.g‘Name(), 1000, 1000, 1000, "PLAYER_GAME_STATE"+
myId
, 
Tu¶e
.
UP
, 
AµEdge
.
MODULE
);

1068 
­¶iÿtiÚ
.
	`addAµEdge
(
u£rVm
.
	`g‘Name
(), "ş›Á"+
myId
, 14, 500, "CONCENTRATION"+myId, 
Tu¶e
.
DOWN
, 
AµEdge
.
MODULE
);

1069 
­¶iÿtiÚ
.
	`addAµEdge
(
u£rVm
.
	`g‘Name
(), "ş›Á"+
myId
, 1000, 28, 1000, "GLOBAL_GAME_STATE"+myId, 
Tu¶e
.
DOWN
, 
AµEdge
.
MODULE
);

1070 
­¶iÿtiÚ
.
	`addAµEdge
("ş›Á"+
myId
, "DISPLAY"+myId, 1000, 500, "SELF_STATE_UPDATE"+myId, 
Tu¶e
.
DOWN
, 
AµEdge
.
ACTUATOR
);

1071 
­¶iÿtiÚ
.
	`addAµEdge
("ş›Á"+
myId
, "DISPLAY"+myId, 1000, 500, "GLOBAL_STATE_UPDATE"+myId, 
Tu¶e
.
DOWN
, 
AµEdge
.
ACTUATOR
);

1078 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("ş›Á"+
myId
, "EEG"+myId, "_SENSOR"+myId, 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(0.9));

1079 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("ş›Á"+
myId
, "CONCENTRATION"+myId, "SELF_STATE_UPDATE"+myId, 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

1080 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
(
u£rVm
.
	`g‘Name
(), "_SENSOR"+
myId
, "CONCENTRATION"+myId, 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

1081 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("ş›Á"+
myId
, "GLOBAL_GAME_STATE"+myId, "GLOBAL_STATE_UPDATE"+myId, 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

1088 
fš®
 
SŒšg
 
ş›Á
="ş›Á"+
myId
;

1089 
fš®
 
SŒšg
 
cÚûÁ¿tiÚ
 = 
u£rVm
.
	`g‘Name
();

1090 
fš®
 
SŒšg
 
“g
 = "EEG"+
myId
;

1091 
fš®
 
SŒšg
 
di¥Ïy
 ="DISPLAY"+
myId
;

1092 
fš®
 
AµLoİ
 
loİ1
 = 
Ãw
 
	`AµLoİ
Òew 
A¼ayLi¡
<
SŒšg
>(){{
	`add
(
“g
);add(
ş›Á
);add(
cÚûÁ¿tiÚ
);add(ş›Á);add(
di¥Ïy
);}});

1093 
Li¡
<
AµLoİ
> 
loİs
 = 
Ãw
 
A¼ayLi¡
<AµLoİ>(){{
	`add
(
loİ1
);}};

1094 
­¶iÿtiÚ
.
	`£tLoİs
(
loİs
);

1096  
­¶iÿtiÚ
;

1097 
	}
}

1099 @
Suµ»ssW¬nšgs
("unused")

1100 
´iv©e
 
AµliÿtiÚ
 
	$ü—‹AµliÿtiÚ
(
SŒšg
 
­pId
, 
u£rId
, 
myId
){

1102 
AµliÿtiÚ
 
­¶iÿtiÚ
 = AµliÿtiÚ.
	`ü—‹AµliÿtiÚ
(
­pId
, 
u£rId
);

1105 
­¶iÿtiÚ
.
	`addAµModuË
("ş›Á"+
myId
, 10);

1106 
­¶iÿtiÚ
.
	`addAµModuË
("cÚûÁ¿tiÚ_ÿlcuÏtÜ"+
myId
, 10);

1107 
­¶iÿtiÚ
.
	`addAµModuË
("cÚÃùÜ"+
myId
, 10);

1112 if(
EEG_TRANSMISSION_TIME
==10)

1113 
­¶iÿtiÚ
.
	`addAµEdge
("EEG"+
myId
, "ş›Á"+myId, 2000, 500, "EEG"+myId, 
Tu¶e
.
UP
, 
AµEdge
.
SENSOR
);

1115 
­¶iÿtiÚ
.
	`addAµEdge
("EEG"+
myId
, "ş›Á"+myId, 3000, 500, "EEG"+myId, 
Tu¶e
.
UP
, 
AµEdge
.
SENSOR
);

1118 
­¶iÿtiÚ
.
	`addAµEdge
("ş›Á"+
myId
, "cÚûÁ¿tiÚ_ÿlcuÏtÜ"+myId, 3500, 500, "_SENSOR", 
Tu¶e
.
UP
, 
AµEdge
.
MODULE
);

1120 
­¶iÿtiÚ
.
	`addAµEdge
("cÚûÁ¿tiÚ_ÿlcuÏtÜ"+
myId
, "cÚÃùÜ"+myId, 1000, 1000, 1000, "PLAYER_GAME_STATE", 
Tu¶e
.
UP
, 
AµEdge
.
MODULE
);

1122 
­¶iÿtiÚ
.
	`addAµEdge
("cÚûÁ¿tiÚ_ÿlcuÏtÜ"+
myId
, "ş›Á"+myId, 14, 500, "CONCENTRATION", 
Tu¶e
.
DOWN
, 
AµEdge
.
MODULE
);

1123 
­¶iÿtiÚ
.
	`addAµEdge
("cÚÃùÜ"+
myId
, "ş›Á"+myId, 1000, 28, 1000, "GLOBAL_GAME_STATE", 
Tu¶e
.
DOWN
, 
AµEdge
.
MODULE
);

1124 
­¶iÿtiÚ
.
	`addAµEdge
("ş›Á"+
myId
, "DISPLAY"+myId, 1000, 500, "SELF_STATE_UPDATE", 
Tu¶e
.
DOWN
, 
AµEdge
.
ACTUATOR
);

1125 
­¶iÿtiÚ
.
	`addAµEdge
("ş›Á"+
myId
, "DISPLAY"+myId, 1000, 500, "GLOBAL_STATE_UPDATE", 
Tu¶e
.
DOWN
, 
AµEdge
.
ACTUATOR
);

1130 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("ş›Á"+
myId
, "EEG"+myId, "_SENSOR", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(0.9));

1131 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("ş›Á"+
myId
, "CONCENTRATION", "SELF_STATE_UPDATE", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

1132 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("cÚûÁ¿tiÚ_ÿlcuÏtÜ"+
myId
, "_SENSOR", "CONCENTRATION", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

1133 
­¶iÿtiÚ
.
	`addTu¶eM­pšg
("ş›Á"+
myId
, "GLOBAL_GAME_STATE", "GLOBAL_STATE_UPDATE", 
Ãw
 
	`F¿ùiÚ®S–eùiv™y
(1.0));

1141 
fš®
 
SŒšg
 
ş›Á
="ş›Á"+
myId
;

1142 
fš®
 
SŒšg
 
cÚûÁ¿tiÚ
 = "cÚûÁ¿tiÚ_ÿlcuÏtÜ"+
myId
;

1143 
fš®
 
SŒšg
 
“g
 = "EEG"+
myId
;

1144 
fš®
 
SŒšg
 
di¥Ïy
 ="DISPLAY"+
myId
;

1145 
fš®
 
AµLoİ
 
loİ1
 = 
Ãw
 
	`AµLoİ
Òew 
A¼ayLi¡
<
SŒšg
>(){{
	`add
(
“g
);add(
ş›Á
);add(
cÚûÁ¿tiÚ
);add(ş›Á);add(
di¥Ïy
);}});

1146 
Li¡
<
AµLoİ
> 
loİs
 = 
Ãw
 
A¼ayLi¡
<AµLoİ>(){{
	`add
(
loİ1
);}};

1147 
­¶iÿtiÚ
.
	`£tLoİs
(
loİs
);

1149  
­¶iÿtiÚ
;

1150 
	}
}

1155 
public
 
	$g‘PŞicyR•liÿVM
() {

1156  
pŞicyR•liÿVM
;

1157 
	}
}

1159 
public
 
	$£tPŞicyR•liÿVM
(
pŞicyR•liÿVM
) {

1160 
AµExem¶o2
.
pŞicyR•liÿVM
 =…olicyReplicaVM;

1161 
	}
}

1163 
public
 
	$g‘S‹pPŞicy
() {

1164  
¡•PŞicy
;

1165 
	}
}

1167 
public
 
	$£tS‹pPŞicy
(
¡•PŞicy
) {

1168 
AµExem¶o2
.
¡•PŞicy
 = stepPolicy;

1169 
	}
}

1171 
public
 
	gLi¡
<
	gMobeDeviû
> 
	$g‘Sm¬tThšgs
() {

1172  
sm¬tThšgs
;

1173 
	}
}

1174 
public
 
£tSm¬tThšgs
(
Li¡
<
MobeDeviû
> 
sm¬tThšgs
) {

1175 
	gAµExem¶o2
.
	gsm¬tThšgs
 = 
sm¬tThšgs
;

1177 
public
 
	gLi¡
<
	gFogDeviû
> 
	$g‘S”v”CloudËts
() {

1178  
£rv”CloudËts
;

1179 
	}
}

1180 
public
 
£tS”v”CloudËts
(
Li¡
<
FogDeviû
> 
£rv”CloudËts
) {

1181 
	gAµExem¶o2
.
	g£rv”CloudËts
 = 
£rv”CloudËts
;

1183 
public
 
	gLi¡
<
	gApDeviû
> 
	$g‘ApDeviûs
() {

1184  
­Deviûs
;

1185 
	}
}

1186 
public
 
£tApDeviûs
(
Li¡
<
ApDeviû
> 
­Deviûs
) {

1187 
	gAµExem¶o2
.
	g­Deviûs
 = 
­Deviûs
;

1189 
public
 
	$g‘MigPoštPŞicy
() {

1190  
migPoštPŞicy
;

1191 
	}
}

1193 
public
 
	$£tMigPoštPŞicy
(
migPoštPŞicy
) {

1194 
AµExem¶o2
.
migPoštPŞicy
 = migPointPolicy;

1195 
	}
}

1197 
public
 
	$g‘MigSŒ©egyPŞicy
() {

1198  
migSŒ©egyPŞicy
;

1199 
	}
}

1201 
public
 
	$£tMigSŒ©egyPŞicy
(
migSŒ©egyPŞicy
) {

1202 
AµExem¶o2
.
migSŒ©egyPŞicy
 = migStrategyPolicy;

1203 
	}
}

1205 
public
 
	$g‘Pos™iÚApPŞicy
() {

1206  
pos™iÚApPŞicy
;

1207 
	}
}

1209 
public
 
	$£tPos™iÚApPŞicy
(
pos™iÚApPŞicy
) {

1210 
AµExem¶o2
.
pos™iÚApPŞicy
 =…ositionApPolicy;

1211 
	}
}

1213 
public
 
CoÜdš©e
 
	$g‘CoÜdDeviûs
() {

1214  
coÜdDeviûs
;

1215 
	}
}

1217 
public
 
	$£tCoÜdDeviûs
(
CoÜdš©e
 
coÜdDeviûs
) {

1218 
AµExem¶o2
.
coÜdDeviûs
 = coordDevices;

1219 
	}
}

1224 
public
 
	gLi¡
<
	gFogBrok”
> 
	$g‘Brok”Li¡
() {

1225  
brok”Li¡
;

1226 
	}
}

1231 
public
 
£tBrok”Li¡
(
Li¡
<
FogBrok”
> 
brok”Li¡
) {

1232 
	gAµExem¶o2
.
	gbrok”Li¡
 = 
brok”Li¡
;

1238 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘AµIdLi¡
() {

1239  
­pIdLi¡
;

1240 
	}
}

1245 
public
 
£tAµIdLi¡
(
Li¡
<
SŒšg
> 
­pIdLi¡
) {

1246 
	gAµExem¶o2
.
	g­pIdLi¡
 = 
­pIdLi¡
;

1252 
public
 
	gLi¡
<
	gAµliÿtiÚ
> 
	$g‘AµliÿtiÚLi¡
() {

1253  
­¶iÿtiÚLi¡
;

1254 
	}
}

1259 
public
 
£tAµliÿtiÚLi¡
(
Li¡
<
AµliÿtiÚ
> 
­¶iÿtiÚLi¡
) {

1260 
	gAµExem¶o2
.
	g­¶iÿtiÚLi¡
 = 
­¶iÿtiÚLi¡
;

1264 
public
 
	gQueue
<
	gSŒšg
[]> 
	$g‘Queue
() {

1265  
q
;

1266 
	}
}

1268 
public
 
£tQueue
(
Queue
<
SŒšg
[]> 
q
) {

1269 
	gAµExem¶o2
.
	gq
 = 
q
;

1273 
public
 
	$g‘S“d
() {

1274  
£ed
;

1275 
	}
}

1280 
public
 
	$£tS“d
(
£ed
) {

1281 
AµExem¶o2
.
£ed
 = seed;

1282 
	}
}

1287 
public
 
	$g‘Pos™iÚScPŞicy
() {

1288  
pos™iÚScPŞicy
;

1289 
	}
}

1294 
public
 
	$£tPos™iÚScPŞicy
(
pos™iÚScPŞicy
) {

1295 
AµExem¶o2
.
pos™iÚScPŞicy
 =…ositionScPolicy;

1296 
	}
}

1301 
public
 
	$g‘MaxSm¬tThšgs
() {

1302  
maxSm¬tThšgs
;

1303 
	}
}

1308 
public
 
	$£tMaxSm¬tThšgs
(
maxSm¬tThšgs
) {

1309 
AµExem¶o2
.
maxSm¬tThšgs
 = maxSmartThings;

1310 
	}
}

1312 
public
 
Rªdom
 
	$g‘Rªd
() {

1313  
¿nd
;

1314 
	}
}

1316 
public
 
	$£tRªd
(
Rªdom
 
¿nd
) {

1317 
AµExem¶o2
.
¿nd
 =„and;

1318 
	}
}

1320 
public
 
	$g‘MaxBªdwidth
() {

1321  
maxBªdwidth
;

1322 
	}
}

1324 
public
 
	$£tMaxBªdwidth
(
maxBªdwidth
) {

1325 
AµExem¶o2
.
maxBªdwidth
 = maxBandwidth;

1326 
	}
}

1328 
public
 
boŞ—n
 
	$isMig¿tiÚAbË
() {

1329  
mig¿tiÚAbË
;

1330 
	}
}

1332 
public
 
	$£tMig¿tiÚAbË
(
boŞ—n
 
mig¿tiÚAbË
) {

1333 
AµExem¶o2
.
mig¿tiÚAbË
 = migrationAble;

1334 
	}
}

	@src/org/fog/vmmobile/AppExemplo3.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmobe
;

3 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©
;

4 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

5 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

6 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

7 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

8 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

9 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

10 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

11 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

13 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËr
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËrTimeSh¬ed
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gN‘wÜkTİŞogy
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–FuÎ
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gPow”Ho¡
;

26 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”Sim¶e
;

27 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gBwProvisiÚ”Ov”bookšg
;

28 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gPeProvisiÚ”Ov”bookšg
;

29 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gApDeviû
;

30 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogBrok”
;

31 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

32 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviûCh¬aù”i¡ics
;

33 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeAùu©Ü
;

34 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

35 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeS’sÜ
;

36 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gCoÜdš©e
;

37 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDi¡ªûs
;

38 
impÜt
 
	gÜg
.
	gfog
.
	g¶aûm’t
.
	gMobeCÚŒŞËr
;

39 
impÜt
 
	gÜg
.
	gfog
.
	gpŞicy
.
	gAµModuËAÎoÿtiÚPŞicy
;

40 
impÜt
 
	gÜg
.
	gfog
.
	gscheduËr
.
	gSŒ—mO³¿tÜScheduËr
;

41 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogLš—rPow”Mod–
;

42 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogUts
;

43 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gD‘”mši¡icDi¡ributiÚ
;

44 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gDecisiÚMig¿tiÚ
;

45 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gLowe¡Di¡BwSm¬tThšgAP
;

46 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gLowe¡Di¡BwSm¬tThšgS”v”CloudËt
;

47 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gLowe¡L©’cy
;

48 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gS”viû
;

49 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMaxAndMš
;

50 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gPŞic›s
;

51 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gS”viûs
;

53 
public
 cÏs 
	cAµExem¶o3
 {

	@src/org/fog/vmmobile/LogMobile.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmobe
;

3 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©
;

5 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

7 
public
 cÏs 
	cLogMobe
 {

8 
public
 
fš®
 
	mERROR
 = 1;

9 
public
 
fš®
 
	mDEBUG
 = 0;

11 
public
 
	mLOG_LEVEL
 = 
LogMobe
.
DEBUG
;

12 
´iv©e
 
Decim®FÜm©
 
	mdf
 = 
Ãw
 DecimalFormat("#.00");

14 
public
 
boŞ—n
 
	mENABLED
 = 
çl£
;;

16 
public
 
	$£tLogLev–
(
Ëv–
){

17 
LogMobe
.
LOG_LEVEL
 = 
Ëv–
;

20 
public
 
	$debug
(
SŒšg
 
şassJava
, SŒšg 
mes§ge
){

21 if(!
ENABLED
)

23 if(
LogMobe
.
LOG_LEVEL
 <ğLogMobe.
DEBUG
)

24 
Sy¡em
.
out
.
	`´šn
("Clock: "+
CloudSim
.
	`şock
()+" - "+
şassJava
+": "+
mes§ge
);

25 
	}
}

	@src/org/fog/vmmobile/NetworkExample4.java

10 
·ckage
 
	gÜg
.
	gfog
.
	gvmmobe
;

12 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©
;

13 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

15 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

16 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËt
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gCloudËtScheduËrTimeSh¬ed
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”Brok”
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gD©aûÁ”Ch¬aù”i¡ics
;

23 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

24 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

25 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gN‘wÜkTİŞogy
;

26 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

27 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

28 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–
;

29 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gUtiz©iÚMod–FuÎ
;

30 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVm
;

31 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmAÎoÿtiÚPŞicySim¶e
;

32 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gVmScheduËrTimeSh¬ed
;

33 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

34 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gBwProvisiÚ”Sim¶e
;

35 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gPeProvisiÚ”Sim¶e
;

36 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”Sim¶e
;

45 
public
 cÏs 
	cN‘wÜkExam¶e4
 {

48 
´iv©e
 
	mLi¡
<
	mCloudËt
> 
	mşoudËtLi¡
;

51 
´iv©e
 
	mLi¡
<
	mVm
> 
	mvmli¡
;

56 
public
 
	$maš
(
SŒšg
[] 
¬gs
) {

58 
Log
.
	`´štLše
("Starting NetworkExample4...");

60 
Œy
 {

63 
num_u£r
 = 1;

64 
C®’d¬
 
ÿËnd¬
 = C®’d¬.
	`g‘In¡ªû
();

65 
boŞ—n
 
Œaû_æag
 = 
çl£
;

68 
CloudSim
.
	`š™
(
num_u£r
, 
ÿËnd¬
, 
Œaû_æag
);

72 
D©aûÁ”
 
d©aûÁ”0
 = 
	`ü—‹D©aûÁ”
("Datacenter_0");

75 
D©aûÁ”Brok”
 
brok”
 = 
	`ü—‹Brok”
();

76 
brok”Id
 = 
brok”
.
	`g‘Id
();

79 
vmli¡
 = 
Ãw
 
A¼ayLi¡
<
Vm
>();

82 
vmid
 = 0;

83 
ms
 = 250;

84 
size
 = 10000;

85 
¿m
 = 512;

86 
bw
 = 1000;

87 
³sNumb”
 = 1;

88 
SŒšg
 
vmm
 = "Xen";

91 
Vm
 
vm1
 = 
Ãw
 
	`Vm
(
vmid
, 
brok”Id
, 
ms
, 
³sNumb”
, 
¿m
, 
bw
, 
size
, 
vmm
,‚ew 
	`CloudËtScheduËrTimeSh¬ed
());

94 
vmli¡
.
	`add
(
vm1
);

97 
brok”
.
	`subm™VmLi¡
(
vmli¡
);

101 
şoudËtLi¡
 = 
Ãw
 
A¼ayLi¡
<
CloudËt
>();

104 
id
 = 0;

105 
Ëngth
 = 40000;

106 
feSize
 = 300;

107 
ouutSize
 = 300;

108 
Utiz©iÚMod–
 
utiz©iÚMod–
 = 
Ãw
 
	`Utiz©iÚMod–FuÎ
();

110 
CloudËt
 
şoudËt1
 = 
Ãw
 
	`CloudËt
(
id
, 
Ëngth
, 
³sNumb”
, 
feSize
, 
ouutSize
, 
utiz©iÚMod–
, utilizationModel, utilizationModel);

111 
şoudËt1
.
	`£tU£rId
(
brok”Id
);

114 
şoudËtLi¡
.
	`add
(
şoudËt1
);

117 
brok”
.
	`subm™CloudËtLi¡
(
şoudËtLi¡
);

122 
N‘wÜkTİŞogy
.
	`addLšk
(
d©aûÁ”0
.
	`g‘Id
(),
brok”
.getId(),10.0,10);

125 
CloudSim
.
	`¡¬tSimuÏtiÚ
();

128 
Li¡
<
CloudËt
> 
ÃwLi¡
 = 
brok”
.
	`g‘CloudËtReûivedLi¡
();

130 
CloudSim
.
	`¡İSimuÏtiÚ
();

132 
	`´štCloudËtLi¡
(
ÃwLi¡
);

134 
Log
.
	`´štLše
("NetworkExample4 finished!");

136 
	`ÿtch
 (
Exû±iÚ
 
e
) {

137 
e
.
	`´štSckT¿û
();

138 
Log
.
	`´štLše
("The simulation has beenerminated dueo‡n unexpectedƒrror");

142 
´iv©e
 
D©aûÁ”
 
	$ü—‹D©aûÁ”
(
SŒšg
 
Çme
){

147 
Li¡
<
Ho¡
> 
ho¡Li¡
 = 
Ãw
 
A¼ayLi¡
<Host>();

151 
Li¡
<
Pe
> 
³Li¡
 = 
Ãw
 
A¼ayLi¡
<Pe>();

153 
ms
 = 1000;

156 
³Li¡
.
	`add
(
Ãw
 
	`Pe
(0,‚ew 
	`PeProvisiÚ”Sim¶e
(
ms
)));

159 
ho¡Id
=0;

160 
¿m
 = 2048;

161 
¡Üage
 = 1000000;

162 
bw
 = 10000;

164 
ho¡Li¡
.
	`add
(

165 
Ãw
 
	`Ho¡
(

166 
ho¡Id
,

167 
Ãw
 
	`RamProvisiÚ”Sim¶e
(
¿m
),

168 
Ãw
 
	`BwProvisiÚ”Sim¶e
(
bw
),

169 
¡Üage
,

170 
³Li¡
,

171 
Ãw
 
	`VmScheduËrTimeSh¬ed
(
³Li¡
)

179 
SŒšg
 
¬ch
 = "x86";

180 
SŒšg
 
os
 = "Linux";

181 
SŒšg
 
vmm
 = "Xen";

182 
time_zÚe
 = 10.0;

183 
co¡
 = 3.0;

184 
co¡P”Mem
 = 0.05;

185 
co¡P”StÜage
 = 0.001;

186 
co¡P”Bw
 = 0.0;

187 
LškedLi¡
<
StÜage
> 
¡ÜageLi¡
 = 
Ãw
 LinkedList<Storage>();

189 
D©aûÁ”Ch¬aù”i¡ics
 
ch¬aù”i¡ics
 = 
Ãw
 
	`D©aûÁ”Ch¬aù”i¡ics
(

190 
¬ch
, 
os
, 
vmm
, 
ho¡Li¡
, 
time_zÚe
, 
co¡
, 
co¡P”Mem
,

191 
co¡P”StÜage
, 
co¡P”Bw
);

195 
D©aûÁ”
 
d©aûÁ”
 = 
nuÎ
;

196 
Œy
 {

197 
d©aûÁ”
 = 
Ãw
 
	`D©aûÁ”
(
Çme
, 
ch¬aù”i¡ics
,‚ew 
	`VmAÎoÿtiÚPŞicySim¶e
(
ho¡Li¡
), 
¡ÜageLi¡
, 0);

198 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

199 
e
.
	`´štSckT¿û
();

202  
d©aûÁ”
;

203 
	}
}

207 
´iv©e
 
D©aûÁ”Brok”
 
	$ü—‹Brok”
(){

209 
D©aûÁ”Brok”
 
brok”
 = 
nuÎ
;

210 
Œy
 {

211 
brok”
 = 
Ãw
 
	`D©aûÁ”Brok”
("Broker");

212 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

213 
e
.
	`´štSckT¿û
();

214  
nuÎ
;

216  
brok”
;

217 
	}
}

223 
´iv©e
 
´štCloudËtLi¡
(
Li¡
<
CloudËt
> 
li¡
) {

224 
	gsize
 = 
li¡
.
size
();

225 
CloudËt
 
	gşoudËt
;

227 
SŒšg
 
	gšd’t
 = " ";

228 
	gLog
.
´štLše
();

229 
	gLog
.
´štLše
("========== OUTPUT ==========");

230 
	gLog
.
´štLše
("CloudËˆID" + 
šd’t
 + "STATUS" + indent +

231 "D©¨ûÁ” ID" + 
šd’t
 + "VM ID" + indent + "Time" + indent + "Start Time" + indent + "Finish Time");

233 
	gi
 = 0; i < 
	gsize
; i++) {

234 
	gşoudËt
 = 
li¡
.
g‘
(
i
);

235 
	gLog
.
´št
(
šd’t
 + 
şoudËt
.
g‘CloudËtId
() + indent + indent);

237 ià(
	gşoudËt
.
g‘CloudËtStus
(è=ğ
CloudËt
.
SUCCESS
){

238 
Log
.
´št
("SUCCESS");

240 
Decim®FÜm©
 
	gdá
 = 
Ãw
 DecimalFormat("###.##");

241 
	gLog
.
´štLše
Ğ
šd’t
 + ind’ˆ+ 
şoudËt
.
g‘ResourûId
(è+ ind’ˆ+ ind’ˆ+ ind’ˆ+ cloudËt.
g‘VmId
() +

242 
šd’t
 + ind’ˆ+ 
dá
.
fÜm©
(
şoudËt
.
g‘Aùu®CPUTime
()è+ ind’ˆ+ ind’ˆ+ dá.fÜm©(şoudËt.
g‘ExecS¹Time
())+

243 
šd’t
 + ind’ˆ+ 
dá
.
fÜm©
(
şoudËt
.
g‘FšishTime
()));

	@src/org/fog/vmmobile/constants/Directions.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
;

7 
public
 
fš®
 cÏs 
	cDœeùiÚs
 {

8 
public
 
fš®
 
	mNONE
 = 0;

9 
public
 
fš®
 
	mEAST
 = 1;

10 
public
 
fš®
 
	mNORTHEAST
 = 2;

11 
public
 
fš®
 
	mNORTH
 = 3;

12 
public
 
fš®
 
	mNORTHWEST
 = 4;

13 
public
 
fš®
 
	mWEST
 = 5;

14 
public
 
fš®
 
	mSOUTHWEST
 = 6;

15 
public
 
fš®
 
	mSOUTH
 = 7;

16 
public
 
fš®
 
	mSOUTHEAST
 = 8;

	@src/org/fog/vmmobile/constants/Edge.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
;

3 
public
 
fš®
 cÏs 
	cEdge
 {

4 
public
 
fš®
 
	mNONE
 = 0;

5 
public
 
fš®
 
	mUPON
 = 1;

6 
public
 
fš®
 
	mBOTTOM
 = 2;

7 
public
 
fš®
 
	mRIGHT
 = 3;

8 
public
 
fš®
 
	mLEFT
 = 4;

	@src/org/fog/vmmobile/constants/MaxAndMin.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
;

3 
public
 
fš®
 cÏs 
	cMaxAndMš
 {

5 
public
 
fš®
 
	mMAX_DISTANCE
 = 2000;

6 
public
 
fš®
 
	mMAX_DISTANCE_TO_HANDOFF
 = 40;

7 
public
 
fš®
 
	mMIG_POINT
 = (è(
MAX_DISTANCE_TO_HANDOFF
*1.3);

8 
public
 
fš®
 
	mLIVE_MIG_POINT
 = 200;

9 
public
 
fš®
 
	mMAX_HANDOFF_TIME
 = 1200;

10 
public
 
fš®
 
	mMIN_HANDOFF_TIME
 = 700;

11 
public
 
fš®
 
	mMAX_AP_DEVICE
 = 15;

12 
public
 
fš®
 
	mMAX_SMART_THING
 = 2;

13 
public
 
fš®
 
	mMAX_SERVER_CLOUDLET
 = 10;

14 
public
 
fš®
 
	mMAX_X
 = 16000;

15 
public
 
fš®
 
	mMAX_Y
 = 16000;

16 
public
 
fš®
 
	mMAX_SPEED
 = 20;

17 
public
 
fš®
 
	mMAX_DIRECTION
 = 9;

18 
public
 
fš®
 
	mMAX_SERVICES
 = 3;

19 
public
 
fš®
 
	mMAX_VALUE_SERVICE
 = 1.1f;

20 
public
 
fš®
 
	mMAX_VALUE_AGREE
 = 70f;

21 
public
 
fš®
 
	mMAX_ST_IN_AP
 = 500;

22 
public
 
fš®
 
	mMAX_SIMULATION_TIME
 = ()(1000*60*180);

23 
public
 
fš®
 
	mMAX_VM_SIZE
 = 200;

24 
public
 
fš®
 
	mMIN_VM_SIZE
 = 100;

25 
public
 
fš®
 
	mMAX_BANDWIDTH
 = 15 * 1024 * 1024;

26 
public
 
fš®
 
	mMIN_BANDWIDTH
 = 5 * 1024 * 1024;

27 
public
 
fš®
 
	mDELAY_PROCESS
 = 500;

28 
public
 
fš®
 
	mSIZE_CONTAINER
 = 0.6;

29 
public
 
fš®
 
	mPROCESS_CONTAINER
 = 1.3;

	@src/org/fog/vmmobile/constants/MobileEvents.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
;

3 
public
 cÏs 
	cMobeEv’ts
 {

4 
public
 
fš®
 
	mTO_MIGRATION
 = 5000;

5 
public
 
fš®
 
	mNO_MIGRATION
 = 5001;

6 
public
 
fš®
 
	mSTART_MIGRATION
 = 5002;

7 
public
 
fš®
 
	mABORT_MIGRATION
 = 5003;

8 
public
 
fš®
 
	mMAKE_DECISION_MIGRATION
 = 500412;

9 
public
 
fš®
 
	mREMOVE_VM_OLD_CLOUDLET
 = 5005;

10 
public
 
fš®
 
	mADD_VM_NEW_CLOUDLET
 = 5006;

11 
public
 
fš®
 
	mSTOP_SIMULATION
 = 5007;

12 
public
 
fš®
 
	mSTART_HANDOFF
 = 5008;

13 
public
 
fš®
 
	mDELIVERY_VM
 = 5009;

14 
public
 
fš®
 
	mNEXT_STEP
 = 5010;

15 
public
 
fš®
 
	mCHECK_NEW_STEP
 = 5011;

16 
public
 
fš®
 
	mCREATE_NEW_SMARTTHING
 = 5012;

17 
public
 
fš®
 
	mUNLOCKED_HANDOFF
 = 5013;

18 
public
 
fš®
 
	mCONNECT_ST_TO_SC
 = 5014;

19 
public
 
fš®
 
	mDESCONNECT_ST_TO_SC
 = 5015;

20 
public
 
fš®
 
	mUNLOCKED_MIGRATION
 = 5016;

21 
public
 
fš®
 
	mVM_MIGRATE
 = 5017;

22 
public
 
fš®
 
	mAPP_SUBMIT_MIGRATE
 = 5018;

23 
public
 
fš®
 
	mSET_MIG_STATUS_TRUE
 = 5019;

	@src/org/fog/vmmobile/constants/Policies.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
;

3 
public
 cÏs 
	cPŞic›s
 {

4 
public
 
fš®
 
	mLOWEST_LATENCY
 = 0;

5 
public
 
fš®
 
	mLOWEST_DIST_BW_SMARTTING_SERVERCLOUDLET
 = 1;

6 
public
 
fš®
 
	mLOWEST_DIST_BW_SMARTTING_AP
 = 2;

7 
public
 
fš®
 
	mFIXED_MIGRATION_POINT
 = 0;

8 
public
 
fš®
 
	mSPEED_MIGRATION_POINT
 = 1;

9 
public
 
fš®
 
	mFIXED_AP_LOCATION
 = 0;

10 
public
 
fš®
 
	mRANDOM_AP_LOCATION
 = 1;

11 
public
 
fš®
 
	mMIGRATION_COMPLETE_VM
 = 0;

12 
public
 
fš®
 
	mMIGRATION_CONTAINER_VM
 = 1;

13 
public
 
fš®
 
	mLIVE_MIGRATION
 = 2;

14 
public
 
fš®
 
	mADD
 = 0;

15 
public
 
fš®
 
	mREMOVE
 = 1;

16 
public
 
fš®
 
	mFIXED_SC_LOCATION
 = 0;

17 
public
 
fš®
 
	mRANDOM_SC_LOCATION
 = 1;

	@src/org/fog/vmmobile/constants/Services.java

1 
·ckage
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
;

3 
public
 cÏs 
	cS”viûs
 {

4 
public
 
fš®
 
	mPUBLIC
 = 0;

5 
public
 
fš®
 
	mPRIVATE
 = 1;

6 
public
 
fš®
 
	mHIBRID
 = 2;

	@src/tests/TestDistancesClass.java

1 
·ckage
 
	g‹¡s
;

3 
impÜt
 
	gÜg
.
	gjun™
.
	gAs£¹
.*;

5 
impÜt
 
	gÜg
.
	gjun™
.
	gAá”
;

6 
impÜt
 
	gÜg
.
	gjun™
.
	gAá”CÏss
;

7 
impÜt
 
	gÜg
.
	gjun™
.
	gBefÜe
;

8 
impÜt
 
	gÜg
.
	gjun™
.
	gBefÜeCÏss
;

9 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

11 
public
 cÏs 
	cTe¡Di¡ªûsCÏss
 {

13 @
BefÜeCÏss


14 
public
 
	$£tUpBefÜeCÏss
(è
throws
 
Exû±iÚ
 {

17 @
Aá”CÏss


18 
public
 
	$‹¬DownAá”CÏss
(è
throws
 
Exû±iÚ
 {

19 
	}
}

21 @
BefÜe


22 
public
 
	$£tUp
(è
throws
 
Exû±iÚ
 {

23 
	}
}

25 @
Aá”


26 
public
 
	$‹¬Down
(è
throws
 
Exû±iÚ
 {

27 
	}
}

29 @
Te¡


30 
public
 
fš®
 
	$‹¡Di¡ªûs
() {

31 
	`ç
("Not yet implemented");

32 
	}
}

34 @
Te¡


35 
public
 
fš®
 
	$‹¡TheClo£¡Ap
() {

36 
	`ç
("Not yet implemented");

37 
	}
}

39 @
Te¡


40 
public
 
fš®
 
	$‹¡TheClo£¡S”v”CloudËt
() {

41 
	`ç
("Not yet implemented");

42 
	}
}

44 @
Te¡


45 
public
 
fš®
 
	$‹¡TheClo£¡S”v”CloudËtToAp
() {

46 
	`ç
("Not yet implemented");

47 
	}
}

49 @
Te¡


50 
public
 
fš®
 
	$‹¡FšdTh‘a
() {

51 
	`ç
("Not yet implemented");

52 
	}
}

54 @
Te¡


55 
public
 
fš®
 
	$‹¡FšdPos™iÚ
() {

56 
	`ç
("Not yet implemented");

57 
	}
}

59 @
Te¡


60 
public
 
fš®
 
	$‹¡CheckDi¡ªû
() {

61 
	`ç
("Not yet implemented");

62 
	}
}

64 @
Te¡


65 
public
 
fš®
 
	$‹¡G‘CoÜdX
() {

66 
	`ç
("Not yet implemented");

67 
	}
}

69 @
Te¡


70 
public
 
fš®
 
	$‹¡S‘CoÜdX
() {

71 
	`ç
("Not yet implemented");

72 
	}
}

74 @
Te¡


75 
public
 
fš®
 
	$‹¡G‘CoÜdY
() {

76 
	`ç
("Not yet implemented");

77 
	}
}

79 @
Te¡


80 
public
 
fš®
 
	$‹¡S‘CoÜdY
() {

81 
	`ç
("Not yet implemented");

82 
	}
}

84 @
Te¡


85 
public
 
fš®
 
	$‹¡G‘Fœ¡
() {

86 
	`ç
("Not yet implemented");

87 
	}
}

89 @
Te¡


90 
public
 
fš®
 
	$‹¡S‘Fœ¡
() {

91 
	`ç
("Not yet implemented");

92 
	}
}

94 @
Te¡


95 
public
 
fš®
 
	$‹¡G‘SecÚd
() {

96 
	`ç
("Not yet implemented");

97 
	}
}

99 @
Te¡


100 
public
 
fš®
 
	$‹¡S‘SecÚd
() {

101 
	`ç
("Not yet implemented");

102 
	}
}

104 @
Te¡


105 
public
 
fš®
 
	$‹¡G‘Di¡ªû
() {

106 
	`ç
("Not yet implemented");

107 
	}
}

109 @
Te¡


110 
public
 
fš®
 
	$‹¡S‘Di¡ªû
() {

111 
	`ç
("Not yet implemented");

112 
	}
}

114 @
Te¡


115 
public
 
fš®
 
	$‹¡G‘Th‘a
() {

116 
	`ç
("Not yet implemented");

117 
	}
}

119 @
Te¡


120 
public
 
fš®
 
	$‹¡S‘Th‘a
() {

121 
	`ç
("Not yet implemented");

122 
	}
}

	@src/tests/TestMigrationClass.java

1 
·ckage
 
	g‹¡s
;

3 
impÜt
 
	gÜg
.
	gjun™
.
	gAs£¹
.*;

5 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

6 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

7 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

8 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

9 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

10 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

11 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

12 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

14 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gHo¡
;

15 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gLog
;

16 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gPe
;

17 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gStÜage
;

18 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gcÜe
.
	gCloudSim
;

19 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gpow”
.
	gPow”Ho¡
;

20 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	g´ovisiÚ”s
.
	gRamProvisiÚ”Sim¶e
;

21 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gBwProvisiÚ”Ov”bookšg
;

22 
impÜt
 
	gÜg
.
	gşoudbus
.
	gşoudsim
.
	gsdn
.
	gov”bookšg
.
	gPeProvisiÚ”Ov”bookšg
;

23 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gApDeviû
;

24 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviû
;

25 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gFogDeviûCh¬aù”i¡ics
;

26 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeAùu©Ü
;

27 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeDeviû
;

28 
impÜt
 
	gÜg
.
	gfog
.
	g’t™›s
.
	gMobeS’sÜ
;

29 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gCoÜdš©e
;

30 
impÜt
 
	gÜg
.
	gfog
.
	gloÿliz©iÚ
.
	gDi¡ªûs
;

31 
impÜt
 
	gÜg
.
	gfog
.
	gpŞicy
.
	gAµModuËAÎoÿtiÚPŞicy
;

32 
impÜt
 
	gÜg
.
	gfog
.
	gscheduËr
.
	gSŒ—mO³¿tÜScheduËr
;

33 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogLš—rPow”Mod–
;

34 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gFogUts
;

35 
impÜt
 
	gÜg
.
	gfog
.
	guts
.
	gdi¡ributiÚ
.
	gD‘”mši¡icDi¡ributiÚ
;

36 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gDecisiÚMig¿tiÚ
;

37 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gLowe¡Di¡BwSm¬tThšgAP
;

38 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gLowe¡Di¡BwSm¬tThšgS”v”CloudËt
;

39 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gLowe¡L©’cy
;

40 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gMig¿tiÚ
;

41 
impÜt
 
	gÜg
.
	gfog
.
	gvmmig¿tiÚ
.
	gS”viû
;

42 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gAµExem¶o2
;

43 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gMaxAndMš
;

44 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gPŞic›s
;

45 
impÜt
 
	gÜg
.
	gfog
.
	gvmmobe
.
	gcÚ¡ªts
.
	gS”viûs
;

46 
impÜt
 
	gÜg
.
	gjun™
.
	gAá”
;

47 
impÜt
 
	gÜg
.
	gjun™
.
	gAá”CÏss
;

48 
impÜt
 
	gÜg
.
	gjun™
.
	gBefÜe
;

49 
impÜt
 
	gÜg
.
	gjun™
.
	gBefÜeCÏss
;

50 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

52 
public
 cÏs 
	cTe¡Mig¿tiÚCÏss
 {

	@
1
.
1
/usr/include
334
17596
src/org/cloudbus/cloudsim/Cloudlet.java
src/org/cloudbus/cloudsim/CloudletScheduler.java
src/org/cloudbus/cloudsim/CloudletSchedulerDynamicWorkload.java
src/org/cloudbus/cloudsim/CloudletSchedulerSpaceShared.java
src/org/cloudbus/cloudsim/CloudletSchedulerTimeShared.java
src/org/cloudbus/cloudsim/Consts.java
src/org/cloudbus/cloudsim/DataCloudTags.java
src/org/cloudbus/cloudsim/Datacenter.java
src/org/cloudbus/cloudsim/DatacenterBroker.java
src/org/cloudbus/cloudsim/DatacenterCharacteristics.java
src/org/cloudbus/cloudsim/File.java
src/org/cloudbus/cloudsim/FileAttribute.java
src/org/cloudbus/cloudsim/HarddriveStorage.java
src/org/cloudbus/cloudsim/Host.java
src/org/cloudbus/cloudsim/HostDynamicWorkload.java
src/org/cloudbus/cloudsim/HostStateHistoryEntry.java
src/org/cloudbus/cloudsim/InfoPacket.java
src/org/cloudbus/cloudsim/Log.java
src/org/cloudbus/cloudsim/NetworkTopology.java
src/org/cloudbus/cloudsim/Packet.java
src/org/cloudbus/cloudsim/ParameterException.java
src/org/cloudbus/cloudsim/Pe.java
src/org/cloudbus/cloudsim/ResCloudlet.java
src/org/cloudbus/cloudsim/SanStorage.java
src/org/cloudbus/cloudsim/Storage.java
src/org/cloudbus/cloudsim/UtilizationModel.java
src/org/cloudbus/cloudsim/UtilizationModelFull.java
src/org/cloudbus/cloudsim/UtilizationModelNull.java
src/org/cloudbus/cloudsim/UtilizationModelPlanetLabInMemory.java
src/org/cloudbus/cloudsim/UtilizationModelStochastic.java
src/org/cloudbus/cloudsim/Vm.java
src/org/cloudbus/cloudsim/VmAllocationPolicy.java
src/org/cloudbus/cloudsim/VmAllocationPolicySimple.java
src/org/cloudbus/cloudsim/VmScheduler.java
src/org/cloudbus/cloudsim/VmSchedulerSpaceShared.java
src/org/cloudbus/cloudsim/VmSchedulerTimeShared.java
src/org/cloudbus/cloudsim/VmSchedulerTimeSharedOverSubscription.java
src/org/cloudbus/cloudsim/VmStateHistoryEntry.java
src/org/cloudbus/cloudsim/core/CloudInformationService.java
src/org/cloudbus/cloudsim/core/CloudSim.java
src/org/cloudbus/cloudsim/core/CloudSimShutdown.java
src/org/cloudbus/cloudsim/core/CloudSimTags.java
src/org/cloudbus/cloudsim/core/DeferredQueue.java
src/org/cloudbus/cloudsim/core/FutureQueue.java
src/org/cloudbus/cloudsim/core/SimEntity.java
src/org/cloudbus/cloudsim/core/SimEvent.java
src/org/cloudbus/cloudsim/core/predicates/Predicate.java
src/org/cloudbus/cloudsim/core/predicates/PredicateAny.java
src/org/cloudbus/cloudsim/core/predicates/PredicateFrom.java
src/org/cloudbus/cloudsim/core/predicates/PredicateNone.java
src/org/cloudbus/cloudsim/core/predicates/PredicateNotFrom.java
src/org/cloudbus/cloudsim/core/predicates/PredicateNotType.java
src/org/cloudbus/cloudsim/core/predicates/PredicateType.java
src/org/cloudbus/cloudsim/distributions/ContinuousDistribution.java
src/org/cloudbus/cloudsim/distributions/ExponentialDistr.java
src/org/cloudbus/cloudsim/distributions/GammaDistr.java
src/org/cloudbus/cloudsim/distributions/LognormalDistr.java
src/org/cloudbus/cloudsim/distributions/LomaxDistribution.java
src/org/cloudbus/cloudsim/distributions/ParetoDistr.java
src/org/cloudbus/cloudsim/distributions/UniformDistr.java
src/org/cloudbus/cloudsim/distributions/WeibullDistr.java
src/org/cloudbus/cloudsim/distributions/ZipfDistr.java
src/org/cloudbus/cloudsim/lists/CloudletList.java
src/org/cloudbus/cloudsim/lists/HostList.java
src/org/cloudbus/cloudsim/lists/PeList.java
src/org/cloudbus/cloudsim/lists/ResCloudletList.java
src/org/cloudbus/cloudsim/lists/VmList.java
src/org/cloudbus/cloudsim/network/DelayMatrix_Float.java
src/org/cloudbus/cloudsim/network/FloydWarshall_Float.java
src/org/cloudbus/cloudsim/network/GraphReaderBrite.java
src/org/cloudbus/cloudsim/network/GraphReaderIF.java
src/org/cloudbus/cloudsim/network/TopologicalGraph.java
src/org/cloudbus/cloudsim/network/TopologicalLink.java
src/org/cloudbus/cloudsim/network/TopologicalNode.java
src/org/cloudbus/cloudsim/network/datacenter/AggregateSwitch.java
src/org/cloudbus/cloudsim/network/datacenter/AppCloudlet.java
src/org/cloudbus/cloudsim/network/datacenter/EdgeSwitch.java
src/org/cloudbus/cloudsim/network/datacenter/HostPacket.java
src/org/cloudbus/cloudsim/network/datacenter/NetDatacenterBroker.java
src/org/cloudbus/cloudsim/network/datacenter/NetworkCloudlet.java
src/org/cloudbus/cloudsim/network/datacenter/NetworkCloudletSpaceSharedScheduler.java
src/org/cloudbus/cloudsim/network/datacenter/NetworkConstants.java
src/org/cloudbus/cloudsim/network/datacenter/NetworkDatacenter.java
src/org/cloudbus/cloudsim/network/datacenter/NetworkHost.java
src/org/cloudbus/cloudsim/network/datacenter/NetworkPacket.java
src/org/cloudbus/cloudsim/network/datacenter/NetworkVm.java
src/org/cloudbus/cloudsim/network/datacenter/NetworkVmAllocationPolicy.java
src/org/cloudbus/cloudsim/network/datacenter/RootSwitch.java
src/org/cloudbus/cloudsim/network/datacenter/Switch.java
src/org/cloudbus/cloudsim/network/datacenter/TaskStage.java
src/org/cloudbus/cloudsim/network/datacenter/WorkflowApp.java
src/org/cloudbus/cloudsim/power/MyPowerVmMigration.java
src/org/cloudbus/cloudsim/power/PowerDatacenter.java
src/org/cloudbus/cloudsim/power/PowerDatacenterBroker.java
src/org/cloudbus/cloudsim/power/PowerDatacenterNonPowerAware.java
src/org/cloudbus/cloudsim/power/PowerHost.java
src/org/cloudbus/cloudsim/power/PowerHostUtilizationHistory.java
src/org/cloudbus/cloudsim/power/PowerVm.java
src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyAbstract.java
src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyMigrationAbstract.java
src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyMigrationInterQuartileRange.java
src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyMigrationLocalRegression.java
src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyMigrationLocalRegressionRobust.java
src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyMigrationMedianAbsoluteDeviation.java
src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicyMigrationStaticThreshold.java
src/org/cloudbus/cloudsim/power/PowerVmAllocationPolicySimple.java
src/org/cloudbus/cloudsim/power/PowerVmSelectionPolicy.java
src/org/cloudbus/cloudsim/power/PowerVmSelectionPolicyMaximumCorrelation.java
src/org/cloudbus/cloudsim/power/PowerVmSelectionPolicyMinimumMigrationTime.java
src/org/cloudbus/cloudsim/power/PowerVmSelectionPolicyMinimumUtilization.java
src/org/cloudbus/cloudsim/power/PowerVmSelectionPolicyRandomSelection.java
src/org/cloudbus/cloudsim/power/lists/PowerVmList.java
src/org/cloudbus/cloudsim/power/models/PowerModel.java
src/org/cloudbus/cloudsim/power/models/PowerModelCubic.java
src/org/cloudbus/cloudsim/power/models/PowerModelLinear.java
src/org/cloudbus/cloudsim/power/models/PowerModelSpecPower.java
src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerHpProLiantMl110G3PentiumD930.java
src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerHpProLiantMl110G4Xeon3040.java
src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerHpProLiantMl110G5Xeon3075.java
src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerIbmX3250XeonX3470.java
src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerIbmX3250XeonX3480.java
src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerIbmX3550XeonX5670.java
src/org/cloudbus/cloudsim/power/models/PowerModelSpecPowerIbmX3550XeonX5675.java
src/org/cloudbus/cloudsim/power/models/PowerModelSqrt.java
src/org/cloudbus/cloudsim/power/models/PowerModelSquare.java
src/org/cloudbus/cloudsim/provisioners/BwProvisioner.java
src/org/cloudbus/cloudsim/provisioners/BwProvisionerSimple.java
src/org/cloudbus/cloudsim/provisioners/PeProvisioner.java
src/org/cloudbus/cloudsim/provisioners/PeProvisionerSimple.java
src/org/cloudbus/cloudsim/provisioners/RamProvisioner.java
src/org/cloudbus/cloudsim/provisioners/RamProvisionerSimple.java
src/org/cloudbus/cloudsim/sdn/Activity.java
src/org/cloudbus/cloudsim/sdn/AggregationSwitch.java
src/org/cloudbus/cloudsim/sdn/Arc.java
src/org/cloudbus/cloudsim/sdn/Channel.java
src/org/cloudbus/cloudsim/sdn/Constants.java
src/org/cloudbus/cloudsim/sdn/CoreSwitch.java
src/org/cloudbus/cloudsim/sdn/EdgeSwitch.java
src/org/cloudbus/cloudsim/sdn/ForwardingRule.java
src/org/cloudbus/cloudsim/sdn/Link.java
src/org/cloudbus/cloudsim/sdn/Middlebox.java
src/org/cloudbus/cloudsim/sdn/NetworkOperatingSystem.java
src/org/cloudbus/cloudsim/sdn/Node.java
src/org/cloudbus/cloudsim/sdn/Package.java
src/org/cloudbus/cloudsim/sdn/PhysicalTopology.java
src/org/cloudbus/cloudsim/sdn/Processing.java
src/org/cloudbus/cloudsim/sdn/Request.java
src/org/cloudbus/cloudsim/sdn/RoutingTable.java
src/org/cloudbus/cloudsim/sdn/SDNDatacenter.java
src/org/cloudbus/cloudsim/sdn/SDNHost.java
src/org/cloudbus/cloudsim/sdn/Switch.java
src/org/cloudbus/cloudsim/sdn/TimedVm.java
src/org/cloudbus/cloudsim/sdn/Transmission.java
src/org/cloudbus/cloudsim/sdn/example/LogPrinter.java
src/org/cloudbus/cloudsim/sdn/example/SDNBroker.java
src/org/cloudbus/cloudsim/sdn/example/SDNExample.java
src/org/cloudbus/cloudsim/sdn/example/SimpleNetworkOperatingSystem.java
src/org/cloudbus/cloudsim/sdn/example/VmAllocationPolicyCombinedLeastFullFirst.java
src/org/cloudbus/cloudsim/sdn/example/VmAllocationPolicyCombinedMostFullFirst.java
src/org/cloudbus/cloudsim/sdn/example/VmAllocationPolicyMipsLeastFullFirst.java
src/org/cloudbus/cloudsim/sdn/example/VmAllocationPolicyMipsMostFullFirst.java
src/org/cloudbus/cloudsim/sdn/example/VmSchedulerSpaceSharedEnergy.java
src/org/cloudbus/cloudsim/sdn/example/Workload.java
src/org/cloudbus/cloudsim/sdn/example/WorkloadParser.java
src/org/cloudbus/cloudsim/sdn/example/policies/VmAllocationPolicyCombinedLeastFullFirst.java
src/org/cloudbus/cloudsim/sdn/example/policies/VmAllocationPolicyCombinedMostFullFirst.java
src/org/cloudbus/cloudsim/sdn/example/policies/VmAllocationPolicyMipsLeastFullFirst.java
src/org/cloudbus/cloudsim/sdn/example/policies/VmAllocationPolicyMipsMostFullFirst.java
src/org/cloudbus/cloudsim/sdn/example/policies/VmSchedulerTimeSharedEnergy.java
src/org/cloudbus/cloudsim/sdn/example/topogenerators/PhysicalTopologyGenerator.java
src/org/cloudbus/cloudsim/sdn/example/topogenerators/VMRequestRandomGenerator.java
src/org/cloudbus/cloudsim/sdn/example/topogenerators/VirtualTopologyGenerator.java
src/org/cloudbus/cloudsim/sdn/example/topogenerators/VirtualTopologyGeneratorVmTypes.java
src/org/cloudbus/cloudsim/sdn/graph/core/Bridge.java
src/org/cloudbus/cloudsim/sdn/graph/core/Coordinates.java
src/org/cloudbus/cloudsim/sdn/graph/core/Edge.java
src/org/cloudbus/cloudsim/sdn/graph/core/Graph.java
src/org/cloudbus/cloudsim/sdn/graph/core/GraphView.java
src/org/cloudbus/cloudsim/sdn/graph/core/HostNode.java
src/org/cloudbus/cloudsim/sdn/graph/core/Node.java
src/org/cloudbus/cloudsim/sdn/graph/core/NodeCellRenderer.java
src/org/cloudbus/cloudsim/sdn/graph/core/SpringUtilities.java
src/org/cloudbus/cloudsim/sdn/graph/core/SwitchNode.java
src/org/cloudbus/cloudsim/sdn/graph/core/VmNode.java
src/org/cloudbus/cloudsim/sdn/graph/dialog/About.java
src/org/cloudbus/cloudsim/sdn/graph/dialog/AddPhysicalEdge.java
src/org/cloudbus/cloudsim/sdn/graph/dialog/AddPhysicalNode.java
src/org/cloudbus/cloudsim/sdn/graph/dialog/AddVirtualEdge.java
src/org/cloudbus/cloudsim/sdn/graph/dialog/AddVirtualNode.java
src/org/cloudbus/cloudsim/sdn/graph/dialog/SDNRun.java
src/org/cloudbus/cloudsim/sdn/graph/example/GraphicSDN.java
src/org/cloudbus/cloudsim/sdn/graph/example/GraphicSDNExample.java
src/org/cloudbus/cloudsim/sdn/overbooking/BwProvisionerOverbooking.java
src/org/cloudbus/cloudsim/sdn/overbooking/OverbookingNetworkOperatingSystem.java
src/org/cloudbus/cloudsim/sdn/overbooking/PeProvisionerOverbooking.java
src/org/cloudbus/cloudsim/sdn/overbooking/VmAllocationPolicyOverbooking.java
src/org/cloudbus/cloudsim/sdn/overbooking/VmSchedulerTimeSharedOverbookingEnergy.java
src/org/cloudbus/cloudsim/sdn/power/PowerUtilizationHistoryEntry.java
src/org/cloudbus/cloudsim/sdn/power/PowerUtilizationInterface.java
src/org/cloudbus/cloudsim/sdn/power/PowerUtilizationMaxHostInterface.java
src/org/cloudbus/cloudsim/sdn/request/VMRequestGenerator.java
src/org/cloudbus/cloudsim/util/Check.java
src/org/cloudbus/cloudsim/util/ExecutionTimeMeasurer.java
src/org/cloudbus/cloudsim/util/MathUtil.java
src/org/cloudbus/cloudsim/util/Test.java
src/org/cloudbus/cloudsim/util/Test2.java
src/org/cloudbus/cloudsim/util/WorkloadFileReader.java
src/org/cloudbus/cloudsim/util/WorkloadModel.java
src/org/fog/application/AppEdge.java
src/org/fog/application/AppLoop.java
src/org/fog/application/AppModule.java
src/org/fog/application/Application.java
src/org/fog/application/selectivity/BurstySelectivity.java
src/org/fog/application/selectivity/FractionalSelectivity.java
src/org/fog/application/selectivity/SelectivityModel.java
src/org/fog/entities/Actuator.java
src/org/fog/entities/ApDevice.java
src/org/fog/entities/FogBroker.java
src/org/fog/entities/FogDevice.java
src/org/fog/entities/FogDeviceCharacteristics.java
src/org/fog/entities/MobileActuator.java
src/org/fog/entities/MobileDevice.java
src/org/fog/entities/MobileSensor.java
src/org/fog/entities/PhysicalTopology.java
src/org/fog/entities/Sensor.java
src/org/fog/entities/Tuple.java
src/org/fog/examples/CleanFromJson.java
src/org/fog/examples/DCNSFog.java
src/org/fog/examples/VRGameFog.java
src/org/fog/gui/core/ActuatorGui.java
src/org/fog/gui/core/ActuatorModule.java
src/org/fog/gui/core/AppModule.java
src/org/fog/gui/core/Bridge.java
src/org/fog/gui/core/Coordinates.java
src/org/fog/gui/core/Edge.java
src/org/fog/gui/core/FogDeviceGui.java
src/org/fog/gui/core/Graph.java
src/org/fog/gui/core/GraphView.java
src/org/fog/gui/core/HostNode.java
src/org/fog/gui/core/Link.java
src/org/fog/gui/core/Node.java
src/org/fog/gui/core/NodeCellRenderer.java
src/org/fog/gui/core/PlaceHolder.java
src/org/fog/gui/core/SensorGui.java
src/org/fog/gui/core/SensorModule.java
src/org/fog/gui/core/SpringUtilities.java
src/org/fog/gui/core/SwitchNode.java
src/org/fog/gui/core/VmNode.java
src/org/fog/gui/dialog/About.java
src/org/fog/gui/dialog/AddActuator.java
src/org/fog/gui/dialog/AddActuatorModule.java
src/org/fog/gui/dialog/AddAppEdge.java
src/org/fog/gui/dialog/AddApplicationModule.java
src/org/fog/gui/dialog/AddFogDevice.java
src/org/fog/gui/dialog/AddLink.java
src/org/fog/gui/dialog/AddPhysicalEdge.java
src/org/fog/gui/dialog/AddPhysicalNode.java
src/org/fog/gui/dialog/AddSensor.java
src/org/fog/gui/dialog/AddSensorModule.java
src/org/fog/gui/dialog/AddVirtualEdge.java
src/org/fog/gui/dialog/AddVirtualNode.java
src/org/fog/gui/dialog/SDNRun.java
src/org/fog/gui/example/FogGui.java
src/org/fog/localization/Coordinate.java
src/org/fog/localization/DiscoverLocalization.java
src/org/fog/localization/Distances.java
src/org/fog/localization/Map.java
src/org/fog/placement/Controller.java
src/org/fog/placement/MobileController.java
src/org/fog/placement/ModuleMapping.java
src/org/fog/placement/ModulePlacement.java
src/org/fog/placement/ModulePlacementEdgewards.java
src/org/fog/placement/ModulePlacementMapping.java
src/org/fog/placement/ModulePlacementOnlyCloud.java
src/org/fog/policy/AppModuleAllocationPolicy.java
src/org/fog/scheduler/StreamOperatorScheduler.java
src/org/fog/scheduler/TupleScheduler.java
src/org/fog/utils/CanBeSentResult.java
src/org/fog/utils/Config.java
src/org/fog/utils/FogEntityFactory.java
src/org/fog/utils/FogEvents.java
src/org/fog/utils/FogLinearPowerModel.java
src/org/fog/utils/FogUtils.java
src/org/fog/utils/GeoCoverage.java
src/org/fog/utils/GeoLocation.java
src/org/fog/utils/JsonToTopology.java
src/org/fog/utils/Logger.java
src/org/fog/utils/ModuleLaunchConfig.java
src/org/fog/utils/NetworkUsageMonitor.java
src/org/fog/utils/OperatorEdge.java
src/org/fog/utils/OperatorSetComparator.java
src/org/fog/utils/ResourceUsageDetails.java
src/org/fog/utils/TimeKeeper.java
src/org/fog/utils/TupleFinishDetails.java
src/org/fog/utils/distribution/DeterministicDistribution.java
src/org/fog/utils/distribution/Distribution.java
src/org/fog/utils/distribution/NormalDistribution.java
src/org/fog/utils/distribution/UniformDistribution.java
src/org/fog/vmmigration/AfterMigration.java
src/org/fog/vmmigration/BeforeMigration.java
src/org/fog/vmmigration/BeforeMigration_OLD.java
src/org/fog/vmmigration/CompleteVM.java
src/org/fog/vmmigration/ContainerVM.java
src/org/fog/vmmigration/DecisionMigration.java
src/org/fog/vmmigration/DecisionMigration_OLD.java
src/org/fog/vmmigration/DeliveryVirtualMachine.java
src/org/fog/vmmigration/DuringMigration.java
src/org/fog/vmmigration/LatencyByDistance.java
src/org/fog/vmmigration/LiveMigration.java
src/org/fog/vmmigration/LowestDistBwSmartThingAP.java
src/org/fog/vmmigration/LowestDistBwSmartThingServerCloudlet.java
src/org/fog/vmmigration/LowestLatency.java
src/org/fog/vmmigration/Migration.java
src/org/fog/vmmigration/MyStatistics.java
src/org/fog/vmmigration/NextStep.java
src/org/fog/vmmigration/PrepareCompleteVM.java
src/org/fog/vmmigration/PrepareContainerVM.java
src/org/fog/vmmigration/PrepareLiveMigration.java
src/org/fog/vmmigration/Service.java
src/org/fog/vmmigration/ServiceAgreement.java
src/org/fog/vmmigration/VmMigrationTechnique.java
src/org/fog/vmmobile/AppExemplo.java
src/org/fog/vmmobile/AppExemplo2.java
src/org/fog/vmmobile/AppExemplo3.java
src/org/fog/vmmobile/LogMobile.java
src/org/fog/vmmobile/NetworkExample4.java
src/org/fog/vmmobile/constants/Directions.java
src/org/fog/vmmobile/constants/Edge.java
src/org/fog/vmmobile/constants/MaxAndMin.java
src/org/fog/vmmobile/constants/MobileEvents.java
src/org/fog/vmmobile/constants/Policies.java
src/org/fog/vmmobile/constants/Services.java
src/tests/TestDistancesClass.java
src/tests/TestMigrationClass.java
